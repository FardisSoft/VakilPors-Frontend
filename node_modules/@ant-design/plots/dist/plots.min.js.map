{"version":3,"file":"plots.min.js","mappings":"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","sources":["webpack://Plots/webpack/universalModuleDefinition","webpack://Plots/../src/index.ts","webpack://Plots/../../src/abstract/base.ts","webpack://Plots/../../node_modules/.pnpm/d3-timer@1.0.10/node_modules/d3-timer/src/timer.js","webpack://Plots/../../node_modules/.pnpm/d3-color@3.1.0/node_modules/d3-color/src/define.js","webpack://Plots/../../node_modules/.pnpm/d3-color@3.1.0/node_modules/d3-color/src/color.js","webpack://Plots/../../node_modules/.pnpm/d3-interpolate@3.0.1/node_modules/d3-interpolate/src/basis.js","webpack://Plots/../../node_modules/.pnpm/d3-interpolate@3.0.1/node_modules/d3-interpolate/src/constant.js","webpack://Plots/../../node_modules/.pnpm/d3-interpolate@3.0.1/node_modules/d3-interpolate/src/color.js","webpack://Plots/../../node_modules/.pnpm/d3-interpolate@3.0.1/node_modules/d3-interpolate/src/rgb.js","webpack://Plots/../../node_modules/.pnpm/d3-interpolate@3.0.1/node_modules/d3-interpolate/src/numberArray.js","webpack://Plots/../../node_modules/.pnpm/d3-interpolate@3.0.1/node_modules/d3-interpolate/src/array.js","webpack://Plots/../../node_modules/.pnpm/d3-interpolate@3.0.1/node_modules/d3-interpolate/src/date.js","webpack://Plots/../../node_modules/.pnpm/d3-interpolate@3.0.1/node_modules/d3-interpolate/src/number.js","webpack://Plots/../../node_modules/.pnpm/d3-interpolate@3.0.1/node_modules/d3-interpolate/src/object.js","webpack://Plots/../../node_modules/.pnpm/d3-interpolate@3.0.1/node_modules/d3-interpolate/src/basisClosed.js","webpack://Plots/../../node_modules/.pnpm/d3-interpolate@3.0.1/node_modules/d3-interpolate/src/string.js","webpack://Plots/../../node_modules/.pnpm/d3-interpolate@3.0.1/node_modules/d3-interpolate/src/value.js","webpack://Plots/../../src/animate/timeline.ts","webpack://Plots/../../src/util/color.ts","webpack://Plots/../../src/event/event-contoller.ts","webpack://Plots/../../src/abstract/canvas.ts","webpack://Plots/../../src/abstract/container.ts","webpack://Plots/../../src/abstract/element.ts","webpack://Plots/../../src/abstract/group.ts","webpack://Plots/../../src/abstract/shape.ts","webpack://Plots/../../node_modules/.pnpm/d3-ease@1.0.7/node_modules/d3-ease/src/linear.js","webpack://Plots/../../node_modules/.pnpm/d3-ease@1.0.7/node_modules/d3-ease/src/quad.js","webpack://Plots/../../node_modules/.pnpm/d3-ease@1.0.7/node_modules/d3-ease/src/cubic.js","webpack://Plots/../../node_modules/.pnpm/d3-ease@1.0.7/node_modules/d3-ease/src/poly.js","webpack://Plots/../../node_modules/.pnpm/d3-ease@1.0.7/node_modules/d3-ease/src/sin.js","webpack://Plots/../../node_modules/.pnpm/d3-ease@1.0.7/node_modules/d3-ease/src/math.js","webpack://Plots/../../node_modules/.pnpm/d3-ease@1.0.7/node_modules/d3-ease/src/exp.js","webpack://Plots/../../node_modules/.pnpm/d3-ease@1.0.7/node_modules/d3-ease/src/circle.js","webpack://Plots/../../node_modules/.pnpm/d3-ease@1.0.7/node_modules/d3-ease/src/bounce.js","webpack://Plots/../../node_modules/.pnpm/d3-ease@1.0.7/node_modules/d3-ease/src/back.js","webpack://Plots/../../node_modules/.pnpm/d3-ease@1.0.7/node_modules/d3-ease/src/elastic.js","webpack://Plots/../../src/animate/register.ts","webpack://Plots/../../src/bbox/register.ts","webpack://Plots/../../src/bbox/rect.ts","webpack://Plots/../../src/bbox/circle.ts","webpack://Plots/../../src/bbox/util.ts","webpack://Plots/../../src/bbox/path.ts","webpack://Plots/../../src/bbox/index.ts","webpack://Plots/../../src/bbox/polyline.ts","webpack://Plots/../../src/bbox/polygon.ts","webpack://Plots/../../src/bbox/text.ts","webpack://Plots/../../src/bbox/line.ts","webpack://Plots/../../src/bbox/ellipse.ts","webpack://Plots/../../src/event/graph-event.ts","webpack://Plots/../../src/util/matrix.ts","webpack://Plots/../../src/util/offscreen.ts","webpack://Plots/../../src/util/path.ts","webpack://Plots/../../src/util/text.ts","webpack://Plots/../../src/util/util.ts","webpack://Plots/../src/util.ts","webpack://Plots/../src/line.ts","webpack://Plots/../src/bezier.ts","webpack://Plots/../src/quadratic.ts","webpack://Plots/../src/cubic.ts","webpack://Plots/../src/ellipse.ts","webpack://Plots/../src/arc.ts","webpack://Plots/../src/segments.ts","webpack://Plots/../src/polyline.ts","webpack://Plots/../src/ext.ts","webpack://Plots/../src/parse-path.ts","webpack://Plots/../src/catmull-rom-2-bezier.ts","webpack://Plots/../src/parse-path-string.ts","webpack://Plots/../src/path-2-absolute.ts","webpack://Plots/../src/get-arc-params.ts","webpack://Plots/../src/path-2-segments.ts","webpack://Plots/../src/point-in-polygon.ts","webpack://Plots/../../src/process/arc-2-cubic.ts","webpack://Plots/../src/get-line-intersect.ts","webpack://Plots/../src/is-polygons-intersect.ts","webpack://Plots/../src/is-array-like.ts","webpack://Plots/../src/contains.ts","webpack://Plots/../src/filter.ts","webpack://Plots/../src/difference.ts","webpack://Plots/../src/is-type.ts","webpack://Plots/../src/is-function.ts","webpack://Plots/../src/is-nil.ts","webpack://Plots/../src/is-array.ts","webpack://Plots/../src/is-object.ts","webpack://Plots/../src/each.ts","webpack://Plots/../src/keys.ts","webpack://Plots/../src/is-match.ts","webpack://Plots/../src/is-object-like.ts","webpack://Plots/../src/is-plain-object.ts","webpack://Plots/../src/find.ts","webpack://Plots/../src/find-index.ts","webpack://Plots/../src/first-value.ts","webpack://Plots/../src/flatten.ts","webpack://Plots/../src/max.ts","webpack://Plots/../src/min.ts","webpack://Plots/../src/get-range.ts","webpack://Plots/../src/pull.ts","webpack://Plots/../src/pull-at.ts","webpack://Plots/../src/reduce.ts","webpack://Plots/../src/remove.ts","webpack://Plots/../src/is-string.ts","webpack://Plots/../src/sort-by.ts","webpack://Plots/../src/uniq.ts","webpack://Plots/../src/values-of-key.ts","webpack://Plots/../src/head.ts","webpack://Plots/../src/last.ts","webpack://Plots/../src/every.ts","webpack://Plots/../src/some.ts","webpack://Plots/../src/group-by.ts","webpack://Plots/../src/group-to-map.ts","webpack://Plots/../src/group.ts","webpack://Plots/../src/clamp.ts","webpack://Plots/../src/fixed-base.ts","webpack://Plots/../src/is-number.ts","webpack://Plots/../src/is-number-equal.ts","webpack://Plots/../src/is-integer.ts","webpack://Plots/../src/is-positive.ts","webpack://Plots/../src/max-by.ts","webpack://Plots/../src/min-by.ts","webpack://Plots/../src/mod.ts","webpack://Plots/../src/to-degree.ts","webpack://Plots/../src/to-integer.ts","webpack://Plots/../src/to-radian.ts","webpack://Plots/../src/for-in.ts","webpack://Plots/../src/has-key.ts","webpack://Plots/../src/has.ts","webpack://Plots/../src/values.ts","webpack://Plots/../src/to-string.ts","webpack://Plots/../src/lower-case.ts","webpack://Plots/../src/substitute.ts","webpack://Plots/../src/upper-first.ts","webpack://Plots/../src/get-type.ts","webpack://Plots/../src/is-boolean.ts","webpack://Plots/../src/is-date.ts","webpack://Plots/../src/is-null.ts","webpack://Plots/../src/is-prototype.ts","webpack://Plots/../src/is-undefined.ts","webpack://Plots/../src/is-element.ts","webpack://Plots/../src/request-animation-frame.ts","webpack://Plots/../src/clear-animation-frame.ts","webpack://Plots/../src/clone.ts","webpack://Plots/../src/debounce.ts","webpack://Plots/../src/memoize.ts","webpack://Plots/../src/deep-mix.ts","webpack://Plots/../src/index-of.ts","webpack://Plots/../src/is-empty.ts","webpack://Plots/../src/is-equal.ts","webpack://Plots/../src/map.ts","webpack://Plots/../src/map-values.ts","webpack://Plots/../src/mix.ts","webpack://Plots/../src/get.ts","webpack://Plots/../src/set.ts","webpack://Plots/../src/pick.ts","webpack://Plots/../src/omit.ts","webpack://Plots/../src/throttle.ts","webpack://Plots/../src/to-array.ts","webpack://Plots/../src/unique-id.ts","webpack://Plots/../src/noop.ts","webpack://Plots/../src/size.ts","webpack://Plots/../src/measure-text-width.ts","webpack://Plots/../src/get-ellipsis-text.ts","webpack://Plots/../src/cache.ts","webpack://Plots/../../node_modules/.pnpm/detect-browser@5.3.0/node_modules/detect-browser/es/index.js","webpack://Plots/../../node_modules/.pnpm/fmin@0.0.2/node_modules/fmin/build/fmin.js","webpack://Plots/../../node_modules/.pnpm/gl-matrix@3.4.3/node_modules/gl-matrix/esm/common.js","webpack://Plots/../../node_modules/.pnpm/gl-matrix@3.4.3/node_modules/gl-matrix/esm/mat3.js","webpack://Plots/../../node_modules/.pnpm/gl-matrix@3.4.3/node_modules/gl-matrix/esm/vec2.js","webpack://Plots/../../node_modules/.pnpm/pdfast@0.2.0/node_modules/pdfast/src/helper.js","webpack://Plots/../../node_modules/.pnpm/pdfast@0.2.0/node_modules/pdfast/src/index.js","webpack://Plots/../../node_modules/.pnpm/size-sensor@1.0.1/node_modules/size-sensor/lib/constant.js","webpack://Plots/../../node_modules/.pnpm/size-sensor@1.0.1/node_modules/size-sensor/lib/debounce.js","webpack://Plots/../../node_modules/.pnpm/size-sensor@1.0.1/node_modules/size-sensor/lib/id.js","webpack://Plots/../../node_modules/.pnpm/size-sensor@1.0.1/node_modules/size-sensor/lib/index.js","webpack://Plots/../../node_modules/.pnpm/size-sensor@1.0.1/node_modules/size-sensor/lib/sensorPool.js","webpack://Plots/../../node_modules/.pnpm/size-sensor@1.0.1/node_modules/size-sensor/lib/sensors/index.js","webpack://Plots/../../node_modules/.pnpm/size-sensor@1.0.1/node_modules/size-sensor/lib/sensors/object.js","webpack://Plots/../../node_modules/.pnpm/size-sensor@1.0.1/node_modules/size-sensor/lib/sensors/resizeObserver.js","webpack://Plots/../../node_modules/.pnpm/tslib@2.4.1/node_modules/tslib/tslib.es6.js","webpack://Plots/external umd {\"root\":\"React\",\"commonjs2\":\"react\",\"commonjs\":\"react\",\"amd\":\"react\"}","webpack://Plots/external umd {\"root\":\"ReactDOM\",\"commonjs2\":\"react-dom\",\"commonjs\":\"react-dom\",\"amd\":\"react-dom\"}","webpack://Plots/webpack/bootstrap","webpack://Plots/webpack/runtime/compat get default export","webpack://Plots/webpack/runtime/define property getters","webpack://Plots/webpack/runtime/hasOwnProperty shorthand","webpack://Plots/webpack/runtime/make namespace object","webpack://Plots/../../node_modules/.pnpm/@babel+runtime@7.20.7/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js","webpack://Plots/../../node_modules/.pnpm/@babel+runtime@7.20.7/node_modules/@babel/runtime/helpers/esm/objectWithoutPropertiesLoose.js","webpack://Plots/../src/constant.ts","webpack://Plots/../src/create-dom.ts","webpack://Plots/../../src/engine/index.ts","webpack://Plots/../src/modify-css.ts","webpack://Plots/../../src/util/dom.ts","webpack://Plots/../src/base.ts","webpack://Plots/../../src/adjusts/adjust.ts","webpack://Plots/../src/factory.ts","webpack://Plots/../../node_modules/.pnpm/tslib@1.14.1/node_modules/tslib/tslib.es6.js","webpack://Plots/../../src/adjusts/dodge.ts","webpack://Plots/../../src/adjusts/jitter.ts","webpack://Plots/../../src/adjusts/stack.ts","webpack://Plots/../../src/adjusts/symmetric.ts","webpack://Plots/../../src/attributes/base.ts","webpack://Plots/../../src/attributes/color.ts","webpack://Plots/../../src/attributes/opacity.ts","webpack://Plots/../../src/attributes/position.ts","webpack://Plots/../../src/attributes/shape.ts","webpack://Plots/../../src/attributes/size.ts","webpack://Plots/../../src/tick-method/register.ts","webpack://Plots/../../src/category/base.ts","webpack://Plots/../src/fecha.ts","webpack://Plots/../../src/util/time.ts","webpack://Plots/../../src/category/time.ts","webpack://Plots/../../src/continuous/base.ts","webpack://Plots/../../src/continuous/linear.ts","webpack://Plots/../../src/util/math.ts","webpack://Plots/../../src/continuous/log.ts","webpack://Plots/../../src/continuous/pow.ts","webpack://Plots/../../src/continuous/time.ts","webpack://Plots/../../src/continuous/quantize.ts","webpack://Plots/../../src/continuous/quantile.ts","webpack://Plots/../../src/identity/index.ts","webpack://Plots/../../src/tick-method/cat.ts","webpack://Plots/../../src/util/d3-linear.ts","webpack://Plots/../../src/util/interval.ts","webpack://Plots/../../src/util/strict-limit.ts","webpack://Plots/../../src/util/pretty-number.ts","webpack://Plots/../../src/util/extended.ts","webpack://Plots/../../src/util/pretty.ts","webpack://Plots/../../src/tick-method/quantile.ts","webpack://Plots/../../src/tick-method/time-pretty.ts","webpack://Plots/../../src/tick-method/index.ts","webpack://Plots/../../src/tick-method/time-cat.ts","webpack://Plots/../../src/tick-method/linear.ts","webpack://Plots/../../src/tick-method/r-prettry.ts","webpack://Plots/../../src/tick-method/time.ts","webpack://Plots/../../src/util/bisector.ts","webpack://Plots/../../src/tick-method/log.ts","webpack://Plots/../../src/tick-method/pow.ts","webpack://Plots/../../src/tick-method/d3-linear.ts","webpack://Plots/../../node_modules/.pnpm/gl-matrix@3.4.3/node_modules/gl-matrix/esm/vec3.js","webpack://Plots/../../src/coord/base.ts","webpack://Plots/../../src/coord/cartesian.ts","webpack://Plots/../../src/coord/helix.ts","webpack://Plots/../../src/coord/polar.ts","webpack://Plots/../../src/util/event.ts","webpack://Plots/../../src/abstract/component.ts","webpack://Plots/../../src/abstract/group-component.ts","webpack://Plots/../../src/util/label.ts","webpack://Plots/../../src/util/graphic.ts","webpack://Plots/../../src/util/theme.ts","webpack://Plots/../../src/annotation/line.ts","webpack://Plots/../../src/annotation/text.ts","webpack://Plots/../../src/annotation/arc.ts","webpack://Plots/../../src/annotation/region.ts","webpack://Plots/../../src/annotation/image.ts","webpack://Plots/../../src/annotation/data-marker.ts","webpack://Plots/../../src/annotation/data-region.ts","webpack://Plots/../../src/annotation/region-filter.ts","webpack://Plots/../../src/annotation/shape.ts","webpack://Plots/../src/get-style.ts","webpack://Plots/../../src/abstract/html-component.ts","webpack://Plots/../../src/annotation/html.ts","webpack://Plots/../src/get-outer-width.ts","webpack://Plots/../src/get-width.ts","webpack://Plots/../src/get-outer-height.ts","webpack://Plots/../src/get-height.ts","webpack://Plots/../../src/util/state.ts","webpack://Plots/../../src/axis/base.ts","webpack://Plots/../../../src/axis/overlap/auto-ellipsis.ts","webpack://Plots/../../../src/axis/overlap/auto-hide.ts","webpack://Plots/../../../src/axis/overlap/auto-rotate.ts","webpack://Plots/../../src/axis/line.ts","webpack://Plots/../../src/axis/circle.ts","webpack://Plots/../../src/crosshair/base.ts","webpack://Plots/../../src/crosshair/line.ts","webpack://Plots/../../src/crosshair/circle.ts","webpack://Plots/../../src/crosshair/css-const.ts","webpack://Plots/../../src/crosshair/html-theme.ts","webpack://Plots/../../src/crosshair/html.ts","webpack://Plots/../../src/grid/base.ts","webpack://Plots/../../src/grid/circle.ts","webpack://Plots/../../src/grid/line.ts","webpack://Plots/../../src/legend/base.ts","webpack://Plots/../../src/legend/category.ts","webpack://Plots/../../src/legend/continuous.ts","webpack://Plots/../../src/tooltip/css-const.ts","webpack://Plots/../../src/tooltip/html-theme.ts","webpack://Plots/../../src/tooltip/html.ts","webpack://Plots/../../src/util/align.ts","webpack://Plots/../../src/trend/constant.ts","webpack://Plots/../../src/trend/path.ts","webpack://Plots/../../src/trend/trend.ts","webpack://Plots/../../src/slider/handler.ts","webpack://Plots/../../src/slider/constant.ts","webpack://Plots/../../src/slider/slider.ts","webpack://Plots/../src/add-event-listener.ts","webpack://Plots/../../src/scrollbar/scrollbar.ts","webpack://Plots/../src/dependents.ts","webpack://Plots/../../src/util/graphics.ts","webpack://Plots/../../src/util/helper.ts","webpack://Plots/../../src/util/bbox.ts","webpack://Plots/../../src/util/coordinate.ts","webpack://Plots/../../src/util/scale.ts","webpack://Plots/../../src/util/axis.ts","webpack://Plots/../../src/facet/facet.ts","webpack://Plots/../../src/facet/index.ts","webpack://Plots/../../../src/interaction/action/base.ts","webpack://Plots/../../../src/interaction/action/callback.ts","webpack://Plots/../../../src/interaction/action/register.ts","webpack://Plots/../../../../src/geometry/shape/util/path.ts","webpack://Plots/../../../src/interaction/action/util.ts","webpack://Plots/../../src/interaction/context.ts","webpack://Plots/../../src/interaction/interaction.ts","webpack://Plots/../../src/interaction/grammar-interaction.ts","webpack://Plots/../../src/interaction/index.ts","webpack://Plots/../../../src/theme/util/create-by-style-sheet.ts","webpack://Plots/../../../src/theme/style-sheet/light.ts","webpack://Plots/../../../src/theme/util/create-theme.ts","webpack://Plots/../../src/theme/index.ts","webpack://Plots/../../src/util/tooltip.ts","webpack://Plots/../../src/util/padding.ts","webpack://Plots/../../../src/chart/controller/index.ts","webpack://Plots/../../../src/chart/controller/coordinate.ts","webpack://Plots/../../src/chart/event.ts","webpack://Plots/../../../src/chart/layout/index.ts","webpack://Plots/../../../src/chart/util/scale-pool.ts","webpack://Plots/../../../src/chart/layout/padding-cal.ts","webpack://Plots/../../../src/chart/util/sync-view-padding.ts","webpack://Plots/../../src/chart/view.ts","webpack://Plots/../../../src/chart/layout/auto.ts","webpack://Plots/../../src/chart/chart.ts","webpack://Plots/../../../src/chart/controller/base.ts","webpack://Plots/../../../src/chart/controller/tooltip.ts","webpack://Plots/../../../src/animate/animation/index.ts","webpack://Plots/../../src/animate/index.ts","webpack://Plots/../../../src/geometry/shape/constant.ts","webpack://Plots/../../../src/geometry/element/index.ts","webpack://Plots/../../../src/geometry/label/index.ts","webpack://Plots/../../../src/geometry/shape/base.ts","webpack://Plots/../../../src/geometry/util/is-model-change.ts","webpack://Plots/../../../src/geometry/util/parse-fields.ts","webpack://Plots/../../../src/geometry/util/diff.ts","webpack://Plots/../../src/geometry/base.ts","webpack://Plots/../../../src/geometry/util/group-data.ts","webpack://Plots/../../src/util/transform.ts","webpack://Plots/../../../../src/geometry/label/util/index.ts","webpack://Plots/../../src/component/update-label.ts","webpack://Plots/../../src/component/labels.ts","webpack://Plots/../../../src/geometry/label/base.ts","webpack://Plots/../../src/util/attr.ts","webpack://Plots/../../src/util/marker.ts","webpack://Plots/../../src/util/legend.ts","webpack://Plots/../../../../src/geometry/shape/util/get-path-points.ts","webpack://Plots/../../../../src/geometry/shape/util/get-style.ts","webpack://Plots/../../../../src/geometry/shape/util/split-points.ts","webpack://Plots/../../../../src/geometry/shape/line/util.ts","webpack://Plots/../../../../src/geometry/shape/line/index.ts","webpack://Plots/../src/core.ts","webpack://Plots/../../../src/theme/style-sheet/dark.ts","webpack://Plots/../../src/util/parse.ts","webpack://Plots/../../src/util/arc-params.ts","webpack://Plots/../../src/util/arrow.ts","webpack://Plots/../../src/util/draw.ts","webpack://Plots/../../src/shape/base.ts","webpack://Plots/../../src/shape/circle.ts","webpack://Plots/../../src/shape/ellipse.ts","webpack://Plots/../../src/shape/image.ts","webpack://Plots/../../../src/util/in-stroke/line.ts","webpack://Plots/../../src/shape/line.ts","webpack://Plots/../../src/shape/marker.ts","webpack://Plots/../../../src/util/in-path/point-in-path.ts","webpack://Plots/../../../src/util/in-path/polygon.ts","webpack://Plots/../../../src/util/in-stroke/arc.ts","webpack://Plots/../../src/shape/path.ts","webpack://Plots/../../../src/util/in-stroke/polyline.ts","webpack://Plots/../../src/shape/polygon.ts","webpack://Plots/../../src/shape/polyline.ts","webpack://Plots/../../src/shape/rect.ts","webpack://Plots/../../../src/util/in-stroke/rect-radius.ts","webpack://Plots/../../../src/util/in-stroke/rect.ts","webpack://Plots/../../src/shape/text.ts","webpack://Plots/../../src/util/hit.ts","webpack://Plots/../src/canvas.ts","webpack://Plots/../../src/util/svg.ts","webpack://Plots/../../src/shape/dom.ts","webpack://Plots/../../../src/shape/marker/symbols.ts","webpack://Plots/../../../src/shape/marker/index.ts","webpack://Plots/../../src/util/format.ts","webpack://Plots/../../src/defs/gradient.ts","webpack://Plots/../../src/defs/shadow.ts","webpack://Plots/../../src/defs/arrow.ts","webpack://Plots/../../src/defs/clip.ts","webpack://Plots/../../src/defs/pattern.ts","webpack://Plots/../../src/defs/index.ts","webpack://Plots/../../src/geometry/path.ts","webpack://Plots/../../../../src/geometry/shape/area/util.ts","webpack://Plots/../../../../src/geometry/shape/area/index.ts","webpack://Plots/../../src/geometry/area.ts","webpack://Plots/../../../../src/geometry/shape/edge/index.ts","webpack://Plots/../../src/geometry/edge.ts","webpack://Plots/../../src/geometry/heatmap.ts","webpack://Plots/../../../../src/geometry/shape/interval/util.ts","webpack://Plots/../../../src/geometry/util/shape-size.ts","webpack://Plots/../../../../src/geometry/shape/interval/index.ts","webpack://Plots/../../src/geometry/interval.ts","webpack://Plots/../../src/geometry/line.ts","webpack://Plots/../../../../src/geometry/shape/point/util.ts","webpack://Plots/../../../../src/geometry/shape/point/index.ts","webpack://Plots/../../src/geometry/point.ts","webpack://Plots/../../../../src/geometry/shape/polygon/index.ts","webpack://Plots/../../src/geometry/polygon.ts","webpack://Plots/../../../../src/geometry/shape/schema/index.ts","webpack://Plots/../../src/geometry/schema.ts","webpack://Plots/../../../../src/geometry/shape/violin/index.ts","webpack://Plots/../../src/geometry/violin.ts","webpack://Plots/../../../../src/geometry/shape/edge/util.ts","webpack://Plots/../../../../src/geometry/shape/area/line.ts","webpack://Plots/../../../../src/geometry/shape/area/smooth.ts","webpack://Plots/../../../../src/geometry/shape/area/smooth-line.ts","webpack://Plots/../../../../src/geometry/shape/edge/arc.ts","webpack://Plots/../../../../src/geometry/shape/edge/smooth.ts","webpack://Plots/../../../../src/geometry/shape/edge/vhv.ts","webpack://Plots/../../../../src/geometry/shape/schema/box.ts","webpack://Plots/../../../../src/geometry/shape/schema/candle.ts","webpack://Plots/../../../../src/geometry/shape/polygon/square.ts","webpack://Plots/../../../../src/geometry/shape/interval/funnel.ts","webpack://Plots/../../../../src/geometry/shape/interval/hollow-rect.ts","webpack://Plots/../../../../src/geometry/shape/interval/line.ts","webpack://Plots/../../../../src/geometry/shape/interval/pyramid.ts","webpack://Plots/../../../../src/geometry/shape/interval/tick.ts","webpack://Plots/../../../../src/geometry/shape/line/step.ts","webpack://Plots/../../../../src/geometry/shape/point/hollow.ts","webpack://Plots/../../../../src/geometry/shape/point/image.ts","webpack://Plots/../../../../src/geometry/shape/point/solid.ts","webpack://Plots/../../../../src/geometry/shape/violin/smooth.ts","webpack://Plots/../../../../src/geometry/shape/violin/hollow.ts","webpack://Plots/../../../src/geometry/label/interval.ts","webpack://Plots/../../../src/geometry/label/polar.ts","webpack://Plots/../../../src/geometry/label/pie.ts","webpack://Plots/../../../../../src/geometry/label/layout/pie/util.ts","webpack://Plots/../../../../src/geometry/label/layout/overlap.ts","webpack://Plots/../../src/util/collision-detect.ts","webpack://Plots/../../../../src/geometry/label/util/createWorker.ts","webpack://Plots/../../src/util/context.ts","webpack://Plots/../../../../../src/geometry/label/layout/worker/hide-overlap.ts","webpack://Plots/../../../../src/geometry/label/layout/hide-overlap.ts","webpack://Plots/../../../../../src/geometry/label/layout/point/adjust-position.ts","webpack://Plots/../../../../../src/geometry/label/layout/path/adjust-position.ts","webpack://Plots/../../../src/animate/animation/util.ts","webpack://Plots/../../../src/animate/animation/sector-path-update.ts","webpack://Plots/../../../src/animate/animation/zoom.ts","webpack://Plots/../../src/util/facet.ts","webpack://Plots/../../src/facet/circle.ts","webpack://Plots/../../src/facet/list.ts","webpack://Plots/../../src/facet/matrix.ts","webpack://Plots/../../src/facet/mirror.ts","webpack://Plots/../../src/facet/rect.ts","webpack://Plots/../../src/facet/tree.ts","webpack://Plots/../../src/util/stat.ts","webpack://Plots/../../src/util/annotation.ts","webpack://Plots/../../../src/chart/controller/annotation.ts","webpack://Plots/../../src/util/grid.ts","webpack://Plots/../../../src/chart/controller/axis.ts","webpack://Plots/../../src/util/direction.ts","webpack://Plots/../../../src/chart/controller/legend.ts","webpack://Plots/../../../src/chart/controller/slider.ts","webpack://Plots/../../../src/chart/controller/scrollbar.ts","webpack://Plots/../../../src/interaction/action/active-region.ts","webpack://Plots/../../../../../src/interaction/action/component/tooltip/geometry.ts","webpack://Plots/../../../../../src/interaction/action/component/tooltip/sibling.ts","webpack://Plots/../../../../../src/interaction/action/component/tooltip/ellipsis-text.ts","webpack://Plots/../../../../src/interaction/action/element/state-base.ts","webpack://Plots/../../../../src/interaction/action/element/state.ts","webpack://Plots/../../../../src/interaction/action/element/active.ts","webpack://Plots/../../../../src/interaction/action/element/link-by-color.ts","webpack://Plots/../../../../src/interaction/action/element/range-state.ts","webpack://Plots/../../../../src/interaction/action/element/range-active.ts","webpack://Plots/../../../../src/interaction/action/element/single-state.ts","webpack://Plots/../../../../src/interaction/action/element/single-active.ts","webpack://Plots/../../../../src/interaction/action/element/highlight-util.ts","webpack://Plots/../../../../src/interaction/action/element/highlight.ts","webpack://Plots/../../../../src/interaction/action/element/highlight-by-color.ts","webpack://Plots/../../../../src/interaction/action/element/highlight-by-x.ts","webpack://Plots/../../../../src/interaction/action/element/range-highlight.ts","webpack://Plots/../../../../src/interaction/action/element/single-highlight.ts","webpack://Plots/../../../../src/interaction/action/element/range-selected.ts","webpack://Plots/../../../../src/interaction/action/element/selected.ts","webpack://Plots/../../../../src/interaction/action/element/single-selected.ts","webpack://Plots/../../../../src/interaction/action/component/list-state.ts","webpack://Plots/../../../../src/interaction/action/component/list-active.ts","webpack://Plots/../../../../src/interaction/action/component/list-highlight-util.ts","webpack://Plots/../../../../src/interaction/action/component/list-highlight.ts","webpack://Plots/../../../../src/interaction/action/component/list-selected.ts","webpack://Plots/../../../../src/interaction/action/component/list-unchecked.ts","webpack://Plots/../../../../src/interaction/action/component/list-checked.ts","webpack://Plots/../../../../src/interaction/action/component/list-focus.ts","webpack://Plots/../../../../src/interaction/action/component/list-radio.ts","webpack://Plots/../../../../src/interaction/action/mask/base.ts","webpack://Plots/../../../../src/interaction/action/mask/circle.ts","webpack://Plots/../../../../src/interaction/action/mask/rect.ts","webpack://Plots/../../../../src/interaction/action/mask/dim-rect.ts","webpack://Plots/../../../../src/interaction/action/mask/path.ts","webpack://Plots/../../../../src/interaction/action/mask/smooth-path.ts","webpack://Plots/../../../src/interaction/action/cursor.ts","webpack://Plots/../../../../src/interaction/action/data/filter.ts","webpack://Plots/../../../../src/interaction/action/data/range-filter.ts","webpack://Plots/../../../../src/interaction/action/data/sibling-filter.ts","webpack://Plots/../../../../src/interaction/action/element/filter.ts","webpack://Plots/../../../../src/interaction/action/element/sibling-filter.ts","webpack://Plots/../../../../src/interaction/action/view/button.ts","webpack://Plots/../../../../src/interaction/action/view/drag.ts","webpack://Plots/../../../../src/interaction/action/view/move.ts","webpack://Plots/../../../../src/interaction/action/view/scale-transform.ts","webpack://Plots/../../../../src/interaction/action/view/scale-translate.ts","webpack://Plots/../../../../src/interaction/action/view/scale-zoom.ts","webpack://Plots/../../../../src/interaction/action/view/mousewheel-scroll.ts","webpack://Plots/../../../../../src/interaction/action/component/axis/axis-description.ts","webpack://Plots/../../../../../src/geometry/label/layout/pie/distribute.ts","webpack://Plots/../../../../src/geometry/label/layout/limit-in-shape.ts","webpack://Plots/../../../../src/geometry/label/layout/limit-in-canvas.ts","webpack://Plots/../../../../src/geometry/label/layout/limit-in-plot.ts","webpack://Plots/../../../../../src/geometry/label/layout/pie/outer.ts","webpack://Plots/../../../../src/geometry/label/layout/adjust-color.ts","webpack://Plots/../../../../../src/geometry/label/layout/interval/adjust-position.ts","webpack://Plots/../../../../../src/geometry/label/layout/interval/hide-overlap.ts","webpack://Plots/../../../../../src/geometry/label/layout/pie/spider.ts","webpack://Plots/../../../src/animate/animation/fade.ts","webpack://Plots/../../../src/animate/animation/grow-in.ts","webpack://Plots/../../../src/animate/animation/scale-in.ts","webpack://Plots/../../../src/animate/animation/wave-in.ts","webpack://Plots/../../../src/animate/animation/position-update.ts","webpack://Plots/../../../src/animate/animation/path-in.ts","webpack://Plots/../../src/utils/invariant.ts","webpack://Plots/../../src/utils/pick.ts","webpack://Plots/../../src/utils/data.ts","webpack://Plots/../../src/utils/deep-assign.ts","webpack://Plots/../../src/utils/context.ts","webpack://Plots/../../src/utils/dom.ts","webpack://Plots/../../src/utils/flow.ts","webpack://Plots/../../src/utils/geometry.ts","webpack://Plots/../../src/utils/label.ts","webpack://Plots/../../src/utils/measure-text.ts","webpack://Plots/../../src/utils/number.ts","webpack://Plots/../../src/utils/padding.ts","webpack://Plots/../../src/utils/kebab-case.ts","webpack://Plots/../../src/utils/statistic.ts","webpack://Plots/../../src/utils/template.ts","webpack://Plots/../../src/utils/view.ts","webpack://Plots/../../../src/utils/pattern/util.ts","webpack://Plots/../../../src/utils/pattern/dot.ts","webpack://Plots/../../../src/utils/pattern/line.ts","webpack://Plots/../../../src/utils/pattern/square.ts","webpack://Plots/../../../src/utils/pattern/index.ts","webpack://Plots/../../src/adaptor/pattern.ts","webpack://Plots/../../src/adaptor/common.ts","webpack://Plots/../../src/core/global.ts","webpack://Plots/../../src/core/locale.ts","webpack://Plots/../../src/utils/tooltip.ts","webpack://Plots/../../../src/adaptor/geometries/base.ts","webpack://Plots/../../../src/adaptor/geometries/area.ts","webpack://Plots/../../../src/adaptor/geometries/edge.ts","webpack://Plots/../../../src/adaptor/geometries/interval.ts","webpack://Plots/../../../src/adaptor/geometries/line.ts","webpack://Plots/../../../src/adaptor/geometries/point.ts","webpack://Plots/../../../src/adaptor/geometries/polygon.ts","webpack://Plots/../../../src/adaptor/geometries/schema.ts","webpack://Plots/../../src/core/plot.ts","webpack://Plots/../../../src/utils/transform/percent.ts","webpack://Plots/../../../src/plots/line/adaptor.ts","webpack://Plots/../../../src/plots/area/adaptor.ts","webpack://Plots/../../../src/plots/area/constants.ts","webpack://Plots/../../../src/plots/area/index.ts","webpack://Plots/../../../src/interactions/actions/reset-button.ts","webpack://Plots/../../src/interactions/brush.ts","webpack://Plots/../../src/adaptor/brush.ts","webpack://Plots/../../src/adaptor/connected-area.ts","webpack://Plots/../../src/utils/conversion.ts","webpack://Plots/../../src/adaptor/conversion-tag.ts","webpack://Plots/../../../src/plots/column/adaptor.ts","webpack://Plots/../../../src/plots/bar/adaptor.ts","webpack://Plots/../../../src/plots/bar/constants.ts","webpack://Plots/../../../src/plots/bar/index.ts","webpack://Plots/../../../src/plots/column/constants.ts","webpack://Plots/../../../src/plots/column/index.ts","webpack://Plots/../../../src/plots/funnel/constant.ts","webpack://Plots/../../../../src/plots/funnel/geometries/common.ts","webpack://Plots/../../../../src/plots/funnel/geometries/basic.ts","webpack://Plots/../../../../src/plots/funnel/geometries/compare.ts","webpack://Plots/../../../../src/plots/funnel/geometries/dynamic-height.ts","webpack://Plots/../../../../src/plots/funnel/geometries/facet.ts","webpack://Plots/../../../../src/plots/funnel/interactions/funnel-conversion-tag.ts","webpack://Plots/../../../../src/plots/funnel/interactions/index.ts","webpack://Plots/../../../src/plots/funnel/adaptor.ts","webpack://Plots/../../../src/plots/funnel/index.ts","webpack://Plots/../../../src/plots/gauge/constants.ts","webpack://Plots/../../../src/plots/gauge/utils.ts","webpack://Plots/../../../src/plots/gauge/adaptor.ts","webpack://Plots/../../../../src/plots/gauge/shapes/indicator.ts","webpack://Plots/../../../../src/plots/gauge/shapes/meter-gauge.ts","webpack://Plots/../../../src/plots/gauge/index.ts","webpack://Plots/../../../src/utils/transform/histogram.ts","webpack://Plots/../../../src/plots/histogram/constant.ts","webpack://Plots/../../../src/plots/histogram/adaptor.ts","webpack://Plots/../../../src/plots/histogram/index.ts","webpack://Plots/../../../src/plots/line/constants.ts","webpack://Plots/../../../../src/plots/line/interactions/marker-active.ts","webpack://Plots/../../../../src/plots/line/interactions/index.ts","webpack://Plots/../../../src/plots/line/index.ts","webpack://Plots/../../../src/plots/pie/contants.ts","webpack://Plots/../../src/utils/matrix.ts","webpack://Plots/../../../../../src/plots/pie/interactions/actions/legend-active.ts","webpack://Plots/../../../../../src/plots/pie/interactions/actions/statistic-active.ts","webpack://Plots/../../../../src/plots/pie/interactions/util.ts","webpack://Plots/../../../../src/plots/pie/interactions/index.ts","webpack://Plots/../../../src/plots/pie/utils.ts","webpack://Plots/../../../src/plots/pie/adaptor.ts","webpack://Plots/../../../src/plots/pie/index.ts","webpack://Plots/../../../src/plots/progress/constants.ts","webpack://Plots/../../../src/plots/progress/utils.ts","webpack://Plots/../../../src/plots/progress/adaptor.ts","webpack://Plots/../../../src/plots/progress/index.ts","webpack://Plots/../../../src/plots/ring-progress/adaptor.ts","webpack://Plots/../../../src/plots/ring-progress/constants.ts","webpack://Plots/../../../src/plots/ring-progress/index.ts","webpack://Plots/../../node_modules/.pnpm/d3-regression@1.3.10/node_modules/d3-regression/dist/d3-regression.esm.js","webpack://Plots/../../../src/plots/scatter/util.ts","webpack://Plots/../../src/utils/path.ts","webpack://Plots/../../../src/plots/scatter/adaptor.ts","webpack://Plots/../../../src/plots/scatter/constant.ts","webpack://Plots/../../src/interactions/drag-move.ts","webpack://Plots/../../../src/plots/scatter/index.ts","webpack://Plots/../../../src/plots/stock/constant.ts","webpack://Plots/../../../src/plots/stock/utils.ts","webpack://Plots/../../../src/plots/stock/adaptor.ts","webpack://Plots/../../../src/plots/stock/index.ts","webpack://Plots/../../../src/plots/tiny-line/utils.ts","webpack://Plots/../../../src/plots/tiny-line/constants.ts","webpack://Plots/../../../src/plots/tiny-area/adaptor.ts","webpack://Plots/../../../src/plots/tiny-area/constants.ts","webpack://Plots/../../../src/plots/tiny-area/index.ts","webpack://Plots/../../../src/plots/tiny-column/adaptor.ts","webpack://Plots/../../../src/plots/tiny-column/constants.ts","webpack://Plots/../../../src/plots/tiny-column/index.ts","webpack://Plots/../../../src/plots/tiny-line/adaptor.ts","webpack://Plots/../../../src/plots/tiny-line/index.ts","webpack://Plots/../../../src/plots/mix/utils.ts","webpack://Plots/../../../src/plots/mix/adaptor.ts","webpack://Plots/../../../../src/plots/mix/interactions/association.ts","webpack://Plots/../../../../src/plots/mix/interactions/utils.ts","webpack://Plots/../../../src/plots/mix/index.ts","webpack://Plots/../src/lab.ts","webpack://Plots/../../../src/plots/bidirectional-bar/constant.ts","webpack://Plots/../../../src/plots/bidirectional-bar/utils.ts","webpack://Plots/../../../src/plots/bidirectional-bar/adaptor.ts","webpack://Plots/../../../src/plots/bidirectional-bar/index.ts","webpack://Plots/../../../src/plots/box/constant.ts","webpack://Plots/../../../src/plots/box/utils.ts","webpack://Plots/../../../src/plots/box/adaptor.ts","webpack://Plots/../../../src/plots/box/index.ts","webpack://Plots/../../../src/plots/bullet/utils.ts","webpack://Plots/../../../src/plots/bullet/adaptor.ts","webpack://Plots/../../../src/plots/bullet/constant.ts","webpack://Plots/../../../src/plots/bullet/index.ts","webpack://Plots/../../../src/utils/transform/chord.ts","webpack://Plots/../../../src/plots/chord/constant.ts","webpack://Plots/../../../src/plots/chord/adaptor.ts","webpack://Plots/../../../src/plots/chord/index.ts","webpack://Plots/../../../src/plots/circle-packing/constant.ts","webpack://Plots/../../../src/interactions/actions/drill-down.ts","webpack://Plots/../../node_modules/.pnpm/d3-hierarchy@2.0.0/node_modules/d3-hierarchy/src/pack/enclose.js","webpack://Plots/../../node_modules/.pnpm/d3-hierarchy@2.0.0/node_modules/d3-hierarchy/src/array.js","webpack://Plots/../../node_modules/.pnpm/d3-hierarchy@2.0.0/node_modules/d3-hierarchy/src/pack/siblings.js","webpack://Plots/../../node_modules/.pnpm/d3-hierarchy@2.0.0/node_modules/d3-hierarchy/src/accessors.js","webpack://Plots/../../node_modules/.pnpm/d3-hierarchy@2.0.0/node_modules/d3-hierarchy/src/constant.js","webpack://Plots/../../node_modules/.pnpm/d3-hierarchy@2.0.0/node_modules/d3-hierarchy/src/pack/index.js","webpack://Plots/../../node_modules/.pnpm/@babel+runtime@7.20.7/node_modules/@babel/runtime/helpers/esm/typeof.js","webpack://Plots/../../node_modules/.pnpm/@babel+runtime@7.20.7/node_modules/@babel/runtime/helpers/esm/toPropertyKey.js","webpack://Plots/../../node_modules/.pnpm/@babel+runtime@7.20.7/node_modules/@babel/runtime/helpers/esm/toPrimitive.js","webpack://Plots/../../node_modules/.pnpm/@babel+runtime@7.20.7/node_modules/@babel/runtime/helpers/esm/defineProperty.js","webpack://Plots/../../node_modules/.pnpm/d3-hierarchy@2.0.0/node_modules/d3-hierarchy/src/hierarchy/count.js","webpack://Plots/../../node_modules/.pnpm/@babel+runtime@7.20.7/node_modules/@babel/runtime/helpers/esm/arrayLikeToArray.js","webpack://Plots/../../node_modules/.pnpm/@babel+runtime@7.20.7/node_modules/@babel/runtime/helpers/esm/createForOfIteratorHelper.js","webpack://Plots/../../node_modules/.pnpm/@babel+runtime@7.20.7/node_modules/@babel/runtime/helpers/esm/unsupportedIterableToArray.js","webpack://Plots/../../node_modules/.pnpm/@babel+runtime@7.20.7/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js","webpack://Plots/../../node_modules/.pnpm/d3-hierarchy@2.0.0/node_modules/d3-hierarchy/src/hierarchy/iterator.js","webpack://Plots/../../node_modules/.pnpm/d3-hierarchy@2.0.0/node_modules/d3-hierarchy/src/hierarchy/index.js","webpack://Plots/../../node_modules/.pnpm/d3-hierarchy@2.0.0/node_modules/d3-hierarchy/src/hierarchy/each.js","webpack://Plots/../../node_modules/.pnpm/d3-hierarchy@2.0.0/node_modules/d3-hierarchy/src/hierarchy/eachAfter.js","webpack://Plots/../../node_modules/.pnpm/d3-hierarchy@2.0.0/node_modules/d3-hierarchy/src/hierarchy/eachBefore.js","webpack://Plots/../../node_modules/.pnpm/d3-hierarchy@2.0.0/node_modules/d3-hierarchy/src/hierarchy/find.js","webpack://Plots/../../node_modules/.pnpm/d3-hierarchy@2.0.0/node_modules/d3-hierarchy/src/hierarchy/sum.js","webpack://Plots/../../node_modules/.pnpm/d3-hierarchy@2.0.0/node_modules/d3-hierarchy/src/hierarchy/sort.js","webpack://Plots/../../node_modules/.pnpm/d3-hierarchy@2.0.0/node_modules/d3-hierarchy/src/hierarchy/path.js","webpack://Plots/../../node_modules/.pnpm/d3-hierarchy@2.0.0/node_modules/d3-hierarchy/src/hierarchy/ancestors.js","webpack://Plots/../../node_modules/.pnpm/d3-hierarchy@2.0.0/node_modules/d3-hierarchy/src/hierarchy/descendants.js","webpack://Plots/../../node_modules/.pnpm/d3-hierarchy@2.0.0/node_modules/d3-hierarchy/src/hierarchy/leaves.js","webpack://Plots/../../node_modules/.pnpm/d3-hierarchy@2.0.0/node_modules/d3-hierarchy/src/hierarchy/links.js","webpack://Plots/../../../src/utils/hierarchy/util.ts","webpack://Plots/../../../src/utils/hierarchy/pack.ts","webpack://Plots/../../../src/plots/circle-packing/utils.ts","webpack://Plots/../../../src/plots/circle-packing/adaptor.ts","webpack://Plots/../../src/interactions/drill-down.ts","webpack://Plots/../../../src/plots/circle-packing/index.ts","webpack://Plots/../../../src/plots/dual-axes/types.ts","webpack://Plots/../../../src/plots/dual-axes/constant.ts","webpack://Plots/../../../../src/plots/dual-axes/util/option.ts","webpack://Plots/../../../../src/plots/dual-axes/util/legend.ts","webpack://Plots/../../../../src/plots/dual-axes/util/render-sider.ts","webpack://Plots/../../../src/plots/dual-axes/adaptor.ts","webpack://Plots/../../../../src/plots/dual-axes/util/geometry.ts","webpack://Plots/../../../src/plots/dual-axes/index.ts","webpack://Plots/../../../src/plots/facet/adaptor.ts","webpack://Plots/../../../src/plots/facet/utils.ts","webpack://Plots/../../../src/plots/facet/constant.ts","webpack://Plots/../../../src/plots/facet/index.ts","webpack://Plots/../../../src/plots/heatmap/adaptor.ts","webpack://Plots/../../../src/plots/heatmap/constant.ts","webpack://Plots/../../../../src/plots/heatmap/shapes/circle.ts","webpack://Plots/../../../../src/plots/heatmap/shapes/square.ts","webpack://Plots/../../../src/plots/heatmap/index.ts","webpack://Plots/../../../src/plots/liquid/utils.ts","webpack://Plots/../../../src/plots/liquid/adaptor.ts","webpack://Plots/../../../src/plots/liquid/constants.ts","webpack://Plots/../../../../src/plots/liquid/shapes/liquid.ts","webpack://Plots/../../../src/plots/liquid/index.ts","webpack://Plots/../../../src/plots/radar/adaptor.ts","webpack://Plots/../../../../src/plots/radar/interactions/radar-tooltip-action.ts","webpack://Plots/../../../../src/plots/radar/interactions/index.ts","webpack://Plots/../../../src/plots/radar/index.ts","webpack://Plots/../../../src/plots/radial-bar/utils.ts","webpack://Plots/../../../src/plots/radial-bar/adaptor.ts","webpack://Plots/../../../src/plots/radial-bar/constant.ts","webpack://Plots/../../../src/plots/radial-bar/index.ts","webpack://Plots/../../../src/plots/rose/adaptor.ts","webpack://Plots/../../../src/plots/rose/constant.ts","webpack://Plots/../../../src/plots/rose/index.ts","webpack://Plots/../../../src/plots/sankey/constant.ts","webpack://Plots/../../../src/plots/sankey/circle.ts","webpack://Plots/../../../../src/plots/sankey/sankey/align.ts","webpack://Plots/../../../../src/plots/sankey/sankey/helper.ts","webpack://Plots/../../../../src/plots/sankey/sankey/sankey.ts","webpack://Plots/../../../src/plots/sankey/layout.ts","webpack://Plots/../../../src/plots/sankey/helper.ts","webpack://Plots/../../../src/plots/sankey/adaptor.ts","webpack://Plots/../../../../../src/plots/sankey/interactions/actions/node-drag.ts","webpack://Plots/../../../../src/plots/sankey/interactions/node-draggable.ts","webpack://Plots/../../../src/plots/sankey/index.ts","webpack://Plots/../../../src/plots/sunburst/constant.ts","webpack://Plots/../../node_modules/.pnpm/d3-hierarchy@2.0.0/node_modules/d3-hierarchy/src/treemap/round.js","webpack://Plots/../../node_modules/.pnpm/d3-hierarchy@2.0.0/node_modules/d3-hierarchy/src/treemap/dice.js","webpack://Plots/../../node_modules/.pnpm/d3-hierarchy@2.0.0/node_modules/d3-hierarchy/src/partition.js","webpack://Plots/../../../src/utils/hierarchy/partition.ts","webpack://Plots/../../node_modules/.pnpm/d3-hierarchy@2.0.0/node_modules/d3-hierarchy/src/cluster.js","webpack://Plots/../../node_modules/.pnpm/d3-hierarchy@2.0.0/node_modules/d3-hierarchy/src/stratify.js","webpack://Plots/../../node_modules/.pnpm/d3-hierarchy@2.0.0/node_modules/d3-hierarchy/src/tree.js","webpack://Plots/../../node_modules/.pnpm/d3-hierarchy@2.0.0/node_modules/d3-hierarchy/src/treemap/slice.js","webpack://Plots/../../node_modules/.pnpm/d3-hierarchy@2.0.0/node_modules/d3-hierarchy/src/treemap/squarify.js","webpack://Plots/../../node_modules/.pnpm/d3-hierarchy@2.0.0/node_modules/d3-hierarchy/src/treemap/index.js","webpack://Plots/../../node_modules/.pnpm/d3-hierarchy@2.0.0/node_modules/d3-hierarchy/src/treemap/binary.js","webpack://Plots/../../node_modules/.pnpm/d3-hierarchy@2.0.0/node_modules/d3-hierarchy/src/treemap/sliceDice.js","webpack://Plots/../../node_modules/.pnpm/d3-hierarchy@2.0.0/node_modules/d3-hierarchy/src/treemap/resquarify.js","webpack://Plots/../../../src/utils/hierarchy/treemap.ts","webpack://Plots/../../../src/plots/sunburst/utils.ts","webpack://Plots/../../../src/plots/sunburst/adaptor.ts","webpack://Plots/../../../src/plots/sunburst/index.ts","webpack://Plots/../../../src/plots/treemap/utils.ts","webpack://Plots/../../../src/plots/treemap/adaptor.ts","webpack://Plots/../../../src/plots/treemap/constant.ts","webpack://Plots/../../../src/plots/treemap/index.ts","webpack://Plots/../../../src/plots/venn/constant.ts","webpack://Plots/../../../../src/plots/venn/interactions/util.ts","webpack://Plots/../../../../../src/plots/venn/interactions/actions/active.ts","webpack://Plots/../../../../../src/plots/venn/interactions/actions/highlight.ts","webpack://Plots/../../../../../src/plots/venn/interactions/actions/selected.ts","webpack://Plots/../../../../src/plots/venn/interactions/index.ts","webpack://Plots/../../../src/plots/venn/label.ts","webpack://Plots/../../../src/plots/venn/shape.ts","webpack://Plots/../../../src/utils/color/blend.ts","webpack://Plots/../../../../src/plots/venn/layout/circleintersection.ts","webpack://Plots/../../../../src/plots/venn/layout/diagram.ts","webpack://Plots/../../../../src/plots/venn/layout/layout.ts","webpack://Plots/../../../src/plots/venn/utils.ts","webpack://Plots/../../../src/plots/venn/adaptor.ts","webpack://Plots/../../../src/plots/venn/index.ts","webpack://Plots/../../../src/plots/violin/constant.ts","webpack://Plots/../../../src/utils/transform/quantile.ts","webpack://Plots/../../../src/plots/violin/utils.ts","webpack://Plots/../../../src/plots/violin/adaptor.ts","webpack://Plots/../../../src/adaptor/geometries/violin.ts","webpack://Plots/../../../src/plots/violin/index.ts","webpack://Plots/../../../src/plots/waterfall/constant.ts","webpack://Plots/../../../src/plots/waterfall/utils.ts","webpack://Plots/../../../src/plots/waterfall/adaptor.ts","webpack://Plots/../../../src/plots/waterfall/shape.ts","webpack://Plots/../../../src/plots/waterfall/index.ts","webpack://Plots/../../../src/plots/word-cloud/constant.ts","webpack://Plots/../../../src/utils/transform/word-cloud.ts","webpack://Plots/../../../src/plots/word-cloud/utils.ts","webpack://Plots/../../../src/plots/word-cloud/adaptor.ts","webpack://Plots/../../../../src/plots/word-cloud/shapes/word-cloud.ts","webpack://Plots/../../../src/plots/word-cloud/index.ts","webpack://Plots/../../src/plugin/index.ts","webpack://Plots/../../src/locales/en_US.ts","webpack://Plots/../../src/locales/zh_CN.ts","webpack://Plots/../../node_modules/.pnpm/@babel+runtime@7.20.7/node_modules/@babel/runtime/helpers/esm/objectSpread2.js","webpack://Plots/./src/utils/render.ts","webpack://Plots/./src/utils/createNode.ts","webpack://Plots/./src/utils/utils.ts","webpack://Plots/./src/hooks/useChart.ts","webpack://Plots/./src/utils/getChart.ts","webpack://Plots/../../node_modules/.pnpm/@babel+runtime@7.20.7/node_modules/@babel/runtime/helpers/esm/classCallCheck.js","webpack://Plots/../../node_modules/.pnpm/@babel+runtime@7.20.7/node_modules/@babel/runtime/helpers/esm/createClass.js","webpack://Plots/../../node_modules/.pnpm/@babel+runtime@7.20.7/node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js","webpack://Plots/../../node_modules/.pnpm/@babel+runtime@7.20.7/node_modules/@babel/runtime/helpers/esm/setPrototypeOf.js","webpack://Plots/../../node_modules/.pnpm/@babel+runtime@7.20.7/node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js","webpack://Plots/../../node_modules/.pnpm/@babel+runtime@7.20.7/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js","webpack://Plots/./src/errorBoundary/index.tsx","webpack://Plots/../../node_modules/.pnpm/@babel+runtime@7.20.7/node_modules/@babel/runtime/helpers/esm/inherits.js","webpack://Plots/../../node_modules/.pnpm/@babel+runtime@7.20.7/node_modules/@babel/runtime/helpers/esm/createSuper.js","webpack://Plots/../../node_modules/.pnpm/@babel+runtime@7.20.7/node_modules/@babel/runtime/helpers/esm/isNativeReflectConstruct.js","webpack://Plots/../src/web/Svg.tsx","webpack://Plots/../src/shared/uid.ts","webpack://Plots/../src/web/ContentLoader.tsx","webpack://Plots/../src/web/presets/FacebookStyle.tsx","webpack://Plots/./src/utils/createLoading.tsx","webpack://Plots/./src/components/area/index.tsx","webpack://Plots/./src/components/bar/index.tsx","webpack://Plots/./src/components/bullet/index.tsx","webpack://Plots/./src/components/column/index.tsx","webpack://Plots/./src/components/funnel/index.tsx","webpack://Plots/./src/components/histogram/index.tsx","webpack://Plots/./src/components/line/index.tsx","webpack://Plots/./src/components/box/index.tsx","webpack://Plots/./src/components/liquid/index.tsx","webpack://Plots/./src/components/heatmap/index.tsx","webpack://Plots/./src/components/pie/index.tsx","webpack://Plots/./src/components/gauge/index.tsx","webpack://Plots/./src/components/progress/index.tsx","webpack://Plots/./src/components/radar/index.tsx","webpack://Plots/./src/components/ring-progress/index.tsx","webpack://Plots/./src/components/rose/index.tsx","webpack://Plots/./src/components/chord/index.tsx","webpack://Plots/./src/components/scatter/index.tsx","webpack://Plots/./src/components/tiny-area/index.tsx","webpack://Plots/./src/components/tiny-column/index.tsx","webpack://Plots/./src/components/dual-axes/index.tsx","webpack://Plots/./src/components/tiny-line/index.tsx","webpack://Plots/./src/components/waterfall/index.tsx","webpack://Plots/./src/components/word-cloud/index.tsx","webpack://Plots/./src/components/sunburst/index.tsx","webpack://Plots/./src/components/stock/index.tsx","webpack://Plots/./src/components/radial-bar/index.tsx","webpack://Plots/./src/components/sankey/index.tsx","webpack://Plots/./src/components/treemap/index.tsx","webpack://Plots/./src/components/violin/index.tsx","webpack://Plots/./src/components/venn/index.tsx","webpack://Plots/./src/components/circle-packing/index.tsx","webpack://Plots/./src/components/facet/index.tsx","webpack://Plots/./src/components/mix/index.tsx","webpack://Plots/./src/components/bidirectional-bar/index.tsx","webpack://Plots/./src/index.ts"],"sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"react\"), require(\"react-dom\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"react\", \"react-dom\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"Plots\"] = factory(require(\"react\"), require(\"react-dom\"));\n\telse\n\t\troot[\"Plots\"] = factory(root[\"React\"], root[\"ReactDOM\"]);\n})(self, (__WEBPACK_EXTERNAL_MODULE__787__, __WEBPACK_EXTERNAL_MODULE__156__) => {\nreturn ",null,null,"var frame = 0, // is an animation frame pending?\n    timeout = 0, // is a timeout pending?\n    interval = 0, // are any timers active?\n    pokeDelay = 1000, // how frequently we check for clock skew\n    taskHead,\n    taskTail,\n    clockLast = 0,\n    clockNow = 0,\n    clockSkew = 0,\n    clock = typeof performance === \"object\" && performance.now ? performance : Date,\n    setFrame = typeof window === \"object\" && window.requestAnimationFrame ? window.requestAnimationFrame.bind(window) : function(f) { setTimeout(f, 17); };\n\nexport function now() {\n  return clockNow || (setFrame(clearNow), clockNow = clock.now() + clockSkew);\n}\n\nfunction clearNow() {\n  clockNow = 0;\n}\n\nexport function Timer() {\n  this._call =\n  this._time =\n  this._next = null;\n}\n\nTimer.prototype = timer.prototype = {\n  constructor: Timer,\n  restart: function(callback, delay, time) {\n    if (typeof callback !== \"function\") throw new TypeError(\"callback is not a function\");\n    time = (time == null ? now() : +time) + (delay == null ? 0 : +delay);\n    if (!this._next && taskTail !== this) {\n      if (taskTail) taskTail._next = this;\n      else taskHead = this;\n      taskTail = this;\n    }\n    this._call = callback;\n    this._time = time;\n    sleep();\n  },\n  stop: function() {\n    if (this._call) {\n      this._call = null;\n      this._time = Infinity;\n      sleep();\n    }\n  }\n};\n\nexport function timer(callback, delay, time) {\n  var t = new Timer;\n  t.restart(callback, delay, time);\n  return t;\n}\n\nexport function timerFlush() {\n  now(); // Get the current time, if not already set.\n  ++frame; // Pretend weve set an alarm, if we havent already.\n  var t = taskHead, e;\n  while (t) {\n    if ((e = clockNow - t._time) >= 0) t._call.call(null, e);\n    t = t._next;\n  }\n  --frame;\n}\n\nfunction wake() {\n  clockNow = (clockLast = clock.now()) + clockSkew;\n  frame = timeout = 0;\n  try {\n    timerFlush();\n  } finally {\n    frame = 0;\n    nap();\n    clockNow = 0;\n  }\n}\n\nfunction poke() {\n  var now = clock.now(), delay = now - clockLast;\n  if (delay > pokeDelay) clockSkew -= delay, clockLast = now;\n}\n\nfunction nap() {\n  var t0, t1 = taskHead, t2, time = Infinity;\n  while (t1) {\n    if (t1._call) {\n      if (time > t1._time) time = t1._time;\n      t0 = t1, t1 = t1._next;\n    } else {\n      t2 = t1._next, t1._next = null;\n      t1 = t0 ? t0._next = t2 : taskHead = t2;\n    }\n  }\n  taskTail = t0;\n  sleep(time);\n}\n\nfunction sleep(time) {\n  if (frame) return; // Soonest alarm already set, or will be.\n  if (timeout) timeout = clearTimeout(timeout);\n  var delay = time - clockNow; // Strictly less than if we recomputed clockNow.\n  if (delay > 24) {\n    if (time < Infinity) timeout = setTimeout(wake, time - clock.now() - clockSkew);\n    if (interval) interval = clearInterval(interval);\n  } else {\n    if (!interval) clockLast = clock.now(), interval = setInterval(poke, pokeDelay);\n    frame = 1, setFrame(wake);\n  }\n}\n","export default function(constructor, factory, prototype) {\n  constructor.prototype = factory.prototype = prototype;\n  prototype.constructor = constructor;\n}\n\nexport function extend(parent, definition) {\n  var prototype = Object.create(parent.prototype);\n  for (var key in definition) prototype[key] = definition[key];\n  return prototype;\n}\n","import define, {extend} from \"./define.js\";\n\nexport function Color() {}\n\nexport var darker = 0.7;\nexport var brighter = 1 / darker;\n\nvar reI = \"\\\\s*([+-]?\\\\d+)\\\\s*\",\n    reN = \"\\\\s*([+-]?(?:\\\\d*\\\\.)?\\\\d+(?:[eE][+-]?\\\\d+)?)\\\\s*\",\n    reP = \"\\\\s*([+-]?(?:\\\\d*\\\\.)?\\\\d+(?:[eE][+-]?\\\\d+)?)%\\\\s*\",\n    reHex = /^#([0-9a-f]{3,8})$/,\n    reRgbInteger = new RegExp(`^rgb\\\\(${reI},${reI},${reI}\\\\)$`),\n    reRgbPercent = new RegExp(`^rgb\\\\(${reP},${reP},${reP}\\\\)$`),\n    reRgbaInteger = new RegExp(`^rgba\\\\(${reI},${reI},${reI},${reN}\\\\)$`),\n    reRgbaPercent = new RegExp(`^rgba\\\\(${reP},${reP},${reP},${reN}\\\\)$`),\n    reHslPercent = new RegExp(`^hsl\\\\(${reN},${reP},${reP}\\\\)$`),\n    reHslaPercent = new RegExp(`^hsla\\\\(${reN},${reP},${reP},${reN}\\\\)$`);\n\nvar named = {\n  aliceblue: 0xf0f8ff,\n  antiquewhite: 0xfaebd7,\n  aqua: 0x00ffff,\n  aquamarine: 0x7fffd4,\n  azure: 0xf0ffff,\n  beige: 0xf5f5dc,\n  bisque: 0xffe4c4,\n  black: 0x000000,\n  blanchedalmond: 0xffebcd,\n  blue: 0x0000ff,\n  blueviolet: 0x8a2be2,\n  brown: 0xa52a2a,\n  burlywood: 0xdeb887,\n  cadetblue: 0x5f9ea0,\n  chartreuse: 0x7fff00,\n  chocolate: 0xd2691e,\n  coral: 0xff7f50,\n  cornflowerblue: 0x6495ed,\n  cornsilk: 0xfff8dc,\n  crimson: 0xdc143c,\n  cyan: 0x00ffff,\n  darkblue: 0x00008b,\n  darkcyan: 0x008b8b,\n  darkgoldenrod: 0xb8860b,\n  darkgray: 0xa9a9a9,\n  darkgreen: 0x006400,\n  darkgrey: 0xa9a9a9,\n  darkkhaki: 0xbdb76b,\n  darkmagenta: 0x8b008b,\n  darkolivegreen: 0x556b2f,\n  darkorange: 0xff8c00,\n  darkorchid: 0x9932cc,\n  darkred: 0x8b0000,\n  darksalmon: 0xe9967a,\n  darkseagreen: 0x8fbc8f,\n  darkslateblue: 0x483d8b,\n  darkslategray: 0x2f4f4f,\n  darkslategrey: 0x2f4f4f,\n  darkturquoise: 0x00ced1,\n  darkviolet: 0x9400d3,\n  deeppink: 0xff1493,\n  deepskyblue: 0x00bfff,\n  dimgray: 0x696969,\n  dimgrey: 0x696969,\n  dodgerblue: 0x1e90ff,\n  firebrick: 0xb22222,\n  floralwhite: 0xfffaf0,\n  forestgreen: 0x228b22,\n  fuchsia: 0xff00ff,\n  gainsboro: 0xdcdcdc,\n  ghostwhite: 0xf8f8ff,\n  gold: 0xffd700,\n  goldenrod: 0xdaa520,\n  gray: 0x808080,\n  green: 0x008000,\n  greenyellow: 0xadff2f,\n  grey: 0x808080,\n  honeydew: 0xf0fff0,\n  hotpink: 0xff69b4,\n  indianred: 0xcd5c5c,\n  indigo: 0x4b0082,\n  ivory: 0xfffff0,\n  khaki: 0xf0e68c,\n  lavender: 0xe6e6fa,\n  lavenderblush: 0xfff0f5,\n  lawngreen: 0x7cfc00,\n  lemonchiffon: 0xfffacd,\n  lightblue: 0xadd8e6,\n  lightcoral: 0xf08080,\n  lightcyan: 0xe0ffff,\n  lightgoldenrodyellow: 0xfafad2,\n  lightgray: 0xd3d3d3,\n  lightgreen: 0x90ee90,\n  lightgrey: 0xd3d3d3,\n  lightpink: 0xffb6c1,\n  lightsalmon: 0xffa07a,\n  lightseagreen: 0x20b2aa,\n  lightskyblue: 0x87cefa,\n  lightslategray: 0x778899,\n  lightslategrey: 0x778899,\n  lightsteelblue: 0xb0c4de,\n  lightyellow: 0xffffe0,\n  lime: 0x00ff00,\n  limegreen: 0x32cd32,\n  linen: 0xfaf0e6,\n  magenta: 0xff00ff,\n  maroon: 0x800000,\n  mediumaquamarine: 0x66cdaa,\n  mediumblue: 0x0000cd,\n  mediumorchid: 0xba55d3,\n  mediumpurple: 0x9370db,\n  mediumseagreen: 0x3cb371,\n  mediumslateblue: 0x7b68ee,\n  mediumspringgreen: 0x00fa9a,\n  mediumturquoise: 0x48d1cc,\n  mediumvioletred: 0xc71585,\n  midnightblue: 0x191970,\n  mintcream: 0xf5fffa,\n  mistyrose: 0xffe4e1,\n  moccasin: 0xffe4b5,\n  navajowhite: 0xffdead,\n  navy: 0x000080,\n  oldlace: 0xfdf5e6,\n  olive: 0x808000,\n  olivedrab: 0x6b8e23,\n  orange: 0xffa500,\n  orangered: 0xff4500,\n  orchid: 0xda70d6,\n  palegoldenrod: 0xeee8aa,\n  palegreen: 0x98fb98,\n  paleturquoise: 0xafeeee,\n  palevioletred: 0xdb7093,\n  papayawhip: 0xffefd5,\n  peachpuff: 0xffdab9,\n  peru: 0xcd853f,\n  pink: 0xffc0cb,\n  plum: 0xdda0dd,\n  powderblue: 0xb0e0e6,\n  purple: 0x800080,\n  rebeccapurple: 0x663399,\n  red: 0xff0000,\n  rosybrown: 0xbc8f8f,\n  royalblue: 0x4169e1,\n  saddlebrown: 0x8b4513,\n  salmon: 0xfa8072,\n  sandybrown: 0xf4a460,\n  seagreen: 0x2e8b57,\n  seashell: 0xfff5ee,\n  sienna: 0xa0522d,\n  silver: 0xc0c0c0,\n  skyblue: 0x87ceeb,\n  slateblue: 0x6a5acd,\n  slategray: 0x708090,\n  slategrey: 0x708090,\n  snow: 0xfffafa,\n  springgreen: 0x00ff7f,\n  steelblue: 0x4682b4,\n  tan: 0xd2b48c,\n  teal: 0x008080,\n  thistle: 0xd8bfd8,\n  tomato: 0xff6347,\n  turquoise: 0x40e0d0,\n  violet: 0xee82ee,\n  wheat: 0xf5deb3,\n  white: 0xffffff,\n  whitesmoke: 0xf5f5f5,\n  yellow: 0xffff00,\n  yellowgreen: 0x9acd32\n};\n\ndefine(Color, color, {\n  copy(channels) {\n    return Object.assign(new this.constructor, this, channels);\n  },\n  displayable() {\n    return this.rgb().displayable();\n  },\n  hex: color_formatHex, // Deprecated! Use color.formatHex.\n  formatHex: color_formatHex,\n  formatHex8: color_formatHex8,\n  formatHsl: color_formatHsl,\n  formatRgb: color_formatRgb,\n  toString: color_formatRgb\n});\n\nfunction color_formatHex() {\n  return this.rgb().formatHex();\n}\n\nfunction color_formatHex8() {\n  return this.rgb().formatHex8();\n}\n\nfunction color_formatHsl() {\n  return hslConvert(this).formatHsl();\n}\n\nfunction color_formatRgb() {\n  return this.rgb().formatRgb();\n}\n\nexport default function color(format) {\n  var m, l;\n  format = (format + \"\").trim().toLowerCase();\n  return (m = reHex.exec(format)) ? (l = m[1].length, m = parseInt(m[1], 16), l === 6 ? rgbn(m) // #ff0000\n      : l === 3 ? new Rgb((m >> 8 & 0xf) | (m >> 4 & 0xf0), (m >> 4 & 0xf) | (m & 0xf0), ((m & 0xf) << 4) | (m & 0xf), 1) // #f00\n      : l === 8 ? rgba(m >> 24 & 0xff, m >> 16 & 0xff, m >> 8 & 0xff, (m & 0xff) / 0xff) // #ff000000\n      : l === 4 ? rgba((m >> 12 & 0xf) | (m >> 8 & 0xf0), (m >> 8 & 0xf) | (m >> 4 & 0xf0), (m >> 4 & 0xf) | (m & 0xf0), (((m & 0xf) << 4) | (m & 0xf)) / 0xff) // #f000\n      : null) // invalid hex\n      : (m = reRgbInteger.exec(format)) ? new Rgb(m[1], m[2], m[3], 1) // rgb(255, 0, 0)\n      : (m = reRgbPercent.exec(format)) ? new Rgb(m[1] * 255 / 100, m[2] * 255 / 100, m[3] * 255 / 100, 1) // rgb(100%, 0%, 0%)\n      : (m = reRgbaInteger.exec(format)) ? rgba(m[1], m[2], m[3], m[4]) // rgba(255, 0, 0, 1)\n      : (m = reRgbaPercent.exec(format)) ? rgba(m[1] * 255 / 100, m[2] * 255 / 100, m[3] * 255 / 100, m[4]) // rgb(100%, 0%, 0%, 1)\n      : (m = reHslPercent.exec(format)) ? hsla(m[1], m[2] / 100, m[3] / 100, 1) // hsl(120, 50%, 50%)\n      : (m = reHslaPercent.exec(format)) ? hsla(m[1], m[2] / 100, m[3] / 100, m[4]) // hsla(120, 50%, 50%, 1)\n      : named.hasOwnProperty(format) ? rgbn(named[format]) // eslint-disable-line no-prototype-builtins\n      : format === \"transparent\" ? new Rgb(NaN, NaN, NaN, 0)\n      : null;\n}\n\nfunction rgbn(n) {\n  return new Rgb(n >> 16 & 0xff, n >> 8 & 0xff, n & 0xff, 1);\n}\n\nfunction rgba(r, g, b, a) {\n  if (a <= 0) r = g = b = NaN;\n  return new Rgb(r, g, b, a);\n}\n\nexport function rgbConvert(o) {\n  if (!(o instanceof Color)) o = color(o);\n  if (!o) return new Rgb;\n  o = o.rgb();\n  return new Rgb(o.r, o.g, o.b, o.opacity);\n}\n\nexport function rgb(r, g, b, opacity) {\n  return arguments.length === 1 ? rgbConvert(r) : new Rgb(r, g, b, opacity == null ? 1 : opacity);\n}\n\nexport function Rgb(r, g, b, opacity) {\n  this.r = +r;\n  this.g = +g;\n  this.b = +b;\n  this.opacity = +opacity;\n}\n\ndefine(Rgb, rgb, extend(Color, {\n  brighter(k) {\n    k = k == null ? brighter : Math.pow(brighter, k);\n    return new Rgb(this.r * k, this.g * k, this.b * k, this.opacity);\n  },\n  darker(k) {\n    k = k == null ? darker : Math.pow(darker, k);\n    return new Rgb(this.r * k, this.g * k, this.b * k, this.opacity);\n  },\n  rgb() {\n    return this;\n  },\n  clamp() {\n    return new Rgb(clampi(this.r), clampi(this.g), clampi(this.b), clampa(this.opacity));\n  },\n  displayable() {\n    return (-0.5 <= this.r && this.r < 255.5)\n        && (-0.5 <= this.g && this.g < 255.5)\n        && (-0.5 <= this.b && this.b < 255.5)\n        && (0 <= this.opacity && this.opacity <= 1);\n  },\n  hex: rgb_formatHex, // Deprecated! Use color.formatHex.\n  formatHex: rgb_formatHex,\n  formatHex8: rgb_formatHex8,\n  formatRgb: rgb_formatRgb,\n  toString: rgb_formatRgb\n}));\n\nfunction rgb_formatHex() {\n  return `#${hex(this.r)}${hex(this.g)}${hex(this.b)}`;\n}\n\nfunction rgb_formatHex8() {\n  return `#${hex(this.r)}${hex(this.g)}${hex(this.b)}${hex((isNaN(this.opacity) ? 1 : this.opacity) * 255)}`;\n}\n\nfunction rgb_formatRgb() {\n  const a = clampa(this.opacity);\n  return `${a === 1 ? \"rgb(\" : \"rgba(\"}${clampi(this.r)}, ${clampi(this.g)}, ${clampi(this.b)}${a === 1 ? \")\" : `, ${a})`}`;\n}\n\nfunction clampa(opacity) {\n  return isNaN(opacity) ? 1 : Math.max(0, Math.min(1, opacity));\n}\n\nfunction clampi(value) {\n  return Math.max(0, Math.min(255, Math.round(value) || 0));\n}\n\nfunction hex(value) {\n  value = clampi(value);\n  return (value < 16 ? \"0\" : \"\") + value.toString(16);\n}\n\nfunction hsla(h, s, l, a) {\n  if (a <= 0) h = s = l = NaN;\n  else if (l <= 0 || l >= 1) h = s = NaN;\n  else if (s <= 0) h = NaN;\n  return new Hsl(h, s, l, a);\n}\n\nexport function hslConvert(o) {\n  if (o instanceof Hsl) return new Hsl(o.h, o.s, o.l, o.opacity);\n  if (!(o instanceof Color)) o = color(o);\n  if (!o) return new Hsl;\n  if (o instanceof Hsl) return o;\n  o = o.rgb();\n  var r = o.r / 255,\n      g = o.g / 255,\n      b = o.b / 255,\n      min = Math.min(r, g, b),\n      max = Math.max(r, g, b),\n      h = NaN,\n      s = max - min,\n      l = (max + min) / 2;\n  if (s) {\n    if (r === max) h = (g - b) / s + (g < b) * 6;\n    else if (g === max) h = (b - r) / s + 2;\n    else h = (r - g) / s + 4;\n    s /= l < 0.5 ? max + min : 2 - max - min;\n    h *= 60;\n  } else {\n    s = l > 0 && l < 1 ? 0 : h;\n  }\n  return new Hsl(h, s, l, o.opacity);\n}\n\nexport function hsl(h, s, l, opacity) {\n  return arguments.length === 1 ? hslConvert(h) : new Hsl(h, s, l, opacity == null ? 1 : opacity);\n}\n\nfunction Hsl(h, s, l, opacity) {\n  this.h = +h;\n  this.s = +s;\n  this.l = +l;\n  this.opacity = +opacity;\n}\n\ndefine(Hsl, hsl, extend(Color, {\n  brighter(k) {\n    k = k == null ? brighter : Math.pow(brighter, k);\n    return new Hsl(this.h, this.s, this.l * k, this.opacity);\n  },\n  darker(k) {\n    k = k == null ? darker : Math.pow(darker, k);\n    return new Hsl(this.h, this.s, this.l * k, this.opacity);\n  },\n  rgb() {\n    var h = this.h % 360 + (this.h < 0) * 360,\n        s = isNaN(h) || isNaN(this.s) ? 0 : this.s,\n        l = this.l,\n        m2 = l + (l < 0.5 ? l : 1 - l) * s,\n        m1 = 2 * l - m2;\n    return new Rgb(\n      hsl2rgb(h >= 240 ? h - 240 : h + 120, m1, m2),\n      hsl2rgb(h, m1, m2),\n      hsl2rgb(h < 120 ? h + 240 : h - 120, m1, m2),\n      this.opacity\n    );\n  },\n  clamp() {\n    return new Hsl(clamph(this.h), clampt(this.s), clampt(this.l), clampa(this.opacity));\n  },\n  displayable() {\n    return (0 <= this.s && this.s <= 1 || isNaN(this.s))\n        && (0 <= this.l && this.l <= 1)\n        && (0 <= this.opacity && this.opacity <= 1);\n  },\n  formatHsl() {\n    const a = clampa(this.opacity);\n    return `${a === 1 ? \"hsl(\" : \"hsla(\"}${clamph(this.h)}, ${clampt(this.s) * 100}%, ${clampt(this.l) * 100}%${a === 1 ? \")\" : `, ${a})`}`;\n  }\n}));\n\nfunction clamph(value) {\n  value = (value || 0) % 360;\n  return value < 0 ? value + 360 : value;\n}\n\nfunction clampt(value) {\n  return Math.max(0, Math.min(1, value || 0));\n}\n\n/* From FvD 13.37, CSS Color Module Level 3 */\nfunction hsl2rgb(h, m1, m2) {\n  return (h < 60 ? m1 + (m2 - m1) * h / 60\n      : h < 180 ? m2\n      : h < 240 ? m1 + (m2 - m1) * (240 - h) / 60\n      : m1) * 255;\n}\n","export function basis(t1, v0, v1, v2, v3) {\n  var t2 = t1 * t1, t3 = t2 * t1;\n  return ((1 - 3 * t1 + 3 * t2 - t3) * v0\n      + (4 - 6 * t2 + 3 * t3) * v1\n      + (1 + 3 * t1 + 3 * t2 - 3 * t3) * v2\n      + t3 * v3) / 6;\n}\n\nexport default function(values) {\n  var n = values.length - 1;\n  return function(t) {\n    var i = t <= 0 ? (t = 0) : t >= 1 ? (t = 1, n - 1) : Math.floor(t * n),\n        v1 = values[i],\n        v2 = values[i + 1],\n        v0 = i > 0 ? values[i - 1] : 2 * v1 - v2,\n        v3 = i < n - 1 ? values[i + 2] : 2 * v2 - v1;\n    return basis((t - i / n) * n, v0, v1, v2, v3);\n  };\n}\n","export default x => () => x;\n","import constant from \"./constant.js\";\n\nfunction linear(a, d) {\n  return function(t) {\n    return a + t * d;\n  };\n}\n\nfunction exponential(a, b, y) {\n  return a = Math.pow(a, y), b = Math.pow(b, y) - a, y = 1 / y, function(t) {\n    return Math.pow(a + t * b, y);\n  };\n}\n\nexport function hue(a, b) {\n  var d = b - a;\n  return d ? linear(a, d > 180 || d < -180 ? d - 360 * Math.round(d / 360) : d) : constant(isNaN(a) ? b : a);\n}\n\nexport function gamma(y) {\n  return (y = +y) === 1 ? nogamma : function(a, b) {\n    return b - a ? exponential(a, b, y) : constant(isNaN(a) ? b : a);\n  };\n}\n\nexport default function nogamma(a, b) {\n  var d = b - a;\n  return d ? linear(a, d) : constant(isNaN(a) ? b : a);\n}\n","import {rgb as colorRgb} from \"d3-color\";\nimport basis from \"./basis.js\";\nimport basisClosed from \"./basisClosed.js\";\nimport nogamma, {gamma} from \"./color.js\";\n\nexport default (function rgbGamma(y) {\n  var color = gamma(y);\n\n  function rgb(start, end) {\n    var r = color((start = colorRgb(start)).r, (end = colorRgb(end)).r),\n        g = color(start.g, end.g),\n        b = color(start.b, end.b),\n        opacity = nogamma(start.opacity, end.opacity);\n    return function(t) {\n      start.r = r(t);\n      start.g = g(t);\n      start.b = b(t);\n      start.opacity = opacity(t);\n      return start + \"\";\n    };\n  }\n\n  rgb.gamma = rgbGamma;\n\n  return rgb;\n})(1);\n\nfunction rgbSpline(spline) {\n  return function(colors) {\n    var n = colors.length,\n        r = new Array(n),\n        g = new Array(n),\n        b = new Array(n),\n        i, color;\n    for (i = 0; i < n; ++i) {\n      color = colorRgb(colors[i]);\n      r[i] = color.r || 0;\n      g[i] = color.g || 0;\n      b[i] = color.b || 0;\n    }\n    r = spline(r);\n    g = spline(g);\n    b = spline(b);\n    color.opacity = 1;\n    return function(t) {\n      color.r = r(t);\n      color.g = g(t);\n      color.b = b(t);\n      return color + \"\";\n    };\n  };\n}\n\nexport var rgbBasis = rgbSpline(basis);\nexport var rgbBasisClosed = rgbSpline(basisClosed);\n","export default function(a, b) {\n  if (!b) b = [];\n  var n = a ? Math.min(b.length, a.length) : 0,\n      c = b.slice(),\n      i;\n  return function(t) {\n    for (i = 0; i < n; ++i) c[i] = a[i] * (1 - t) + b[i] * t;\n    return c;\n  };\n}\n\nexport function isNumberArray(x) {\n  return ArrayBuffer.isView(x) && !(x instanceof DataView);\n}\n","import value from \"./value.js\";\nimport numberArray, {isNumberArray} from \"./numberArray.js\";\n\nexport default function(a, b) {\n  return (isNumberArray(b) ? numberArray : genericArray)(a, b);\n}\n\nexport function genericArray(a, b) {\n  var nb = b ? b.length : 0,\n      na = a ? Math.min(nb, a.length) : 0,\n      x = new Array(na),\n      c = new Array(nb),\n      i;\n\n  for (i = 0; i < na; ++i) x[i] = value(a[i], b[i]);\n  for (; i < nb; ++i) c[i] = b[i];\n\n  return function(t) {\n    for (i = 0; i < na; ++i) c[i] = x[i](t);\n    return c;\n  };\n}\n","export default function(a, b) {\n  var d = new Date;\n  return a = +a, b = +b, function(t) {\n    return d.setTime(a * (1 - t) + b * t), d;\n  };\n}\n","export default function(a, b) {\n  return a = +a, b = +b, function(t) {\n    return a * (1 - t) + b * t;\n  };\n}\n","import value from \"./value.js\";\n\nexport default function(a, b) {\n  var i = {},\n      c = {},\n      k;\n\n  if (a === null || typeof a !== \"object\") a = {};\n  if (b === null || typeof b !== \"object\") b = {};\n\n  for (k in b) {\n    if (k in a) {\n      i[k] = value(a[k], b[k]);\n    } else {\n      c[k] = b[k];\n    }\n  }\n\n  return function(t) {\n    for (k in i) c[k] = i[k](t);\n    return c;\n  };\n}\n","import {basis} from \"./basis.js\";\n\nexport default function(values) {\n  var n = values.length;\n  return function(t) {\n    var i = Math.floor(((t %= 1) < 0 ? ++t : t) * n),\n        v0 = values[(i + n - 1) % n],\n        v1 = values[i % n],\n        v2 = values[(i + 1) % n],\n        v3 = values[(i + 2) % n];\n    return basis((t - i / n) * n, v0, v1, v2, v3);\n  };\n}\n","import number from \"./number.js\";\n\nvar reA = /[-+]?(?:\\d+\\.?\\d*|\\.?\\d+)(?:[eE][-+]?\\d+)?/g,\n    reB = new RegExp(reA.source, \"g\");\n\nfunction zero(b) {\n  return function() {\n    return b;\n  };\n}\n\nfunction one(b) {\n  return function(t) {\n    return b(t) + \"\";\n  };\n}\n\nexport default function(a, b) {\n  var bi = reA.lastIndex = reB.lastIndex = 0, // scan index for next number in b\n      am, // current match in a\n      bm, // current match in b\n      bs, // string preceding current number in b, if any\n      i = -1, // index in s\n      s = [], // string constants and placeholders\n      q = []; // number interpolators\n\n  // Coerce inputs to strings.\n  a = a + \"\", b = b + \"\";\n\n  // Interpolate pairs of numbers in a & b.\n  while ((am = reA.exec(a))\n      && (bm = reB.exec(b))) {\n    if ((bs = bm.index) > bi) { // a string precedes the next number in b\n      bs = b.slice(bi, bs);\n      if (s[i]) s[i] += bs; // coalesce with previous string\n      else s[++i] = bs;\n    }\n    if ((am = am[0]) === (bm = bm[0])) { // numbers in a & b match\n      if (s[i]) s[i] += bm; // coalesce with previous string\n      else s[++i] = bm;\n    } else { // interpolate non-matching numbers\n      s[++i] = null;\n      q.push({i: i, x: number(am, bm)});\n    }\n    bi = reB.lastIndex;\n  }\n\n  // Add remains of b.\n  if (bi < b.length) {\n    bs = b.slice(bi);\n    if (s[i]) s[i] += bs; // coalesce with previous string\n    else s[++i] = bs;\n  }\n\n  // Special optimization for only a single match.\n  // Otherwise, interpolate each of the numbers and rejoin the string.\n  return s.length < 2 ? (q[0]\n      ? one(q[0].x)\n      : zero(b))\n      : (b = q.length, function(t) {\n          for (var i = 0, o; i < b; ++i) s[(o = q[i]).i] = o.x(t);\n          return s.join(\"\");\n        });\n}\n","import {color} from \"d3-color\";\nimport rgb from \"./rgb.js\";\nimport {genericArray} from \"./array.js\";\nimport date from \"./date.js\";\nimport number from \"./number.js\";\nimport object from \"./object.js\";\nimport string from \"./string.js\";\nimport constant from \"./constant.js\";\nimport numberArray, {isNumberArray} from \"./numberArray.js\";\n\nexport default function(a, b) {\n  var t = typeof b, c;\n  return b == null || t === \"boolean\" ? constant(b)\n      : (t === \"number\" ? number\n      : t === \"string\" ? ((c = color(b)) ? (b = c, rgb) : string)\n      : b instanceof color ? rgb\n      : b instanceof Date ? date\n      : isNumberArray(b) ? numberArray\n      : Array.isArray(b) ? genericArray\n      : typeof b.valueOf !== \"function\" && typeof b.toString !== \"function\" || isNaN(b) ? object\n      : number)(a, b);\n}\n",null,null,null,null,null,null,null,null,"export function linear(t) {\n  return +t;\n}\n","export function quadIn(t) {\n  return t * t;\n}\n\nexport function quadOut(t) {\n  return t * (2 - t);\n}\n\nexport function quadInOut(t) {\n  return ((t *= 2) <= 1 ? t * t : --t * (2 - t) + 1) / 2;\n}\n","export function cubicIn(t) {\n  return t * t * t;\n}\n\nexport function cubicOut(t) {\n  return --t * t * t + 1;\n}\n\nexport function cubicInOut(t) {\n  return ((t *= 2) <= 1 ? t * t * t : (t -= 2) * t * t + 2) / 2;\n}\n","var exponent = 3;\n\nexport var polyIn = (function custom(e) {\n  e = +e;\n\n  function polyIn(t) {\n    return Math.pow(t, e);\n  }\n\n  polyIn.exponent = custom;\n\n  return polyIn;\n})(exponent);\n\nexport var polyOut = (function custom(e) {\n  e = +e;\n\n  function polyOut(t) {\n    return 1 - Math.pow(1 - t, e);\n  }\n\n  polyOut.exponent = custom;\n\n  return polyOut;\n})(exponent);\n\nexport var polyInOut = (function custom(e) {\n  e = +e;\n\n  function polyInOut(t) {\n    return ((t *= 2) <= 1 ? Math.pow(t, e) : 2 - Math.pow(2 - t, e)) / 2;\n  }\n\n  polyInOut.exponent = custom;\n\n  return polyInOut;\n})(exponent);\n","var pi = Math.PI,\n    halfPi = pi / 2;\n\nexport function sinIn(t) {\n  return (+t === 1) ? 1 : 1 - Math.cos(t * halfPi);\n}\n\nexport function sinOut(t) {\n  return Math.sin(t * halfPi);\n}\n\nexport function sinInOut(t) {\n  return (1 - Math.cos(pi * t)) / 2;\n}\n","// tpmt is two power minus ten times t scaled to [0,1]\nexport function tpmt(x) {\n  return (Math.pow(2, -10 * x) - 0.0009765625) * 1.0009775171065494;\n}\n","import {tpmt} from \"./math.js\";\n\nexport function expIn(t) {\n  return tpmt(1 - +t);\n}\n\nexport function expOut(t) {\n  return 1 - tpmt(t);\n}\n\nexport function expInOut(t) {\n  return ((t *= 2) <= 1 ? tpmt(1 - t) : 2 - tpmt(t - 1)) / 2;\n}\n","export function circleIn(t) {\n  return 1 - Math.sqrt(1 - t * t);\n}\n\nexport function circleOut(t) {\n  return Math.sqrt(1 - --t * t);\n}\n\nexport function circleInOut(t) {\n  return ((t *= 2) <= 1 ? 1 - Math.sqrt(1 - t * t) : Math.sqrt(1 - (t -= 2) * t) + 1) / 2;\n}\n","var b1 = 4 / 11,\n    b2 = 6 / 11,\n    b3 = 8 / 11,\n    b4 = 3 / 4,\n    b5 = 9 / 11,\n    b6 = 10 / 11,\n    b7 = 15 / 16,\n    b8 = 21 / 22,\n    b9 = 63 / 64,\n    b0 = 1 / b1 / b1;\n\nexport function bounceIn(t) {\n  return 1 - bounceOut(1 - t);\n}\n\nexport function bounceOut(t) {\n  return (t = +t) < b1 ? b0 * t * t : t < b3 ? b0 * (t -= b2) * t + b4 : t < b6 ? b0 * (t -= b5) * t + b7 : b0 * (t -= b8) * t + b9;\n}\n\nexport function bounceInOut(t) {\n  return ((t *= 2) <= 1 ? 1 - bounceOut(1 - t) : bounceOut(t - 1) + 1) / 2;\n}\n","var overshoot = 1.70158;\n\nexport var backIn = (function custom(s) {\n  s = +s;\n\n  function backIn(t) {\n    return (t = +t) * t * (s * (t - 1) + t);\n  }\n\n  backIn.overshoot = custom;\n\n  return backIn;\n})(overshoot);\n\nexport var backOut = (function custom(s) {\n  s = +s;\n\n  function backOut(t) {\n    return --t * t * ((t + 1) * s + t) + 1;\n  }\n\n  backOut.overshoot = custom;\n\n  return backOut;\n})(overshoot);\n\nexport var backInOut = (function custom(s) {\n  s = +s;\n\n  function backInOut(t) {\n    return ((t *= 2) < 1 ? t * t * ((s + 1) * t - s) : (t -= 2) * t * ((s + 1) * t + s) + 2) / 2;\n  }\n\n  backInOut.overshoot = custom;\n\n  return backInOut;\n})(overshoot);\n","import {tpmt} from \"./math.js\";\n\nvar tau = 2 * Math.PI,\n    amplitude = 1,\n    period = 0.3;\n\nexport var elasticIn = (function custom(a, p) {\n  var s = Math.asin(1 / (a = Math.max(1, a))) * (p /= tau);\n\n  function elasticIn(t) {\n    return a * tpmt(-(--t)) * Math.sin((s - t) / p);\n  }\n\n  elasticIn.amplitude = function(a) { return custom(a, p * tau); };\n  elasticIn.period = function(p) { return custom(a, p); };\n\n  return elasticIn;\n})(amplitude, period);\n\nexport var elasticOut = (function custom(a, p) {\n  var s = Math.asin(1 / (a = Math.max(1, a))) * (p /= tau);\n\n  function elasticOut(t) {\n    return 1 - a * tpmt(t = +t) * Math.sin((t + s) / p);\n  }\n\n  elasticOut.amplitude = function(a) { return custom(a, p * tau); };\n  elasticOut.period = function(p) { return custom(a, p); };\n\n  return elasticOut;\n})(amplitude, period);\n\nexport var elasticInOut = (function custom(a, p) {\n  var s = Math.asin(1 / (a = Math.max(1, a))) * (p /= tau);\n\n  function elasticInOut(t) {\n    return ((t = t * 2 - 1) < 0\n        ? a * tpmt(-t) * Math.sin((s - t) / p)\n        : 2 - a * tpmt(t) * Math.sin((s + t) / p)) / 2;\n  }\n\n  elasticInOut.amplitude = function(a) { return custom(a, p * tau); };\n  elasticInOut.period = function(p) { return custom(a, p); };\n\n  return elasticInOut;\n})(amplitude, period);\n",null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,"var __spreadArray = (this && this.__spreadArray) || function (to, from, pack) {\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\n        if (ar || !(i in from)) {\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\n            ar[i] = from[i];\n        }\n    }\n    return to.concat(ar || Array.prototype.slice.call(from));\n};\nvar BrowserInfo = /** @class */ (function () {\n    function BrowserInfo(name, version, os) {\n        this.name = name;\n        this.version = version;\n        this.os = os;\n        this.type = 'browser';\n    }\n    return BrowserInfo;\n}());\nexport { BrowserInfo };\nvar NodeInfo = /** @class */ (function () {\n    function NodeInfo(version) {\n        this.version = version;\n        this.type = 'node';\n        this.name = 'node';\n        this.os = process.platform;\n    }\n    return NodeInfo;\n}());\nexport { NodeInfo };\nvar SearchBotDeviceInfo = /** @class */ (function () {\n    function SearchBotDeviceInfo(name, version, os, bot) {\n        this.name = name;\n        this.version = version;\n        this.os = os;\n        this.bot = bot;\n        this.type = 'bot-device';\n    }\n    return SearchBotDeviceInfo;\n}());\nexport { SearchBotDeviceInfo };\nvar BotInfo = /** @class */ (function () {\n    function BotInfo() {\n        this.type = 'bot';\n        this.bot = true; // NOTE: deprecated test name instead\n        this.name = 'bot';\n        this.version = null;\n        this.os = null;\n    }\n    return BotInfo;\n}());\nexport { BotInfo };\nvar ReactNativeInfo = /** @class */ (function () {\n    function ReactNativeInfo() {\n        this.type = 'react-native';\n        this.name = 'react-native';\n        this.version = null;\n        this.os = null;\n    }\n    return ReactNativeInfo;\n}());\nexport { ReactNativeInfo };\n// tslint:disable-next-line:max-line-length\nvar SEARCHBOX_UA_REGEX = /alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/;\nvar SEARCHBOT_OS_REGEX = /(nuhk|curl|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask\\ Jeeves\\/Teoma|ia_archiver)/;\nvar REQUIRED_VERSION_PARTS = 3;\nvar userAgentRules = [\n    ['aol', /AOLShield\\/([0-9\\._]+)/],\n    ['edge', /Edge\\/([0-9\\._]+)/],\n    ['edge-ios', /EdgiOS\\/([0-9\\._]+)/],\n    ['yandexbrowser', /YaBrowser\\/([0-9\\._]+)/],\n    ['kakaotalk', /KAKAOTALK\\s([0-9\\.]+)/],\n    ['samsung', /SamsungBrowser\\/([0-9\\.]+)/],\n    ['silk', /\\bSilk\\/([0-9._-]+)\\b/],\n    ['miui', /MiuiBrowser\\/([0-9\\.]+)$/],\n    ['beaker', /BeakerBrowser\\/([0-9\\.]+)/],\n    ['edge-chromium', /EdgA?\\/([0-9\\.]+)/],\n    [\n        'chromium-webview',\n        /(?!Chrom.*OPR)wv\\).*Chrom(?:e|ium)\\/([0-9\\.]+)(:?\\s|$)/,\n    ],\n    ['chrome', /(?!Chrom.*OPR)Chrom(?:e|ium)\\/([0-9\\.]+)(:?\\s|$)/],\n    ['phantomjs', /PhantomJS\\/([0-9\\.]+)(:?\\s|$)/],\n    ['crios', /CriOS\\/([0-9\\.]+)(:?\\s|$)/],\n    ['firefox', /Firefox\\/([0-9\\.]+)(?:\\s|$)/],\n    ['fxios', /FxiOS\\/([0-9\\.]+)/],\n    ['opera-mini', /Opera Mini.*Version\\/([0-9\\.]+)/],\n    ['opera', /Opera\\/([0-9\\.]+)(?:\\s|$)/],\n    ['opera', /OPR\\/([0-9\\.]+)(:?\\s|$)/],\n    ['pie', /^Microsoft Pocket Internet Explorer\\/(\\d+\\.\\d+)$/],\n    ['pie', /^Mozilla\\/\\d\\.\\d+\\s\\(compatible;\\s(?:MSP?IE|MSInternet Explorer) (\\d+\\.\\d+);.*Windows CE.*\\)$/],\n    ['netfront', /^Mozilla\\/\\d\\.\\d+.*NetFront\\/(\\d.\\d)/],\n    ['ie', /Trident\\/7\\.0.*rv\\:([0-9\\.]+).*\\).*Gecko$/],\n    ['ie', /MSIE\\s([0-9\\.]+);.*Trident\\/[4-7].0/],\n    ['ie', /MSIE\\s(7\\.0)/],\n    ['bb10', /BB10;\\sTouch.*Version\\/([0-9\\.]+)/],\n    ['android', /Android\\s([0-9\\.]+)/],\n    ['ios', /Version\\/([0-9\\._]+).*Mobile.*Safari.*/],\n    ['safari', /Version\\/([0-9\\._]+).*Safari/],\n    ['facebook', /FB[AS]V\\/([0-9\\.]+)/],\n    ['instagram', /Instagram\\s([0-9\\.]+)/],\n    ['ios-webview', /AppleWebKit\\/([0-9\\.]+).*Mobile/],\n    ['ios-webview', /AppleWebKit\\/([0-9\\.]+).*Gecko\\)$/],\n    ['curl', /^curl\\/([0-9\\.]+)$/],\n    ['searchbot', SEARCHBOX_UA_REGEX],\n];\nvar operatingSystemRules = [\n    ['iOS', /iP(hone|od|ad)/],\n    ['Android OS', /Android/],\n    ['BlackBerry OS', /BlackBerry|BB10/],\n    ['Windows Mobile', /IEMobile/],\n    ['Amazon OS', /Kindle/],\n    ['Windows 3.11', /Win16/],\n    ['Windows 95', /(Windows 95)|(Win95)|(Windows_95)/],\n    ['Windows 98', /(Windows 98)|(Win98)/],\n    ['Windows 2000', /(Windows NT 5.0)|(Windows 2000)/],\n    ['Windows XP', /(Windows NT 5.1)|(Windows XP)/],\n    ['Windows Server 2003', /(Windows NT 5.2)/],\n    ['Windows Vista', /(Windows NT 6.0)/],\n    ['Windows 7', /(Windows NT 6.1)/],\n    ['Windows 8', /(Windows NT 6.2)/],\n    ['Windows 8.1', /(Windows NT 6.3)/],\n    ['Windows 10', /(Windows NT 10.0)/],\n    ['Windows ME', /Windows ME/],\n    ['Windows CE', /Windows CE|WinCE|Microsoft Pocket Internet Explorer/],\n    ['Open BSD', /OpenBSD/],\n    ['Sun OS', /SunOS/],\n    ['Chrome OS', /CrOS/],\n    ['Linux', /(Linux)|(X11)/],\n    ['Mac OS', /(Mac_PowerPC)|(Macintosh)/],\n    ['QNX', /QNX/],\n    ['BeOS', /BeOS/],\n    ['OS/2', /OS\\/2/],\n];\nexport function detect(userAgent) {\n    if (!!userAgent) {\n        return parseUserAgent(userAgent);\n    }\n    if (typeof document === 'undefined' &&\n        typeof navigator !== 'undefined' &&\n        navigator.product === 'ReactNative') {\n        return new ReactNativeInfo();\n    }\n    if (typeof navigator !== 'undefined') {\n        return parseUserAgent(navigator.userAgent);\n    }\n    return getNodeVersion();\n}\nfunction matchUserAgent(ua) {\n    // opted for using reduce here rather than Array#first with a regex.test call\n    // this is primarily because using the reduce we only perform the regex\n    // execution once rather than once for the test and for the exec again below\n    // probably something that needs to be benchmarked though\n    return (ua !== '' &&\n        userAgentRules.reduce(function (matched, _a) {\n            var browser = _a[0], regex = _a[1];\n            if (matched) {\n                return matched;\n            }\n            var uaMatch = regex.exec(ua);\n            return !!uaMatch && [browser, uaMatch];\n        }, false));\n}\nexport function browserName(ua) {\n    var data = matchUserAgent(ua);\n    return data ? data[0] : null;\n}\nexport function parseUserAgent(ua) {\n    var matchedRule = matchUserAgent(ua);\n    if (!matchedRule) {\n        return null;\n    }\n    var name = matchedRule[0], match = matchedRule[1];\n    if (name === 'searchbot') {\n        return new BotInfo();\n    }\n    // Do not use RegExp for split operation as some browser do not support it (See: http://blog.stevenlevithan.com/archives/cross-browser-split)\n    var versionParts = match[1] && match[1].split('.').join('_').split('_').slice(0, 3);\n    if (versionParts) {\n        if (versionParts.length < REQUIRED_VERSION_PARTS) {\n            versionParts = __spreadArray(__spreadArray([], versionParts, true), createVersionParts(REQUIRED_VERSION_PARTS - versionParts.length), true);\n        }\n    }\n    else {\n        versionParts = [];\n    }\n    var version = versionParts.join('.');\n    var os = detectOS(ua);\n    var searchBotMatch = SEARCHBOT_OS_REGEX.exec(ua);\n    if (searchBotMatch && searchBotMatch[1]) {\n        return new SearchBotDeviceInfo(name, version, os, searchBotMatch[1]);\n    }\n    return new BrowserInfo(name, version, os);\n}\nexport function detectOS(ua) {\n    for (var ii = 0, count = operatingSystemRules.length; ii < count; ii++) {\n        var _a = operatingSystemRules[ii], os = _a[0], regex = _a[1];\n        var match = regex.exec(ua);\n        if (match) {\n            return os;\n        }\n    }\n    return null;\n}\nexport function getNodeVersion() {\n    var isNode = typeof process !== 'undefined' && process.version;\n    return isNode ? new NodeInfo(process.version.slice(1)) : null;\n}\nfunction createVersionParts(count) {\n    var output = [];\n    for (var ii = 0; ii < count; ii++) {\n        output.push('0');\n    }\n    return output;\n}\n","(function (global, factory) {\n    typeof exports === 'object' && typeof module !== 'undefined' ? factory(exports) :\n    typeof define === 'function' && define.amd ? define(['exports'], factory) :\n    (factory((global.fmin = global.fmin || {})));\n}(this, function (exports) { 'use strict';\n\n    /** finds the zeros of a function, given two starting points (which must\n     * have opposite signs */\n    function bisect(f, a, b, parameters) {\n        parameters = parameters || {};\n        var maxIterations = parameters.maxIterations || 100,\n            tolerance = parameters.tolerance || 1e-10,\n            fA = f(a),\n            fB = f(b),\n            delta = b - a;\n\n        if (fA * fB > 0) {\n            throw \"Initial bisect points must have opposite signs\";\n        }\n\n        if (fA === 0) return a;\n        if (fB === 0) return b;\n\n        for (var i = 0; i < maxIterations; ++i) {\n            delta /= 2;\n            var mid = a + delta,\n                fMid = f(mid);\n\n            if (fMid * fA >= 0) {\n                a = mid;\n            }\n\n            if ((Math.abs(delta) < tolerance) || (fMid === 0)) {\n                return mid;\n            }\n        }\n        return a + delta;\n    }\n\n    // need some basic operations on vectors, rather than adding a dependency,\n    // just define here\n    function zeros(x) { var r = new Array(x); for (var i = 0; i < x; ++i) { r[i] = 0; } return r; }\n    function zerosM(x,y) { return zeros(x).map(function() { return zeros(y); }); }\n\n    function dot(a, b) {\n        var ret = 0;\n        for (var i = 0; i < a.length; ++i) {\n            ret += a[i] * b[i];\n        }\n        return ret;\n    }\n\n    function norm2(a)  {\n        return Math.sqrt(dot(a, a));\n    }\n\n    function scale(ret, value, c) {\n        for (var i = 0; i < value.length; ++i) {\n            ret[i] = value[i] * c;\n        }\n    }\n\n    function weightedSum(ret, w1, v1, w2, v2) {\n        for (var j = 0; j < ret.length; ++j) {\n            ret[j] = w1 * v1[j] + w2 * v2[j];\n        }\n    }\n\n    /** minimizes a function using the downhill simplex method */\n    function nelderMead(f, x0, parameters) {\n        parameters = parameters || {};\n\n        var maxIterations = parameters.maxIterations || x0.length * 200,\n            nonZeroDelta = parameters.nonZeroDelta || 1.05,\n            zeroDelta = parameters.zeroDelta || 0.001,\n            minErrorDelta = parameters.minErrorDelta || 1e-6,\n            minTolerance = parameters.minErrorDelta || 1e-5,\n            rho = (parameters.rho !== undefined) ? parameters.rho : 1,\n            chi = (parameters.chi !== undefined) ? parameters.chi : 2,\n            psi = (parameters.psi !== undefined) ? parameters.psi : -0.5,\n            sigma = (parameters.sigma !== undefined) ? parameters.sigma : 0.5,\n            maxDiff;\n\n        // initialize simplex.\n        var N = x0.length,\n            simplex = new Array(N + 1);\n        simplex[0] = x0;\n        simplex[0].fx = f(x0);\n        simplex[0].id = 0;\n        for (var i = 0; i < N; ++i) {\n            var point = x0.slice();\n            point[i] = point[i] ? point[i] * nonZeroDelta : zeroDelta;\n            simplex[i+1] = point;\n            simplex[i+1].fx = f(point);\n            simplex[i+1].id = i+1;\n        }\n\n        function updateSimplex(value) {\n            for (var i = 0; i < value.length; i++) {\n                simplex[N][i] = value[i];\n            }\n            simplex[N].fx = value.fx;\n        }\n\n        var sortOrder = function(a, b) { return a.fx - b.fx; };\n\n        var centroid = x0.slice(),\n            reflected = x0.slice(),\n            contracted = x0.slice(),\n            expanded = x0.slice();\n\n        for (var iteration = 0; iteration < maxIterations; ++iteration) {\n            simplex.sort(sortOrder);\n\n            if (parameters.history) {\n                // copy the simplex (since later iterations will mutate) and\n                // sort it to have a consistent order between iterations\n                var sortedSimplex = simplex.map(function (x) {\n                    var state = x.slice();\n                    state.fx = x.fx;\n                    state.id = x.id;\n                    return state;\n                });\n                sortedSimplex.sort(function(a,b) { return a.id - b.id; });\n\n                parameters.history.push({x: simplex[0].slice(),\n                                         fx: simplex[0].fx,\n                                         simplex: sortedSimplex});\n            }\n\n            maxDiff = 0;\n            for (i = 0; i < N; ++i) {\n                maxDiff = Math.max(maxDiff, Math.abs(simplex[0][i] - simplex[1][i]));\n            }\n\n            if ((Math.abs(simplex[0].fx - simplex[N].fx) < minErrorDelta) &&\n                (maxDiff < minTolerance)) {\n                break;\n            }\n\n            // compute the centroid of all but the worst point in the simplex\n            for (i = 0; i < N; ++i) {\n                centroid[i] = 0;\n                for (var j = 0; j < N; ++j) {\n                    centroid[i] += simplex[j][i];\n                }\n                centroid[i] /= N;\n            }\n\n            // reflect the worst point past the centroid  and compute loss at reflected\n            // point\n            var worst = simplex[N];\n            weightedSum(reflected, 1+rho, centroid, -rho, worst);\n            reflected.fx = f(reflected);\n\n            // if the reflected point is the best seen, then possibly expand\n            if (reflected.fx < simplex[0].fx) {\n                weightedSum(expanded, 1+chi, centroid, -chi, worst);\n                expanded.fx = f(expanded);\n                if (expanded.fx < reflected.fx) {\n                    updateSimplex(expanded);\n                }  else {\n                    updateSimplex(reflected);\n                }\n            }\n\n            // if the reflected point is worse than the second worst, we need to\n            // contract\n            else if (reflected.fx >= simplex[N-1].fx) {\n                var shouldReduce = false;\n\n                if (reflected.fx > worst.fx) {\n                    // do an inside contraction\n                    weightedSum(contracted, 1+psi, centroid, -psi, worst);\n                    contracted.fx = f(contracted);\n                    if (contracted.fx < worst.fx) {\n                        updateSimplex(contracted);\n                    } else {\n                        shouldReduce = true;\n                    }\n                } else {\n                    // do an outside contraction\n                    weightedSum(contracted, 1-psi * rho, centroid, psi*rho, worst);\n                    contracted.fx = f(contracted);\n                    if (contracted.fx < reflected.fx) {\n                        updateSimplex(contracted);\n                    } else {\n                        shouldReduce = true;\n                    }\n                }\n\n                if (shouldReduce) {\n                    // if we don't contract here, we're done\n                    if (sigma >= 1) break;\n\n                    // do a reduction\n                    for (i = 1; i < simplex.length; ++i) {\n                        weightedSum(simplex[i], 1 - sigma, simplex[0], sigma, simplex[i]);\n                        simplex[i].fx = f(simplex[i]);\n                    }\n                }\n            } else {\n                updateSimplex(reflected);\n            }\n        }\n\n        simplex.sort(sortOrder);\n        return {fx : simplex[0].fx,\n                x : simplex[0]};\n    }\n\n    /// searches along line 'pk' for a point that satifies the wolfe conditions\n    /// See 'Numerical Optimization' by Nocedal and Wright p59-60\n    /// f : objective function\n    /// pk : search direction\n    /// current: object containing current gradient/loss\n    /// next: output: contains next gradient/loss\n    /// returns a: step size taken\n    function wolfeLineSearch(f, pk, current, next, a, c1, c2) {\n        var phi0 = current.fx, phiPrime0 = dot(current.fxprime, pk),\n            phi = phi0, phi_old = phi0,\n            phiPrime = phiPrime0,\n            a0 = 0;\n\n        a = a || 1;\n        c1 = c1 || 1e-6;\n        c2 = c2 || 0.1;\n\n        function zoom(a_lo, a_high, phi_lo) {\n            for (var iteration = 0; iteration < 16; ++iteration) {\n                a = (a_lo + a_high)/2;\n                weightedSum(next.x, 1.0, current.x, a, pk);\n                phi = next.fx = f(next.x, next.fxprime);\n                phiPrime = dot(next.fxprime, pk);\n\n                if ((phi > (phi0 + c1 * a * phiPrime0)) ||\n                    (phi >= phi_lo)) {\n                    a_high = a;\n\n                } else  {\n                    if (Math.abs(phiPrime) <= -c2 * phiPrime0) {\n                        return a;\n                    }\n\n                    if (phiPrime * (a_high - a_lo) >=0) {\n                        a_high = a_lo;\n                    }\n\n                    a_lo = a;\n                    phi_lo = phi;\n                }\n            }\n\n            return 0;\n        }\n\n        for (var iteration = 0; iteration < 10; ++iteration) {\n            weightedSum(next.x, 1.0, current.x, a, pk);\n            phi = next.fx = f(next.x, next.fxprime);\n            phiPrime = dot(next.fxprime, pk);\n            if ((phi > (phi0 + c1 * a * phiPrime0)) ||\n                (iteration && (phi >= phi_old))) {\n                return zoom(a0, a, phi_old);\n            }\n\n            if (Math.abs(phiPrime) <= -c2 * phiPrime0) {\n                return a;\n            }\n\n            if (phiPrime >= 0 ) {\n                return zoom(a, a0, phi);\n            }\n\n            phi_old = phi;\n            a0 = a;\n            a *= 2;\n        }\n\n        return a;\n    }\n\n    function conjugateGradient(f, initial, params) {\n        // allocate all memory up front here, keep out of the loop for perfomance\n        // reasons\n        var current = {x: initial.slice(), fx: 0, fxprime: initial.slice()},\n            next = {x: initial.slice(), fx: 0, fxprime: initial.slice()},\n            yk = initial.slice(),\n            pk, temp,\n            a = 1,\n            maxIterations;\n\n        params = params || {};\n        maxIterations = params.maxIterations || initial.length * 20;\n\n        current.fx = f(current.x, current.fxprime);\n        pk = current.fxprime.slice();\n        scale(pk, current.fxprime,-1);\n\n        for (var i = 0; i < maxIterations; ++i) {\n            a = wolfeLineSearch(f, pk, current, next, a);\n\n            // todo: history in wrong spot?\n            if (params.history) {\n                params.history.push({x: current.x.slice(),\n                                     fx: current.fx,\n                                     fxprime: current.fxprime.slice(),\n                                     alpha: a});\n            }\n\n            if (!a) {\n                // faiiled to find point that satifies wolfe conditions.\n                // reset direction for next iteration\n                scale(pk, current.fxprime, -1);\n\n            } else {\n                // update direction using PolakRibiere CG method\n                weightedSum(yk, 1, next.fxprime, -1, current.fxprime);\n\n                var delta_k = dot(current.fxprime, current.fxprime),\n                    beta_k = Math.max(0, dot(yk, next.fxprime) / delta_k);\n\n                weightedSum(pk, beta_k, pk, -1, next.fxprime);\n\n                temp = current;\n                current = next;\n                next = temp;\n            }\n\n            if (norm2(current.fxprime) <= 1e-5) {\n                break;\n            }\n        }\n\n        if (params.history) {\n            params.history.push({x: current.x.slice(),\n                                 fx: current.fx,\n                                 fxprime: current.fxprime.slice(),\n                                 alpha: a});\n        }\n\n        return current;\n    }\n\n    function gradientDescent(f, initial, params) {\n        params = params || {};\n        var maxIterations = params.maxIterations || initial.length * 100,\n            learnRate = params.learnRate || 0.001,\n            current = {x: initial.slice(), fx: 0, fxprime: initial.slice()};\n\n        for (var i = 0; i < maxIterations; ++i) {\n            current.fx = f(current.x, current.fxprime);\n            if (params.history) {\n                params.history.push({x: current.x.slice(),\n                                     fx: current.fx,\n                                     fxprime: current.fxprime.slice()});\n            }\n\n            weightedSum(current.x, 1, current.x, -learnRate, current.fxprime);\n            if (norm2(current.fxprime) <= 1e-5) {\n                break;\n            }\n        }\n\n        return current;\n    }\n\n    function gradientDescentLineSearch(f, initial, params) {\n        params = params || {};\n        var current = {x: initial.slice(), fx: 0, fxprime: initial.slice()},\n            next = {x: initial.slice(), fx: 0, fxprime: initial.slice()},\n            maxIterations = params.maxIterations || initial.length * 100,\n            learnRate = params.learnRate || 1,\n            pk = initial.slice(),\n            c1 = params.c1 || 1e-3,\n            c2 = params.c2 || 0.1,\n            temp,\n            functionCalls = [];\n\n        if (params.history) {\n            // wrap the function call to track linesearch samples\n            var inner = f;\n            f = function(x, fxprime) {\n                functionCalls.push(x.slice());\n                return inner(x, fxprime);\n            };\n        }\n\n        current.fx = f(current.x, current.fxprime);\n        for (var i = 0; i < maxIterations; ++i) {\n            scale(pk, current.fxprime, -1);\n            learnRate = wolfeLineSearch(f, pk, current, next, learnRate, c1, c2);\n\n            if (params.history) {\n                params.history.push({x: current.x.slice(),\n                                     fx: current.fx,\n                                     fxprime: current.fxprime.slice(),\n                                     functionCalls: functionCalls,\n                                     learnRate: learnRate,\n                                     alpha: learnRate});\n                functionCalls = [];\n            }\n\n\n            temp = current;\n            current = next;\n            next = temp;\n\n            if ((learnRate === 0) || (norm2(current.fxprime) < 1e-5)) break;\n        }\n\n        return current;\n    }\n\n    exports.bisect = bisect;\n    exports.nelderMead = nelderMead;\n    exports.conjugateGradient = conjugateGradient;\n    exports.gradientDescent = gradientDescent;\n    exports.gradientDescentLineSearch = gradientDescentLineSearch;\n    exports.zeros = zeros;\n    exports.zerosM = zerosM;\n    exports.norm2 = norm2;\n    exports.weightedSum = weightedSum;\n    exports.scale = scale;\n\n}));","/**\n * Common utilities\n * @module glMatrix\n */\n// Configuration Constants\nexport var EPSILON = 0.000001;\nexport var ARRAY_TYPE = typeof Float32Array !== 'undefined' ? Float32Array : Array;\nexport var RANDOM = Math.random;\n/**\n * Sets the type of array used when creating new vectors and matrices\n *\n * @param {Float32ArrayConstructor | ArrayConstructor} type Array type, such as Float32Array or Array\n */\n\nexport function setMatrixArrayType(type) {\n  ARRAY_TYPE = type;\n}\nvar degree = Math.PI / 180;\n/**\n * Convert Degree To Radian\n *\n * @param {Number} a Angle in Degrees\n */\n\nexport function toRadian(a) {\n  return a * degree;\n}\n/**\n * Tests whether or not the arguments have approximately the same value, within an absolute\n * or relative tolerance of glMatrix.EPSILON (an absolute tolerance is used for values less\n * than or equal to 1.0, and a relative tolerance is used for larger values)\n *\n * @param {Number} a The first number to test.\n * @param {Number} b The second number to test.\n * @returns {Boolean} True if the numbers are approximately equal, false otherwise.\n */\n\nexport function equals(a, b) {\n  return Math.abs(a - b) <= EPSILON * Math.max(1.0, Math.abs(a), Math.abs(b));\n}\nif (!Math.hypot) Math.hypot = function () {\n  var y = 0,\n      i = arguments.length;\n\n  while (i--) {\n    y += arguments[i] * arguments[i];\n  }\n\n  return Math.sqrt(y);\n};","import * as glMatrix from \"./common.js\";\n/**\n * 3x3 Matrix\n * @module mat3\n */\n\n/**\n * Creates a new identity mat3\n *\n * @returns {mat3} a new 3x3 matrix\n */\n\nexport function create() {\n  var out = new glMatrix.ARRAY_TYPE(9);\n\n  if (glMatrix.ARRAY_TYPE != Float32Array) {\n    out[1] = 0;\n    out[2] = 0;\n    out[3] = 0;\n    out[5] = 0;\n    out[6] = 0;\n    out[7] = 0;\n  }\n\n  out[0] = 1;\n  out[4] = 1;\n  out[8] = 1;\n  return out;\n}\n/**\n * Copies the upper-left 3x3 values into the given mat3.\n *\n * @param {mat3} out the receiving 3x3 matrix\n * @param {ReadonlyMat4} a   the source 4x4 matrix\n * @returns {mat3} out\n */\n\nexport function fromMat4(out, a) {\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  out[3] = a[4];\n  out[4] = a[5];\n  out[5] = a[6];\n  out[6] = a[8];\n  out[7] = a[9];\n  out[8] = a[10];\n  return out;\n}\n/**\n * Creates a new mat3 initialized with values from an existing matrix\n *\n * @param {ReadonlyMat3} a matrix to clone\n * @returns {mat3} a new 3x3 matrix\n */\n\nexport function clone(a) {\n  var out = new glMatrix.ARRAY_TYPE(9);\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  out[3] = a[3];\n  out[4] = a[4];\n  out[5] = a[5];\n  out[6] = a[6];\n  out[7] = a[7];\n  out[8] = a[8];\n  return out;\n}\n/**\n * Copy the values from one mat3 to another\n *\n * @param {mat3} out the receiving matrix\n * @param {ReadonlyMat3} a the source matrix\n * @returns {mat3} out\n */\n\nexport function copy(out, a) {\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  out[3] = a[3];\n  out[4] = a[4];\n  out[5] = a[5];\n  out[6] = a[6];\n  out[7] = a[7];\n  out[8] = a[8];\n  return out;\n}\n/**\n * Create a new mat3 with the given values\n *\n * @param {Number} m00 Component in column 0, row 0 position (index 0)\n * @param {Number} m01 Component in column 0, row 1 position (index 1)\n * @param {Number} m02 Component in column 0, row 2 position (index 2)\n * @param {Number} m10 Component in column 1, row 0 position (index 3)\n * @param {Number} m11 Component in column 1, row 1 position (index 4)\n * @param {Number} m12 Component in column 1, row 2 position (index 5)\n * @param {Number} m20 Component in column 2, row 0 position (index 6)\n * @param {Number} m21 Component in column 2, row 1 position (index 7)\n * @param {Number} m22 Component in column 2, row 2 position (index 8)\n * @returns {mat3} A new mat3\n */\n\nexport function fromValues(m00, m01, m02, m10, m11, m12, m20, m21, m22) {\n  var out = new glMatrix.ARRAY_TYPE(9);\n  out[0] = m00;\n  out[1] = m01;\n  out[2] = m02;\n  out[3] = m10;\n  out[4] = m11;\n  out[5] = m12;\n  out[6] = m20;\n  out[7] = m21;\n  out[8] = m22;\n  return out;\n}\n/**\n * Set the components of a mat3 to the given values\n *\n * @param {mat3} out the receiving matrix\n * @param {Number} m00 Component in column 0, row 0 position (index 0)\n * @param {Number} m01 Component in column 0, row 1 position (index 1)\n * @param {Number} m02 Component in column 0, row 2 position (index 2)\n * @param {Number} m10 Component in column 1, row 0 position (index 3)\n * @param {Number} m11 Component in column 1, row 1 position (index 4)\n * @param {Number} m12 Component in column 1, row 2 position (index 5)\n * @param {Number} m20 Component in column 2, row 0 position (index 6)\n * @param {Number} m21 Component in column 2, row 1 position (index 7)\n * @param {Number} m22 Component in column 2, row 2 position (index 8)\n * @returns {mat3} out\n */\n\nexport function set(out, m00, m01, m02, m10, m11, m12, m20, m21, m22) {\n  out[0] = m00;\n  out[1] = m01;\n  out[2] = m02;\n  out[3] = m10;\n  out[4] = m11;\n  out[5] = m12;\n  out[6] = m20;\n  out[7] = m21;\n  out[8] = m22;\n  return out;\n}\n/**\n * Set a mat3 to the identity matrix\n *\n * @param {mat3} out the receiving matrix\n * @returns {mat3} out\n */\n\nexport function identity(out) {\n  out[0] = 1;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 1;\n  out[5] = 0;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 1;\n  return out;\n}\n/**\n * Transpose the values of a mat3\n *\n * @param {mat3} out the receiving matrix\n * @param {ReadonlyMat3} a the source matrix\n * @returns {mat3} out\n */\n\nexport function transpose(out, a) {\n  // If we are transposing ourselves we can skip a few steps but have to cache some values\n  if (out === a) {\n    var a01 = a[1],\n        a02 = a[2],\n        a12 = a[5];\n    out[1] = a[3];\n    out[2] = a[6];\n    out[3] = a01;\n    out[5] = a[7];\n    out[6] = a02;\n    out[7] = a12;\n  } else {\n    out[0] = a[0];\n    out[1] = a[3];\n    out[2] = a[6];\n    out[3] = a[1];\n    out[4] = a[4];\n    out[5] = a[7];\n    out[6] = a[2];\n    out[7] = a[5];\n    out[8] = a[8];\n  }\n\n  return out;\n}\n/**\n * Inverts a mat3\n *\n * @param {mat3} out the receiving matrix\n * @param {ReadonlyMat3} a the source matrix\n * @returns {mat3} out\n */\n\nexport function invert(out, a) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2];\n  var a10 = a[3],\n      a11 = a[4],\n      a12 = a[5];\n  var a20 = a[6],\n      a21 = a[7],\n      a22 = a[8];\n  var b01 = a22 * a11 - a12 * a21;\n  var b11 = -a22 * a10 + a12 * a20;\n  var b21 = a21 * a10 - a11 * a20; // Calculate the determinant\n\n  var det = a00 * b01 + a01 * b11 + a02 * b21;\n\n  if (!det) {\n    return null;\n  }\n\n  det = 1.0 / det;\n  out[0] = b01 * det;\n  out[1] = (-a22 * a01 + a02 * a21) * det;\n  out[2] = (a12 * a01 - a02 * a11) * det;\n  out[3] = b11 * det;\n  out[4] = (a22 * a00 - a02 * a20) * det;\n  out[5] = (-a12 * a00 + a02 * a10) * det;\n  out[6] = b21 * det;\n  out[7] = (-a21 * a00 + a01 * a20) * det;\n  out[8] = (a11 * a00 - a01 * a10) * det;\n  return out;\n}\n/**\n * Calculates the adjugate of a mat3\n *\n * @param {mat3} out the receiving matrix\n * @param {ReadonlyMat3} a the source matrix\n * @returns {mat3} out\n */\n\nexport function adjoint(out, a) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2];\n  var a10 = a[3],\n      a11 = a[4],\n      a12 = a[5];\n  var a20 = a[6],\n      a21 = a[7],\n      a22 = a[8];\n  out[0] = a11 * a22 - a12 * a21;\n  out[1] = a02 * a21 - a01 * a22;\n  out[2] = a01 * a12 - a02 * a11;\n  out[3] = a12 * a20 - a10 * a22;\n  out[4] = a00 * a22 - a02 * a20;\n  out[5] = a02 * a10 - a00 * a12;\n  out[6] = a10 * a21 - a11 * a20;\n  out[7] = a01 * a20 - a00 * a21;\n  out[8] = a00 * a11 - a01 * a10;\n  return out;\n}\n/**\n * Calculates the determinant of a mat3\n *\n * @param {ReadonlyMat3} a the source matrix\n * @returns {Number} determinant of a\n */\n\nexport function determinant(a) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2];\n  var a10 = a[3],\n      a11 = a[4],\n      a12 = a[5];\n  var a20 = a[6],\n      a21 = a[7],\n      a22 = a[8];\n  return a00 * (a22 * a11 - a12 * a21) + a01 * (-a22 * a10 + a12 * a20) + a02 * (a21 * a10 - a11 * a20);\n}\n/**\n * Multiplies two mat3's\n *\n * @param {mat3} out the receiving matrix\n * @param {ReadonlyMat3} a the first operand\n * @param {ReadonlyMat3} b the second operand\n * @returns {mat3} out\n */\n\nexport function multiply(out, a, b) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2];\n  var a10 = a[3],\n      a11 = a[4],\n      a12 = a[5];\n  var a20 = a[6],\n      a21 = a[7],\n      a22 = a[8];\n  var b00 = b[0],\n      b01 = b[1],\n      b02 = b[2];\n  var b10 = b[3],\n      b11 = b[4],\n      b12 = b[5];\n  var b20 = b[6],\n      b21 = b[7],\n      b22 = b[8];\n  out[0] = b00 * a00 + b01 * a10 + b02 * a20;\n  out[1] = b00 * a01 + b01 * a11 + b02 * a21;\n  out[2] = b00 * a02 + b01 * a12 + b02 * a22;\n  out[3] = b10 * a00 + b11 * a10 + b12 * a20;\n  out[4] = b10 * a01 + b11 * a11 + b12 * a21;\n  out[5] = b10 * a02 + b11 * a12 + b12 * a22;\n  out[6] = b20 * a00 + b21 * a10 + b22 * a20;\n  out[7] = b20 * a01 + b21 * a11 + b22 * a21;\n  out[8] = b20 * a02 + b21 * a12 + b22 * a22;\n  return out;\n}\n/**\n * Translate a mat3 by the given vector\n *\n * @param {mat3} out the receiving matrix\n * @param {ReadonlyMat3} a the matrix to translate\n * @param {ReadonlyVec2} v vector to translate by\n * @returns {mat3} out\n */\n\nexport function translate(out, a, v) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2],\n      a10 = a[3],\n      a11 = a[4],\n      a12 = a[5],\n      a20 = a[6],\n      a21 = a[7],\n      a22 = a[8],\n      x = v[0],\n      y = v[1];\n  out[0] = a00;\n  out[1] = a01;\n  out[2] = a02;\n  out[3] = a10;\n  out[4] = a11;\n  out[5] = a12;\n  out[6] = x * a00 + y * a10 + a20;\n  out[7] = x * a01 + y * a11 + a21;\n  out[8] = x * a02 + y * a12 + a22;\n  return out;\n}\n/**\n * Rotates a mat3 by the given angle\n *\n * @param {mat3} out the receiving matrix\n * @param {ReadonlyMat3} a the matrix to rotate\n * @param {Number} rad the angle to rotate the matrix by\n * @returns {mat3} out\n */\n\nexport function rotate(out, a, rad) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2],\n      a10 = a[3],\n      a11 = a[4],\n      a12 = a[5],\n      a20 = a[6],\n      a21 = a[7],\n      a22 = a[8],\n      s = Math.sin(rad),\n      c = Math.cos(rad);\n  out[0] = c * a00 + s * a10;\n  out[1] = c * a01 + s * a11;\n  out[2] = c * a02 + s * a12;\n  out[3] = c * a10 - s * a00;\n  out[4] = c * a11 - s * a01;\n  out[5] = c * a12 - s * a02;\n  out[6] = a20;\n  out[7] = a21;\n  out[8] = a22;\n  return out;\n}\n/**\n * Scales the mat3 by the dimensions in the given vec2\n *\n * @param {mat3} out the receiving matrix\n * @param {ReadonlyMat3} a the matrix to rotate\n * @param {ReadonlyVec2} v the vec2 to scale the matrix by\n * @returns {mat3} out\n **/\n\nexport function scale(out, a, v) {\n  var x = v[0],\n      y = v[1];\n  out[0] = x * a[0];\n  out[1] = x * a[1];\n  out[2] = x * a[2];\n  out[3] = y * a[3];\n  out[4] = y * a[4];\n  out[5] = y * a[5];\n  out[6] = a[6];\n  out[7] = a[7];\n  out[8] = a[8];\n  return out;\n}\n/**\n * Creates a matrix from a vector translation\n * This is equivalent to (but much faster than):\n *\n *     mat3.identity(dest);\n *     mat3.translate(dest, dest, vec);\n *\n * @param {mat3} out mat3 receiving operation result\n * @param {ReadonlyVec2} v Translation vector\n * @returns {mat3} out\n */\n\nexport function fromTranslation(out, v) {\n  out[0] = 1;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 1;\n  out[5] = 0;\n  out[6] = v[0];\n  out[7] = v[1];\n  out[8] = 1;\n  return out;\n}\n/**\n * Creates a matrix from a given angle\n * This is equivalent to (but much faster than):\n *\n *     mat3.identity(dest);\n *     mat3.rotate(dest, dest, rad);\n *\n * @param {mat3} out mat3 receiving operation result\n * @param {Number} rad the angle to rotate the matrix by\n * @returns {mat3} out\n */\n\nexport function fromRotation(out, rad) {\n  var s = Math.sin(rad),\n      c = Math.cos(rad);\n  out[0] = c;\n  out[1] = s;\n  out[2] = 0;\n  out[3] = -s;\n  out[4] = c;\n  out[5] = 0;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 1;\n  return out;\n}\n/**\n * Creates a matrix from a vector scaling\n * This is equivalent to (but much faster than):\n *\n *     mat3.identity(dest);\n *     mat3.scale(dest, dest, vec);\n *\n * @param {mat3} out mat3 receiving operation result\n * @param {ReadonlyVec2} v Scaling vector\n * @returns {mat3} out\n */\n\nexport function fromScaling(out, v) {\n  out[0] = v[0];\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = v[1];\n  out[5] = 0;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 1;\n  return out;\n}\n/**\n * Copies the values from a mat2d into a mat3\n *\n * @param {mat3} out the receiving matrix\n * @param {ReadonlyMat2d} a the matrix to copy\n * @returns {mat3} out\n **/\n\nexport function fromMat2d(out, a) {\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = 0;\n  out[3] = a[2];\n  out[4] = a[3];\n  out[5] = 0;\n  out[6] = a[4];\n  out[7] = a[5];\n  out[8] = 1;\n  return out;\n}\n/**\n * Calculates a 3x3 matrix from the given quaternion\n *\n * @param {mat3} out mat3 receiving operation result\n * @param {ReadonlyQuat} q Quaternion to create matrix from\n *\n * @returns {mat3} out\n */\n\nexport function fromQuat(out, q) {\n  var x = q[0],\n      y = q[1],\n      z = q[2],\n      w = q[3];\n  var x2 = x + x;\n  var y2 = y + y;\n  var z2 = z + z;\n  var xx = x * x2;\n  var yx = y * x2;\n  var yy = y * y2;\n  var zx = z * x2;\n  var zy = z * y2;\n  var zz = z * z2;\n  var wx = w * x2;\n  var wy = w * y2;\n  var wz = w * z2;\n  out[0] = 1 - yy - zz;\n  out[3] = yx - wz;\n  out[6] = zx + wy;\n  out[1] = yx + wz;\n  out[4] = 1 - xx - zz;\n  out[7] = zy - wx;\n  out[2] = zx - wy;\n  out[5] = zy + wx;\n  out[8] = 1 - xx - yy;\n  return out;\n}\n/**\n * Calculates a 3x3 normal matrix (transpose inverse) from the 4x4 matrix\n *\n * @param {mat3} out mat3 receiving operation result\n * @param {ReadonlyMat4} a Mat4 to derive the normal matrix from\n *\n * @returns {mat3} out\n */\n\nexport function normalFromMat4(out, a) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2],\n      a03 = a[3];\n  var a10 = a[4],\n      a11 = a[5],\n      a12 = a[6],\n      a13 = a[7];\n  var a20 = a[8],\n      a21 = a[9],\n      a22 = a[10],\n      a23 = a[11];\n  var a30 = a[12],\n      a31 = a[13],\n      a32 = a[14],\n      a33 = a[15];\n  var b00 = a00 * a11 - a01 * a10;\n  var b01 = a00 * a12 - a02 * a10;\n  var b02 = a00 * a13 - a03 * a10;\n  var b03 = a01 * a12 - a02 * a11;\n  var b04 = a01 * a13 - a03 * a11;\n  var b05 = a02 * a13 - a03 * a12;\n  var b06 = a20 * a31 - a21 * a30;\n  var b07 = a20 * a32 - a22 * a30;\n  var b08 = a20 * a33 - a23 * a30;\n  var b09 = a21 * a32 - a22 * a31;\n  var b10 = a21 * a33 - a23 * a31;\n  var b11 = a22 * a33 - a23 * a32; // Calculate the determinant\n\n  var det = b00 * b11 - b01 * b10 + b02 * b09 + b03 * b08 - b04 * b07 + b05 * b06;\n\n  if (!det) {\n    return null;\n  }\n\n  det = 1.0 / det;\n  out[0] = (a11 * b11 - a12 * b10 + a13 * b09) * det;\n  out[1] = (a12 * b08 - a10 * b11 - a13 * b07) * det;\n  out[2] = (a10 * b10 - a11 * b08 + a13 * b06) * det;\n  out[3] = (a02 * b10 - a01 * b11 - a03 * b09) * det;\n  out[4] = (a00 * b11 - a02 * b08 + a03 * b07) * det;\n  out[5] = (a01 * b08 - a00 * b10 - a03 * b06) * det;\n  out[6] = (a31 * b05 - a32 * b04 + a33 * b03) * det;\n  out[7] = (a32 * b02 - a30 * b05 - a33 * b01) * det;\n  out[8] = (a30 * b04 - a31 * b02 + a33 * b00) * det;\n  return out;\n}\n/**\n * Generates a 2D projection matrix with the given bounds\n *\n * @param {mat3} out mat3 frustum matrix will be written into\n * @param {number} width Width of your gl context\n * @param {number} height Height of gl context\n * @returns {mat3} out\n */\n\nexport function projection(out, width, height) {\n  out[0] = 2 / width;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = -2 / height;\n  out[5] = 0;\n  out[6] = -1;\n  out[7] = 1;\n  out[8] = 1;\n  return out;\n}\n/**\n * Returns a string representation of a mat3\n *\n * @param {ReadonlyMat3} a matrix to represent as a string\n * @returns {String} string representation of the matrix\n */\n\nexport function str(a) {\n  return \"mat3(\" + a[0] + \", \" + a[1] + \", \" + a[2] + \", \" + a[3] + \", \" + a[4] + \", \" + a[5] + \", \" + a[6] + \", \" + a[7] + \", \" + a[8] + \")\";\n}\n/**\n * Returns Frobenius norm of a mat3\n *\n * @param {ReadonlyMat3} a the matrix to calculate Frobenius norm of\n * @returns {Number} Frobenius norm\n */\n\nexport function frob(a) {\n  return Math.hypot(a[0], a[1], a[2], a[3], a[4], a[5], a[6], a[7], a[8]);\n}\n/**\n * Adds two mat3's\n *\n * @param {mat3} out the receiving matrix\n * @param {ReadonlyMat3} a the first operand\n * @param {ReadonlyMat3} b the second operand\n * @returns {mat3} out\n */\n\nexport function add(out, a, b) {\n  out[0] = a[0] + b[0];\n  out[1] = a[1] + b[1];\n  out[2] = a[2] + b[2];\n  out[3] = a[3] + b[3];\n  out[4] = a[4] + b[4];\n  out[5] = a[5] + b[5];\n  out[6] = a[6] + b[6];\n  out[7] = a[7] + b[7];\n  out[8] = a[8] + b[8];\n  return out;\n}\n/**\n * Subtracts matrix b from matrix a\n *\n * @param {mat3} out the receiving matrix\n * @param {ReadonlyMat3} a the first operand\n * @param {ReadonlyMat3} b the second operand\n * @returns {mat3} out\n */\n\nexport function subtract(out, a, b) {\n  out[0] = a[0] - b[0];\n  out[1] = a[1] - b[1];\n  out[2] = a[2] - b[2];\n  out[3] = a[3] - b[3];\n  out[4] = a[4] - b[4];\n  out[5] = a[5] - b[5];\n  out[6] = a[6] - b[6];\n  out[7] = a[7] - b[7];\n  out[8] = a[8] - b[8];\n  return out;\n}\n/**\n * Multiply each element of the matrix by a scalar.\n *\n * @param {mat3} out the receiving matrix\n * @param {ReadonlyMat3} a the matrix to scale\n * @param {Number} b amount to scale the matrix's elements by\n * @returns {mat3} out\n */\n\nexport function multiplyScalar(out, a, b) {\n  out[0] = a[0] * b;\n  out[1] = a[1] * b;\n  out[2] = a[2] * b;\n  out[3] = a[3] * b;\n  out[4] = a[4] * b;\n  out[5] = a[5] * b;\n  out[6] = a[6] * b;\n  out[7] = a[7] * b;\n  out[8] = a[8] * b;\n  return out;\n}\n/**\n * Adds two mat3's after multiplying each element of the second operand by a scalar value.\n *\n * @param {mat3} out the receiving vector\n * @param {ReadonlyMat3} a the first operand\n * @param {ReadonlyMat3} b the second operand\n * @param {Number} scale the amount to scale b's elements by before adding\n * @returns {mat3} out\n */\n\nexport function multiplyScalarAndAdd(out, a, b, scale) {\n  out[0] = a[0] + b[0] * scale;\n  out[1] = a[1] + b[1] * scale;\n  out[2] = a[2] + b[2] * scale;\n  out[3] = a[3] + b[3] * scale;\n  out[4] = a[4] + b[4] * scale;\n  out[5] = a[5] + b[5] * scale;\n  out[6] = a[6] + b[6] * scale;\n  out[7] = a[7] + b[7] * scale;\n  out[8] = a[8] + b[8] * scale;\n  return out;\n}\n/**\n * Returns whether or not the matrices have exactly the same elements in the same position (when compared with ===)\n *\n * @param {ReadonlyMat3} a The first matrix.\n * @param {ReadonlyMat3} b The second matrix.\n * @returns {Boolean} True if the matrices are equal, false otherwise.\n */\n\nexport function exactEquals(a, b) {\n  return a[0] === b[0] && a[1] === b[1] && a[2] === b[2] && a[3] === b[3] && a[4] === b[4] && a[5] === b[5] && a[6] === b[6] && a[7] === b[7] && a[8] === b[8];\n}\n/**\n * Returns whether or not the matrices have approximately the same elements in the same position.\n *\n * @param {ReadonlyMat3} a The first matrix.\n * @param {ReadonlyMat3} b The second matrix.\n * @returns {Boolean} True if the matrices are equal, false otherwise.\n */\n\nexport function equals(a, b) {\n  var a0 = a[0],\n      a1 = a[1],\n      a2 = a[2],\n      a3 = a[3],\n      a4 = a[4],\n      a5 = a[5],\n      a6 = a[6],\n      a7 = a[7],\n      a8 = a[8];\n  var b0 = b[0],\n      b1 = b[1],\n      b2 = b[2],\n      b3 = b[3],\n      b4 = b[4],\n      b5 = b[5],\n      b6 = b[6],\n      b7 = b[7],\n      b8 = b[8];\n  return Math.abs(a0 - b0) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a0), Math.abs(b0)) && Math.abs(a1 - b1) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a1), Math.abs(b1)) && Math.abs(a2 - b2) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a2), Math.abs(b2)) && Math.abs(a3 - b3) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a3), Math.abs(b3)) && Math.abs(a4 - b4) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a4), Math.abs(b4)) && Math.abs(a5 - b5) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a5), Math.abs(b5)) && Math.abs(a6 - b6) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a6), Math.abs(b6)) && Math.abs(a7 - b7) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a7), Math.abs(b7)) && Math.abs(a8 - b8) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a8), Math.abs(b8));\n}\n/**\n * Alias for {@link mat3.multiply}\n * @function\n */\n\nexport var mul = multiply;\n/**\n * Alias for {@link mat3.subtract}\n * @function\n */\n\nexport var sub = subtract;","import * as glMatrix from \"./common.js\";\n/**\n * 2 Dimensional Vector\n * @module vec2\n */\n\n/**\n * Creates a new, empty vec2\n *\n * @returns {vec2} a new 2D vector\n */\n\nexport function create() {\n  var out = new glMatrix.ARRAY_TYPE(2);\n\n  if (glMatrix.ARRAY_TYPE != Float32Array) {\n    out[0] = 0;\n    out[1] = 0;\n  }\n\n  return out;\n}\n/**\n * Creates a new vec2 initialized with values from an existing vector\n *\n * @param {ReadonlyVec2} a vector to clone\n * @returns {vec2} a new 2D vector\n */\n\nexport function clone(a) {\n  var out = new glMatrix.ARRAY_TYPE(2);\n  out[0] = a[0];\n  out[1] = a[1];\n  return out;\n}\n/**\n * Creates a new vec2 initialized with the given values\n *\n * @param {Number} x X component\n * @param {Number} y Y component\n * @returns {vec2} a new 2D vector\n */\n\nexport function fromValues(x, y) {\n  var out = new glMatrix.ARRAY_TYPE(2);\n  out[0] = x;\n  out[1] = y;\n  return out;\n}\n/**\n * Copy the values from one vec2 to another\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a the source vector\n * @returns {vec2} out\n */\n\nexport function copy(out, a) {\n  out[0] = a[0];\n  out[1] = a[1];\n  return out;\n}\n/**\n * Set the components of a vec2 to the given values\n *\n * @param {vec2} out the receiving vector\n * @param {Number} x X component\n * @param {Number} y Y component\n * @returns {vec2} out\n */\n\nexport function set(out, x, y) {\n  out[0] = x;\n  out[1] = y;\n  return out;\n}\n/**\n * Adds two vec2's\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a the first operand\n * @param {ReadonlyVec2} b the second operand\n * @returns {vec2} out\n */\n\nexport function add(out, a, b) {\n  out[0] = a[0] + b[0];\n  out[1] = a[1] + b[1];\n  return out;\n}\n/**\n * Subtracts vector b from vector a\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a the first operand\n * @param {ReadonlyVec2} b the second operand\n * @returns {vec2} out\n */\n\nexport function subtract(out, a, b) {\n  out[0] = a[0] - b[0];\n  out[1] = a[1] - b[1];\n  return out;\n}\n/**\n * Multiplies two vec2's\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a the first operand\n * @param {ReadonlyVec2} b the second operand\n * @returns {vec2} out\n */\n\nexport function multiply(out, a, b) {\n  out[0] = a[0] * b[0];\n  out[1] = a[1] * b[1];\n  return out;\n}\n/**\n * Divides two vec2's\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a the first operand\n * @param {ReadonlyVec2} b the second operand\n * @returns {vec2} out\n */\n\nexport function divide(out, a, b) {\n  out[0] = a[0] / b[0];\n  out[1] = a[1] / b[1];\n  return out;\n}\n/**\n * Math.ceil the components of a vec2\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a vector to ceil\n * @returns {vec2} out\n */\n\nexport function ceil(out, a) {\n  out[0] = Math.ceil(a[0]);\n  out[1] = Math.ceil(a[1]);\n  return out;\n}\n/**\n * Math.floor the components of a vec2\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a vector to floor\n * @returns {vec2} out\n */\n\nexport function floor(out, a) {\n  out[0] = Math.floor(a[0]);\n  out[1] = Math.floor(a[1]);\n  return out;\n}\n/**\n * Returns the minimum of two vec2's\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a the first operand\n * @param {ReadonlyVec2} b the second operand\n * @returns {vec2} out\n */\n\nexport function min(out, a, b) {\n  out[0] = Math.min(a[0], b[0]);\n  out[1] = Math.min(a[1], b[1]);\n  return out;\n}\n/**\n * Returns the maximum of two vec2's\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a the first operand\n * @param {ReadonlyVec2} b the second operand\n * @returns {vec2} out\n */\n\nexport function max(out, a, b) {\n  out[0] = Math.max(a[0], b[0]);\n  out[1] = Math.max(a[1], b[1]);\n  return out;\n}\n/**\n * Math.round the components of a vec2\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a vector to round\n * @returns {vec2} out\n */\n\nexport function round(out, a) {\n  out[0] = Math.round(a[0]);\n  out[1] = Math.round(a[1]);\n  return out;\n}\n/**\n * Scales a vec2 by a scalar number\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a the vector to scale\n * @param {Number} b amount to scale the vector by\n * @returns {vec2} out\n */\n\nexport function scale(out, a, b) {\n  out[0] = a[0] * b;\n  out[1] = a[1] * b;\n  return out;\n}\n/**\n * Adds two vec2's after scaling the second operand by a scalar value\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a the first operand\n * @param {ReadonlyVec2} b the second operand\n * @param {Number} scale the amount to scale b by before adding\n * @returns {vec2} out\n */\n\nexport function scaleAndAdd(out, a, b, scale) {\n  out[0] = a[0] + b[0] * scale;\n  out[1] = a[1] + b[1] * scale;\n  return out;\n}\n/**\n * Calculates the euclidian distance between two vec2's\n *\n * @param {ReadonlyVec2} a the first operand\n * @param {ReadonlyVec2} b the second operand\n * @returns {Number} distance between a and b\n */\n\nexport function distance(a, b) {\n  var x = b[0] - a[0],\n      y = b[1] - a[1];\n  return Math.hypot(x, y);\n}\n/**\n * Calculates the squared euclidian distance between two vec2's\n *\n * @param {ReadonlyVec2} a the first operand\n * @param {ReadonlyVec2} b the second operand\n * @returns {Number} squared distance between a and b\n */\n\nexport function squaredDistance(a, b) {\n  var x = b[0] - a[0],\n      y = b[1] - a[1];\n  return x * x + y * y;\n}\n/**\n * Calculates the length of a vec2\n *\n * @param {ReadonlyVec2} a vector to calculate length of\n * @returns {Number} length of a\n */\n\nexport function length(a) {\n  var x = a[0],\n      y = a[1];\n  return Math.hypot(x, y);\n}\n/**\n * Calculates the squared length of a vec2\n *\n * @param {ReadonlyVec2} a vector to calculate squared length of\n * @returns {Number} squared length of a\n */\n\nexport function squaredLength(a) {\n  var x = a[0],\n      y = a[1];\n  return x * x + y * y;\n}\n/**\n * Negates the components of a vec2\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a vector to negate\n * @returns {vec2} out\n */\n\nexport function negate(out, a) {\n  out[0] = -a[0];\n  out[1] = -a[1];\n  return out;\n}\n/**\n * Returns the inverse of the components of a vec2\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a vector to invert\n * @returns {vec2} out\n */\n\nexport function inverse(out, a) {\n  out[0] = 1.0 / a[0];\n  out[1] = 1.0 / a[1];\n  return out;\n}\n/**\n * Normalize a vec2\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a vector to normalize\n * @returns {vec2} out\n */\n\nexport function normalize(out, a) {\n  var x = a[0],\n      y = a[1];\n  var len = x * x + y * y;\n\n  if (len > 0) {\n    //TODO: evaluate use of glm_invsqrt here?\n    len = 1 / Math.sqrt(len);\n  }\n\n  out[0] = a[0] * len;\n  out[1] = a[1] * len;\n  return out;\n}\n/**\n * Calculates the dot product of two vec2's\n *\n * @param {ReadonlyVec2} a the first operand\n * @param {ReadonlyVec2} b the second operand\n * @returns {Number} dot product of a and b\n */\n\nexport function dot(a, b) {\n  return a[0] * b[0] + a[1] * b[1];\n}\n/**\n * Computes the cross product of two vec2's\n * Note that the cross product must by definition produce a 3D vector\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec2} a the first operand\n * @param {ReadonlyVec2} b the second operand\n * @returns {vec3} out\n */\n\nexport function cross(out, a, b) {\n  var z = a[0] * b[1] - a[1] * b[0];\n  out[0] = out[1] = 0;\n  out[2] = z;\n  return out;\n}\n/**\n * Performs a linear interpolation between two vec2's\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a the first operand\n * @param {ReadonlyVec2} b the second operand\n * @param {Number} t interpolation amount, in the range [0-1], between the two inputs\n * @returns {vec2} out\n */\n\nexport function lerp(out, a, b, t) {\n  var ax = a[0],\n      ay = a[1];\n  out[0] = ax + t * (b[0] - ax);\n  out[1] = ay + t * (b[1] - ay);\n  return out;\n}\n/**\n * Generates a random vector with the given scale\n *\n * @param {vec2} out the receiving vector\n * @param {Number} [scale] Length of the resulting vector. If ommitted, a unit vector will be returned\n * @returns {vec2} out\n */\n\nexport function random(out, scale) {\n  scale = scale || 1.0;\n  var r = glMatrix.RANDOM() * 2.0 * Math.PI;\n  out[0] = Math.cos(r) * scale;\n  out[1] = Math.sin(r) * scale;\n  return out;\n}\n/**\n * Transforms the vec2 with a mat2\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a the vector to transform\n * @param {ReadonlyMat2} m matrix to transform with\n * @returns {vec2} out\n */\n\nexport function transformMat2(out, a, m) {\n  var x = a[0],\n      y = a[1];\n  out[0] = m[0] * x + m[2] * y;\n  out[1] = m[1] * x + m[3] * y;\n  return out;\n}\n/**\n * Transforms the vec2 with a mat2d\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a the vector to transform\n * @param {ReadonlyMat2d} m matrix to transform with\n * @returns {vec2} out\n */\n\nexport function transformMat2d(out, a, m) {\n  var x = a[0],\n      y = a[1];\n  out[0] = m[0] * x + m[2] * y + m[4];\n  out[1] = m[1] * x + m[3] * y + m[5];\n  return out;\n}\n/**\n * Transforms the vec2 with a mat3\n * 3rd vector component is implicitly '1'\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a the vector to transform\n * @param {ReadonlyMat3} m matrix to transform with\n * @returns {vec2} out\n */\n\nexport function transformMat3(out, a, m) {\n  var x = a[0],\n      y = a[1];\n  out[0] = m[0] * x + m[3] * y + m[6];\n  out[1] = m[1] * x + m[4] * y + m[7];\n  return out;\n}\n/**\n * Transforms the vec2 with a mat4\n * 3rd vector component is implicitly '0'\n * 4th vector component is implicitly '1'\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a the vector to transform\n * @param {ReadonlyMat4} m matrix to transform with\n * @returns {vec2} out\n */\n\nexport function transformMat4(out, a, m) {\n  var x = a[0];\n  var y = a[1];\n  out[0] = m[0] * x + m[4] * y + m[12];\n  out[1] = m[1] * x + m[5] * y + m[13];\n  return out;\n}\n/**\n * Rotate a 2D vector\n * @param {vec2} out The receiving vec2\n * @param {ReadonlyVec2} a The vec2 point to rotate\n * @param {ReadonlyVec2} b The origin of the rotation\n * @param {Number} rad The angle of rotation in radians\n * @returns {vec2} out\n */\n\nexport function rotate(out, a, b, rad) {\n  //Translate point to the origin\n  var p0 = a[0] - b[0],\n      p1 = a[1] - b[1],\n      sinC = Math.sin(rad),\n      cosC = Math.cos(rad); //perform rotation and translate to correct position\n\n  out[0] = p0 * cosC - p1 * sinC + b[0];\n  out[1] = p0 * sinC + p1 * cosC + b[1];\n  return out;\n}\n/**\n * Get the angle between two 2D vectors\n * @param {ReadonlyVec2} a The first operand\n * @param {ReadonlyVec2} b The second operand\n * @returns {Number} The angle in radians\n */\n\nexport function angle(a, b) {\n  var x1 = a[0],\n      y1 = a[1],\n      x2 = b[0],\n      y2 = b[1],\n      // mag is the product of the magnitudes of a and b\n  mag = Math.sqrt(x1 * x1 + y1 * y1) * Math.sqrt(x2 * x2 + y2 * y2),\n      // mag &&.. short circuits if mag == 0\n  cosine = mag && (x1 * x2 + y1 * y2) / mag; // Math.min(Math.max(cosine, -1), 1) clamps the cosine between -1 and 1\n\n  return Math.acos(Math.min(Math.max(cosine, -1), 1));\n}\n/**\n * Set the components of a vec2 to zero\n *\n * @param {vec2} out the receiving vector\n * @returns {vec2} out\n */\n\nexport function zero(out) {\n  out[0] = 0.0;\n  out[1] = 0.0;\n  return out;\n}\n/**\n * Returns a string representation of a vector\n *\n * @param {ReadonlyVec2} a vector to represent as a string\n * @returns {String} string representation of the vector\n */\n\nexport function str(a) {\n  return \"vec2(\" + a[0] + \", \" + a[1] + \")\";\n}\n/**\n * Returns whether or not the vectors exactly have the same elements in the same position (when compared with ===)\n *\n * @param {ReadonlyVec2} a The first vector.\n * @param {ReadonlyVec2} b The second vector.\n * @returns {Boolean} True if the vectors are equal, false otherwise.\n */\n\nexport function exactEquals(a, b) {\n  return a[0] === b[0] && a[1] === b[1];\n}\n/**\n * Returns whether or not the vectors have approximately the same elements in the same position.\n *\n * @param {ReadonlyVec2} a The first vector.\n * @param {ReadonlyVec2} b The second vector.\n * @returns {Boolean} True if the vectors are equal, false otherwise.\n */\n\nexport function equals(a, b) {\n  var a0 = a[0],\n      a1 = a[1];\n  var b0 = b[0],\n      b1 = b[1];\n  return Math.abs(a0 - b0) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a0), Math.abs(b0)) && Math.abs(a1 - b1) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a1), Math.abs(b1));\n}\n/**\n * Alias for {@link vec2.length}\n * @function\n */\n\nexport var len = length;\n/**\n * Alias for {@link vec2.subtract}\n * @function\n */\n\nexport var sub = subtract;\n/**\n * Alias for {@link vec2.multiply}\n * @function\n */\n\nexport var mul = multiply;\n/**\n * Alias for {@link vec2.divide}\n * @function\n */\n\nexport var div = divide;\n/**\n * Alias for {@link vec2.distance}\n * @function\n */\n\nexport var dist = distance;\n/**\n * Alias for {@link vec2.squaredDistance}\n * @function\n */\n\nexport var sqrDist = squaredDistance;\n/**\n * Alias for {@link vec2.squaredLength}\n * @function\n */\n\nexport var sqrLen = squaredLength;\n/**\n * Perform some operation over an array of vec2s.\n *\n * @param {Array} a the array of vectors to iterate over\n * @param {Number} stride Number of elements between the start of each vec2. If 0 assumes tightly packed\n * @param {Number} offset Number of elements to skip at the beginning of the array\n * @param {Number} count Number of vec2s to iterate over. If 0 iterates over entire array\n * @param {Function} fn Function to call for each vector in the array\n * @param {Object} [arg] additional argument to pass to fn\n * @returns {Array} a\n * @function\n */\n\nexport var forEach = function () {\n  var vec = create();\n  return function (a, stride, offset, count, fn, arg) {\n    var i, l;\n\n    if (!stride) {\n      stride = 2;\n    }\n\n    if (!offset) {\n      offset = 0;\n    }\n\n    if (count) {\n      l = Math.min(count * stride + offset, a.length);\n    } else {\n      l = a.length;\n    }\n\n    for (i = offset; i < l; i += stride) {\n      vec[0] = a[i];\n      vec[1] = a[i + 1];\n      fn(vec, vec, arg);\n      a[i] = vec[0];\n      a[i + 1] = vec[1];\n    }\n\n    return a;\n  };\n}();","'use strict';\n\nvar self = module.exports;\n\nmodule.exports.isNumber = function (x) {\n  return (typeof x === 'number');\n};\n\nmodule.exports.findMin = function (arr) {\n  if (arr.length === 0) {\n    return Infinity;\n  }\n\n  var curr = arr[0];\n  for (var i = 1; i < arr.length; i++) {\n    curr = Math.min(curr, arr[i]);\n  }\n  return curr;\n};\n\nmodule.exports.findMax = function (arr) {\n  if (arr.length === 0) {\n    return -Infinity;\n  }\n\n  var curr = arr[0];\n  for (var i = 1; i < arr.length; i++) {\n    curr = Math.max(curr, arr[i]);\n  }\n  return curr;\n};\n\nmodule.exports.findMinMulti = function (arr) {\n  var curr = self.findMin(arr[0]);\n  for (var i = 1; i < arr.length; i++) {\n    curr = Math.min(curr, self.findMin(arr[i]));\n  }\n  return curr;\n};\n\nmodule.exports.findMaxMulti = function (arr) {\n  var curr = self.findMax(arr[0]);\n  for (var i = 1; i < arr.length; i++) {\n    curr = Math.max(curr, self.findMax(arr[i]));\n  }\n  return curr;\n};\n\nmodule.exports.inside = function (min, max, x) {\n  return (min <= x) && (x <= max);\n};\n","'use strict';\n\nvar DEFAULT_SIZE = 50;\nvar DEFAULT_WIDTH = 2;\n\nvar LN_2 = Math.log(2);\nvar self = module.exports;\n\nvar helper = require('./helper');\n\n// Triangle\nfunction kernel(x) {\n  return 1 - Math.abs(x);\n}\n\n/**\n * Get min and max value for the pdf, covering all arr data range while respecting options' data\n * @param arr\n * @param options\n * @returns {*}\n */\nmodule.exports.getUnifiedMinMax = function (arr, options) {\n  return self.getUnifiedMinMaxMulti([arr], options);\n};\n\nmodule.exports.getUnifiedMinMaxMulti = function (arrMulti, options) {\n  options = options || {};\n\n  var relaxMin = false;\n  var relaxMax = false;\n\n  var width = helper.isNumber(options.width) ? options.width : DEFAULT_WIDTH;\n  var size = helper.isNumber(options.size) ? options.size : DEFAULT_SIZE;\n  var min = helper.isNumber(options.min) ? options.min : (relaxMin = true, helper.findMinMulti(arrMulti));\n  var max = helper.isNumber(options.max) ? options.max : (relaxMax = true, helper.findMaxMulti(arrMulti));\n\n  var range = max - min;\n  var step = range / (size - 1);\n\n  // Relax?\n  if (relaxMin) {\n    min = min - 2 * width * step;\n  }\n  if (relaxMax) {\n    max = max + 2 * width * step;\n  }\n\n  return {\n    min: min,\n    max: max\n  };\n};\n\nmodule.exports.create = function (arr, options) {\n  options = options || {};\n\n  if (!arr || (arr.length === 0)) {\n    return [];\n  }\n\n  var size = helper.isNumber(options.size) ? options.size : DEFAULT_SIZE;\n  var width = helper.isNumber(options.width) ? options.width : DEFAULT_WIDTH;\n  var normalizedMinMax = self.getUnifiedMinMax(arr, {\n    size: size,\n    width: width,\n    min: options.min,\n    max: options.max\n  });\n\n  var min = normalizedMinMax.min;\n  var max = normalizedMinMax.max;\n\n  var range = max - min;\n  var step = range / (size - 1);\n  if (range === 0) {\n    // Special case...\n    return [{x: min, y: 1}];\n  }\n\n  // Good to go\n\n  var buckets = [];\n  for (var i = 0; i < size; i++) {\n    buckets.push({\n      x: min + i * step,\n      y: 0\n    });\n  }\n\n  var xToBucket = function (x) {\n    return Math.floor((x - min) / step);\n  };\n\n  var partialArea = generatePartialAreas(kernel, width);\n  var fullArea = partialArea[width];\n  var c = partialArea[width-1] - partialArea[width-2];\n\n  var initalValue = 0;\n  arr.forEach(function (x) {\n    var bucket = xToBucket(x);\n\n    // Totally outside?\n    if ((bucket + width < 0) || (bucket - width >= buckets.length)) {\n      return;\n    }\n\n    var start = Math.max(bucket - width, 0);\n    var mid = bucket;\n    var end = Math.min(bucket + width, buckets.length - 1);\n\n    var leftBlockCount = start - (bucket - width);\n    var rightBlockCount = (bucket + width) - end;\n    var spilledAreaLeft = partialArea[-width-1 + leftBlockCount] || 0;\n    var spilledAreaRight = partialArea[-width-1 + rightBlockCount] || 0;\n    var weight = fullArea / (fullArea - spilledAreaLeft - spilledAreaRight);\n\n    if (leftBlockCount > 0) {\n      initalValue += weight * (leftBlockCount - 1) * c;\n    }\n\n    // Add grads\n    var startGradPos = Math.max(0, bucket-width+1);\n    if (helper.inside(0, buckets.length-1, startGradPos)) {\n      buckets[startGradPos].y += weight * 1 * c;\n    }\n    if (helper.inside(0, buckets.length-1, mid + 1)) {\n      buckets[mid + 1].y -= weight * 2 * c;\n    }\n    if (helper.inside(0, buckets.length-1, end + 1)) {\n      buckets[end + 1].y += weight * 1 * c;\n    }\n  });\n\n  var accumulator = initalValue;\n  var gradAccumulator = 0;\n  var area = 0;\n  buckets.forEach(function (bucket) {\n    gradAccumulator += bucket.y;\n    accumulator += gradAccumulator;\n\n    bucket.y = accumulator;\n    area += accumulator;\n  });\n\n  // Normalize\n  if (area > 0) {\n    buckets.forEach(function (bucket) {\n      bucket.y /= area;\n    });\n  }\n\n  return buckets;\n};\n\nfunction generatePartialAreas(kernel, width) {\n  var partialAreas = {};\n\n  var accumulator = 0;\n  for (var i = -width; i <= width; i++) {\n    accumulator += kernel(i/width);\n    partialAreas[i] = accumulator;\n  }\n\n  return partialAreas;\n}\n\nmodule.exports.getExpectedValueFromPdf = function (pdf) {\n  if (!pdf || (pdf.length === 0)) {\n    return undefined;\n  }\n\n  var expected = 0;\n\n  pdf.forEach(function (obj) {\n    expected += obj.x * obj.y;\n  });\n\n  return expected;\n};\n\nmodule.exports.getXWithLeftTailArea = function (pdf, area) {\n  if (!pdf || (pdf.length === 0)) {\n    return undefined;\n  }\n\n  var accumulator = 0;\n  var last = 0;\n  for (var i = 0; i < pdf.length; i++) {\n    last = i;\n    accumulator += pdf[i].y;\n\n    if (accumulator >= area) {\n      break;\n    }\n  }\n\n  return pdf[last].x;\n};\n\nmodule.exports.getPerplexity = function (pdf) {\n  if (!pdf || (pdf.length === 0)) {\n    return undefined;\n  }\n\n  var entropy = 0;\n  pdf.forEach(function (obj) {\n    var ln = Math.log(obj.y);\n\n    if (isFinite(ln)) {\n      entropy += obj.y * ln;\n    }\n  });\n  entropy = -entropy / LN_2;\n\n  return Math.pow(2, entropy);\n};\n","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.SensorTabIndex = exports.SensorClassName = exports.SizeSensorId = void 0;\n\n/**\n * Created by hustcc on 18/6/9.\n * Contract: i@hust.cc\n */\nvar SizeSensorId = 'size-sensor-id';\nexports.SizeSensorId = SizeSensorId;\nvar SensorClassName = 'size-sensor-object';\nexports.SensorClassName = SensorClassName;\nvar SensorTabIndex = '-1';\nexports.SensorTabIndex = SensorTabIndex;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\n/**\n * Created by hustcc on 18/6/9.\n * Contract: i@hust.cc\n */\nvar _default = function _default(fn) {\n  var delay = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 60;\n  var timer = null;\n  return function () {\n    var _this = this;\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    clearTimeout(timer);\n    timer = setTimeout(function () {\n      fn.apply(_this, args);\n    }, delay);\n  };\n};\n\nexports[\"default\"] = _default;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\n/**\n * Created by hustcc on 18/6/9.\n * Contract: i@hust.cc\n */\nvar id = 1;\n/**\n * generate unique id in application\n * @return {string}\n */\n\nvar _default = function _default() {\n  return \"\".concat(id++);\n};\n\nexports[\"default\"] = _default;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.ver = exports.clear = exports.bind = void 0;\n\nvar _sensorPool = require(\"./sensorPool\");\n\n/**\n * Created by hustcc on 18/6/9.[]\n * Contract: i@hust.cc\n */\n\n/**\n * bind an element with resize callback function\n * @param {*} element\n * @param {*} cb\n */\nvar bind = function bind(element, cb) {\n  var sensor = (0, _sensorPool.getSensor)(element); // listen with callback\n\n  sensor.bind(cb); // return unbind function\n\n  return function () {\n    sensor.unbind(cb);\n  };\n};\n/**\n * clear all the listener and sensor of an element\n * @param element\n */\n\n\nexports.bind = bind;\n\nvar clear = function clear(element) {\n  var sensor = (0, _sensorPool.getSensor)(element);\n  (0, _sensorPool.removeSensor)(sensor);\n};\n\nexports.clear = clear;\nvar ver = \"1.0.1\";\nexports.ver = ver;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.removeSensor = exports.getSensor = void 0;\n\nvar _id = _interopRequireDefault(require(\"./id\"));\n\nvar _sensors = require(\"./sensors\");\n\nvar _constant = require(\"./constant\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\n/**\n * Created by hustcc on 18/6/9.\n * Contract: i@hust.cc\n */\n\n/**\n * all the sensor objects.\n * sensor pool\n */\nvar Sensors = {};\n/**\n * get one sensor\n * @param element\n * @returns {*}\n */\n\nvar getSensor = function getSensor(element) {\n  var sensorId = element.getAttribute(_constant.SizeSensorId); // 1. if the sensor exists, then use it\n\n  if (sensorId && Sensors[sensorId]) {\n    return Sensors[sensorId];\n  } // 2. not exist, then create one\n\n\n  var newId = (0, _id[\"default\"])();\n  element.setAttribute(_constant.SizeSensorId, newId);\n  var sensor = (0, _sensors.createSensor)(element); // add sensor into pool\n\n  Sensors[newId] = sensor;\n  return sensor;\n};\n/**\n *  sensor\n * @param sensor\n */\n\n\nexports.getSensor = getSensor;\n\nvar removeSensor = function removeSensor(sensor) {\n  var sensorId = sensor.element.getAttribute(_constant.SizeSensorId); // remove attribute\n\n  sensor.element.removeAttribute(_constant.SizeSensorId); // remove event, dom of the sensor used\n\n  sensor.destroy(); // exist, then remove from pool\n\n  if (sensorId && Sensors[sensorId]) {\n    delete Sensors[sensorId];\n  }\n};\n\nexports.removeSensor = removeSensor;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.createSensor = void 0;\n\nvar _object = require(\"./object\");\n\nvar _resizeObserver = require(\"./resizeObserver\");\n\n/**\n * Created by hustcc on 18/7/5.\n * Contract: i@hust.cc\n */\n\n/**\n * sensor strategies\n */\n// export const createSensor = createObjectSensor;\nvar createSensor = typeof ResizeObserver !== 'undefined' ? _resizeObserver.createSensor : _object.createSensor;\nexports.createSensor = createSensor;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.createSensor = void 0;\n\nvar _debounce = _interopRequireDefault(require(\"../debounce\"));\n\nvar _constant = require(\"../constant\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\n/**\n * Created by hustcc on 18/6/9.\n * Contract: i@hust.cc\n */\nvar createSensor = function createSensor(element) {\n  var sensor = undefined; // callback\n\n  var listeners = [];\n  /**\n   * create object DOM of sensor\n   * @returns {HTMLObjectElement}\n   */\n\n  var newSensor = function newSensor() {\n    // adjust style\n    if (getComputedStyle(element).position === 'static') {\n      element.style.position = 'relative';\n    }\n\n    var obj = document.createElement('object');\n\n    obj.onload = function () {\n      obj.contentDocument.defaultView.addEventListener('resize', resizeListener); //  resize\n\n      resizeListener();\n    };\n\n    obj.style.display = 'block';\n    obj.style.position = 'absolute';\n    obj.style.top = '0';\n    obj.style.left = '0';\n    obj.style.height = '100%';\n    obj.style.width = '100%';\n    obj.style.overflow = 'hidden';\n    obj.style.pointerEvents = 'none';\n    obj.style.zIndex = '-1';\n    obj.style.opacity = '0';\n    obj.setAttribute('class', _constant.SensorClassName);\n    obj.setAttribute('tabindex', _constant.SensorTabIndex);\n    obj.type = 'text/html'; // append into dom\n\n    element.appendChild(obj); // for ie, should set data attribute delay, or will be white screen\n\n    obj.data = 'about:blank';\n    return obj;\n  };\n  /**\n   * trigger listeners\n   */\n\n\n  var resizeListener = (0, _debounce[\"default\"])(function () {\n    // trigger all listener\n    listeners.forEach(function (listener) {\n      listener(element);\n    });\n  });\n  /**\n   * listen with one callback function\n   * @param cb\n   */\n\n  var bind = function bind(cb) {\n    // if not exist sensor, then create one\n    if (!sensor) {\n      sensor = newSensor();\n    }\n\n    if (listeners.indexOf(cb) === -1) {\n      listeners.push(cb);\n    }\n  };\n  /**\n   * destroy all\n   */\n\n\n  var destroy = function destroy() {\n    if (sensor && sensor.parentNode) {\n      if (sensor.contentDocument) {\n        // remote event\n        sensor.contentDocument.defaultView.removeEventListener('resize', resizeListener);\n      } // remove dom\n\n\n      sensor.parentNode.removeChild(sensor); // initial variable\n\n      sensor = undefined;\n      listeners = [];\n    }\n  };\n  /**\n   * cancel listener bind\n   * @param cb\n   */\n\n\n  var unbind = function unbind(cb) {\n    var idx = listeners.indexOf(cb);\n\n    if (idx !== -1) {\n      listeners.splice(idx, 1);\n    } // no listener, and sensor is exist\n    // then destroy the sensor\n\n\n    if (listeners.length === 0 && sensor) {\n      destroy();\n    }\n  };\n\n  return {\n    element: element,\n    bind: bind,\n    destroy: destroy,\n    unbind: unbind\n  };\n};\n\nexports.createSensor = createSensor;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.createSensor = void 0;\n\nvar _debounce = _interopRequireDefault(require(\"../debounce\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\n/**\n * Created by hustcc on 18/7/5.\n * Contract: i@hust.cc\n */\nvar createSensor = function createSensor(element) {\n  var sensor = undefined; // callback\n\n  var listeners = [];\n  /**\n   * trigger listeners\n   */\n\n  var resizeListener = (0, _debounce[\"default\"])(function () {\n    // trigger all\n    listeners.forEach(function (listener) {\n      listener(element);\n    });\n  });\n  /**\n   * create ResizeObserver sensor\n   * @returns\n   */\n\n  var newSensor = function newSensor() {\n    var s = new ResizeObserver(resizeListener); // listen element\n\n    s.observe(element); // trigger once\n\n    resizeListener();\n    return s;\n  };\n  /**\n   * listen with callback\n   * @param cb\n   */\n\n\n  var bind = function bind(cb) {\n    if (!sensor) {\n      sensor = newSensor();\n    }\n\n    if (listeners.indexOf(cb) === -1) {\n      listeners.push(cb);\n    }\n  };\n  /**\n   * destroy\n   */\n\n\n  var destroy = function destroy() {\n    sensor.disconnect();\n    listeners = [];\n    sensor = undefined;\n  };\n  /**\n   * cancel bind\n   * @param cb\n   */\n\n\n  var unbind = function unbind(cb) {\n    var idx = listeners.indexOf(cb);\n\n    if (idx !== -1) {\n      listeners.splice(idx, 1);\n    } // no listener, and sensor is exist\n    // then destroy the sensor\n\n\n    if (listeners.length === 0 && sensor) {\n      destroy();\n    }\n  };\n\n  return {\n    element: element,\n    bind: bind,\n    destroy: destroy,\n    unbind: unbind\n  };\n};\n\nexports.createSensor = createSensor;","/******************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    if (typeof b !== \"function\" && b !== null)\r\n        throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (g && (g = 0, op[0] && (_ = 0)), _) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport var __createBinding = Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    var desc = Object.getOwnPropertyDescriptor(m, k);\r\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\r\n        desc = { enumerable: true, get: function() { return m[k]; } };\r\n    }\r\n    Object.defineProperty(o, k2, desc);\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n});\r\n\r\nexport function __exportStar(m, o) {\r\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(o, p)) __createBinding(o, m, p);\r\n}\r\n\r\nexport function __values(o) {\r\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\r\n    if (m) return m.call(o);\r\n    if (o && typeof o.length === \"number\") return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\n/** @deprecated */\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\n/** @deprecated */\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n}\r\n\r\nexport function __spreadArray(to, from, pack) {\r\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\r\n        if (ar || !(i in from)) {\r\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\r\n            ar[i] = from[i];\r\n        }\r\n    }\r\n    return to.concat(ar || Array.prototype.slice.call(from));\r\n}\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nvar __setModuleDefault = Object.create ? (function(o, v) {\r\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\r\n}) : function(o, v) {\r\n    o[\"default\"] = v;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\r\n    __setModuleDefault(result, mod);\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n\r\nexport function __classPrivateFieldGet(receiver, state, kind, f) {\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\r\n    return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\r\n}\r\n\r\nexport function __classPrivateFieldSet(receiver, state, value, kind, f) {\r\n    if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\r\n    return (kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value)), value;\r\n}\r\n\r\nexport function __classPrivateFieldIn(state, receiver) {\r\n    if (receiver === null || (typeof receiver !== \"object\" && typeof receiver !== \"function\")) throw new TypeError(\"Cannot use 'in' operator on non-object\");\r\n    return typeof state === \"function\" ? receiver === state : state.has(receiver);\r\n}\r\n","module.exports = __WEBPACK_EXTERNAL_MODULE__787__;","module.exports = __WEBPACK_EXTERNAL_MODULE__156__;","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","import objectWithoutPropertiesLoose from \"./objectWithoutPropertiesLoose.js\";\nexport default function _objectWithoutProperties(source, excluded) {\n  if (source == null) return {};\n  var target = objectWithoutPropertiesLoose(source, excluded);\n  var key, i;\n  if (Object.getOwnPropertySymbols) {\n    var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n    for (i = 0; i < sourceSymbolKeys.length; i++) {\n      key = sourceSymbolKeys[i];\n      if (excluded.indexOf(key) >= 0) continue;\n      if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;\n      target[key] = source[key];\n    }\n  }\n  return target;\n}","export default function _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n  return target;\n}","/**\n * view  group  key\n */\nexport enum LAYER {\n  /**  */\n  FORE = 'fore',\n  /**  */\n  MID = 'mid',\n  /**  */\n  BG = 'bg',\n}\n\n/**\n *  12 \n */\nexport enum DIRECTION {\n  TOP = 'top',\n  TOP_LEFT = 'top-left',\n  TOP_RIGHT = 'top-right',\n  RIGHT = 'right',\n  RIGHT_TOP = 'right-top',\n  RIGHT_BOTTOM = 'right-bottom',\n  LEFT = 'left',\n  LEFT_TOP = 'left-top',\n  LEFT_BOTTOM = 'left-bottom',\n  BOTTOM = 'bottom',\n  BOTTOM_LEFT = 'bottom-left',\n  BOTTOM_RIGHT = 'bottom-right',\n  RADIUS = 'radius',\n  CIRCLE = 'circle',\n  // no direction information\n  NONE = 'none',\n}\n\n/**\n * \n */\nexport enum COMPONENT_TYPE {\n  /** axis  */\n  AXIS = 'axis',\n  /** grid  */\n  GRID = 'grid',\n  /** legend  */\n  LEGEND = 'legend',\n  /** tooltip  */\n  TOOLTIP = 'tooltip',\n  /** annotation  */\n  ANNOTATION = 'annotation',\n  /**  */\n  SLIDER = 'slider',\n  /**  */\n  SCROLLBAR = 'scrollbar',\n  /**  */\n  OTHER = 'other',\n}\n\n/**\n *  group  z index\n */\nexport const GROUP_Z_INDEX = {\n  FORE: 3,\n  MID: 2,\n  BG: 1,\n};\n\n/**\n * View  3.x \n * \n */\nexport enum VIEW_LIFE_CIRCLE {\n  BEFORE_RENDER = 'beforerender',\n  AFTER_RENDER = 'afterrender',\n\n  BEFORE_PAINT = 'beforepaint',\n  AFTER_PAINT = 'afterpaint',\n\n  BEFORE_CHANGE_DATA = 'beforechangedata',\n  AFTER_CHANGE_DATA = 'afterchangedata',\n\n  BEFORE_CLEAR = 'beforeclear',\n  AFTER_CLEAR = 'afterclear',\n\n  BEFORE_DESTROY = 'beforedestroy',\n\n  BEFORE_CHANGE_SIZE = 'beforechangesize',\n  AFTER_CHANGE_SIZE = 'afterchangesize',\n}\n\n/**\n * geometry \n */\nexport enum GEOMETRY_LIFE_CIRCLE {\n  BEFORE_DRAW_ANIMATE = 'beforeanimate',\n  AFTER_DRAW_ANIMATE = 'afteranimate',\n\n  BEFORE_RENDER_LABEL = 'beforerenderlabel',\n  AFTER_RENDER_LABEL = 'afterrenderlabel',\n}\n\n/**\n * \n */\nexport enum PLOT_EVENTS {\n  // mouse \n  MOUSE_ENTER = 'plot:mouseenter',\n  MOUSE_DOWN = 'plot:mousedown',\n  MOUSE_MOVE = 'plot:mousemove',\n  MOUSE_UP = 'plot:mouseup',\n  MOUSE_LEAVE = 'plot:mouseleave',\n  // \n  TOUCH_START = 'plot:touchstart',\n  TOUCH_MOVE = 'plot:touchmove',\n  TOUCH_END = 'plot:touchend',\n  TOUCH_CANCEL = 'plot:touchcancel',\n  // click \n  CLICK = 'plot:click',\n  DBLCLICK = 'plot:dblclick',\n  CONTEXTMENU = 'plot:contextmenu',\n\n  LEAVE = 'plot:leave',\n  ENTER = 'plot:enter',\n}\n\n/**\n * Element \n */\nexport enum ELEMENT_STATE {\n  ACTIVE = 'active',\n  INACTIVE = 'inactive',\n  SELECTED = 'selected',\n  DEFAULT = 'default',\n}\n\n/**  */\nexport const GROUP_ATTRS = ['color', 'shape', 'size'];\n/**  */\nexport const FIELD_ORIGIN = '_origin';\n/**  */\nexport const MIN_CHART_WIDTH = 1;\n/**  */\nexport const MIN_CHART_HEIGHT = 1;\n/** 25% */\nexport const COMPONENT_MAX_VIEW_PERCENTAGE = 0.25;\n",null,"import { IG } from '../dependents';\n\nconst ENGINES: Record<string, IG> = {};\n\n/**\n *  engine\n * @param name \n * @returns G engine\n */\nexport function getEngine(name: string): IG {\n  const G = ENGINES[name];\n\n  if (!G) {\n    throw new Error(`G engine '${name}' is not exist, please register it at first.`);\n  }\n\n  return G;\n}\n\n/**\n * \n * @param name\n * @param engine\n */\nexport function registerEngine(name: string, engine: IG) {\n  ENGINES[name] = engine;\n}\n",null,"import { MIN_CHART_HEIGHT, MIN_CHART_WIDTH } from '../constant';\nimport { Size } from '../interface';\n\n/**\n * get the element's bounding size\n * @param ele dom element\n * @returns the element width and height\n */\nfunction getElementSize(ele: HTMLElement): Size {\n  const style = getComputedStyle(ele);\n\n  return {\n    width:\n      (ele.clientWidth || parseInt(style.width, 10)) -\n      parseInt(style.paddingLeft, 10) -\n      parseInt(style.paddingRight, 10),\n    height:\n      (ele.clientHeight || parseInt(style.height, 10)) -\n      parseInt(style.paddingTop, 10) -\n      parseInt(style.paddingBottom, 10),\n  };\n}\n\n/**\n * is value a valid number\n * @param v the input value\n * @returns whether it is a number\n */\nfunction isNumber(v: any): boolean {\n  return typeof v === 'number' && !isNaN(v);\n}\n\n/**\n * @ignore\n * calculate the chart size\n * @param ele DOM element\n * @param autoFit should auto fit\n * @param width chart width which is set by user\n * @param height chart height which is set by user\n * @returns the chart width and height\n */\nexport function getChartSize(ele: HTMLElement, autoFit: boolean, width: number, height: number): Size {\n  let w = width;\n  let h = height;\n\n  if (autoFit) {\n    const size = getElementSize(ele);\n\n    w = size.width ? size.width : w;\n    h = size.height ? size.height : h;\n  }\n\n  return {\n    width: Math.max(isNumber(w) ? w : MIN_CHART_WIDTH, MIN_CHART_WIDTH),\n    height: Math.max(isNumber(h) ? h : MIN_CHART_HEIGHT, MIN_CHART_HEIGHT),\n  };\n}\n\n/**\n * @ignore\n * remove html element from its parent\n * @param dom\n */\nexport function removeDom(dom: HTMLElement) {\n  const parent = dom.parentNode;\n\n  if (parent) {\n    parent.removeChild(dom);\n  }\n}\n\n/** @ignore */\nexport { createDom, modifyCSS } from '@antv/dom-util';\n","import EE from '@antv/event-emitter';\n\ninterface BaseCfg {\n  visible?: boolean;\n}\n\n/**\n * G2 ChartViewGeometry  Element \n */\nexport default class Base extends EE {\n  /**  */\n  public visible: boolean;\n  /**  */\n  public destroyed: boolean = false;\n\n  constructor(cfg: BaseCfg) {\n    super();\n    const { visible = true } = cfg;\n    this.visible = visible;\n  }\n\n  /**\n   * \n   */\n  public show() {\n    const visible = this.visible;\n    if (!visible) {\n      this.changeVisible(true);\n    }\n  }\n\n  /**\n   * \n   */\n  public hide() {\n    const visible = this.visible;\n    if (visible) {\n      this.changeVisible(false);\n    }\n  }\n\n  /**\n   * \n   */\n  public destroy() {\n    this.off();\n    this.destroyed = true;\n  }\n\n  /**\n   * \n   * @param visible\n   * @returns\n   */\n  public changeVisible(visible: boolean) {\n    if (this.visible === visible) {\n      return;\n    }\n    this.visible = visible;\n  }\n}\n",null,null,"/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport function __createBinding(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n}\r\n\r\nexport function __exportStar(m, exports) {\r\n    for (var p in m) if (p !== \"default\" && !exports.hasOwnProperty(p)) exports[p] = m[p];\r\n}\r\n\r\nexport function __values(o) {\r\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\r\n    if (m) return m.call(o);\r\n    if (o && typeof o.length === \"number\") return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n};\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\r\n    result.default = mod;\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n\r\nexport function __classPrivateFieldGet(receiver, privateMap) {\r\n    if (!privateMap.has(receiver)) {\r\n        throw new TypeError(\"attempted to get private field on non-instance\");\r\n    }\r\n    return privateMap.get(receiver);\r\n}\r\n\r\nexport function __classPrivateFieldSet(receiver, privateMap, value) {\r\n    if (!privateMap.has(receiver)) {\r\n        throw new TypeError(\"attempted to set private field on non-instance\");\r\n    }\r\n    privateMap.set(receiver, value);\r\n    return value;\r\n}\r\n",null,null,null,null,null,null,null,null,null,null,null,null,"const token = /d{1,4}|M{1,4}|YY(?:YY)?|S{1,3}|Do|ZZ|Z|([HhMsDm])\\1?|[aA]|\"[^\"]*\"|'[^']*'/g;\nconst twoDigitsOptional = \"\\\\d\\\\d?\";\nconst twoDigits = \"\\\\d\\\\d\";\nconst threeDigits = \"\\\\d{3}\";\nconst fourDigits = \"\\\\d{4}\";\nconst word = \"[^\\\\s]+\";\nconst literal = /\\[([^]*?)\\]/gm;\n\ntype DateInfo = {\n  year: number;\n  month: number;\n  day: number;\n  hour: number;\n  minute: number;\n  second: number;\n  millisecond: number;\n  isPm: number | null;\n  timezoneOffset: number | null;\n};\n\nexport type I18nSettings = {\n  amPm: [string, string];\n  dayNames: Days;\n  dayNamesShort: Days;\n  monthNames: Months;\n  monthNamesShort: Months;\n  DoFn(dayOfMonth: number): string;\n};\n\nexport type I18nSettingsOptional = Partial<I18nSettings>;\n\nexport type Days = [string, string, string, string, string, string, string];\nexport type Months = [\n  string,\n  string,\n  string,\n  string,\n  string,\n  string,\n  string,\n  string,\n  string,\n  string,\n  string,\n  string\n];\n\nfunction shorten<T extends string[]>(arr: T, sLen: number): string[] {\n  const newArr: string[] = [];\n  for (let i = 0, len = arr.length; i < len; i++) {\n    newArr.push(arr[i].substr(0, sLen));\n  }\n  return newArr;\n}\n\nconst monthUpdate = (\n  arrName: \"monthNames\" | \"monthNamesShort\" | \"dayNames\" | \"dayNamesShort\"\n) => (v: string, i18n: I18nSettings): number | null => {\n  const lowerCaseArr = i18n[arrName].map(v => v.toLowerCase());\n  const index = lowerCaseArr.indexOf(v.toLowerCase());\n  if (index > -1) {\n    return index;\n  }\n  return null;\n};\n\nexport function assign<A>(a: A): A;\nexport function assign<A, B>(a: A, b: B): A & B;\nexport function assign<A, B, C>(a: A, b: B, c: C): A & B & C;\nexport function assign<A, B, C, D>(a: A, b: B, c: C, d: D): A & B & C & D;\nexport function assign(origObj: any, ...args: any[]): any {\n  for (const obj of args) {\n    for (const key in obj) {\n      // @ts-ignore ex\n      origObj[key] = obj[key];\n    }\n  }\n  return origObj;\n}\n\nconst dayNames: Days = [\n  \"Sunday\",\n  \"Monday\",\n  \"Tuesday\",\n  \"Wednesday\",\n  \"Thursday\",\n  \"Friday\",\n  \"Saturday\"\n];\nconst monthNames: Months = [\n  \"January\",\n  \"February\",\n  \"March\",\n  \"April\",\n  \"May\",\n  \"June\",\n  \"July\",\n  \"August\",\n  \"September\",\n  \"October\",\n  \"November\",\n  \"December\"\n];\n\nconst monthNamesShort: Months = shorten(monthNames, 3) as Months;\nconst dayNamesShort: Days = shorten(dayNames, 3) as Days;\n\nconst defaultI18n: I18nSettings = {\n  dayNamesShort,\n  dayNames,\n  monthNamesShort,\n  monthNames,\n  amPm: [\"am\", \"pm\"],\n  DoFn(dayOfMonth: number) {\n    return (\n      dayOfMonth +\n      [\"th\", \"st\", \"nd\", \"rd\"][\n        dayOfMonth % 10 > 3\n          ? 0\n          : ((dayOfMonth - (dayOfMonth % 10) !== 10 ? 1 : 0) * dayOfMonth) % 10\n      ]\n    );\n  }\n};\nlet globalI18n = assign({}, defaultI18n);\nconst setGlobalDateI18n = (i18n: I18nSettingsOptional): I18nSettings =>\n  (globalI18n = assign(globalI18n, i18n));\n\nconst regexEscape = (str: string): string =>\n  str.replace(/[|\\\\{()[^$+*?.-]/g, \"\\\\$&\");\n\nconst pad = (val: string | number, len = 2): string => {\n  val = String(val);\n  while (val.length < len) {\n    val = \"0\" + val;\n  }\n  return val;\n};\n\nconst formatFlags: Record<\n  string,\n  (dateObj: Date, i18n: I18nSettings) => string\n> = {\n  D: (dateObj: Date): string => String(dateObj.getDate()),\n  DD: (dateObj: Date): string => pad(dateObj.getDate()),\n  Do: (dateObj: Date, i18n: I18nSettings): string =>\n    i18n.DoFn(dateObj.getDate()),\n  d: (dateObj: Date): string => String(dateObj.getDay()),\n  dd: (dateObj: Date): string => pad(dateObj.getDay()),\n  ddd: (dateObj: Date, i18n: I18nSettings): string =>\n    i18n.dayNamesShort[dateObj.getDay()],\n  dddd: (dateObj: Date, i18n: I18nSettings): string =>\n    i18n.dayNames[dateObj.getDay()],\n  M: (dateObj: Date): string => String(dateObj.getMonth() + 1),\n  MM: (dateObj: Date): string => pad(dateObj.getMonth() + 1),\n  MMM: (dateObj: Date, i18n: I18nSettings): string =>\n    i18n.monthNamesShort[dateObj.getMonth()],\n  MMMM: (dateObj: Date, i18n: I18nSettings): string =>\n    i18n.monthNames[dateObj.getMonth()],\n  YY: (dateObj: Date): string =>\n    pad(String(dateObj.getFullYear()), 4).substr(2),\n  YYYY: (dateObj: Date): string => pad(dateObj.getFullYear(), 4),\n  h: (dateObj: Date): string => String(dateObj.getHours() % 12 || 12),\n  hh: (dateObj: Date): string => pad(dateObj.getHours() % 12 || 12),\n  H: (dateObj: Date): string => String(dateObj.getHours()),\n  HH: (dateObj: Date): string => pad(dateObj.getHours()),\n  m: (dateObj: Date): string => String(dateObj.getMinutes()),\n  mm: (dateObj: Date): string => pad(dateObj.getMinutes()),\n  s: (dateObj: Date): string => String(dateObj.getSeconds()),\n  ss: (dateObj: Date): string => pad(dateObj.getSeconds()),\n  S: (dateObj: Date): string =>\n    String(Math.round(dateObj.getMilliseconds() / 100)),\n  SS: (dateObj: Date): string =>\n    pad(Math.round(dateObj.getMilliseconds() / 10), 2),\n  SSS: (dateObj: Date): string => pad(dateObj.getMilliseconds(), 3),\n  a: (dateObj: Date, i18n: I18nSettings): string =>\n    dateObj.getHours() < 12 ? i18n.amPm[0] : i18n.amPm[1],\n  A: (dateObj: Date, i18n: I18nSettings): string =>\n    dateObj.getHours() < 12\n      ? i18n.amPm[0].toUpperCase()\n      : i18n.amPm[1].toUpperCase(),\n  ZZ(dateObj: Date): string {\n    const offset = dateObj.getTimezoneOffset();\n    return (\n      (offset > 0 ? \"-\" : \"+\") +\n      pad(Math.floor(Math.abs(offset) / 60) * 100 + (Math.abs(offset) % 60), 4)\n    );\n  },\n  Z(dateObj: Date): string {\n    const offset = dateObj.getTimezoneOffset();\n    return (\n      (offset > 0 ? \"-\" : \"+\") +\n      pad(Math.floor(Math.abs(offset) / 60), 2) +\n      \":\" +\n      pad(Math.abs(offset) % 60, 2)\n    );\n  }\n};\n\ntype ParseInfo = [\n  keyof DateInfo,\n  string,\n  ((v: string, i18n: I18nSettings) => number | null)?,\n  string?\n];\nconst monthParse = (v: string): number => +v - 1;\nconst emptyDigits: ParseInfo = [null, twoDigitsOptional];\nconst emptyWord: ParseInfo = [null, word];\nconst amPm: ParseInfo = [\n  \"isPm\",\n  word,\n  (v: string, i18n: I18nSettings): number | null => {\n    const val = v.toLowerCase();\n    if (val === i18n.amPm[0]) {\n      return 0;\n    } else if (val === i18n.amPm[1]) {\n      return 1;\n    }\n    return null;\n  }\n];\nconst timezoneOffset: ParseInfo = [\n  \"timezoneOffset\",\n  \"[^\\\\s]*?[\\\\+\\\\-]\\\\d\\\\d:?\\\\d\\\\d|[^\\\\s]*?Z?\",\n  (v: string): number | null => {\n    const parts = (v + \"\").match(/([+-]|\\d\\d)/gi);\n\n    if (parts) {\n      const minutes = +parts[1] * 60 + parseInt(parts[2], 10);\n      return parts[0] === \"+\" ? minutes : -minutes;\n    }\n\n    return 0;\n  }\n];\nconst parseFlags: Record<string, ParseInfo> = {\n  D: [\"day\", twoDigitsOptional],\n  DD: [\"day\", twoDigits],\n  Do: [\"day\", twoDigitsOptional + word, (v: string): number => parseInt(v, 10)],\n  M: [\"month\", twoDigitsOptional, monthParse],\n  MM: [\"month\", twoDigits, monthParse],\n  YY: [\n    \"year\",\n    twoDigits,\n    (v: string): number => {\n      const now = new Date();\n      const cent = +(\"\" + now.getFullYear()).substr(0, 2);\n      return +(\"\" + (+v > 68 ? cent - 1 : cent) + v);\n    }\n  ],\n  h: [\"hour\", twoDigitsOptional, undefined, \"isPm\"],\n  hh: [\"hour\", twoDigits, undefined, \"isPm\"],\n  H: [\"hour\", twoDigitsOptional],\n  HH: [\"hour\", twoDigits],\n  m: [\"minute\", twoDigitsOptional],\n  mm: [\"minute\", twoDigits],\n  s: [\"second\", twoDigitsOptional],\n  ss: [\"second\", twoDigits],\n  YYYY: [\"year\", fourDigits],\n  S: [\"millisecond\", \"\\\\d\", (v: string): number => +v * 100],\n  SS: [\"millisecond\", twoDigits, (v: string): number => +v * 10],\n  SSS: [\"millisecond\", threeDigits],\n  d: emptyDigits,\n  dd: emptyDigits,\n  ddd: emptyWord,\n  dddd: emptyWord,\n  MMM: [\"month\", word, monthUpdate(\"monthNamesShort\")],\n  MMMM: [\"month\", word, monthUpdate(\"monthNames\")],\n  a: amPm,\n  A: amPm,\n  ZZ: timezoneOffset,\n  Z: timezoneOffset\n};\n\n// Some common format strings\nconst globalMasks: { [key: string]: string } = {\n  default: \"ddd MMM DD YYYY HH:mm:ss\",\n  shortDate: \"M/D/YY\",\n  mediumDate: \"MMM D, YYYY\",\n  longDate: \"MMMM D, YYYY\",\n  fullDate: \"dddd, MMMM D, YYYY\",\n  isoDate: \"YYYY-MM-DD\",\n  isoDateTime: \"YYYY-MM-DDTHH:mm:ssZ\",\n  shortTime: \"HH:mm\",\n  mediumTime: \"HH:mm:ss\",\n  longTime: \"HH:mm:ss.SSS\"\n};\nconst setGlobalDateMasks = (masks: {\n  [key: string]: string;\n}): { [key: string]: string } => assign(globalMasks, masks);\n\n/***\n * Format a date\n * @method format\n * @param {Date|number} dateObj\n * @param {string} mask Format of the date, i.e. 'mm-dd-yy' or 'shortDate'\n * @returns {string} Formatted date string\n */\nconst format = (\n  dateObj: Date,\n  mask: string = globalMasks[\"default\"],\n  i18n: I18nSettingsOptional = {}\n): string => {\n  if (typeof dateObj === \"number\") {\n    dateObj = new Date(dateObj);\n  }\n\n  if (\n    Object.prototype.toString.call(dateObj) !== \"[object Date]\" ||\n    isNaN(dateObj.getTime())\n  ) {\n    throw new Error(\"Invalid Date pass to format\");\n  }\n\n  mask = globalMasks[mask] || mask;\n\n  const literals: string[] = [];\n\n  // Make literals inactive by replacing them with @@@\n  mask = mask.replace(literal, function($0, $1) {\n    literals.push($1);\n    return \"@@@\";\n  });\n\n  const combinedI18nSettings: I18nSettings = assign(\n    assign({}, globalI18n),\n    i18n\n  );\n  // Apply formatting rules\n  mask = mask.replace(token, $0 =>\n    formatFlags[$0](dateObj, combinedI18nSettings)\n  );\n  // Inline literal values back into the formatted value\n  return mask.replace(/@@@/g, () => literals.shift());\n};\n\n/**\n * Parse a date string into a Javascript Date object /\n * @method parse\n * @param {string} dateStr Date string\n * @param {string} format Date parse format\n * @param {i18n} I18nSettingsOptional Full or subset of I18N settings\n * @returns {Date|null} Returns Date object. Returns null what date string is invalid or doesn't match format\n */\nfunction parse(\n  dateStr: string,\n  format: string,\n  i18n: I18nSettingsOptional = {}\n): Date | null {\n  if (typeof format !== \"string\") {\n    throw new Error(\"Invalid format in fecha parse\");\n  }\n\n  // Check to see if the format is actually a mask\n  format = globalMasks[format] || format;\n\n  // Avoid regular expression denial of service, fail early for really long strings\n  // https://www.owasp.org/index.php/Regular_expression_Denial_of_Service_-_ReDoS\n  if (dateStr.length > 1000) {\n    return null;\n  }\n\n  // Default to the beginning of the year.\n  const today = new Date();\n  const dateInfo: DateInfo = {\n    year: today.getFullYear(),\n    month: 0,\n    day: 1,\n    hour: 0,\n    minute: 0,\n    second: 0,\n    millisecond: 0,\n    isPm: null,\n    timezoneOffset: null\n  };\n  const parseInfo: ParseInfo[] = [];\n  const literals: string[] = [];\n\n  // Replace all the literals with @@@. Hopefully a string that won't exist in the format\n  let newFormat = format.replace(literal, ($0, $1) => {\n    literals.push(regexEscape($1));\n    return \"@@@\";\n  });\n  const specifiedFields: { [field: string]: boolean } = {};\n  const requiredFields: { [field: string]: boolean } = {};\n\n  // Change every token that we find into the correct regex\n  newFormat = regexEscape(newFormat).replace(token, $0 => {\n    const info = parseFlags[$0];\n    const [field, regex, , requiredField] = info;\n\n    // Check if the person has specified the same field twice. This will lead to confusing results.\n    if (specifiedFields[field]) {\n      throw new Error(`Invalid format. ${field} specified twice in format`);\n    }\n\n    specifiedFields[field] = true;\n\n    // Check if there are any required fields. For instance, 12 hour time requires AM/PM specified\n    if (requiredField) {\n      requiredFields[requiredField] = true;\n    }\n\n    parseInfo.push(info);\n    return \"(\" + regex + \")\";\n  });\n\n  // Check all the required fields are present\n  Object.keys(requiredFields).forEach(field => {\n    if (!specifiedFields[field]) {\n      throw new Error(\n        `Invalid format. ${field} is required in specified format`\n      );\n    }\n  });\n\n  // Add back all the literals after\n  newFormat = newFormat.replace(/@@@/g, () => literals.shift());\n\n  // Check if the date string matches the format. If it doesn't return null\n  const matches = dateStr.match(new RegExp(newFormat, \"i\"));\n  if (!matches) {\n    return null;\n  }\n\n  const combinedI18nSettings: I18nSettings = assign(\n    assign({}, globalI18n),\n    i18n\n  );\n\n  // For each match, call the parser function for that date part\n  for (let i = 1; i < matches.length; i++) {\n    const [field, , parser] = parseInfo[i - 1];\n    const value = parser\n      ? parser(matches[i], combinedI18nSettings)\n      : +matches[i];\n\n    // If the parser can't make sense of the value, return null\n    if (value == null) {\n      return null;\n    }\n\n    dateInfo[field] = value;\n  }\n\n  if (dateInfo.isPm === 1 && dateInfo.hour != null && +dateInfo.hour !== 12) {\n    dateInfo.hour = +dateInfo.hour + 12;\n  } else if (dateInfo.isPm === 0 && +dateInfo.hour === 12) {\n    dateInfo.hour = 0;\n  }\n\n  let dateTZ: Date;\n  if (dateInfo.timezoneOffset == null) {\n    dateTZ = new Date(\n      dateInfo.year,\n      dateInfo.month,\n      dateInfo.day,\n      dateInfo.hour,\n      dateInfo.minute,\n      dateInfo.second,\n      dateInfo.millisecond\n    );\n    const validateFields: [\n      \"month\" | \"day\" | \"hour\" | \"minute\" | \"second\",\n      \"getMonth\" | \"getDate\" | \"getHours\" | \"getMinutes\" | \"getSeconds\"\n    ][] = [\n      [\"month\", \"getMonth\"],\n      [\"day\", \"getDate\"],\n      [\"hour\", \"getHours\"],\n      [\"minute\", \"getMinutes\"],\n      [\"second\", \"getSeconds\"]\n    ];\n    for (let i = 0, len = validateFields.length; i < len; i++) {\n      // Check to make sure the date field is within the allowed range. Javascript dates allows values\n      // outside the allowed range. If the values don't match the value was invalid\n      if (\n        specifiedFields[validateFields[i][0]] &&\n        dateInfo[validateFields[i][0]] !== dateTZ[validateFields[i][1]]()\n      ) {\n        return null;\n      }\n    }\n  } else {\n    dateTZ = new Date(\n      Date.UTC(\n        dateInfo.year,\n        dateInfo.month,\n        dateInfo.day,\n        dateInfo.hour,\n        dateInfo.minute - dateInfo.timezoneOffset,\n        dateInfo.second,\n        dateInfo.millisecond\n      )\n    );\n\n    // We can't validate dates in another timezone unfortunately. Do a basic check instead\n    if (\n      dateInfo.month > 11 ||\n      dateInfo.month < 0 ||\n      dateInfo.day > 31 ||\n      dateInfo.day < 1 ||\n      dateInfo.hour > 23 ||\n      dateInfo.hour < 0 ||\n      dateInfo.minute > 59 ||\n      dateInfo.minute < 0 ||\n      dateInfo.second > 59 ||\n      dateInfo.second < 0\n    ) {\n      return null;\n    }\n  }\n\n  // Don't allow invalid dates\n\n  return dateTZ;\n}\nexport default {\n  format,\n  parse,\n  defaultI18n,\n  setGlobalDateI18n,\n  setGlobalDateMasks\n};\nexport { format, parse, defaultI18n, setGlobalDateI18n, setGlobalDateMasks };\n",null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,"import * as glMatrix from \"./common.js\";\n/**\n * 3 Dimensional Vector\n * @module vec3\n */\n\n/**\n * Creates a new, empty vec3\n *\n * @returns {vec3} a new 3D vector\n */\n\nexport function create() {\n  var out = new glMatrix.ARRAY_TYPE(3);\n\n  if (glMatrix.ARRAY_TYPE != Float32Array) {\n    out[0] = 0;\n    out[1] = 0;\n    out[2] = 0;\n  }\n\n  return out;\n}\n/**\n * Creates a new vec3 initialized with values from an existing vector\n *\n * @param {ReadonlyVec3} a vector to clone\n * @returns {vec3} a new 3D vector\n */\n\nexport function clone(a) {\n  var out = new glMatrix.ARRAY_TYPE(3);\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  return out;\n}\n/**\n * Calculates the length of a vec3\n *\n * @param {ReadonlyVec3} a vector to calculate length of\n * @returns {Number} length of a\n */\n\nexport function length(a) {\n  var x = a[0];\n  var y = a[1];\n  var z = a[2];\n  return Math.hypot(x, y, z);\n}\n/**\n * Creates a new vec3 initialized with the given values\n *\n * @param {Number} x X component\n * @param {Number} y Y component\n * @param {Number} z Z component\n * @returns {vec3} a new 3D vector\n */\n\nexport function fromValues(x, y, z) {\n  var out = new glMatrix.ARRAY_TYPE(3);\n  out[0] = x;\n  out[1] = y;\n  out[2] = z;\n  return out;\n}\n/**\n * Copy the values from one vec3 to another\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the source vector\n * @returns {vec3} out\n */\n\nexport function copy(out, a) {\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  return out;\n}\n/**\n * Set the components of a vec3 to the given values\n *\n * @param {vec3} out the receiving vector\n * @param {Number} x X component\n * @param {Number} y Y component\n * @param {Number} z Z component\n * @returns {vec3} out\n */\n\nexport function set(out, x, y, z) {\n  out[0] = x;\n  out[1] = y;\n  out[2] = z;\n  return out;\n}\n/**\n * Adds two vec3's\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @returns {vec3} out\n */\n\nexport function add(out, a, b) {\n  out[0] = a[0] + b[0];\n  out[1] = a[1] + b[1];\n  out[2] = a[2] + b[2];\n  return out;\n}\n/**\n * Subtracts vector b from vector a\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @returns {vec3} out\n */\n\nexport function subtract(out, a, b) {\n  out[0] = a[0] - b[0];\n  out[1] = a[1] - b[1];\n  out[2] = a[2] - b[2];\n  return out;\n}\n/**\n * Multiplies two vec3's\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @returns {vec3} out\n */\n\nexport function multiply(out, a, b) {\n  out[0] = a[0] * b[0];\n  out[1] = a[1] * b[1];\n  out[2] = a[2] * b[2];\n  return out;\n}\n/**\n * Divides two vec3's\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @returns {vec3} out\n */\n\nexport function divide(out, a, b) {\n  out[0] = a[0] / b[0];\n  out[1] = a[1] / b[1];\n  out[2] = a[2] / b[2];\n  return out;\n}\n/**\n * Math.ceil the components of a vec3\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a vector to ceil\n * @returns {vec3} out\n */\n\nexport function ceil(out, a) {\n  out[0] = Math.ceil(a[0]);\n  out[1] = Math.ceil(a[1]);\n  out[2] = Math.ceil(a[2]);\n  return out;\n}\n/**\n * Math.floor the components of a vec3\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a vector to floor\n * @returns {vec3} out\n */\n\nexport function floor(out, a) {\n  out[0] = Math.floor(a[0]);\n  out[1] = Math.floor(a[1]);\n  out[2] = Math.floor(a[2]);\n  return out;\n}\n/**\n * Returns the minimum of two vec3's\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @returns {vec3} out\n */\n\nexport function min(out, a, b) {\n  out[0] = Math.min(a[0], b[0]);\n  out[1] = Math.min(a[1], b[1]);\n  out[2] = Math.min(a[2], b[2]);\n  return out;\n}\n/**\n * Returns the maximum of two vec3's\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @returns {vec3} out\n */\n\nexport function max(out, a, b) {\n  out[0] = Math.max(a[0], b[0]);\n  out[1] = Math.max(a[1], b[1]);\n  out[2] = Math.max(a[2], b[2]);\n  return out;\n}\n/**\n * Math.round the components of a vec3\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a vector to round\n * @returns {vec3} out\n */\n\nexport function round(out, a) {\n  out[0] = Math.round(a[0]);\n  out[1] = Math.round(a[1]);\n  out[2] = Math.round(a[2]);\n  return out;\n}\n/**\n * Scales a vec3 by a scalar number\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the vector to scale\n * @param {Number} b amount to scale the vector by\n * @returns {vec3} out\n */\n\nexport function scale(out, a, b) {\n  out[0] = a[0] * b;\n  out[1] = a[1] * b;\n  out[2] = a[2] * b;\n  return out;\n}\n/**\n * Adds two vec3's after scaling the second operand by a scalar value\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @param {Number} scale the amount to scale b by before adding\n * @returns {vec3} out\n */\n\nexport function scaleAndAdd(out, a, b, scale) {\n  out[0] = a[0] + b[0] * scale;\n  out[1] = a[1] + b[1] * scale;\n  out[2] = a[2] + b[2] * scale;\n  return out;\n}\n/**\n * Calculates the euclidian distance between two vec3's\n *\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @returns {Number} distance between a and b\n */\n\nexport function distance(a, b) {\n  var x = b[0] - a[0];\n  var y = b[1] - a[1];\n  var z = b[2] - a[2];\n  return Math.hypot(x, y, z);\n}\n/**\n * Calculates the squared euclidian distance between two vec3's\n *\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @returns {Number} squared distance between a and b\n */\n\nexport function squaredDistance(a, b) {\n  var x = b[0] - a[0];\n  var y = b[1] - a[1];\n  var z = b[2] - a[2];\n  return x * x + y * y + z * z;\n}\n/**\n * Calculates the squared length of a vec3\n *\n * @param {ReadonlyVec3} a vector to calculate squared length of\n * @returns {Number} squared length of a\n */\n\nexport function squaredLength(a) {\n  var x = a[0];\n  var y = a[1];\n  var z = a[2];\n  return x * x + y * y + z * z;\n}\n/**\n * Negates the components of a vec3\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a vector to negate\n * @returns {vec3} out\n */\n\nexport function negate(out, a) {\n  out[0] = -a[0];\n  out[1] = -a[1];\n  out[2] = -a[2];\n  return out;\n}\n/**\n * Returns the inverse of the components of a vec3\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a vector to invert\n * @returns {vec3} out\n */\n\nexport function inverse(out, a) {\n  out[0] = 1.0 / a[0];\n  out[1] = 1.0 / a[1];\n  out[2] = 1.0 / a[2];\n  return out;\n}\n/**\n * Normalize a vec3\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a vector to normalize\n * @returns {vec3} out\n */\n\nexport function normalize(out, a) {\n  var x = a[0];\n  var y = a[1];\n  var z = a[2];\n  var len = x * x + y * y + z * z;\n\n  if (len > 0) {\n    //TODO: evaluate use of glm_invsqrt here?\n    len = 1 / Math.sqrt(len);\n  }\n\n  out[0] = a[0] * len;\n  out[1] = a[1] * len;\n  out[2] = a[2] * len;\n  return out;\n}\n/**\n * Calculates the dot product of two vec3's\n *\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @returns {Number} dot product of a and b\n */\n\nexport function dot(a, b) {\n  return a[0] * b[0] + a[1] * b[1] + a[2] * b[2];\n}\n/**\n * Computes the cross product of two vec3's\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @returns {vec3} out\n */\n\nexport function cross(out, a, b) {\n  var ax = a[0],\n      ay = a[1],\n      az = a[2];\n  var bx = b[0],\n      by = b[1],\n      bz = b[2];\n  out[0] = ay * bz - az * by;\n  out[1] = az * bx - ax * bz;\n  out[2] = ax * by - ay * bx;\n  return out;\n}\n/**\n * Performs a linear interpolation between two vec3's\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @param {Number} t interpolation amount, in the range [0-1], between the two inputs\n * @returns {vec3} out\n */\n\nexport function lerp(out, a, b, t) {\n  var ax = a[0];\n  var ay = a[1];\n  var az = a[2];\n  out[0] = ax + t * (b[0] - ax);\n  out[1] = ay + t * (b[1] - ay);\n  out[2] = az + t * (b[2] - az);\n  return out;\n}\n/**\n * Performs a hermite interpolation with two control points\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @param {ReadonlyVec3} c the third operand\n * @param {ReadonlyVec3} d the fourth operand\n * @param {Number} t interpolation amount, in the range [0-1], between the two inputs\n * @returns {vec3} out\n */\n\nexport function hermite(out, a, b, c, d, t) {\n  var factorTimes2 = t * t;\n  var factor1 = factorTimes2 * (2 * t - 3) + 1;\n  var factor2 = factorTimes2 * (t - 2) + t;\n  var factor3 = factorTimes2 * (t - 1);\n  var factor4 = factorTimes2 * (3 - 2 * t);\n  out[0] = a[0] * factor1 + b[0] * factor2 + c[0] * factor3 + d[0] * factor4;\n  out[1] = a[1] * factor1 + b[1] * factor2 + c[1] * factor3 + d[1] * factor4;\n  out[2] = a[2] * factor1 + b[2] * factor2 + c[2] * factor3 + d[2] * factor4;\n  return out;\n}\n/**\n * Performs a bezier interpolation with two control points\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @param {ReadonlyVec3} c the third operand\n * @param {ReadonlyVec3} d the fourth operand\n * @param {Number} t interpolation amount, in the range [0-1], between the two inputs\n * @returns {vec3} out\n */\n\nexport function bezier(out, a, b, c, d, t) {\n  var inverseFactor = 1 - t;\n  var inverseFactorTimesTwo = inverseFactor * inverseFactor;\n  var factorTimes2 = t * t;\n  var factor1 = inverseFactorTimesTwo * inverseFactor;\n  var factor2 = 3 * t * inverseFactorTimesTwo;\n  var factor3 = 3 * factorTimes2 * inverseFactor;\n  var factor4 = factorTimes2 * t;\n  out[0] = a[0] * factor1 + b[0] * factor2 + c[0] * factor3 + d[0] * factor4;\n  out[1] = a[1] * factor1 + b[1] * factor2 + c[1] * factor3 + d[1] * factor4;\n  out[2] = a[2] * factor1 + b[2] * factor2 + c[2] * factor3 + d[2] * factor4;\n  return out;\n}\n/**\n * Generates a random vector with the given scale\n *\n * @param {vec3} out the receiving vector\n * @param {Number} [scale] Length of the resulting vector. If ommitted, a unit vector will be returned\n * @returns {vec3} out\n */\n\nexport function random(out, scale) {\n  scale = scale || 1.0;\n  var r = glMatrix.RANDOM() * 2.0 * Math.PI;\n  var z = glMatrix.RANDOM() * 2.0 - 1.0;\n  var zScale = Math.sqrt(1.0 - z * z) * scale;\n  out[0] = Math.cos(r) * zScale;\n  out[1] = Math.sin(r) * zScale;\n  out[2] = z * scale;\n  return out;\n}\n/**\n * Transforms the vec3 with a mat4.\n * 4th vector component is implicitly '1'\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the vector to transform\n * @param {ReadonlyMat4} m matrix to transform with\n * @returns {vec3} out\n */\n\nexport function transformMat4(out, a, m) {\n  var x = a[0],\n      y = a[1],\n      z = a[2];\n  var w = m[3] * x + m[7] * y + m[11] * z + m[15];\n  w = w || 1.0;\n  out[0] = (m[0] * x + m[4] * y + m[8] * z + m[12]) / w;\n  out[1] = (m[1] * x + m[5] * y + m[9] * z + m[13]) / w;\n  out[2] = (m[2] * x + m[6] * y + m[10] * z + m[14]) / w;\n  return out;\n}\n/**\n * Transforms the vec3 with a mat3.\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the vector to transform\n * @param {ReadonlyMat3} m the 3x3 matrix to transform with\n * @returns {vec3} out\n */\n\nexport function transformMat3(out, a, m) {\n  var x = a[0],\n      y = a[1],\n      z = a[2];\n  out[0] = x * m[0] + y * m[3] + z * m[6];\n  out[1] = x * m[1] + y * m[4] + z * m[7];\n  out[2] = x * m[2] + y * m[5] + z * m[8];\n  return out;\n}\n/**\n * Transforms the vec3 with a quat\n * Can also be used for dual quaternions. (Multiply it with the real part)\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the vector to transform\n * @param {ReadonlyQuat} q quaternion to transform with\n * @returns {vec3} out\n */\n\nexport function transformQuat(out, a, q) {\n  // benchmarks: https://jsperf.com/quaternion-transform-vec3-implementations-fixed\n  var qx = q[0],\n      qy = q[1],\n      qz = q[2],\n      qw = q[3];\n  var x = a[0],\n      y = a[1],\n      z = a[2]; // var qvec = [qx, qy, qz];\n  // var uv = vec3.cross([], qvec, a);\n\n  var uvx = qy * z - qz * y,\n      uvy = qz * x - qx * z,\n      uvz = qx * y - qy * x; // var uuv = vec3.cross([], qvec, uv);\n\n  var uuvx = qy * uvz - qz * uvy,\n      uuvy = qz * uvx - qx * uvz,\n      uuvz = qx * uvy - qy * uvx; // vec3.scale(uv, uv, 2 * w);\n\n  var w2 = qw * 2;\n  uvx *= w2;\n  uvy *= w2;\n  uvz *= w2; // vec3.scale(uuv, uuv, 2);\n\n  uuvx *= 2;\n  uuvy *= 2;\n  uuvz *= 2; // return vec3.add(out, a, vec3.add(out, uv, uuv));\n\n  out[0] = x + uvx + uuvx;\n  out[1] = y + uvy + uuvy;\n  out[2] = z + uvz + uuvz;\n  return out;\n}\n/**\n * Rotate a 3D vector around the x-axis\n * @param {vec3} out The receiving vec3\n * @param {ReadonlyVec3} a The vec3 point to rotate\n * @param {ReadonlyVec3} b The origin of the rotation\n * @param {Number} rad The angle of rotation in radians\n * @returns {vec3} out\n */\n\nexport function rotateX(out, a, b, rad) {\n  var p = [],\n      r = []; //Translate point to the origin\n\n  p[0] = a[0] - b[0];\n  p[1] = a[1] - b[1];\n  p[2] = a[2] - b[2]; //perform rotation\n\n  r[0] = p[0];\n  r[1] = p[1] * Math.cos(rad) - p[2] * Math.sin(rad);\n  r[2] = p[1] * Math.sin(rad) + p[2] * Math.cos(rad); //translate to correct position\n\n  out[0] = r[0] + b[0];\n  out[1] = r[1] + b[1];\n  out[2] = r[2] + b[2];\n  return out;\n}\n/**\n * Rotate a 3D vector around the y-axis\n * @param {vec3} out The receiving vec3\n * @param {ReadonlyVec3} a The vec3 point to rotate\n * @param {ReadonlyVec3} b The origin of the rotation\n * @param {Number} rad The angle of rotation in radians\n * @returns {vec3} out\n */\n\nexport function rotateY(out, a, b, rad) {\n  var p = [],\n      r = []; //Translate point to the origin\n\n  p[0] = a[0] - b[0];\n  p[1] = a[1] - b[1];\n  p[2] = a[2] - b[2]; //perform rotation\n\n  r[0] = p[2] * Math.sin(rad) + p[0] * Math.cos(rad);\n  r[1] = p[1];\n  r[2] = p[2] * Math.cos(rad) - p[0] * Math.sin(rad); //translate to correct position\n\n  out[0] = r[0] + b[0];\n  out[1] = r[1] + b[1];\n  out[2] = r[2] + b[2];\n  return out;\n}\n/**\n * Rotate a 3D vector around the z-axis\n * @param {vec3} out The receiving vec3\n * @param {ReadonlyVec3} a The vec3 point to rotate\n * @param {ReadonlyVec3} b The origin of the rotation\n * @param {Number} rad The angle of rotation in radians\n * @returns {vec3} out\n */\n\nexport function rotateZ(out, a, b, rad) {\n  var p = [],\n      r = []; //Translate point to the origin\n\n  p[0] = a[0] - b[0];\n  p[1] = a[1] - b[1];\n  p[2] = a[2] - b[2]; //perform rotation\n\n  r[0] = p[0] * Math.cos(rad) - p[1] * Math.sin(rad);\n  r[1] = p[0] * Math.sin(rad) + p[1] * Math.cos(rad);\n  r[2] = p[2]; //translate to correct position\n\n  out[0] = r[0] + b[0];\n  out[1] = r[1] + b[1];\n  out[2] = r[2] + b[2];\n  return out;\n}\n/**\n * Get the angle between two 3D vectors\n * @param {ReadonlyVec3} a The first operand\n * @param {ReadonlyVec3} b The second operand\n * @returns {Number} The angle in radians\n */\n\nexport function angle(a, b) {\n  var ax = a[0],\n      ay = a[1],\n      az = a[2],\n      bx = b[0],\n      by = b[1],\n      bz = b[2],\n      mag1 = Math.sqrt(ax * ax + ay * ay + az * az),\n      mag2 = Math.sqrt(bx * bx + by * by + bz * bz),\n      mag = mag1 * mag2,\n      cosine = mag && dot(a, b) / mag;\n  return Math.acos(Math.min(Math.max(cosine, -1), 1));\n}\n/**\n * Set the components of a vec3 to zero\n *\n * @param {vec3} out the receiving vector\n * @returns {vec3} out\n */\n\nexport function zero(out) {\n  out[0] = 0.0;\n  out[1] = 0.0;\n  out[2] = 0.0;\n  return out;\n}\n/**\n * Returns a string representation of a vector\n *\n * @param {ReadonlyVec3} a vector to represent as a string\n * @returns {String} string representation of the vector\n */\n\nexport function str(a) {\n  return \"vec3(\" + a[0] + \", \" + a[1] + \", \" + a[2] + \")\";\n}\n/**\n * Returns whether or not the vectors have exactly the same elements in the same position (when compared with ===)\n *\n * @param {ReadonlyVec3} a The first vector.\n * @param {ReadonlyVec3} b The second vector.\n * @returns {Boolean} True if the vectors are equal, false otherwise.\n */\n\nexport function exactEquals(a, b) {\n  return a[0] === b[0] && a[1] === b[1] && a[2] === b[2];\n}\n/**\n * Returns whether or not the vectors have approximately the same elements in the same position.\n *\n * @param {ReadonlyVec3} a The first vector.\n * @param {ReadonlyVec3} b The second vector.\n * @returns {Boolean} True if the vectors are equal, false otherwise.\n */\n\nexport function equals(a, b) {\n  var a0 = a[0],\n      a1 = a[1],\n      a2 = a[2];\n  var b0 = b[0],\n      b1 = b[1],\n      b2 = b[2];\n  return Math.abs(a0 - b0) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a0), Math.abs(b0)) && Math.abs(a1 - b1) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a1), Math.abs(b1)) && Math.abs(a2 - b2) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a2), Math.abs(b2));\n}\n/**\n * Alias for {@link vec3.subtract}\n * @function\n */\n\nexport var sub = subtract;\n/**\n * Alias for {@link vec3.multiply}\n * @function\n */\n\nexport var mul = multiply;\n/**\n * Alias for {@link vec3.divide}\n * @function\n */\n\nexport var div = divide;\n/**\n * Alias for {@link vec3.distance}\n * @function\n */\n\nexport var dist = distance;\n/**\n * Alias for {@link vec3.squaredDistance}\n * @function\n */\n\nexport var sqrDist = squaredDistance;\n/**\n * Alias for {@link vec3.length}\n * @function\n */\n\nexport var len = length;\n/**\n * Alias for {@link vec3.squaredLength}\n * @function\n */\n\nexport var sqrLen = squaredLength;\n/**\n * Perform some operation over an array of vec3s.\n *\n * @param {Array} a the array of vectors to iterate over\n * @param {Number} stride Number of elements between the start of each vec3. If 0 assumes tightly packed\n * @param {Number} offset Number of elements to skip at the beginning of the array\n * @param {Number} count Number of vec3s to iterate over. If 0 iterates over entire array\n * @param {Function} fn Function to call for each vector in the array\n * @param {Object} [arg] additional argument to pass to fn\n * @returns {Array} a\n * @function\n */\n\nexport var forEach = function () {\n  var vec = create();\n  return function (a, stride, offset, count, fn, arg) {\n    var i, l;\n\n    if (!stride) {\n      stride = 3;\n    }\n\n    if (!offset) {\n      offset = 0;\n    }\n\n    if (count) {\n      l = Math.min(count * stride + offset, a.length);\n    } else {\n      l = a.length;\n    }\n\n    for (i = offset; i < l; i += stride) {\n      vec[0] = a[i];\n      vec[1] = a[i + 1];\n      vec[2] = a[i + 2];\n      fn(vec, vec, arg);\n      a[i] = vec[0];\n      a[i + 1] = vec[1];\n      a[i + 2] = vec[2];\n    }\n\n    return a;\n  };\n}();",null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,"/*  */\n\n// G\nexport {\n  ICanvas,\n  IElement,\n  IGroup,\n  IShape,\n  PathCommand,\n  BBox,\n  Point,\n  ShapeAttrs,\n  Event,\n  AbstractGroup,\n  AbstractShape,\n} from '@antv/g-base';\n//  G-base  g engine \nexport type IG = any;\n\n// adjust\nexport { registerAdjust, getAdjust, Adjust } from '@antv/adjust';\n\n// attr\nexport { getAttribute, Attribute } from '@antv/attr';\nexport { Color } from '@antv/attr';\n\n// coordinate\nexport { getCoordinate, registerCoordinate, Coordinate, CoordinateCfg } from '@antv/coord';\n\n// scale\nexport { getScale, registerScale, Scale, ScaleConfig, Tick } from '@antv/scale';\n\n// component\nimport {\n  Annotation,\n  Axis,\n  Component,\n  Crosshair,\n  Grid,\n  GroupComponent,\n  HtmlComponent,\n  Legend,\n  Slider,\n  Tooltip,\n  Scrollbar,\n} from '@antv/component';\n\nexport {\n  CategoryLegendCfg,\n  CircleAxisCfg,\n  LineAxisCfg,\n  GroupComponentCfg,\n  ListItem,\n  AxisLineCfg,\n  AxisTickLineCfg,\n  AxisSubTickLineCfg,\n  AxisTitleCfg,\n  AxisLabelCfg,\n  GridLineCfg,\n  LegendMarkerCfg,\n  LegendTitleCfg,\n  LegendBackgroundCfg,\n  LegendItemNameCfg,\n  LegendItemValueCfg,\n  LegendPageNavigatorCfg,\n  ContinueLegendCfg,\n  ContinueLegendTrackCfg,\n  ContinueLegendRailCfg,\n  ContinueLegendLabelCfg,\n  ContinueLegendHandlerCfg,\n  CrosshairLineCfg,\n  CrosshairTextCfg,\n  CrosshairTextBackgroundCfg,\n  SliderCfg,\n  TrendCfg,\n  EnhancedTextCfg,\n  LineAnnotationTextCfg,\n  IComponent,\n  IList,\n} from '@antv/component';\n\nexport { HtmlComponent, GroupComponent, Component, Crosshair };\nexport { Annotation };\n// axis\nconst { Line: LineAxis, Circle: CircleAxis } = Axis;\nexport { LineAxis, CircleAxis };\n// grid\nconst { Line: LineGrid, Circle: CircleGrid } = Grid;\nexport { LineGrid, CircleGrid };\n// legend\nconst { Category: CategoryLegend, Continuous: ContinuousLegend } = Legend;\nexport { CategoryLegend, ContinuousLegend };\n// Tooltip\nconst { Html: HtmlTooltip } = Tooltip;\nexport { HtmlTooltip };\n// Slider\nexport { Slider };\n// Scrollbar\nexport { Scrollbar };\n","import { BBox } from '@antv/g-svg';\nimport { each, isEmpty, isNumber, isNumberEqual, max, min } from '@antv/util';\nimport { Coordinate, IShape, Point } from '../dependents';\nimport { ShapeInfo } from '../interface';\n\n// \nfunction getPointsBox(points) {\n  if (isEmpty(points)) {\n    return null;\n  }\n\n  let minX = points[0].x;\n  let maxX = points[0].x;\n  let minY = points[0].y;\n  let maxY = points[0].y;\n  each(points, (point) => {\n    minX = minX > point.x ? point.x : minX;\n    maxX = maxX < point.x ? point.x : maxX;\n    minY = minY > point.y ? point.y : minY;\n    maxY = maxY < point.y ? point.y : maxY;\n  });\n\n  return {\n    minX,\n    maxX,\n    minY,\n    maxY,\n    centerX: (minX + maxX) / 2,\n    centerY: (minY + maxY) / 2,\n  };\n}\n\nfunction uniqueValues<T = number>(array: T[]) {\n  return Array.from(new Set(array)).length === 1;\n}\n\nfunction mid(array: number[]) {\n  return (min(array) + max(array)) / 2;\n}\n\n/**\n * @ignore\n * \n * @param centerX\n * @param centerY\n * @param radius\n * @param angleInRadian\n * @returns\n */\nexport function polarToCartesian(centerX: number, centerY: number, radius: number, angleInRadian: number) {\n  return {\n    x: centerX + radius * Math.cos(angleInRadian),\n    y: centerY + radius * Math.sin(angleInRadian),\n  };\n}\n\n/**\n * @ignore\n *  path\n * @param centerX\n * @param centerY\n * @param radius\n * @param startAngleInRadian\n * @param endAngleInRadian\n * @returns\n */\nexport function getSectorPath(\n  centerX: number,\n  centerY: number,\n  radius: number,\n  startAngleInRadian: number,\n  endAngleInRadian: number,\n  innerRadius: number = 0\n) {\n  const start = polarToCartesian(centerX, centerY, radius, startAngleInRadian);\n  const end = polarToCartesian(centerX, centerY, radius, endAngleInRadian);\n\n  const innerStart = polarToCartesian(centerX, centerY, innerRadius, startAngleInRadian);\n  const innerEnd = polarToCartesian(centerX, centerY, innerRadius, endAngleInRadian);\n\n  if (endAngleInRadian - startAngleInRadian === Math.PI * 2) {\n    // \n    const middlePoint = polarToCartesian(centerX, centerY, radius, startAngleInRadian + Math.PI);\n    const innerMiddlePoint = polarToCartesian(centerX, centerY, innerRadius, startAngleInRadian + Math.PI);\n    const circlePathCommands = [\n      ['M', start.x, start.y],\n      ['A', radius, radius, 0, 1, 1, middlePoint.x, middlePoint.y],\n      ['A', radius, radius, 0, 1, 1, end.x, end.y],\n      ['M', innerStart.x, innerStart.y],\n    ];\n    if (innerRadius) {\n      circlePathCommands.push(['A', innerRadius, innerRadius, 0, 1, 0, innerMiddlePoint.x, innerMiddlePoint.y]);\n      circlePathCommands.push(['A', innerRadius, innerRadius, 0, 1, 0, innerEnd.x, innerEnd.y]);\n    }\n\n    circlePathCommands.push(['M', start.x, start.y]);\n    circlePathCommands.push(['Z']);\n\n    return circlePathCommands;\n  }\n\n  const arcSweep = endAngleInRadian - startAngleInRadian <= Math.PI ? 0 : 1;\n  const sectorPathCommands = [\n    ['M', start.x, start.y],\n    ['A', radius, radius, 0, arcSweep, 1, end.x, end.y],\n    ['L', innerEnd.x, innerEnd.y],\n  ];\n  if (innerRadius) {\n    sectorPathCommands.push(['A', innerRadius, innerRadius, 0, arcSweep, 0, innerStart.x, innerStart.y]);\n  }\n  sectorPathCommands.push(['L', start.x, start.y]);\n  sectorPathCommands.push(['Z']);\n\n  return sectorPathCommands;\n}\n\n/**\n * @ignore\n * Gets arc path\n * @param centerX\n * @param centerY\n * @param radius\n * @param startAngleInRadian\n * @param endAngleInRadian\n * @returns\n */\nexport function getArcPath(\n  centerX: number,\n  centerY: number,\n  radius: number,\n  startAngleInRadian: number,\n  endAngleInRadian: number\n) {\n  const start = polarToCartesian(centerX, centerY, radius, startAngleInRadian);\n  const end = polarToCartesian(centerX, centerY, radius, endAngleInRadian);\n\n  if (isNumberEqual(endAngleInRadian - startAngleInRadian, Math.PI * 2)) {\n    const middlePoint = polarToCartesian(centerX, centerY, radius, startAngleInRadian + Math.PI);\n    return [\n      ['M', start.x, start.y],\n      ['A', radius, radius, 0, 1, 1, middlePoint.x, middlePoint.y],\n      ['A', radius, radius, 0, 1, 1, start.x, start.y],\n      ['A', radius, radius, 0, 1, 0, middlePoint.x, middlePoint.y],\n      ['A', radius, radius, 0, 1, 0, start.x, start.y],\n      ['Z'],\n    ];\n  }\n  const arcSweep = endAngleInRadian - startAngleInRadian <= Math.PI ? 0 : 1;\n  return [\n    ['M', start.x, start.y],\n    ['A', radius, radius, 0, arcSweep, 1, end.x, end.y],\n  ];\n}\n\n/**\n * @ignore\n *  points \n * @param shapeModel\n * @param coordinate\n * @returns\n */\nexport function getAngle(shapeModel: ShapeInfo, coordinate: Coordinate) {\n  const points = shapeModel.points;\n  const box = getPointsBox(points);\n  let endAngle;\n  let startAngle;\n  const { startAngle: coordStartAngle, endAngle: coordEndAngle } = coordinate;\n  const diffAngle = coordEndAngle - coordStartAngle;\n\n  if (coordinate.isTransposed) {\n    endAngle = box.maxY * diffAngle;\n    startAngle = box.minY * diffAngle;\n  } else {\n    endAngle = box.maxX * diffAngle;\n    startAngle = box.minX * diffAngle;\n  }\n  endAngle += coordStartAngle;\n  startAngle += coordStartAngle;\n  return {\n    startAngle,\n    endAngle,\n  };\n}\n\n/**\n * @ignore\n * : https://en.wikipedia.org/wiki/Centroid#Of_a_polygon\n */\nexport function getPolygonCentroid(xs: number | number[], ys: number | number[]) {\n  if (isNumber(xs) && isNumber(ys)) {\n    // xs  ys \n    return [xs, ys];\n  }\n\n  xs = xs as number[];\n  ys = ys as number[];\n  //  polygon \n  //  xs [1, 1, 1, 1]\n  //  ys [0, 0, 0, 0]\n  //  k = 0\n  //  [NaN, NaN]\n  // \n  if (uniqueValues(xs) || uniqueValues(ys)) return [mid(xs), mid(ys)];\n\n  let i = -1;\n  let x = 0;\n  let y = 0;\n  let former;\n  let current = xs.length - 1;\n  let diff;\n  let k = 0;\n  while (++i < xs.length) {\n    former = current;\n    current = i;\n    k += diff = xs[former] * ys[current] - xs[current] * ys[former];\n    x += (xs[former] + xs[current]) * diff;\n    y += (ys[former] + ys[current]) * diff;\n  }\n  k *= 3;\n  return [x / k, y / k];\n}\n\n/**\n * @ignore\n *  undefined\n */\nexport function getReplaceAttrs(sourceShape: IShape, targetShape: IShape) {\n  const originAttrs = sourceShape.attr();\n  const newAttrs = targetShape.attr();\n  each(originAttrs, (v, k) => {\n    if (newAttrs[k] === undefined) {\n      newAttrs[k] = undefined;\n    }\n  });\n  return newAttrs;\n}\n","import { isArray, isString } from '@antv/util';\n\n/**\n * @ignore\n * Determines whether between is\n * @param value\n * @param start\n * @param end\n * @returns true if between\n */\nexport function isBetween(value: number, start: number, end: number): boolean {\n  const min = Math.min(start, end);\n  const max = Math.max(start, end);\n\n  return value >= min && value <= max;\n}\n\n/**\n * @ignore\n * pads the current string/array with a given value (repeated, if needed) so that the resulting reaches a given length.\n * The padding is applied from the end of the current value.\n *\n * @param source\n * @param targetLength\n * @param padValue\n * @returns\n */\nexport function padEnd(source: string | any[], targetLength: number, padValue: any) {\n  if (isString(source)) {\n    return source.padEnd(targetLength, padValue);\n  } else if (isArray(source)) {\n    const sourceLength = source.length;\n    if (sourceLength < targetLength) {\n      const diff = targetLength - sourceLength;\n      for (let i = 0; i < diff; i++) {\n        source.push(padValue);\n      }\n    }\n  }\n\n  return source;\n}\n\n/**\n * @ignore\n * omit keys of an object.\n * @param obj\n * @param keys\n */\nexport function omit<T = any>(obj: T, keys: string[]): T {\n  if (typeof obj === 'object') {\n    keys.forEach((key: string) => {\n      delete obj[key];\n    });\n  }\n\n  return obj;\n}\n\n/**\n * @ignore\n * @param sourceArray\n * @param targetArray\n * @param map\n */\nexport function uniq(sourceArray: any[], targetArray: any[] = [], map: Map<any, boolean> = new Map()) {\n  for (const source of sourceArray) {\n    if (!map.has(source)) {\n      targetArray.push(source);\n      map.set(source, true);\n    }\n  }\n  return targetArray;\n}\n","import { each } from '@antv/util';\nimport { DIRECTION } from '../constant';\nimport { Padding, Point, Region } from '../interface';\nimport { BBox as BBoxObject } from '../dependents';\n\n/**\n * \n */\nexport class BBox {\n  /** x  */\n  public x: number;\n  /** y  */\n  public y: number;\n  /**  */\n  public height: number;\n  /**  */\n  public width: number;\n\n  public static fromRange(minX: number, minY: number, maxX: number, maxY: number) {\n    return new BBox(minX, minY, maxX - minX, maxY - minY);\n  }\n\n  public static fromObject(bbox: BBoxObject) {\n    return new BBox(bbox.minX, bbox.minY, bbox.width, bbox.height);\n  }\n\n  constructor(x: number = 0, y: number = 0, width: number = 0, height: number = 0) {\n    this.x = x;\n    this.y = y;\n    this.height = height;\n    this.width = width;\n  }\n\n  public get minX(): number {\n    return this.x;\n  }\n\n  public get maxX(): number {\n    return this.x + this.width;\n  }\n\n  public get minY(): number {\n    return this.y;\n  }\n\n  public get maxY(): number {\n    return this.y + this.height;\n  }\n\n  public get tl(): Point {\n    return { x: this.x, y: this.y };\n  }\n\n  public get tr(): Point {\n    return { x: this.maxX, y: this.y };\n  }\n\n  public get bl(): Point {\n    return { x: this.x, y: this.maxY };\n  }\n\n  public get br(): Point {\n    return { x: this.maxX, y: this.maxY };\n  }\n\n  public get top(): Point {\n    return {\n      x: this.x + this.width / 2,\n      y: this.minY,\n    };\n  }\n\n  public get right(): Point {\n    return {\n      x: this.maxX,\n      y: this.y + this.height / 2,\n    };\n  }\n  public get bottom(): Point {\n    return {\n      x: this.x + this.width / 2,\n      y: this.maxY,\n    };\n  }\n  public get left(): Point {\n    return {\n      x: this.minX,\n      y: this.y + this.height / 2,\n    };\n  }\n  // end \n\n  /**\n   * \n   * @param {BBox} bbox \n   * @returns      \n   */\n  public isEqual(bbox: BBox): boolean {\n    return this.x === bbox.x && this.y === bbox.y && this.width === bbox.width && this.height === bbox.height;\n  }\n\n  /**\n   * \n   * @param child\n   */\n  public contains(child: BBox): boolean {\n    return child.minX >= this.minX && child.maxX <= this.maxX && child.minY >= this.minY && child.maxY <= this.maxY;\n  }\n\n  /**\n   * \n   * @returns \n   */\n  public clone(): BBox {\n    return new BBox(this.x, this.y, this.width, this.height);\n  }\n\n  /**\n   * \n   * @param subBBox\n   */\n  public add(...subBBox: BBox[]): BBox {\n    const bbox = this.clone();\n    each(subBBox, (b: BBox) => {\n      bbox.x = Math.min(b.x, bbox.x);\n      bbox.y = Math.min(b.y, bbox.y);\n      bbox.width = Math.max(b.maxX, bbox.maxX) - bbox.x;\n      bbox.height = Math.max(b.maxY, bbox.maxY) - bbox.y;\n    });\n\n    return bbox;\n  }\n\n  /**\n   * \n   * @param subBBox\n   */\n  public merge(...subBBox: BBox[]): BBox {\n    const bbox = this.clone();\n    each(subBBox, (b: BBox) => {\n      bbox.x = Math.max(b.x, bbox.x);\n      bbox.y = Math.max(b.y, bbox.y);\n      bbox.width = Math.min(b.maxX, bbox.maxX) - bbox.x;\n      bbox.height = Math.min(b.maxY, bbox.maxY) - bbox.y;\n    });\n\n    return bbox;\n  }\n\n  /**\n   * bbox \n   * @param subBBox\n   * @param direction\n   */\n  public cut(subBBox: BBox, direction: DIRECTION): BBox {\n    const width = subBBox.width;\n    const height = subBBox.height;\n\n    switch (direction) {\n      case DIRECTION.TOP:\n      case DIRECTION.TOP_LEFT:\n      case DIRECTION.TOP_RIGHT:\n        return BBox.fromRange(this.minX, this.minY + height, this.maxX, this.maxY);\n\n      case DIRECTION.RIGHT:\n      case DIRECTION.RIGHT_TOP:\n      case DIRECTION.RIGHT_BOTTOM:\n        return BBox.fromRange(this.minX, this.minY, this.maxX - width, this.maxY);\n\n      case DIRECTION.BOTTOM:\n      case DIRECTION.BOTTOM_LEFT:\n      case DIRECTION.BOTTOM_RIGHT:\n        return BBox.fromRange(this.minX, this.minY, this.maxX, this.maxY - height);\n\n      case DIRECTION.LEFT:\n      case DIRECTION.LEFT_TOP:\n      case DIRECTION.LEFT_BOTTOM:\n        return BBox.fromRange(this.minX + width, this.minY, this.maxX, this.maxY);\n      default:\n        // \n        return this;\n    }\n  }\n\n  /**\n   * \n   * @param gap\n   */\n  public shrink(gap: Padding): BBox {\n    const [top, right, bottom, left] = gap;\n\n    return new BBox(this.x + left, this.y + top, this.width - left - right, this.height - top - bottom);\n  }\n\n  /**\n   * \n   * @param gap\n   */\n  public expand(gap: Padding): BBox {\n    const [top, right, bottom, left] = gap;\n\n    return new BBox(this.x - left, this.y - top, this.width + left + right, this.height + top + bottom);\n  }\n\n  /**\n   * get the gap of two bbox, if not exceed, then 0\n   * @param bbox\n   * @returns [top, right, bottom, left]\n   */\n  public exceed(bbox: BBox): Padding {\n    return [\n      Math.max(-this.minY + bbox.minY, 0),\n      Math.max(this.maxX - bbox.maxX, 0),\n      Math.max(this.maxY - bbox.maxY, 0),\n      Math.max(-this.minX + bbox.minX, 0),\n    ];\n  }\n\n  /**\n   * \n   * @param bbox\n   */\n  public collide(bbox: BBox): boolean {\n    return this.minX < bbox.maxX && this.maxX > bbox.minX && this.minY < bbox.maxY && this.maxY > bbox.minY;\n  }\n\n  /**\n   * \n   * @returns \n   */\n  public size(): number {\n    return this.width * this.height;\n  }\n\n  /**\n   *  bbox \n   * @param p\n   */\n  public isPointIn(p: Point) {\n    return p.x >= this.minX && p.x <= this.maxX && p.y >= this.minY && p.y <= this.maxY;\n  }\n}\n\n/**\n *  bbox  region  bbox\n * @param bbox\n * @param region\n */\nexport const getRegionBBox = (bbox: BBox, region: Region): BBox => {\n  const { start, end } = region;\n\n  return new BBox(\n    bbox.x + bbox.width * start.x,\n    bbox.y + bbox.height * start.y,\n    bbox.width * Math.abs(end.x - start.x),\n    bbox.height * Math.abs(end.y - start.y)\n  );\n};\n\n/**\n *  bbox  points\n * @param bbox\n */\nexport function toPoints(bbox: Partial<BBox>): any[] {\n  return [\n    [bbox.minX, bbox.minY],\n    [bbox.maxX, bbox.minY],\n    [bbox.maxX, bbox.maxY],\n    [bbox.minX, bbox.maxY],\n  ];\n}\n","import { Coordinate } from '../dependents';\nimport { Point } from '../interface';\nimport { getSectorPath } from './graphics';\nimport { isBetween } from './helper';\nimport { BBox } from './bbox';\n\n/**\n * @ignore\n * Gets x dimension length\n * @param coordinate\n * @returns x dimension length\n */\nexport function getXDimensionLength(coordinate): number {\n  if (coordinate.isPolar && !coordinate.isTransposed) {\n    //  width \n    return (coordinate.endAngle - coordinate.startAngle) * coordinate.getRadius();\n  }\n\n  // \n  const start = coordinate.convert({ x: 0, y: 0 });\n  const end = coordinate.convert({ x: 1, y: 0 });\n  //  transpose \n  return Math.sqrt(Math.pow(end.x - start.x, 2) + Math.pow(end.y - start.y, 2));\n}\n\n/**\n * @ignore\n * Determines whether full circle is\n * @param coordinate\n * @returns true if full circle\n */\nexport function isFullCircle(coordinate: Coordinate): boolean {\n  if (coordinate.isPolar) {\n    const { startAngle, endAngle } = coordinate;\n    return endAngle - startAngle === Math.PI * 2;\n  }\n  return false;\n}\n\n/**\n * @ignore\n * \n * @param coordinate \n * @param point \n * @returns distance to center\n */\nexport function getDistanceToCenter(coordinate: Coordinate, point: Point): number {\n  const center = coordinate.getCenter() as Point;\n  return Math.sqrt((point.x - center.x) ** 2 + (point.y - center.y) ** 2);\n}\n\n/**\n * @ignore\n * \n * @param coordinate\n * @param point\n */\nexport function isPointInCoordinate(coordinate: Coordinate, point: Point) {\n  let result = false;\n\n  if (coordinate) {\n    if (coordinate.type === 'theta') {\n      const { start, end } = coordinate;\n      result = isBetween(point.x, start.x, end.x) && isBetween(point.y, start.y, end.y);\n    } else {\n      const invertPoint = coordinate.invert(point);\n    \n      result = isBetween(invertPoint.x, 0, 1) && isBetween(invertPoint.y, 0, 1);\n    }\n  }\n\n  return result;\n}\n\n/**\n * @ignore\n * \n */\nexport function getAngleByPoint(coordinate: Coordinate, point: Point): number {\n  const center = coordinate.getCenter();\n  return Math.atan2(point.y - center.y, point.x - center.x);\n}\n\n/**\n * @ignore\n * \n * @param coordinate\n * @returns\n */\nexport function getCoordinateClipCfg(coordinate: Coordinate, margin: number = 0) {\n  const { start, end } = coordinate;\n  const width = coordinate.getWidth();\n  const height = coordinate.getHeight();\n\n  if (coordinate.isPolar) {\n    const { startAngle, endAngle } = coordinate;\n    const center = coordinate.getCenter();\n    const radius = coordinate.getRadius();\n\n    return {\n      type: 'path',\n      startState: {\n        path: getSectorPath(center.x, center.y, radius + margin, startAngle, startAngle),\n      },\n      endState: (ratio) => {\n        const diff = (endAngle - startAngle) * ratio + startAngle;\n        const path = getSectorPath(center.x, center.y, radius + margin, startAngle, diff);\n        return {\n          path,\n        };\n      },\n      attrs: {\n        path: getSectorPath(center.x, center.y, radius + margin, startAngle, endAngle),\n      },\n    };\n  }\n\n  let endState;\n  if (coordinate.isTransposed) {\n    endState = {\n      height: height + margin * 2,\n    };\n  } else {\n    endState = {\n      width: width + margin * 2,\n    };\n  }\n\n  return {\n    type: 'rect',\n    startState: {\n      x: start.x - margin,\n      y: end.y - margin,\n      width: coordinate.isTransposed ? width + margin * 2 : 0,\n      height: coordinate.isTransposed ? 0 : height + margin * 2,\n    },\n    endState,\n    attrs: {\n      x: start.x - margin,\n      y: end.y - margin,\n      width: width + margin * 2,\n      height: height + margin * 2,\n    },\n  };\n}\n\n/**\n *  BBox\n * @param coordinate\n * @param margin\n */\nexport function getCoordinateBBox(coordinate: Coordinate, margin = 0) {\n  const { start, end } = coordinate;\n  const width = coordinate.getWidth();\n  const height = coordinate.getHeight();\n  const minX = Math.min(start.x, end.x);\n  const minY = Math.min(start.y, end.y);\n\n  return BBox.fromRange(minX - margin, minY - margin, minX + width + margin, minY + height + margin);\n}\n","import { firstValue, get, isEmpty, isNil, isNumber, isString, valuesOfKey } from '@antv/util';\nimport { GROUP_ATTRS } from '../constant';\nimport { getScale, Scale, Coordinate } from '../dependents';\nimport { LooseObject, ScaleOption, ViewCfg } from '../interface';\nimport { isFullCircle } from './coordinate';\n\nconst dateRegex =\n  /^(?:(?!0000)[0-9]{4}([-/.]+)(?:(?:0?[1-9]|1[0-2])\\1(?:0?[1-9]|1[0-9]|2[0-8])|(?:0?[13-9]|1[0-2])\\1(?:29|30)|(?:0?[13578]|1[02])\\1(?:31))|(?:[0-9]{2}(?:0[48]|[2468][048]|[13579][26])|(?:0[48]|[2468][048]|[13579][26])00)([-/.]+)0?2\\2(?:29))(\\s+([01]|([01][0-9]|2[0-3])):([0-9]|[0-5][0-9]):([0-9]|[0-5][0-9]))?$/;\n\n/**\n * \n * @param field \n * @param data \n * @returns default type \n */\nfunction getDefaultType(value: any): string {\n  let type = 'linear';\n  if (dateRegex.test(value)) {\n    type = 'timeCat';\n  } else if (isString(value)) {\n    type = 'cat';\n  }\n  return type;\n}\n\n/**\n * using the scale type if user specified, otherwise infer the type\n */\nexport function inferScaleType(scale: Scale, scaleDef: ScaleOption = {}, attrType: string, geometryType: string): string {\n  if (scaleDef.type) return scaleDef.type;\n  // identity scale \n  // geometry : edge,heatmap,interval,line,path,point,polygon,schema,voilininterval  linear scale \n  if (scale.type !== 'identity' && GROUP_ATTRS.includes(attrType) && ['interval'].includes(geometryType)) {\n    return 'cat';\n  }\n  return scale.isCategory ? 'cat' : scale.type;\n}\n\n/**\n * @ignore\n *  `field`  scale\n * @param field \n * @param [data] \n * @param [scaleDef] \n * @returns scale  Scale \n */\nexport function createScaleByField(field: string | number, data?: LooseObject[] | [], scaleDef?: ScaleOption): Scale {\n  const validData = data || [];\n\n  if (isNumber(field) || (isNil(firstValue(validData, field)) && isEmpty(scaleDef))) {\n    const Identity = getScale('identity');\n    return new Identity({\n      field: field.toString(),\n      values: [field],\n    });\n  }\n\n  const values = valuesOfKey(validData, field);\n\n  //  (fix-later  scale type )\n  const type = get(scaleDef, 'type', getDefaultType(values[0]));\n  const ScaleCtor = getScale(type);\n  return new ScaleCtor({\n    field,\n    values,\n    ...scaleDef,\n  });\n}\n\n/**\n * @ignore\n *  scale\n * @todo  scale.update() \n * @param scale  scale \n * @param newScale  Scale\n */\nexport function syncScale(scale: Scale, newScale: Scale) {\n  if (scale.type !== 'identity' && newScale.type !== 'identity') {\n    const obj = {};\n    for (const k in newScale) {\n      if (Object.prototype.hasOwnProperty.call(newScale, k)) {\n        obj[k] = newScale[k];\n      }\n    }\n\n    scale.change(obj);\n  }\n}\n\n/**\n * @ignore\n * get the scale name, if alias exist, return alias, or else field\n * @param scale\n * @returns the name of field\n */\nexport function getName(scale: Scale): string {\n  return scale.alias || scale.field;\n}\n\n/**\n *  scale values  coordinate  range\n * @param scale  scale \n * @param coordinate coordinate \n * @param theme theme\n */\nexport function getDefaultCategoryScaleRange(\n  scale: Scale,\n  coordinate: Coordinate,\n  theme: ViewCfg['theme']\n): Scale['range'] {\n  const { values } = scale;\n  const count = values.length;\n  let range;\n\n  if (count === 1) {\n    range = [0.5, 1]; // , [0.5,0.5] \n  } else {\n    let widthRatio = 1;\n    let offset = 0;\n\n    if (isFullCircle(coordinate)) {\n      if (!coordinate.isTransposed) {\n        range = [0, 1 - 1 / count];\n      } else {\n        widthRatio = get(theme, 'widthRatio.multiplePie', 1 / 1.3);\n        offset = (1 / count) * widthRatio;\n        range = [offset / 2, 1 - offset / 2];\n      }\n    } else {\n      offset = 1 / count / 2; // \n      range = [offset, 1 - offset]; // \n    }\n  }\n  return range;\n}\n\n/**\n * @function yscalemax\n * @param {yScale}\n */\nexport function getMaxScale(scale: Scale) {\n  // values[] NaN/undefined/null \n  const values = scale.values.filter((item) => !isNil(item) && !isNaN(item));\n\n  return Math.max(...values, isNil(scale.max) ? -Infinity : scale.max);\n}\n","import { deepMix, get, isBoolean } from '@antv/util';\nimport { DIRECTION } from '../constant';\nimport { Coordinate, Scale } from '../dependents';\nimport { AxisCfg, AxisOption, Point, Region } from '../interface';\nimport { getName } from './scale';\nimport { vec2 } from '@antv/matrix-util';\n\n/**\n * @ignore\n * get axis relative region ( 0 ~ 1) by direction when coordinate is rect\n * @param direction\n * @returns axis coordinate region\n */\nexport function getLineAxisRelativeRegion(direction: DIRECTION): Region {\n  let start;\n  let end;\n\n  switch (direction) {\n    case DIRECTION.TOP:\n      start = { x: 0, y: 1 };\n      end = { x: 1, y: 1 };\n      break;\n    case DIRECTION.RIGHT:\n      start = { x: 1, y: 0 };\n      end = { x: 1, y: 1 };\n      break;\n    case DIRECTION.BOTTOM:\n      start = { x: 0, y: 0 };\n      end = { x: 1, y: 0 };\n      break;\n    case DIRECTION.LEFT:\n      start = { x: 0, y: 0 };\n      end = { x: 0, y: 1 };\n      break;\n    default:\n      start = end = { x: 0, y: 0 };\n  }\n\n  return { start, end };\n}\n\n/**\n * @ignore\n * get axis relative region ( 0 ~ 1) by direction when coordinate is polar\n * @param coordinate\n * @returns axis coordinate region\n */\nexport function getCircleAxisRelativeRegion(coordinate: Coordinate) {\n  let start;\n  let end;\n  if (coordinate.isTransposed) {\n    start = {\n      x: 0,\n      y: 0,\n    };\n    end = {\n      x: 1,\n      y: 0,\n    };\n  } else {\n    start = {\n      x: 0,\n      y: 0,\n    };\n    end = {\n      x: 0,\n      y: 1,\n    };\n  }\n\n  return { start, end };\n}\n\n/**\n * @ignore\n * get the axis region from coordinate\n * @param coordinate\n * @param direction\n * @returns the axis region (start point, end point)\n */\nexport function getAxisRegion(coordinate: Coordinate, direction: DIRECTION): Region {\n  let region = { start: { x: 0, y: 0 }, end: { x: 0, y: 0 } };\n  if (coordinate.isRect) {\n    region = getLineAxisRelativeRegion(direction);\n  } else if (coordinate.isPolar) {\n    region = getCircleAxisRelativeRegion(coordinate);\n  }\n\n  const { start, end } = region;\n  return {\n    start: coordinate.convert(start),\n    end: coordinate.convert(end),\n  };\n}\n\n/**\n * @ignore\n * get axis factor\n * @param coordinate\n * @param direction\n * @returns factor\n */\nexport function getAxisFactor(coordinate: Coordinate, direction: DIRECTION): number {\n  // rect coordinate, by direction\n  if (coordinate.isRect) {\n    return coordinate.isTransposed\n      ? [DIRECTION.RIGHT, DIRECTION.BOTTOM].includes(direction)\n        ? 1\n        : -1\n      : [DIRECTION.BOTTOM, DIRECTION.RIGHT].includes(direction)\n      ? -1\n      : 1;\n  }\n\n  // polar y axis, by angle\n  if (coordinate.isPolar) {\n    const startAngle = coordinate.x.start;\n    return startAngle < 0 ? -1 : 1;\n  }\n\n  return 1;\n}\n\n/**\n * @ignore\n * whether the axis isVertical\n * @param region\n * @returns isVertical\n */\nexport function isVertical(region: Region): boolean {\n  const { start, end } = region;\n\n  return start.x === end.x;\n}\n\n/**\n * @ignore\n * get factor by region (real position)\n * @param region\n * @param center\n * @returns factor\n */\nexport function getAxisFactorByRegion(region: Region, center: Point): number {\n  const { start, end } = region;\n\n  const isAxisVertical = isVertical(region);\n\n  // \n  if (isAxisVertical) {\n    // ,,\n    if ((start.y - end.y) * (center.x - start.x) > 0) {\n      return 1;\n    } else {\n      return -1;\n    }\n  } else {\n    // ,,\n    if ((end.x - start.x) * (start.y - center.y) > 0) {\n      return -1;\n    } else {\n      return 1;\n    }\n  }\n}\n\n/**\n * @ignore\n * get the axis cfg from theme, will mix the common cfg of legend theme\n *\n * @param theme view theme object\n * @param direction axis direction\n * @returns axis theme cfg\n */\nexport function getAxisThemeCfg(theme: object, direction: string): object {\n  const axisTheme = get(theme, ['components', 'axis'], {});\n  return deepMix({}, get(axisTheme, ['common'], {}), deepMix({}, get(axisTheme, [direction], {})));\n}\n\n/**\n * get the options of axis titlemix the cfg from theme, avoid common themeCfg not work\n * @param theme\n * @param direction\n * @param axisOptions\n * @returns axis title options\n */\nexport function getAxisTitleOptions(theme: object, direction: string, axisOptions?: object): object {\n  const axisTheme = get(theme, ['components', 'axis'], {});\n  return deepMix(\n    {},\n    get(axisTheme, ['common', 'title'], {}),\n    deepMix({}, get(axisTheme, [direction, 'title'], {})),\n    axisOptions\n  );\n}\n\n/**\n * @ignore\n * get circle axis center and radius\n * @param coordinate\n */\nexport function getCircleAxisCenterRadius(coordinate: Coordinate) {\n  // @ts-ignore\n  const { x, y, circleCenter: center } = coordinate;\n  const isReflectY = y.start > y.end;\n  const start = coordinate.isTransposed\n    ? coordinate.convert({\n        x: isReflectY ? 0 : 1,\n        y: 0,\n      })\n    : coordinate.convert({\n        x: 0,\n        y: isReflectY ? 0 : 1,\n      });\n\n  const startVector: [number, number] = [start.x - center.x, start.y - center.y];\n  const normalVector: [number, number] = [1, 0];\n  const startAngle =\n    start.y > center.y ? vec2.angle(startVector, normalVector) : vec2.angle(startVector, normalVector) * -1;\n  const endAngle = startAngle + (x.end - x.start);\n  const radius = Math.sqrt((start.x - center.x) ** 2 + (start.y - center.y) ** 2);\n\n  return {\n    center,\n    radius,\n    startAngle,\n    endAngle,\n  };\n}\n\n/**\n * @ignore\n *  axis \n * @param axes\n * @param field\n * @returns the axis option of field\n */\nexport function getAxisOption(axes: Record<string, AxisOption> | boolean, field: string) {\n  if (isBoolean(axes)) {\n    return axes === false ? false : {};\n  }\n  return get(axes, [field]);\n}\n\n/**\n * @ignore\n *  position\n * @param axisOption\n * @param def\n */\nexport function getAxisDirection(axisOption: AxisOption, def: DIRECTION): DIRECTION {\n  return get(axisOption, 'position', def);\n}\n\n/**\n *  axis  title \n * @param scale\n * @param axisOption\n */\nexport function getAxisTitleText(scale: Scale, axisOption: AxisCfg): string {\n  return get(axisOption, ['title', 'text'], getName(scale));\n}\n","import { deepMix, each, every, get, isNil, isNumber } from '@antv/util';\nimport { LAYER } from '../constant';\nimport { IGroup } from '../dependents';\nimport { AxisCfg, Condition, Datum, FacetCfg, FacetData, FacetDataFilter, Region } from '../interface';\n\nimport View from '../chart/view';\nimport { getAxisOption } from '../util/axis';\n\n/**\n * facet \n *  -  facet\n *  - \n *\n * \n *\n *  init\n * 1. \n * 2. \n *\n *  render\n * 1. view \n * 2. title\n * 3. axis\n *\n *  clear\n * 1.  view\n *\n *  destroy\n * 1. clear\n * 2. \n * 3.  group\n */\nexport abstract class Facet<C extends FacetCfg<FacetData> = FacetCfg<FacetData>, F extends FacetData = FacetData> {\n  /**  view */\n  public view: View;\n  /**  */\n  public container: IGroup;\n  /**  */\n  public destroyed: boolean = false;\n\n  /**  */\n  protected cfg: C;\n  /**  */\n  protected facets: F[] = [];\n\n  constructor(view: View, cfg: C) {\n    this.view = view;\n    this.cfg = deepMix({}, this.getDefaultCfg(), cfg);\n  }\n\n  /**\n   * \n   */\n  public init() {\n    // \n    if (!this.container) {\n      this.container = this.createContainer();\n    }\n\n    // \n    const data = this.view.getData();\n    this.facets = this.generateFacets(data);\n  }\n\n  /**\n   *  view \n   *  -  view\n   *  - \n   *  - title\n   *\n   *  \n   */\n  public render() {\n    this.renderViews();\n  }\n\n  /**\n   *  facet\n   */\n  public update() {\n    //  facet  View  Geometry  view \n  }\n\n  /**\n   * clear  init \n   * \n   */\n  public clear() {\n    this.clearFacetViews();\n  }\n\n  /**\n   * \n   */\n  public destroy() {\n    this.clear();\n\n    if (this.container) {\n      this.container.remove(true);\n      this.container = undefined;\n    }\n\n    this.destroyed = true;\n    this.view = undefined;\n    this.facets = [];\n  }\n\n  /**\n   *  facet  view\n   * @param facet\n   */\n  protected facetToView(facet: F): View {\n    const { region, data, padding = this.cfg.padding } = facet;\n\n    const view = this.view.createView({\n      region,\n      padding,\n    });\n\n    // \n    view.data(data || []);\n    facet.view = view;\n\n    // \n    this.beforeEachView(view, facet);\n\n    const { eachView } = this.cfg;\n    if (eachView) {\n      eachView(view, facet);\n    }\n\n    // \n    this.afterEachView(view, facet);\n\n    return view;\n  }\n\n  // \n  private createContainer(): IGroup {\n    const foregroundGroup = this.view.getLayer(LAYER.FORE);\n    return foregroundGroup.addGroup();\n  }\n\n  /**\n   *  view\n   */\n  private renderViews() {\n    this.createFacetViews();\n  }\n\n  /**\n   *   view\n   */\n  private createFacetViews(): View[] {\n    //   view\n    return this.facets.map((facet): View => {\n      return this.facetToView(facet);\n    });\n  }\n\n  /**\n   *  view  facetView\n   */\n  private clearFacetViews() {\n    //  view  view\n    each(this.facets, (facet) => {\n      if (facet.view) {\n        this.view.removeView(facet.view);\n        facet.view = undefined;\n      }\n    });\n  }\n\n  /**\n   *  spacing\n   */\n  private parseSpacing() {\n    /**\n     * @example\n     *\n     * // \n     * //  10% 10%\n     * ['10%', '10%']\n     * //  10px 10px\n     * [10, 10]\n     *\n     * // \n     * ['10%', 10]\n     * //  10% 10px\n     */\n    const { width, height } = this.view.viewBBox;\n    const { spacing } = this.cfg;\n    return spacing.map((s: number, idx: number) => {\n      if (isNumber(s)) return s / (idx === 0 ? width : height);\n      else return parseFloat(s) / 100;\n    });\n  }\n\n  // \n\n  /**\n   * \n   * @protected\n   * @param data \n   * @param field \n   * @return \n   */\n  protected getFieldValues(data: Datum[], field: string): string[] {\n    const rst = [];\n    const cache: Record<string, boolean> = {};\n\n    //  Nil \n    each(data, (d: Datum) => {\n      const value = d[field];\n      if (!isNil(value) && !cache[value]) {\n        rst.push(value);\n        cache[value] = true;\n      }\n    });\n\n    return rst;\n  }\n\n  /**\n   *  region\n   * @param rows row \n   * @param cols col \n   * @param xIndex x  index\n   * @param yIndex y  index\n   */\n  protected getRegion(rows: number, cols: number, xIndex: number, yIndex: number): Region {\n    const [xSpacing, ySpacing] = this.parseSpacing();\n    // xSPacing, ySpacing\n    // \n    /**\n     * ratio * num + spacing * (num - 1) = 1\n     * => ratio = (1 - (spacing * (num - 1))) / num\n     *          = (1 + spacing) / num - spacing\n     *\n     * num  cols/rows\n     * spacing  xSpacing/ySpacing\n     */\n    const xRatio = (1 + xSpacing) / (cols === 0 ? 1 : cols) - xSpacing;\n    const yRatio = (1 + ySpacing) / (rows === 0 ? 1 : rows) - ySpacing;\n\n    //  index \n    const start = {\n      x: (xRatio + xSpacing) * xIndex,\n      y: (yRatio + ySpacing) * yIndex,\n    };\n    const end = {\n      x: start.x + xRatio,\n      y: start.y + yRatio,\n    };\n    return { start, end };\n  }\n\n  protected getDefaultCfg() {\n    return {\n      eachView: undefined,\n      showTitle: true,\n      spacing: [0, 0],\n      padding: 10,\n      fields: [],\n    };\n  }\n\n  /**\n   *  title  title columnTitlerowTitle\n   */\n  protected getDefaultTitleCfg() {\n    // @ts-ignore\n    const fontFamily = this.view.getTheme().fontFamily;\n    return {\n      style: {\n        fontSize: 14,\n        fill: '#666',\n        fontFamily,\n      },\n    };\n  }\n\n  /**\n   *  axis \n   * @param view\n   * @param facet\n   */\n  protected processAxis(view: View, facet: F) {\n    const options = view.getOptions();\n\n    const coordinateOption = options.coordinate;\n    const geometries = view.geometries;\n\n    const coordinateType = get(coordinateOption, 'type', 'rect');\n\n    if (coordinateType === 'rect' && geometries.length) {\n      if (isNil(options.axes)) {\n        // @ts-ignore\n        options.axes = {};\n      }\n      const axes = options.axes;\n\n      const [x, y] = geometries[0].getXYFields();\n\n      const xOption = getAxisOption(axes, x);\n      const yOption = getAxisOption(axes, y);\n\n      if (xOption !== false) {\n        options.axes[x] = this.getXAxisOption(x, axes, xOption, facet);\n      }\n\n      if (yOption !== false) {\n        options.axes[y] = this.getYAxisOption(y, axes, yOption, facet);\n      }\n    }\n  }\n\n  /**\n   * \n   * @param conditions\n   */\n  protected getFacetDataFilter(conditions: Condition[]): FacetDataFilter {\n    return (datum: Datum) => {\n      // \n      return every(conditions, (condition) => {\n        const { field, value } = condition;\n\n        if (!isNil(value) && field) {\n          return datum[field] === value;\n        }\n        return true;\n      });\n    };\n  }\n\n  /**\n   * @override  eachView\n   * @param view\n   * @param facet\n   */\n  protected abstract beforeEachView(view: View, facet: F);\n\n  /**\n   * @override  eachView \n   * @param view\n   * @param facet\n   */\n  protected abstract afterEachView(view: View, facet: F);\n\n  /**\n   * @override \n   * @param data\n   */\n  protected abstract generateFacets(data: Datum[]): F[];\n\n  /**\n   *  x \n   * @param x\n   * @param axes\n   * @param option\n   * @param facet\n   */\n  protected abstract getXAxisOption(x: string, axes: any, option: AxisCfg, facet: F): object;\n\n  /**\n   *  y \n   * @param y\n   * @param axes\n   * @param option\n   * @param facet\n   */\n  protected abstract getYAxisOption(y: string, axes: any, option: AxisCfg, facet: F): object;\n}\n","import { lowerCase } from '@antv/util';\nimport { FacetCtor } from '../interface';\nexport { Facet } from './facet';\n\n/**\n *  Facet \n */\nconst Facets: Record<string, FacetCtor> = {};\n\n/**\n *  type  facet \n * @param type \n */\nexport const getFacet = (type: string): FacetCtor => {\n  return Facets[lowerCase(type)];\n};\n\n/**\n *  Facet \n * @param type \n * @param ctor \n */\nexport const registerFacet = (type: string, ctor: FacetCtor) => {\n  Facets[lowerCase(type)] = ctor;\n};\n","import { assign } from '@antv/util';\nimport { IAction, IInteractionContext, LooseObject } from '../../interface';\n\n/**\n * Action \n */\nabstract class Action<T = LooseObject> implements IAction {\n  /** Action  */\n  public name;\n  /**  */\n  public context: IInteractionContext;\n  /** Action  */\n  protected cfg: T;\n  /**  this  */\n  protected cfgFields: string[];\n\n  constructor(context: IInteractionContext, cfg?: T) {\n    this.context = context;\n    this.cfg = cfg;\n    context.addAction(this);\n  }\n\n  /**\n   * \n   * @param cfg\n   */\n  protected applyCfg(cfg) {\n    assign(this, cfg);\n  }\n\n  /**\n   * Inits action\n   */\n  public init() {\n    this.applyCfg(this.cfg);\n  }\n\n  /**\n   * Destroys action\n   */\n  public destroy() {\n    //  action\n    this.context.removeAction(this);\n    // \n    this.context = null;\n  }\n}\n\nexport default Action;\n","import { ActionCallback } from '../../interface';\nimport Action from './base';\n\n/**  Action */\nexport default class CallbackAction extends Action {\n  /**\n   * \n   */\n  public callback: ActionCallback;\n  /**\n   * \n   */\n  public execute() {\n    if (this.callback) {\n      this.callback(this.context);\n    }\n  }\n  /**\n   * \n   */\n  public destroy() {\n    super.destroy();\n    this.callback = null;\n  }\n}\n","import { ActionCallback, IInteractionContext, LooseObject } from '../../interface';\nimport Action from './base';\nimport CallbackAction from './callback';\nimport { get } from '@antv/util';\n\n/** Action  */\ntype ActionConstructor = new (context: IInteractionContext, cfg?: LooseObject) => Action;\n\n/** @ignore */\ninterface ActionOption {\n  ActionClass: ActionConstructor;\n  cfg: LooseObject;\n}\n\n// Action \nconst ActionCache: Record<string, ActionOption> = {};\n\n/**\n *  Action \n * @param actionName - action \n * @param context \n * @returns Action \n */\nexport function createAction(actionName: string, context: IInteractionContext): Action {\n  const actionOption = ActionCache[actionName];\n  let action = null;\n  if (actionOption) {\n    const { ActionClass, cfg } = actionOption;\n    action = new ActionClass(context, cfg);\n    action.name = actionName;\n    action.init();\n  }\n  return action;\n}\n\n/**\n *  action  name \n * @param actionName action  name\n */\nexport function getActionClass(actionName: string): ActionConstructor {\n  const actionOption = ActionCache[actionName];\n  return get(actionOption, 'ActionClass');\n}\n\n/**\n *  Action\n * @param actionName - action \n * @param ActionClass -  action \n */\nexport function registerAction(actionName: string, ActionClass: ActionConstructor, cfg?: LooseObject) {\n  ActionCache[actionName] = {\n    ActionClass,\n    cfg,\n  };\n}\n\n/**\n *  Action\n * @param actionName action \n */\nexport function unregisterAction(actionName: string) {\n  delete ActionCache[actionName];\n}\n\n/**\n *  Action \n * @param callback - action \n * @param context \n * @returns Action \n */\nexport function createCallbackAction(callback: ActionCallback, context: IInteractionContext): CallbackAction {\n  const action = new CallbackAction(context);\n  action.callback = callback;\n  action.name = 'callback';\n  return action;\n}\n","import { vec2 } from '@antv/matrix-util';\nimport { each } from '@antv/util';\nimport { Coordinate, PathCommand } from '../../../dependents';\nimport { Point, Position } from '../../../interface';\nimport { getDistanceToCenter } from '../../../util/coordinate';\n\nfunction _points2path(points: Point[], isInCircle: boolean): PathCommand[] {\n  const path = [];\n  if (points.length) {\n    path.push(['M', points[0].x, points[0].y]);\n    for (let i = 1, length = points.length; i < length; i += 1) {\n      const item = points[i];\n      path.push(['L', item.x, item.y]);\n    }\n\n    if (isInCircle) {\n      path.push(['Z']);\n    }\n  }\n\n  return path;\n}\n\nfunction _convertArr(arr: number[], coord: Coordinate): any[] {\n  const tmp = [arr[0]];\n  for (let i = 1, len = arr.length; i < len; i = i + 2) {\n    const point = coord.convert({\n      x: arr[i],\n      y: arr[i + 1],\n    });\n    tmp.push(point.x, point.y);\n  }\n  return tmp;\n}\nfunction _convertArcPath(path: PathCommand, coord: Coordinate): any[] {\n  const { isTransposed } = coord;\n  const r = path[1];\n  const x = path[6];\n  const y = path[7];\n  const point = coord.convert({ x, y });\n  const direction = isTransposed ? 0 : 1;\n  return ['A', r, r, 0, 0, direction, point.x, point.y];\n}\n\nfunction _convertPolarPath(pre: PathCommand, cur: PathCommand, coord: Coordinate): PathCommand[] {\n  const { isTransposed, startAngle, endAngle } = coord;\n  const prePoint =\n    pre[0].toLowerCase() === 'a'\n      ? {\n          x: pre[6],\n          y: pre[7],\n        }\n      : {\n          x: pre[1],\n          y: pre[2],\n        };\n  const curPoint = {\n    x: cur[1],\n    y: cur[2],\n  };\n  const rst = [];\n  const xDim = isTransposed ? 'y' : 'x';\n  const angleRange = Math.abs(curPoint[xDim] - prePoint[xDim]) * (endAngle - startAngle);\n  const direction = curPoint[xDim] >= prePoint[xDim] ? 1 : 0; // \n  const flag = angleRange > Math.PI ? 1 : 0; // \n  const convertPoint = coord.convert(curPoint);\n  const r = getDistanceToCenter(coord, convertPoint);\n  if (r >= 0.5) {\n    // 1\n    if (angleRange === Math.PI * 2) {\n      const middlePoint = {\n        x: (curPoint.x + prePoint.x) / 2,\n        y: (curPoint.y + prePoint.y) / 2,\n      };\n      const middleConvertPoint = coord.convert(middlePoint);\n      rst.push(['A', r, r, 0, flag, direction, middleConvertPoint.x, middleConvertPoint.y]);\n      rst.push(['A', r, r, 0, flag, direction, convertPoint.x, convertPoint.y]);\n    } else {\n      rst.push(['A', r, r, 0, flag, direction, convertPoint.x, convertPoint.y]);\n    }\n  }\n  return rst;\n}\n\n// \nfunction _filterFullCirleLine(path: PathCommand[]) {\n  each(path, (subPath, index) => {\n    const cur = subPath;\n    if (cur[0].toLowerCase() === 'a') {\n      const pre = path[index - 1];\n      const next = path[index + 1];\n      if (next && next[0].toLowerCase() === 'a') {\n        if (pre && pre[0].toLowerCase() === 'l') {\n          pre[0] = 'M';\n        }\n      } else if (pre && pre[0].toLowerCase() === 'a') {\n        if (next && next[0].toLowerCase() === 'l') {\n          next[0] = 'M';\n        }\n      }\n    }\n  });\n}\n\n/**\n * @ignore\n * \n */\nexport const smoothBezier = (\n  points: Position[],\n  smooth: number,\n  isLoop: boolean,\n  constraint: Position[]\n): Position[] => {\n  const cps = [];\n  const hasConstraint = !!constraint;\n\n  let prevPoint: Position;\n  let nextPoint: Position;\n  let min: Position;\n  let max: Position;\n  let nextCp0: Position;\n  let cp1: Position;\n  let cp0: Position;\n\n  if (hasConstraint) {\n    [min, max] = constraint;\n    for (let i = 0, l = points.length; i < l; i++) {\n      const point = points[i];\n      min = vec2.min([0, 0], min, point) as [number, number];\n      max = vec2.max([0, 0], max, point) as [number, number];\n    }\n  }\n\n  for (let i = 0, len = points.length; i < len; i++) {\n    const point = points[i];\n    if (i === 0 && !isLoop) {\n      cp0 = point;\n    } else if (i === len - 1 && !isLoop) {\n      cp1 = point;\n      cps.push(cp0);\n      cps.push(cp1);\n    } else {\n      prevPoint = points[isLoop ? (i ? i - 1 : len - 1) : i - 1];\n      nextPoint = points[isLoop ? (i + 1) % len : i + 1];\n\n      let v: [number, number] = [0, 0];\n      v = vec2.sub(v, nextPoint, prevPoint) as [number, number];\n      v = vec2.scale(v, v, smooth) as [number, number];\n\n      let d0 = vec2.distance(point, prevPoint);\n      let d1 = vec2.distance(point, nextPoint);\n\n      const sum = d0 + d1;\n      if (sum !== 0) {\n        d0 /= sum;\n        d1 /= sum;\n      }\n\n      let v1 = vec2.scale([0, 0], v, -d0);\n      let v2 = vec2.scale([0, 0], v, d1);\n\n      cp1 = vec2.add([0, 0], point, v1) as Position;\n      nextCp0 = vec2.add([0, 0], point, v2) as Position;\n\n      // \n      nextCp0 = vec2.min([0, 0], nextCp0, vec2.max([0, 0], nextPoint, point)) as Position;\n      nextCp0 = vec2.max([0, 0], nextCp0, vec2.min([0, 0], nextPoint, point)) as Position;\n\n      //  cp1 \n      v1 = vec2.sub([0, 0], nextCp0, point);\n      v1 = vec2.scale([0, 0], v1, -d0 / d1);\n      cp1 = vec2.add([0, 0], point, v1) as Position;\n\n      // \n      cp1 = vec2.min([0, 0], cp1, vec2.max([0, 0], prevPoint, point)) as Position;\n      cp1 = vec2.max([0, 0], cp1, vec2.min([0, 0], prevPoint, point)) as Position;\n\n      //  nextCp0 \n      v2 = vec2.sub([0, 0], point, cp1);\n      v2 = vec2.scale([0, 0], v2, d1 / d0);\n      nextCp0 = vec2.add([0, 0], point, v2) as Position;\n\n      if (hasConstraint) {\n        cp1 = vec2.max([0, 0], cp1, min) as Position;\n        cp1 = vec2.min([0, 0], cp1, max) as Position;\n        nextCp0 = vec2.max([0, 0], nextCp0, min) as Position;\n        nextCp0 = vec2.min([0, 0], nextCp0, max) as Position;\n      }\n\n      cps.push(cp0);\n      cps.push(cp1);\n      cp0 = nextCp0;\n    }\n  }\n\n  if (isLoop) {\n    cps.push(cps.shift());\n  }\n\n  return cps;\n};\n\n/**\n * @ignore\n * \n */\nexport function catmullRom2bezier(crp: number[], z: boolean, constraint: Position[]): PathCommand[] {\n  const isLoop = !!z;\n  const pointList = [];\n  for (let i = 0, l = crp.length; i < l; i += 2) {\n    pointList.push([crp[i], crp[i + 1]]);\n  }\n\n  const controlPointList = smoothBezier(pointList, 0.4, isLoop, constraint);\n  const len = pointList.length;\n  const d1 = [];\n\n  let cp1: Position;\n  let cp2: Position;\n  let p: Position;\n\n  for (let i = 0; i < len - 1; i++) {\n    cp1 = controlPointList[i * 2];\n    cp2 = controlPointList[i * 2 + 1];\n    p = pointList[i + 1];\n\n    d1.push(['C', cp1[0], cp1[1], cp2[0], cp2[1], p[0], p[1]]);\n  }\n\n  if (isLoop) {\n    cp1 = controlPointList[len];\n    cp2 = controlPointList[len + 1];\n    p = pointList[0];\n\n    d1.push(['C', cp1[0], cp1[1], cp2[0], cp2[1], p[0], p[1]]);\n  }\n  return d1;\n}\n\n/**\n * @ignore\n *  path\n */\nexport function getLinePath(points: Point[], isInCircle?: boolean): PathCommand[] {\n  return _points2path(points, isInCircle);\n}\n\n/**\n * @ignore\n * \n */\nexport function getSplinePath(points: Point[], isInCircle?: boolean, constaint?: Position[]): PathCommand[] {\n  const data = [];\n  const first = points[0];\n  let prePoint = null;\n  if (points.length <= 2) {\n    // \n    return getLinePath(points, isInCircle);\n  }\n  for (let i = 0, len = points.length; i < len; i++) {\n    const point = points[i];\n    if (!prePoint || !(prePoint.x === point.x && prePoint.y === point.y)) {\n      data.push(point.x);\n      data.push(point.y);\n      prePoint = point;\n    }\n  }\n  const constraint = constaint || [\n    // \n    [0, 0],\n    [1, 1],\n  ];\n  const splinePath = catmullRom2bezier(data, isInCircle, constraint);\n  splinePath.unshift(['M', first.x, first.y]);\n  return splinePath;\n}\n\n/**\n * @ignore\n * \n */\nexport function convertNormalPath(coord, path: PathCommand[]): PathCommand[] {\n  const tmp = [];\n  each(path, (subPath) => {\n    const action = subPath[0];\n    switch (action.toLowerCase()) {\n      case 'm':\n      case 'l':\n      case 'c':\n        tmp.push(_convertArr(subPath, coord));\n        break;\n      case 'a':\n        tmp.push(_convertArcPath(subPath, coord));\n        break;\n      case 'z':\n      default:\n        tmp.push(subPath);\n        break;\n    }\n  });\n  return tmp;\n}\n\n/**\n * @ignore\n * \n */\nexport function convertPolarPath(coord, path: PathCommand[]): PathCommand[] {\n  let tmp = [];\n  let pre: PathCommand;\n  let cur: PathCommand;\n  let transposed: boolean;\n  let equals: boolean;\n  each(path, (subPath, index) => {\n    const action = subPath[0];\n\n    switch (action.toLowerCase()) {\n      case 'm':\n      case 'c':\n      case 'q':\n        tmp.push(_convertArr(subPath, coord));\n        break;\n      case 'l':\n        pre = path[index - 1];\n        cur = subPath;\n        transposed = coord.isTransposed;\n        // \n        equals = transposed ? pre[pre.length - 2] === cur[1] : pre[pre.length - 1] === cur[2];\n        if (equals) {\n          tmp = tmp.concat(_convertPolarPath(pre, cur, coord));\n        } else {\n          // y \n          tmp.push(_convertArr(subPath, coord));\n        }\n        break;\n      case 'a':\n        tmp.push(_convertArcPath(subPath, coord));\n        break;\n      case 'z':\n      default:\n        tmp.push(subPath);\n        break;\n    }\n  });\n  _filterFullCirleLine(tmp); // \n  return tmp;\n}\n","import { each, isArray } from '@antv/util';\nimport { View } from '../../chart';\nimport { BBox, PathCommand, Point } from '../../dependents';\nimport Geometry from '../../geometry/base';\nimport Element from '../../geometry/element/';\nimport { catmullRom2bezier, getLinePath } from '../../geometry/shape/util/path';\nimport { toPoints } from '../../util/bbox';\nimport { isPolygonsIntersect } from '@antv/path-util';\nimport { ComponentOption, IInteractionContext, LooseObject } from '../../interface';\n\nfunction getMaskBBox(context: IInteractionContext, tolerance: number) {\n  const event = context.event;\n  const maskShape = event.target;\n  const maskBBox = maskShape.getCanvasBBox();\n  //  bbox \n  if (!(maskBBox.width >= tolerance || maskBBox.height >= tolerance)) {\n    return null;\n  }\n  return maskBBox;\n}\n\nfunction getMaskPath(context: IInteractionContext, tolerance: number) {\n  const event = context.event;\n  const maskShape = event.target;\n  const maskBBox = maskShape.getCanvasBBox();\n  //  bbox \n  if (!(maskBBox.width >= tolerance || maskBBox.height >= tolerance)) {\n    return null;\n  }\n  return maskShape.attr('path');\n}\n\n/**\n * \n * @param context \n * @ignore\n */\nexport function getCurrentElement(context: IInteractionContext): Element {\n  const event = context.event;\n  let element;\n  const target = event.target;\n  if (target) {\n    element = target.get('element');\n  }\n  return element;\n}\n\n/**\n * \n * @param context \n * @ignore\n */\nexport function getDelegationObject(context: IInteractionContext): LooseObject {\n  const event = context.event;\n  const target = event.target;\n  let delegateObject;\n  if (target) {\n    delegateObject = target.get('delegateObject');\n  }\n  return delegateObject;\n}\n\nexport function isElementChange(context: IInteractionContext) {\n  const event = context.event.gEvent;\n  //  element label  shape \n  if (event && event.fromShape && event.toShape && event.fromShape.get('element') === event.toShape.get('element')) {\n    return false;\n  }\n  return true;\n}\n\n/**\n * \n * @param delegateObject \n * @ignore\n */\nexport function isList(delegateObject: LooseObject): boolean {\n  return delegateObject && delegateObject.component && delegateObject.component.isList();\n}\n\n/**\n * \n * @param delegateObject \n * @ignore\n */\nexport function isSlider(delegateObject: LooseObject): boolean {\n  return delegateObject && delegateObject.component && delegateObject.component.isSlider();\n}\n\n/**\n *  mask \n * @param context \n * @ignore\n */\nexport function isMask(context: IInteractionContext): boolean {\n  const event = context.event;\n  const target = event.target;\n  return target && target.get('name') === 'mask';\n}\n\n/**\n *  elements\n * @param context \n * @ignore\n */\nexport function getMaskedElements(context: IInteractionContext, tolerance: number): Element[] {\n  const target = context.event.target;\n  if (target.get('type') === 'path') {\n    const maskPath = getMaskPath(context, tolerance);\n    if (!maskPath) {\n      return;\n    }\n    return getElementsByPath(context.view, maskPath);\n  }\n  const maskBBox = getMaskBBox(context, tolerance);\n  //  bbox \n  if (!maskBBox) {\n    return null;\n  }\n  return getIntersectElements(context.view, maskBBox);\n}\n\n/**\n * @ignore\n */\nexport function getSiblingMaskElements(context: IInteractionContext, sibling: View, tolerance: number) {\n  const maskBBox = getMaskBBox(context, tolerance);\n  //  bbox \n  if (!maskBBox) {\n    return null;\n  }\n  const view = context.view;\n  const start = getSiblingPoint(view, sibling, { x: maskBBox.x, y: maskBBox.y });\n  const end = getSiblingPoint(view, sibling, { x: maskBBox.maxX, y: maskBBox.maxY });\n  const box = {\n    minX: start.x,\n    minY: start.y,\n    maxX: end.x,\n    maxY: end.y,\n  };\n  return getIntersectElements(sibling, box);\n}\n\n/**\n * \n * @param view View/Chart\n * @ignore\n */\nexport function getElements(view: View): Element[] {\n  const geometries = view.geometries;\n  let rst: Element[] = [];\n  each(geometries, (geom: Geometry) => {\n    const elements = geom.elements;\n    rst = rst.concat(elements);\n  });\n  if (view.views && view.views.length) {\n    each(view.views, (subView) => {\n      rst = rst.concat(getElements(subView));\n    });\n  }\n  return rst;\n}\n\n/**\n * \n * @param view View/Chart\n * @param field \n * @param value \n * @ignore\n */\nexport function getElementsByField(view: View, field: string, value: any) {\n  const elements = getElements(view);\n  return elements.filter((el) => {\n    return getElementValue(el, field) === value;\n  });\n}\n\n/**\n * \n * @param view View/Chart\n * @param stateName \n * @ignore\n */\nexport function getElementsByState(view: View, stateName: string): Element[] {\n  const geometries = view.geometries;\n  let rst: Element[] = [];\n  each(geometries, (geom: Geometry) => {\n    const elements = geom.getElementsBy((el) => el.hasState(stateName));\n    rst = rst.concat(elements);\n  });\n  return rst;\n}\n\n/**\n * \n * @param element \n * @param field \n * @ignore\n */\nexport function getElementValue(element: Element, field) {\n  const model = element.getModel();\n  const record = model.data;\n  let value;\n  if (isArray(record)) {\n    value = record[0][field];\n  } else {\n    value = record[field];\n  }\n  return value;\n}\n\n/**\n * \n * @param box1 1\n * @param box2 2\n * @ignore\n */\nexport function intersectRect(box1, box2) {\n  return !(box2.minX > box1.maxX || box2.maxX < box1.minX || box2.minY > box1.maxY || box2.maxY < box1.minY);\n}\n\n/**\n * \n * @param view View/Chart\n * @param box \n * @ignore\n */\nexport function getIntersectElements(view: View, box) {\n  const elements = getElements(view);\n  const rst = [];\n  each(elements, (el) => {\n    const shape = el.shape;\n    const shapeBBox = shape.getCanvasBBox();\n    if (intersectRect(box, shapeBBox)) {\n      rst.push(el);\n    }\n  });\n  return rst;\n}\nfunction pathToPoints(path: any[]) {\n  const points = [];\n  each(path, (seg) => {\n    const command = seg[0];\n    if (command !== 'A') {\n      for (let i = 1; i < seg.length; i = i + 2) {\n        points.push([seg[i], seg[i + 1]]);\n      }\n    } else {\n      const length = seg.length;\n      points.push([seg[length - 2], seg[length - 1]]);\n    }\n  });\n  return points;\n}\n/**\n * \n * @param view View/Chart\n * @param path \n * @ignore\n */\nexport function getElementsByPath(view: View, path: any[]) {\n  const elements = getElements(view);\n  const points = pathToPoints(path);\n  const rst = elements.filter((el: Element) => {\n    const shape = el.shape;\n    let shapePoints;\n    if (shape.get('type') === 'path') {\n      shapePoints = pathToPoints(shape.attr('path'));\n    } else {\n      const shapeBBox = shape.getCanvasBBox();\n      shapePoints = toPoints(shapeBBox);\n    }\n    return isPolygonsIntersect(points, shapePoints);\n  });\n  return rst;\n}\n\n/**\n *  View \n * @param view View/Chart\n * @ignore\n */\nexport function getComponents(view) {\n  return view.getComponents().map((co: ComponentOption) => co.component);\n}\n\n/** @ignore */\nexport function distance(p1: Point, p2: Point) {\n  const dx = p2.x - p1.x;\n  const dy = p2.y - p1.y;\n  return Math.sqrt(dx * dx + dy * dy);\n}\n\n/** @ignore */\nexport function getSpline(points: Point[], z: boolean): PathCommand[] {\n  if (points.length <= 2) {\n    return getLinePath(points, false);\n  }\n  const first = points[0];\n  const arr = [];\n  each(points, (point) => {\n    arr.push(point.x);\n    arr.push(point.y);\n  });\n  const path = catmullRom2bezier(arr, z, null);\n  path.unshift(['M', first.x, first.y]);\n  return path;\n}\n\n/**\n * \n * @param box \n * @param point \n * @ignore\n */\nexport function isInBox(box: BBox, point: Point) {\n  return box.x <= point.x && box.maxX >= point.x && box.y <= point.y && box.maxY > point.y;\n}\n\n/**\n *  view  views\n * @param view  view\n * @returns  views\n * @ignore\n */\nexport function getSilbings(view: View): View[] {\n  const parent = view.parent;\n  let siblings = null;\n  if (parent) {\n    siblings = parent.views.filter((sub) => sub !== view);\n  }\n  return siblings;\n}\n\nfunction point2Normalize(view: View, point: Point): Point {\n  const coord = view.getCoordinate();\n  return coord.invert(point);\n}\n/**\n *  view  view \n * @param view  view\n * @param sibling  view\n * @param point \n * @ignore\n */\nexport function getSiblingPoint(view: View, sibling: View, point: Point): Point {\n  const normalPoint = point2Normalize(view, point);\n  return sibling.getCoordinate().convert(normalPoint);\n}\n\n/**\n *  view \n *  view  includes\n *  x, y  isEqual \n * \n * @param records\n * @param record\n * @param xFiled\n * @param yField\n * @returns\n * @ignore\n */\nexport function isInRecords(records: object[], record: object, xFiled: string, yField: string) {\n  let isIn = false;\n  each(records, (r) => {\n    if (r[xFiled] === record[xFiled] && r[yField] === record[yField]) {\n      isIn = true;\n      return false;\n    }\n  });\n  return isIn;\n}\n\n//  field  scale view  view\nexport function getScaleByField(view: View, field: string) {\n  let scale = view.getScaleByField(field);\n  if (!scale && view.views) {\n    each(view.views, (subView) => {\n      scale = getScaleByField(subView, field);\n      if (scale) {\n        return false; // \n      }\n    });\n  }\n  return scale;\n}\n","import { each, get } from '@antv/util';\nimport { View } from '../chart';\nimport { BBox, IShape, Point } from '../dependents';\nimport { IAction, IInteractionContext, LooseObject } from '../interface';\nimport { getComponents, isInBox } from './action/util';\n\n/**\n * \n */\nexport default class Context implements IInteractionContext {\n  /**  Action */\n  public actions: IAction[] = [];\n  /**  View  */\n  public view: View;\n  /**  */\n  public event: LooseObject = null;\n\n  private cacheMap: LooseObject = {};\n\n  constructor(view: View) {\n    this.view = view;\n  }\n\n  /**\n   * \n   * @param params \n   *  - \n   *  - \n   */\n  public cache(...params) {\n    if (params.length === 1) {\n      return this.cacheMap[params[0]];\n    } else if (params.length === 2) {\n      this.cacheMap[params[0]] = params[1];\n    }\n  }\n\n  /**\n   *  Action\n   * @param name Action \n   */\n  public getAction(name: string): IAction {\n    return this.actions.find((action) => action.name === name);\n  }\n\n  /**\n   *  Action\n   * @param action Action \n   */\n  public addAction(action: IAction) {\n    this.actions.push(action);\n  }\n\n  /**\n   *  Action\n   * @param action Action \n   */\n  public removeAction(action: IAction) {\n    const actions = this.actions;\n    const index = this.actions.indexOf(action);\n    if (index >= 0) {\n      actions.splice(index, 1);\n    }\n  }\n\n  /**\n   * \n   */\n  public getCurrentPoint(): Point {\n    const event = this.event;\n    if (event) {\n      if (event.target instanceof HTMLElement) {\n        const canvas = this.view.getCanvas();\n        const point = canvas.getPointByClient(event.clientX, event.clientY);\n        return point;\n      } else {\n        return {\n          x: event.x,\n          y: event.y,\n        };\n      }\n    }\n    return null;\n  }\n\n  /**\n   *  shape\n   * @returns current shape\n   */\n  public getCurrentShape(): IShape {\n    return get(this.event, ['gEvent', 'shape']);\n  }\n\n  /**\n   *  View \n   */\n  public isInPlot() {\n    const point = this.getCurrentPoint();\n    if (point) {\n      return this.view.isPointInPlot(point);\n    }\n    return false;\n  }\n\n  /**\n   * \n   * @param name shape  name\n   */\n  public isInShape(name) {\n    const shape = this.getCurrentShape(); //  shape  parent \n    if (shape) {\n      return shape.get('name') === name;\n    }\n    return false;\n  }\n\n  /**\n   * \n   * @param name \n   */\n  public isInComponent(name?: string) {\n    const components = getComponents(this.view);\n    const point = this.getCurrentPoint();\n    if (point) {\n      return !!components.find((component) => {\n        const bbox = component.getBBox() as BBox;\n        if (name) {\n          return component.get('name') === name && isInBox(bbox, point);\n        } else {\n          return isInBox(bbox, point);\n        }\n      });\n    }\n    return false;\n  }\n\n  /**\n   * \n   */\n  public destroy() {\n    //  action \n    each(this.actions.slice(), (action) => {\n      action.destroy();\n    });\n    this.view = null;\n    this.event = null;\n    this.actions = null;\n    this.cacheMap = null;\n  }\n}\n","import { View } from '../chart';\nimport { LooseObject } from '../interface';\n\nexport type InteractionConstructor = new (view: View, cfg: LooseObject) => Interaction;\n\n/**\n * \n */\nexport default class Interaction {\n  /** view  chart */\n  protected view: View;\n  /**  */\n  protected cfg: LooseObject;\n\n  constructor(view: View, cfg: LooseObject) {\n    this.view = view;\n    this.cfg = cfg;\n  }\n\n  /**\n   * \n   */\n  public init() {\n    this.initEvents();\n  }\n\n  /**\n   * \n   */\n  protected initEvents() {}\n\n  /**\n   * \n   */\n  protected clearEvents() {}\n\n  /**\n   * \n   */\n  public destroy() {\n    this.clearEvents();\n  }\n}\n","import { each, isArray, isFunction, isString, debounce, throttle } from '@antv/util';\nimport { View } from '../chart';\nimport { ActionCallback, IAction, IInteractionContext, LooseObject } from '../interface';\nimport { createAction, createCallbackAction } from './action/register';\nimport InteractionContext from './context';\nimport Interaction from './interaction';\n\n//  action\nexport function parseAction(actionStr: string, context: IInteractionContext, arg?: any): ActionObject {\n  const arr = actionStr.split(':');\n  const actionName = arr[0];\n  //  action  action\n  const action = context.getAction(actionName) || createAction(actionName, context);\n  if (!action) {\n    throw new Error(`There is no action named ${actionName}`);\n  }\n  const methodName = arr[1];\n  return {\n    action,\n    methodName,\n    arg,\n  };\n}\n\n//  Action\nfunction executeAction(actionObject: ActionObject) {\n  const { action, methodName, arg } = actionObject;\n  if (action[methodName]) {\n    action[methodName](arg);\n  } else {\n    throw new Error(`Action(${action.name}) doesn't have a method called ${methodName}`);\n  }\n}\n\nconst STEP_NAMES = {\n  START: 'start',\n  SHOW_ENABLE: 'showEnable',\n  END: 'end',\n  ROLLBACK: 'rollback',\n  PROCESSING: 'processing',\n};\n\n/**  */\nexport interface InteractionStep {\n  /**\n   *  viewchart  documentwindow \n   */\n  trigger: string;\n  /**\n   *  action\n   * @param context - \n   */\n  isEnable?: (context: IInteractionContext) => boolean;\n  /**\n   * \n   * - action:method : action \n   * - [action1:method1, action2:method]\n   * - ActionCallback: \n   */\n  action: string | string[] | ActionCallback;\n  /**\n   *  action method \n   * -  action args \n   */\n  arg?: any | any[];\n  /**\n   * action \n   */\n  callback?: (context: IInteractionContext) => void;\n  /**\n   * @private\n   * \n   */\n  actionObject?: ActionObject | ActionObject[];\n  /**\n   * \n   */\n  once?: boolean;\n  /**\n   * \n   */\n  throttle?: ThrottleOption;\n  /**\n   * \n   */\n  debounce?: DebounceOption;\n}\n\n// action  debounce  throttlehttps://css-tricks.com/debouncing-throttling-explained-examples/\n/**\n * debounce \n */\nexport interface DebounceOption {\n  /**\n   * \n   */\n  wait: number;\n  /**\n   * \n   */\n  immediate?: boolean;\n}\n\n/**\n * throttle \n */\nexport interface ThrottleOption {\n  /**\n   * \n   */\n  wait: number;\n  /**\n   * \n   */\n  leading?: boolean;\n  /**\n   * \n   */\n  trailing?: boolean;\n}\n\n/**  action  */\ninterface ActionObject {\n  /**\n   *  action\n   */\n  action: IAction;\n  /**\n   * action \n   */\n  methodName: string;\n  /**\n   *  action \n   */\n  arg?: any;\n}\n\n/**  */\nexport interface InteractionSteps {\n  /**\n   * \n   */\n  showEnable?: InteractionStep[];\n  /**\n   * \n   */\n  start?: InteractionStep[];\n  /**\n   * \n   */\n  processing?: InteractionStep[];\n  /**\n   * \n   */\n  end?: InteractionStep[];\n  /**\n   * \n   */\n  rollback?: InteractionStep[];\n}\n\n/**\n * \n */\nexport default class GrammarInteraction extends Interaction {\n  // \n  private steps: InteractionSteps;\n  /**  */\n  public currentStepName: string;\n  /**\n   * \n   */\n  public context: IInteractionContext;\n\n  private callbackCaches: LooseObject = {};\n  // \n  private emitCaches: LooseObject = {};\n\n  constructor(view: View, steps: InteractionSteps) {\n    super(view, steps);\n    this.steps = steps;\n  }\n\n  /**\n   * \n   */\n  public init() {\n    this.initContext();\n    super.init();\n  }\n\n  /**\n   * \n   */\n  public destroy() {\n    super.destroy(); // \n    this.steps = null;\n    if (this.context) {\n      this.context.destroy();\n      this.context = null;\n    }\n\n    this.callbackCaches = null;\n    this.view = null;\n  }\n\n  /**\n   * \n   */\n  protected initEvents() {\n    each(this.steps, (stepArr, stepName) => {\n      each(stepArr, (step) => {\n        const callback = this.getActionCallback(stepName, step);\n        if (callback) {\n          //  callback callback \n          this.bindEvent(step.trigger, callback);\n        }\n      });\n    });\n  }\n\n  /**\n   * \n   */\n  protected clearEvents() {\n    each(this.steps, (stepArr, stepName) => {\n      each(stepArr, (step) => {\n        const callback = this.getActionCallback(stepName, step);\n        if (callback) {\n          this.offEvent(step.trigger, callback);\n        }\n      });\n    });\n  }\n\n  //  action\n  private initContext() {\n    const view = this.view;\n    const context = new InteractionContext(view);\n    this.context = context;\n    const steps = this.steps;\n    //  Action\n    each(steps, (subSteps: InteractionStep[]) => {\n      each(subSteps, (step: InteractionStep) => {\n        if (isFunction(step.action)) {\n          //  CallbackAction\n          step.actionObject = {\n            action: createCallbackAction(step.action, context),\n            methodName: 'execute',\n          };\n        } else if (isString(step.action)) {\n          // \n          step.actionObject = parseAction(step.action, context, step.arg);\n        } else if (isArray(step.action)) {\n          // \n          const actionArr = step.action;\n          const argArr = isArray(step.arg) ? step.arg : [step.arg];\n          step.actionObject = [];\n          each(actionArr, (actionStr, idx) => {\n            (step.actionObject as ActionObject[]).push(parseAction(actionStr, context, argArr[idx]));\n          });\n        }\n        //  action  actionObject\n      });\n    });\n  }\n\n  // \n  private isAllowStep(stepName: string): boolean {\n    const currentStepName = this.currentStepName;\n    const steps = this.steps;\n    // \n    if (currentStepName === stepName) {\n      return true;\n    }\n\n    if (stepName === STEP_NAMES.SHOW_ENABLE) {\n      // \n      return true;\n    }\n\n    if (stepName === STEP_NAMES.PROCESSING) {\n      //  start  processing\n      return currentStepName === STEP_NAMES.START;\n    }\n\n    if (stepName === STEP_NAMES.START) {\n      //  processing start end \n      return currentStepName !== STEP_NAMES.PROCESSING;\n    }\n\n    if (stepName === STEP_NAMES.END) {\n      return currentStepName === STEP_NAMES.PROCESSING || currentStepName === STEP_NAMES.START;\n    }\n\n    if (stepName === STEP_NAMES.ROLLBACK) {\n      if (steps[STEP_NAMES.END]) {\n        //  end,  end \n        return currentStepName === STEP_NAMES.END;\n      } else if (currentStepName === STEP_NAMES.START) {\n        //  end, \n        return true;\n      }\n    }\n    return false;\n  }\n\n  // \n  private isAllowExecute(stepName: string, step: InteractionStep): boolean {\n    if (this.isAllowStep(stepName)) {\n      const key = this.getKey(stepName, step);\n      // \n      if (step.once && this.emitCaches[key]) {\n        return false;\n      }\n      //  isEnable \n      if (step.isEnable) {\n        return step.isEnable(this.context);\n      }\n      return true; //  isEnable \n    }\n    return false;\n  }\n\n  private enterStep(stepName: string) {\n    this.currentStepName = stepName;\n    this.emitCaches = {}; // \n  }\n\n  // \n  private afterExecute(stepName: string, step) {\n    // show enable  step\n    if (stepName !== STEP_NAMES.SHOW_ENABLE && this.currentStepName !== stepName) {\n      this.enterStep(stepName);\n    }\n    const key = this.getKey(stepName, step);\n    // \n    this.emitCaches[key] = true;\n  }\n  // \n  private getKey(stepName, step) {\n    return stepName + step.trigger + step.action;\n  }\n\n  //  step \n  private getActionCallback(stepName: string, step: InteractionStep): (e: object) => void {\n    const context = this.context;\n    const callbackCaches = this.callbackCaches;\n    const actionObject = step.actionObject;\n    if (step.action && actionObject) {\n      const key = this.getKey(stepName, step);\n      if (!callbackCaches[key]) {\n        //  action \n        const actionCallback = (event) => {\n          context.event = event; //  event\n          if (this.isAllowExecute(stepName, step)) {\n            // \n            if (isArray(actionObject)) {\n              each(actionObject, (obj: ActionObject) => {\n                context.event = event; //  context.event \n                executeAction(obj);\n              });\n            } else {\n              context.event = event; //  context.event \n              executeAction(actionObject);\n            }\n            this.afterExecute(stepName, step);\n            if (step.callback) {\n              context.event = event; //  context.event \n              step.callback(context);\n            }\n          } else {\n            // \n            context.event = null;\n          }\n        };\n        //  debounce\n        if (step.debounce) {\n          callbackCaches[key] = debounce(actionCallback, step.debounce.wait, step.debounce.immediate);\n        } else if (step.throttle) {\n          //  throttle\n          callbackCaches[key] = throttle(actionCallback, step.throttle.wait, {\n            leading: step.throttle.leading,\n            trailing: step.throttle.trailing,\n          });\n        } else {\n          // \n          callbackCaches[key] = actionCallback;\n        }\n      }\n      return callbackCaches[key];\n    }\n    return null;\n  }\n\n  private bindEvent(eventName, callback) {\n    const nameArr = eventName.split(':');\n    if (nameArr[0] === 'window') {\n      window.addEventListener(nameArr[1], callback);\n    } else if (nameArr[0] === 'document') {\n      document.addEventListener(nameArr[1], callback);\n    } else {\n      this.view.on(eventName, callback);\n    }\n  }\n\n  private offEvent(eventName, callback) {\n    const nameArr = eventName.split(':');\n    if (nameArr[0] === 'window') {\n      window.removeEventListener(nameArr[1], callback);\n    } else if (nameArr[0] === 'document') {\n      document.removeEventListener(nameArr[1], callback);\n    } else {\n      this.view.off(eventName, callback);\n    }\n  }\n}\n","import { clone, isPlainObject, lowerCase, mix } from '@antv/util';\nimport { View } from '../chart';\nimport { LooseObject } from '../interface';\nimport GrammarInteraction, { InteractionSteps } from './grammar-interaction';\nimport { InteractionConstructor } from './interaction';\n\nconst Interactions: LooseObject = {};\n\n/**\n * \n * @param name \n * @returns \n */\nexport function getInteraction(name: string): InteractionSteps | InteractionConstructor {\n  return Interactions[lowerCase(name)];\n}\n\n/**\n * \n * @param name \n * @param interaction \n */\nexport function registerInteraction(name: string, interaction: InteractionSteps | InteractionConstructor) {\n  Interactions[lowerCase(name)] = interaction;\n}\n\n/**\n * \n * @param name \n * @param view  View \n * @param cfg \n */\nexport function createInteraction(name: string, view: View, cfg?: LooseObject) {\n  const interaciton = getInteraction(name);\n  if (!interaciton) {\n    return null;\n  }\n  if (isPlainObject(interaciton)) {\n    //  clone  interaction  step \n    const steps = mix(clone(interaciton), cfg) as InteractionSteps;\n    return new GrammarInteraction(view, steps);\n  } else {\n    const cls = interaciton as InteractionConstructor;\n    return new cls(view, cfg);\n  }\n}\n\nexport { default as Interaction } from './interaction';\nexport { Action, registerAction, getActionClass } from './action';\n","import { TOOLTIP_CSS_CONST } from '@antv/component';\nimport { ext } from '@antv/matrix-util';\nimport { deepMix } from '@antv/util';\nimport Element from '../../geometry/element';\nimport { LooseObject, StyleSheet } from '../../interface';\nimport { getAngle } from '../../util/graphics';\n\n/**\n *  axis \n * @param styleSheet\n */\nfunction createAxisStyles(styleSheet: StyleSheet): LooseObject {\n  return {\n    title: {\n      autoRotate: true,\n      position: 'center', // start, center, end\n      spacing: styleSheet.axisTitleSpacing,\n      style: {\n        fill: styleSheet.axisTitleTextFillColor,\n        fontSize: styleSheet.axisTitleTextFontSize,\n        lineHeight: styleSheet.axisTitleTextLineHeight,\n        textBaseline: 'middle',\n        fontFamily: styleSheet.fontFamily,\n      },\n      iconStyle: {\n        fill: styleSheet.axisDescriptionIconFillColor\n      }\n    },\n    label: {\n      autoRotate: false,\n      autoEllipsis: false,\n      autoHide: { type: 'equidistance', cfg: { minGap: 6 } },\n      offset: styleSheet.axisLabelOffset,\n      style: {\n        fill: styleSheet.axisLabelFillColor,\n        fontSize: styleSheet.axisLabelFontSize,\n        lineHeight: styleSheet.axisLabelLineHeight,\n        fontFamily: styleSheet.fontFamily,\n      },\n    },\n    line: {\n      style: {\n        lineWidth: styleSheet.axisLineBorder,\n        stroke: styleSheet.axisLineBorderColor,\n      },\n    },\n    grid: {\n      line: {\n        type: 'line',\n        style: {\n          stroke: styleSheet.axisGridBorderColor,\n          lineWidth: styleSheet.axisGridBorder,\n          lineDash: styleSheet.axisGridLineDash,\n        },\n      },\n      alignTick: true,\n      animate: true,\n    },\n    tickLine: {\n      style: {\n        lineWidth: styleSheet.axisTickLineBorder,\n        stroke: styleSheet.axisTickLineBorderColor,\n      },\n      alignTick: true, // \n      length: styleSheet.axisTickLineLength,\n    },\n    subTickLine: null,\n    animate: true,\n  };\n}\n\n/**\n *\n * @param styleSheet\n */\n// export function\n\n/**\n *  legend \n * @param styleSheet\n */\nfunction createLegendStyles(styleSheet: StyleSheet): LooseObject {\n  return {\n    title: null,\n    marker: {\n      symbol: 'circle',\n      spacing: styleSheet.legendMarkerSpacing,\n      style: {\n        r: styleSheet.legendCircleMarkerSize,\n        fill: styleSheet.legendMarkerColor,\n      },\n    },\n    itemName: {\n      spacing: 5, //  value \n      style: {\n        fill: styleSheet.legendItemNameFillColor,\n        fontFamily: styleSheet.fontFamily,\n        fontSize: styleSheet.legendItemNameFontSize,\n        lineHeight: styleSheet.legendItemNameLineHeight,\n        fontWeight: styleSheet.legendItemNameFontWeight,\n        textAlign: 'start',\n        textBaseline: 'middle',\n      },\n    },\n    itemStates: {\n      active: {\n        nameStyle: {\n          opacity: 0.8,\n        },\n      },\n      unchecked: {\n        nameStyle: {\n          fill: '#D8D8D8',\n        },\n        markerStyle: {\n          fill: '#D8D8D8',\n          stroke: '#D8D8D8',\n        },\n      },\n      inactive: {\n        nameStyle: {\n          fill: '#D8D8D8',\n        },\n        markerStyle: {\n          opacity: 0.2,\n        },\n      },\n    },\n    flipPage: true,\n    pageNavigator: {\n      marker: {\n        style: {\n          size: styleSheet.legendPageNavigatorMarkerSize,\n          inactiveFill: styleSheet.legendPageNavigatorMarkerInactiveFillColor,\n          inactiveOpacity: styleSheet.legendPageNavigatorMarkerInactiveFillOpacity,\n          fill: styleSheet.legendPageNavigatorMarkerFillColor,\n          opacity: styleSheet.legendPageNavigatorMarkerFillOpacity,\n        },\n      },\n      text: {\n        style: {\n          fill: styleSheet.legendPageNavigatorTextFillColor,\n          fontSize: styleSheet.legendPageNavigatorTextFontSize,\n        },\n      },\n    },\n    animate: false,\n    maxItemWidth: 200,\n    itemSpacing: styleSheet.legendItemSpacing,\n    itemMarginBottom: styleSheet.legendItemMarginBottom,\n    padding: styleSheet.legendPadding, // \n  };\n}\n\n/**\n * \n * @param styleSheet \n */\nexport function createThemeByStyleSheet(styleSheet: StyleSheet): LooseObject {\n  const shapeStyles = {\n    point: {\n      default: {\n        fill: styleSheet.pointFillColor,\n        r: styleSheet.pointSize,\n        stroke: styleSheet.pointBorderColor,\n        lineWidth: styleSheet.pointBorder,\n        fillOpacity: styleSheet.pointFillOpacity,\n      },\n      active: {\n        stroke: styleSheet.pointActiveBorderColor,\n        lineWidth: styleSheet.pointActiveBorder,\n      },\n      selected: {\n        stroke: styleSheet.pointSelectedBorderColor,\n        lineWidth: styleSheet.pointSelectedBorder,\n      },\n      inactive: {\n        fillOpacity: styleSheet.pointInactiveFillOpacity,\n        strokeOpacity: styleSheet.pointInactiveBorderOpacity,\n      },\n    },\n    hollowPoint: {\n      default: {\n        fill: styleSheet.hollowPointFillColor,\n        lineWidth: styleSheet.hollowPointBorder,\n        stroke: styleSheet.hollowPointBorderColor,\n        strokeOpacity: styleSheet.hollowPointBorderOpacity,\n        r: styleSheet.hollowPointSize,\n      },\n      active: {\n        stroke: styleSheet.hollowPointActiveBorderColor,\n        strokeOpacity: styleSheet.hollowPointActiveBorderOpacity,\n      },\n      selected: {\n        lineWidth: styleSheet.hollowPointSelectedBorder,\n        stroke: styleSheet.hollowPointSelectedBorderColor,\n        strokeOpacity: styleSheet.hollowPointSelectedBorderOpacity,\n      },\n      inactive: {\n        strokeOpacity: styleSheet.hollowPointInactiveBorderOpacity,\n      },\n    },\n    area: {\n      default: {\n        fill: styleSheet.areaFillColor,\n        fillOpacity: styleSheet.areaFillOpacity,\n        stroke: null,\n      },\n      active: {\n        fillOpacity: styleSheet.areaActiveFillOpacity,\n      },\n      selected: {\n        fillOpacity: styleSheet.areaSelectedFillOpacity,\n      },\n      inactive: {\n        fillOpacity: styleSheet.areaInactiveFillOpacity,\n      },\n    },\n    hollowArea: {\n      default: {\n        fill: null,\n        stroke: styleSheet.hollowAreaBorderColor,\n        lineWidth: styleSheet.hollowAreaBorder,\n        strokeOpacity: styleSheet.hollowAreaBorderOpacity,\n      },\n      active: {\n        fill: null,\n        lineWidth: styleSheet.hollowAreaActiveBorder,\n      },\n      selected: {\n        fill: null,\n        lineWidth: styleSheet.hollowAreaSelectedBorder,\n      },\n      inactive: {\n        strokeOpacity: styleSheet.hollowAreaInactiveBorderOpacity,\n      },\n    },\n    interval: {\n      default: {\n        fill: styleSheet.intervalFillColor,\n        fillOpacity: styleSheet.intervalFillOpacity,\n      },\n      active: {\n        stroke: styleSheet.intervalActiveBorderColor,\n        lineWidth: styleSheet.intervalActiveBorder,\n      },\n      selected: {\n        stroke: styleSheet.intervalSelectedBorderColor,\n        lineWidth: styleSheet.intervalSelectedBorder,\n      },\n      inactive: {\n        fillOpacity: styleSheet.intervalInactiveFillOpacity,\n        strokeOpacity: styleSheet.intervalInactiveBorderOpacity,\n      },\n    },\n    hollowInterval: {\n      default: {\n        fill: styleSheet.hollowIntervalFillColor,\n        stroke: styleSheet.hollowIntervalBorderColor,\n        lineWidth: styleSheet.hollowIntervalBorder,\n        strokeOpacity: styleSheet.hollowIntervalBorderOpacity,\n      },\n      active: {\n        stroke: styleSheet.hollowIntervalActiveBorderColor,\n        lineWidth: styleSheet.hollowIntervalActiveBorder,\n        strokeOpacity: styleSheet.hollowIntervalActiveBorderOpacity,\n      },\n      selected: {\n        stroke: styleSheet.hollowIntervalSelectedBorderColor,\n        lineWidth: styleSheet.hollowIntervalSelectedBorder,\n        strokeOpacity: styleSheet.hollowIntervalSelectedBorderOpacity,\n      },\n      inactive: {\n        stroke: styleSheet.hollowIntervalInactiveBorderColor,\n        lineWidth: styleSheet.hollowIntervalInactiveBorder,\n        strokeOpacity: styleSheet.hollowIntervalInactiveBorderOpacity,\n      },\n    },\n    line: {\n      default: {\n        stroke: styleSheet.lineBorderColor,\n        lineWidth: styleSheet.lineBorder,\n        strokeOpacity: styleSheet.lineBorderOpacity,\n        fill: null,\n        lineAppendWidth: 10,\n        lineCap: 'round',\n        lineJoin: 'round',\n      },\n      active: {\n        lineWidth: styleSheet.lineActiveBorder,\n      },\n      selected: {\n        lineWidth: styleSheet.lineSelectedBorder,\n      },\n      inactive: {\n        strokeOpacity: styleSheet.lineInactiveBorderOpacity,\n      },\n    },\n  };\n  const axisStyles = createAxisStyles(styleSheet);\n  const legendStyles = createLegendStyles(styleSheet);\n\n  return {\n    background: styleSheet.backgroundColor,\n    defaultColor: styleSheet.brandColor,\n    subColor: styleSheet.subColor,\n    semanticRed: styleSheet.paletteSemanticRed,\n    semanticGreen: styleSheet.paletteSemanticGreen,\n    padding: 'auto',\n    fontFamily: styleSheet.fontFamily,\n    // Theme\n    /** geometrygeometrynull */\n    columnWidthRatio: 1 / 2,\n    /**  */\n    maxColumnWidth: null,\n    /**  */\n    minColumnWidth: null,\n    /**  */\n    roseWidthRatio: 0.9999999,\n    /** / */\n    multiplePieWidthRatio: 1 / 1.3,\n    colors10: styleSheet.paletteQualitative10,\n    colors20: styleSheet.paletteQualitative20,\n    sequenceColors: styleSheet.paletteSequence,\n    shapes: {\n      point: [\n        'hollow-circle',\n        'hollow-square',\n        'hollow-bowtie',\n        'hollow-diamond',\n        'hollow-hexagon',\n        'hollow-triangle',\n        'hollow-triangle-down',\n        'circle',\n        'square',\n        'bowtie',\n        'diamond',\n        'hexagon',\n        'triangle',\n        'triangle-down',\n        'cross',\n        'tick',\n        'plus',\n        'hyphen',\n        'line',\n      ],\n      line: ['line', 'dash', 'dot', 'smooth'],\n      area: ['area', 'smooth', 'line', 'smooth-line'],\n      interval: ['rect', 'hollow-rect', 'line', 'tick'],\n    },\n    sizes: [1, 10],\n    geometries: {\n      interval: {\n        rect: {\n          default: {\n            style: shapeStyles.interval.default,\n          },\n          active: {\n            style: shapeStyles.interval.active,\n          },\n          inactive: {\n            style: shapeStyles.interval.inactive,\n          },\n          selected: {\n            style: (element: Element) => {\n              const coordinate = element.geometry.coordinate;\n              if (coordinate.isPolar && coordinate.isTransposed) {\n                const { startAngle, endAngle } = getAngle(element.getModel(), coordinate);\n                const middleAngle = (startAngle + endAngle) / 2;\n                const r = 7.5;\n                const x = r * Math.cos(middleAngle);\n                const y = r * Math.sin(middleAngle);\n                return {\n                  matrix: ext.transform(null, [['t', x, y]]),\n                };\n              }\n              return shapeStyles.interval.selected;\n            },\n          },\n        },\n        'hollow-rect': {\n          default: {\n            style: shapeStyles.hollowInterval.default,\n          },\n          active: {\n            style: shapeStyles.hollowInterval.active,\n          },\n          inactive: {\n            style: shapeStyles.hollowInterval.inactive,\n          },\n          selected: {\n            style: shapeStyles.hollowInterval.selected,\n          },\n        },\n        line: {\n          default: {\n            style: shapeStyles.hollowInterval.default,\n          },\n          active: {\n            style: shapeStyles.hollowInterval.active,\n          },\n          inactive: {\n            style: shapeStyles.hollowInterval.inactive,\n          },\n          selected: {\n            style: shapeStyles.hollowInterval.selected,\n          },\n        },\n        tick: {\n          default: {\n            style: shapeStyles.hollowInterval.default,\n          },\n          active: {\n            style: shapeStyles.hollowInterval.active,\n          },\n          inactive: {\n            style: shapeStyles.hollowInterval.inactive,\n          },\n          selected: {\n            style: shapeStyles.hollowInterval.selected,\n          },\n        },\n        funnel: {\n          default: {\n            style: shapeStyles.interval.default,\n          },\n          active: {\n            style: shapeStyles.interval.active,\n          },\n          inactive: {\n            style: shapeStyles.interval.inactive,\n          },\n          selected: {\n            style: shapeStyles.interval.selected,\n          },\n        },\n        pyramid: {\n          default: {\n            style: shapeStyles.interval.default,\n          },\n          active: {\n            style: shapeStyles.interval.active,\n          },\n          inactive: {\n            style: shapeStyles.interval.inactive,\n          },\n          selected: {\n            style: shapeStyles.interval.selected,\n          },\n        },\n      },\n      line: {\n        line: {\n          default: {\n            style: shapeStyles.line.default,\n          },\n          active: {\n            style: shapeStyles.line.active,\n          },\n          inactive: {\n            style: shapeStyles.line.inactive,\n          },\n          selected: {\n            style: shapeStyles.line.selected,\n          },\n        },\n        dot: {\n          default: {\n            style: {\n              ...shapeStyles.line.default,\n              lineCap: null,\n              lineDash: [1, 1],\n            },\n          },\n          active: {\n            style: {\n              ...shapeStyles.line.active,\n              lineCap: null,\n              lineDash: [1, 1],\n            },\n          },\n          inactive: {\n            style: {\n              ...shapeStyles.line.inactive,\n              lineCap: null,\n              lineDash: [1, 1],\n            },\n          },\n          selected: {\n            style: {\n              ...shapeStyles.line.selected,\n              lineCap: null,\n              lineDash: [1, 1],\n            },\n          },\n        },\n        dash: {\n          default: {\n            style: {\n              ...shapeStyles.line.default,\n              lineCap: null,\n              lineDash: [5.5, 1],\n            },\n          },\n          active: {\n            style: {\n              ...shapeStyles.line.active,\n              lineCap: null,\n              lineDash: [5.5, 1],\n            },\n          },\n          inactive: {\n            style: {\n              ...shapeStyles.line.inactive,\n              lineCap: null,\n              lineDash: [5.5, 1],\n            },\n          },\n          selected: {\n            style: {\n              ...shapeStyles.line.selected,\n              lineCap: null,\n              lineDash: [5.5, 1],\n            },\n          },\n        },\n        smooth: {\n          default: {\n            style: shapeStyles.line.default,\n          },\n          active: {\n            style: shapeStyles.line.active,\n          },\n          inactive: {\n            style: shapeStyles.line.inactive,\n          },\n          selected: {\n            style: shapeStyles.line.selected,\n          },\n        },\n        hv: {\n          default: {\n            style: shapeStyles.line.default,\n          },\n          active: {\n            style: shapeStyles.line.active,\n          },\n          inactive: {\n            style: shapeStyles.line.inactive,\n          },\n          selected: {\n            style: shapeStyles.line.selected,\n          },\n        },\n        vh: {\n          default: {\n            style: shapeStyles.line.default,\n          },\n          active: {\n            style: shapeStyles.line.active,\n          },\n          inactive: {\n            style: shapeStyles.line.inactive,\n          },\n          selected: {\n            style: shapeStyles.line.selected,\n          },\n        },\n        hvh: {\n          default: {\n            style: shapeStyles.line.default,\n          },\n          active: {\n            style: shapeStyles.line.active,\n          },\n          inactive: {\n            style: shapeStyles.line.inactive,\n          },\n          selected: {\n            style: shapeStyles.line.selected,\n          },\n        },\n        vhv: {\n          default: {\n            style: shapeStyles.line.default,\n          },\n          active: {\n            style: shapeStyles.line.active,\n          },\n          inactive: {\n            style: shapeStyles.line.inactive,\n          },\n          selected: {\n            style: shapeStyles.line.selected,\n          },\n        },\n      },\n      polygon: {\n        polygon: {\n          default: {\n            style: shapeStyles.interval.default,\n          },\n          active: {\n            style: shapeStyles.interval.active,\n          },\n          inactive: {\n            style: shapeStyles.interval.inactive,\n          },\n          selected: {\n            style: shapeStyles.interval.selected,\n          },\n        },\n      },\n      point: {\n        circle: {\n          default: {\n            style: shapeStyles.point.default,\n          },\n          active: {\n            style: shapeStyles.point.active,\n          },\n          inactive: {\n            style: shapeStyles.point.inactive,\n          },\n          selected: {\n            style: shapeStyles.point.selected,\n          },\n        },\n        square: {\n          default: {\n            style: shapeStyles.point.default,\n          },\n          active: {\n            style: shapeStyles.point.active,\n          },\n          inactive: {\n            style: shapeStyles.point.inactive,\n          },\n          selected: {\n            style: shapeStyles.point.selected,\n          },\n        },\n        bowtie: {\n          default: {\n            style: shapeStyles.point.default,\n          },\n          active: {\n            style: shapeStyles.point.active,\n          },\n          inactive: {\n            style: shapeStyles.point.inactive,\n          },\n          selected: {\n            style: shapeStyles.point.selected,\n          },\n        },\n        diamond: {\n          default: {\n            style: shapeStyles.point.default,\n          },\n          active: {\n            style: shapeStyles.point.active,\n          },\n          inactive: {\n            style: shapeStyles.point.inactive,\n          },\n          selected: {\n            style: shapeStyles.point.selected,\n          },\n        },\n        hexagon: {\n          default: {\n            style: shapeStyles.point.default,\n          },\n          active: {\n            style: shapeStyles.point.active,\n          },\n          inactive: {\n            style: shapeStyles.point.inactive,\n          },\n          selected: {\n            style: shapeStyles.point.selected,\n          },\n        },\n        triangle: {\n          default: {\n            style: shapeStyles.point.default,\n          },\n          active: {\n            style: shapeStyles.point.active,\n          },\n          inactive: {\n            style: shapeStyles.point.inactive,\n          },\n          selected: {\n            style: shapeStyles.point.selected,\n          },\n        },\n        'triangle-down': {\n          default: {\n            style: shapeStyles.point.default,\n          },\n          active: {\n            style: shapeStyles.point.active,\n          },\n          inactive: {\n            style: shapeStyles.point.inactive,\n          },\n          selected: {\n            style: shapeStyles.point.selected,\n          },\n        },\n        'hollow-circle': {\n          default: {\n            style: shapeStyles.hollowPoint.default,\n          },\n          active: {\n            style: shapeStyles.hollowPoint.active,\n          },\n          inactive: {\n            style: shapeStyles.hollowPoint.inactive,\n          },\n          selected: {\n            style: shapeStyles.hollowPoint.selected,\n          },\n        },\n        'hollow-square': {\n          default: {\n            style: shapeStyles.hollowPoint.default,\n          },\n          active: {\n            style: shapeStyles.hollowPoint.active,\n          },\n          inactive: {\n            style: shapeStyles.hollowPoint.inactive,\n          },\n          selected: {\n            style: shapeStyles.hollowPoint.selected,\n          },\n        },\n        'hollow-bowtie': {\n          default: {\n            style: shapeStyles.hollowPoint.default,\n          },\n          active: {\n            style: shapeStyles.hollowPoint.active,\n          },\n          inactive: {\n            style: shapeStyles.hollowPoint.inactive,\n          },\n          selected: {\n            style: shapeStyles.hollowPoint.selected,\n          },\n        },\n        'hollow-diamond': {\n          default: {\n            style: shapeStyles.hollowPoint.default,\n          },\n          active: {\n            style: shapeStyles.hollowPoint.active,\n          },\n          inactive: {\n            style: shapeStyles.hollowPoint.inactive,\n          },\n          selected: {\n            style: shapeStyles.hollowPoint.selected,\n          },\n        },\n        'hollow-hexagon': {\n          default: {\n            style: shapeStyles.hollowPoint.default,\n          },\n          active: {\n            style: shapeStyles.hollowPoint.active,\n          },\n          inactive: {\n            style: shapeStyles.hollowPoint.inactive,\n          },\n          selected: {\n            style: shapeStyles.hollowPoint.selected,\n          },\n        },\n        'hollow-triangle': {\n          default: {\n            style: shapeStyles.hollowPoint.default,\n          },\n          active: {\n            style: shapeStyles.hollowPoint.active,\n          },\n          inactive: {\n            style: shapeStyles.hollowPoint.inactive,\n          },\n          selected: {\n            style: shapeStyles.hollowPoint.selected,\n          },\n        },\n        'hollow-triangle-down': {\n          default: {\n            style: shapeStyles.hollowPoint.default,\n          },\n          active: {\n            style: shapeStyles.hollowPoint.active,\n          },\n          inactive: {\n            style: shapeStyles.hollowPoint.inactive,\n          },\n          selected: {\n            style: shapeStyles.hollowPoint.selected,\n          },\n        },\n        cross: {\n          default: {\n            style: shapeStyles.hollowPoint.default,\n          },\n          active: {\n            style: shapeStyles.hollowPoint.active,\n          },\n          inactive: {\n            style: shapeStyles.hollowPoint.inactive,\n          },\n          selected: {\n            style: shapeStyles.hollowPoint.selected,\n          },\n        },\n        tick: {\n          default: {\n            style: shapeStyles.hollowPoint.default,\n          },\n          active: {\n            style: shapeStyles.hollowPoint.active,\n          },\n          inactive: {\n            style: shapeStyles.hollowPoint.inactive,\n          },\n          selected: {\n            style: shapeStyles.hollowPoint.selected,\n          },\n        },\n        plus: {\n          default: {\n            style: shapeStyles.hollowPoint.default,\n          },\n          active: {\n            style: shapeStyles.hollowPoint.active,\n          },\n          inactive: {\n            style: shapeStyles.hollowPoint.inactive,\n          },\n          selected: {\n            style: shapeStyles.hollowPoint.selected,\n          },\n        },\n        hyphen: {\n          default: {\n            style: shapeStyles.hollowPoint.default,\n          },\n          active: {\n            style: shapeStyles.hollowPoint.active,\n          },\n          inactive: {\n            style: shapeStyles.hollowPoint.inactive,\n          },\n          selected: {\n            style: shapeStyles.hollowPoint.selected,\n          },\n        },\n        line: {\n          default: {\n            style: shapeStyles.hollowPoint.default,\n          },\n          active: {\n            style: shapeStyles.hollowPoint.active,\n          },\n          inactive: {\n            style: shapeStyles.hollowPoint.inactive,\n          },\n          selected: {\n            style: shapeStyles.hollowPoint.selected,\n          },\n        },\n      },\n      area: {\n        area: {\n          default: {\n            style: shapeStyles.area.default,\n          },\n          active: {\n            style: shapeStyles.area.active,\n          },\n          inactive: {\n            style: shapeStyles.area.inactive,\n          },\n          selected: {\n            style: shapeStyles.area.selected,\n          },\n        },\n        smooth: {\n          default: {\n            style: shapeStyles.area.default,\n          },\n          active: {\n            style: shapeStyles.area.active,\n          },\n          inactive: {\n            style: shapeStyles.area.inactive,\n          },\n          selected: {\n            style: shapeStyles.area.selected,\n          },\n        },\n        line: {\n          default: {\n            style: shapeStyles.hollowArea.default,\n          },\n          active: {\n            style: shapeStyles.hollowArea.active,\n          },\n          inactive: {\n            style: shapeStyles.hollowArea.inactive,\n          },\n          selected: {\n            style: shapeStyles.hollowArea.selected,\n          },\n        },\n        'smooth-line': {\n          default: {\n            style: shapeStyles.hollowArea.default,\n          },\n          active: {\n            style: shapeStyles.hollowArea.active,\n          },\n          inactive: {\n            style: shapeStyles.hollowArea.inactive,\n          },\n          selected: {\n            style: shapeStyles.hollowArea.selected,\n          },\n        },\n      },\n      schema: {\n        candle: {\n          default: {\n            style: shapeStyles.hollowInterval.default,\n          },\n          active: {\n            style: shapeStyles.hollowInterval.active,\n          },\n          inactive: {\n            style: shapeStyles.hollowInterval.inactive,\n          },\n          selected: {\n            style: shapeStyles.hollowInterval.selected,\n          },\n        },\n        box: {\n          default: {\n            style: shapeStyles.hollowInterval.default,\n          },\n          active: {\n            style: shapeStyles.hollowInterval.active,\n          },\n          inactive: {\n            style: shapeStyles.hollowInterval.inactive,\n          },\n          selected: {\n            style: shapeStyles.hollowInterval.selected,\n          },\n        },\n      },\n      edge: {\n        line: {\n          default: {\n            style: shapeStyles.line.default,\n          },\n          active: {\n            style: shapeStyles.line.active,\n          },\n          inactive: {\n            style: shapeStyles.line.inactive,\n          },\n          selected: {\n            style: shapeStyles.line.selected,\n          },\n        },\n        vhv: {\n          default: {\n            style: shapeStyles.line.default,\n          },\n          active: {\n            style: shapeStyles.line.active,\n          },\n          inactive: {\n            style: shapeStyles.line.inactive,\n          },\n          selected: {\n            style: shapeStyles.line.selected,\n          },\n        },\n        smooth: {\n          default: {\n            style: shapeStyles.line.default,\n          },\n          active: {\n            style: shapeStyles.line.active,\n          },\n          inactive: {\n            style: shapeStyles.line.inactive,\n          },\n          selected: {\n            style: shapeStyles.line.selected,\n          },\n        },\n        arc: {\n          default: {\n            style: shapeStyles.line.default,\n          },\n          active: {\n            style: shapeStyles.line.active,\n          },\n          inactive: {\n            style: shapeStyles.line.inactive,\n          },\n          selected: {\n            style: shapeStyles.line.selected,\n          },\n        },\n      },\n      violin: {\n        violin: {\n          default: {\n            style: shapeStyles.line.default,\n          },\n          active: {\n            style: shapeStyles.line.active,\n          },\n          inactive: {\n            style: shapeStyles.line.inactive,\n          },\n          selected: {\n            style: shapeStyles.line.selected,\n          },\n        },\n        smooth: {\n          default: {\n            style: shapeStyles.line.default,\n          },\n          active: {\n            style: shapeStyles.line.active,\n          },\n          inactive: {\n            style: shapeStyles.line.inactive,\n          },\n          selected: {\n            style: shapeStyles.line.selected,\n          },\n        },\n        hollow: {\n          default: {\n            style: shapeStyles.hollowArea.default,\n          },\n          active: {\n            style: shapeStyles.hollowArea.active,\n          },\n          inactive: {\n            style: shapeStyles.hollowArea.inactive,\n          },\n          selected: {\n            style: shapeStyles.hollowArea.selected,\n          },\n        },\n        'hollow-smooth': {\n          default: {\n            style: shapeStyles.hollowArea.default,\n          },\n          active: {\n            style: shapeStyles.hollowArea.active,\n          },\n          inactive: {\n            style: shapeStyles.hollowArea.inactive,\n          },\n          selected: {\n            style: shapeStyles.hollowArea.selected,\n          },\n        },\n      },\n    },\n    components: {\n      axis: {\n        common: axisStyles,\n        top: {\n          position: 'top',\n          grid: null,\n          title: null,\n          verticalLimitLength: 1 / 2,\n        },\n        bottom: {\n          position: 'bottom',\n          grid: null,\n          title: null,\n          verticalLimitLength: 1 / 2,\n        },\n        left: {\n          position: 'left',\n          title: null,\n          line: null,\n          tickLine: null,\n          verticalLimitLength: 1 / 3,\n        },\n        right: {\n          position: 'right',\n          title: null,\n          line: null,\n          tickLine: null,\n          verticalLimitLength: 1 / 3,\n        },\n        circle: {\n          title: null,\n          grid: deepMix({}, axisStyles.grid, { line: { type: 'line' } }),\n        },\n        radius: {\n          title: null,\n          grid: deepMix({}, axisStyles.grid, { line: { type: 'circle' } }),\n        },\n      },\n      legend: {\n        common: legendStyles,\n        right: {\n          layout: 'vertical',\n          padding: styleSheet.legendVerticalPadding,\n        },\n        left: {\n          layout: 'vertical',\n          padding: styleSheet.legendVerticalPadding,\n        },\n        top: {\n          layout: 'horizontal',\n          padding: styleSheet.legendHorizontalPadding,\n        },\n        bottom: {\n          layout: 'horizontal',\n          padding: styleSheet.legendHorizontalPadding,\n        },\n        continuous: {\n          title: null,\n          background: null,\n          track: {},\n          rail: {\n            type: 'color',\n            size: styleSheet.sliderRailHeight,\n            defaultLength: styleSheet.sliderRailWidth,\n            style: {\n              fill: styleSheet.sliderRailFillColor,\n              stroke: styleSheet.sliderRailBorderColor,\n              lineWidth: styleSheet.sliderRailBorder,\n            },\n          },\n          label: {\n            align: 'rail',\n            spacing: 4, //  rail \n            formatter: null,\n            style: {\n              fill: styleSheet.sliderLabelTextFillColor,\n              fontSize: styleSheet.sliderLabelTextFontSize,\n              lineHeight: styleSheet.sliderLabelTextLineHeight,\n              textBaseline: 'middle',\n              fontFamily: styleSheet.fontFamily,\n            },\n          },\n          handler: {\n            size: styleSheet.sliderHandlerWidth,\n            style: {\n              fill: styleSheet.sliderHandlerFillColor,\n              stroke: styleSheet.sliderHandlerBorderColor,\n            },\n          },\n          slidable: true,\n          padding: legendStyles.padding,\n        },\n      },\n      tooltip: {\n        showContent: true,\n        follow: true,\n        showCrosshairs: false,\n        showMarkers: true,\n        shared: false,\n        enterable: false,\n        position: 'auto',\n        marker: {\n          symbol: 'circle',\n          stroke: '#fff',\n          shadowBlur: 10,\n          shadowOffsetX: 0,\n          shadowOffsetY: 0,\n          shadowColor: 'rgba(0,0,0,0.09)',\n          lineWidth: 2,\n          r: 4,\n        },\n        crosshairs: {\n          line: {\n            style: {\n              stroke: styleSheet.tooltipCrosshairsBorderColor,\n              lineWidth: styleSheet.tooltipCrosshairsBorder,\n            },\n          },\n          text: null,\n          textBackground: {\n            padding: 2,\n            style: {\n              fill: 'rgba(0, 0, 0, 0.25)',\n              lineWidth: 0,\n              stroke: null,\n            },\n          },\n          follow: false,\n        },\n        // tooltip dom \n        domStyles: {\n          [`${TOOLTIP_CSS_CONST.CONTAINER_CLASS}`]: {\n            position: 'absolute',\n            visibility: 'hidden',\n            zIndex: 8,\n            transition: 'left 0.4s cubic-bezier(0.23, 1, 0.32, 1) 0s, top 0.4s cubic-bezier(0.23, 1, 0.32, 1) 0s',\n            backgroundColor: styleSheet.tooltipContainerFillColor,\n            opacity: styleSheet.tooltipContainerFillOpacity,\n            boxShadow: styleSheet.tooltipContainerShadow,\n            borderRadius: `${styleSheet.tooltipContainerBorderRadius}px`,\n            color: styleSheet.tooltipTextFillColor,\n            fontSize: `${styleSheet.tooltipTextFontSize}px`,\n            fontFamily: styleSheet.fontFamily,\n            lineHeight: `${styleSheet.tooltipTextLineHeight}px`,\n            padding: '0 12px 0 12px',\n          },\n          [`${TOOLTIP_CSS_CONST.TITLE_CLASS}`]: {\n            marginBottom: '12px',\n            marginTop: '12px',\n          },\n          [`${TOOLTIP_CSS_CONST.LIST_CLASS}`]: {\n            margin: 0,\n            listStyleType: 'none',\n            padding: 0,\n          },\n          [`${TOOLTIP_CSS_CONST.LIST_ITEM_CLASS}`]: {\n            listStyleType: 'none',\n            padding: 0,\n            marginBottom: '12px',\n            marginTop: '12px',\n            marginLeft: 0,\n            marginRight: 0,\n          },\n          [`${TOOLTIP_CSS_CONST.MARKER_CLASS}`]: {\n            width: '8px',\n            height: '8px',\n            borderRadius: '50%',\n            display: 'inline-block',\n            marginRight: '8px',\n          },\n          [`${TOOLTIP_CSS_CONST.VALUE_CLASS}`]: {\n            display: 'inline-block',\n            float: 'right',\n            marginLeft: '30px',\n          },\n        },\n      },\n      annotation: {\n        arc: {\n          style: {\n            stroke: styleSheet.annotationArcBorderColor,\n            lineWidth: styleSheet.annotationArcBorder,\n          },\n          animate: true,\n        },\n        line: {\n          style: {\n            stroke: styleSheet.annotationLineBorderColor,\n            lineDash: styleSheet.annotationLineDash,\n            lineWidth: styleSheet.annotationLineBorder,\n          },\n          text: {\n            position: 'start',\n            autoRotate: true,\n            style: {\n              fill: styleSheet.annotationTextFillColor,\n              stroke: styleSheet.annotationTextBorderColor,\n              lineWidth: styleSheet.annotationTextBorder,\n              fontSize: styleSheet.annotationTextFontSize,\n              textAlign: 'start',\n              fontFamily: styleSheet.fontFamily,\n              textBaseline: 'bottom',\n            },\n          },\n          animate: true,\n        },\n        text: {\n          style: {\n            fill: styleSheet.annotationTextFillColor,\n            stroke: styleSheet.annotationTextBorderColor,\n            lineWidth: styleSheet.annotationTextBorder,\n            fontSize: styleSheet.annotationTextFontSize,\n            textBaseline: 'middle',\n            textAlign: 'start',\n            fontFamily: styleSheet.fontFamily,\n          },\n          animate: true,\n        },\n        region: {\n          top: false,\n          style: {\n            lineWidth: styleSheet.annotationRegionBorder,\n            stroke: styleSheet.annotationRegionBorderColor,\n            fill: styleSheet.annotationRegionFillColor,\n            fillOpacity: styleSheet.annotationRegionFillOpacity,\n          }, // \n          animate: true,\n        },\n        image: {\n          top: false,\n          animate: true,\n        },\n        dataMarker: {\n          top: true,\n          point: {\n            style: {\n              r: 3,\n              stroke: styleSheet.brandColor,\n              lineWidth: 2,\n            },\n          },\n          line: {\n            style: {\n              stroke: styleSheet.annotationLineBorderColor,\n              lineWidth: styleSheet.annotationLineBorder,\n            },\n            length: styleSheet.annotationDataMarkerLineLength,\n          },\n          text: {\n            style: {\n              textAlign: 'start',\n              fill: styleSheet.annotationTextFillColor,\n              stroke: styleSheet.annotationTextBorderColor,\n              lineWidth: styleSheet.annotationTextBorder,\n              fontSize: styleSheet.annotationTextFontSize,\n              fontFamily: styleSheet.fontFamily,\n            },\n          },\n          direction: 'upward',\n          autoAdjust: true,\n          animate: true,\n        },\n        dataRegion: {\n          style: {\n            region: {\n              fill: styleSheet.annotationRegionFillColor,\n              fillOpacity: styleSheet.annotationRegionFillOpacity,\n            },\n            text: {\n              textAlign: 'center',\n              textBaseline: 'bottom',\n              fill: styleSheet.annotationTextFillColor,\n              stroke: styleSheet.annotationTextBorderColor,\n              lineWidth: styleSheet.annotationTextBorder,\n              fontSize: styleSheet.annotationTextFontSize,\n              fontFamily: styleSheet.fontFamily,\n            },\n          },\n          animate: true,\n        },\n      },\n      slider: {\n        common: {\n          padding: [8, 8, 8, 8],\n          backgroundStyle: {\n            fill: styleSheet.cSliderBackgroundFillColor,\n            opacity: styleSheet.cSliderBackgroundFillOpacity,\n          },\n          foregroundStyle: {\n            fill: styleSheet.cSliderForegroundFillColor,\n            opacity: styleSheet.cSliderForegroundFillOpacity,\n          },\n          handlerStyle: {\n            width: styleSheet.cSliderHandlerWidth,\n            height: styleSheet.cSliderHandlerHeight,\n            fill: styleSheet.cSliderHandlerFillColor,\n            opacity: styleSheet.cSliderHandlerFillOpacity,\n            stroke: styleSheet.cSliderHandlerBorderColor,\n            lineWidth: styleSheet.cSliderHandlerBorder,\n            radius: styleSheet.cSliderHandlerBorderRadius,\n            // \n            highLightFill: styleSheet.cSliderHandlerHighlightFillColor,\n          },\n          textStyle: {\n            fill: styleSheet.cSliderTextFillColor,\n            opacity: styleSheet.cSliderTextFillOpacity,\n            fontSize: styleSheet.cSliderTextFontSize,\n            lineHeight: styleSheet.cSliderTextLineHeight,\n            fontWeight: styleSheet.cSliderTextFontWeight,\n            stroke: styleSheet.cSliderTextBorderColor,\n            lineWidth: styleSheet.cSliderTextBorder,\n          },\n        },\n      },\n      scrollbar: {\n        common: {\n          padding: [8, 8, 8, 8],\n        },\n        default: {\n          style: {\n            trackColor: styleSheet.scrollbarTrackFillColor,\n            thumbColor: styleSheet.scrollbarThumbFillColor,\n          },\n        },\n        hover: {\n          style: {\n            thumbColor: styleSheet.scrollbarThumbHighlightFillColor,\n          },\n        },\n      },\n    },\n    labels: {\n      offset: 12,\n      style: {\n        fill: styleSheet.labelFillColor,\n        fontSize: styleSheet.labelFontSize,\n        fontFamily: styleSheet.fontFamily,\n        stroke: styleSheet.labelBorderColor,\n        lineWidth: styleSheet.labelBorder,\n      },\n      fillColorDark: styleSheet.labelFillColorDark,\n      fillColorLight: styleSheet.labelFillColorLight,\n      autoRotate: true,\n    },\n    innerLabels: {\n      style: {\n        fill: styleSheet.innerLabelFillColor,\n        fontSize: styleSheet.innerLabelFontSize,\n        fontFamily: styleSheet.fontFamily,\n        stroke: styleSheet.innerLabelBorderColor,\n        lineWidth: styleSheet.innerLabelBorder,\n      },\n      autoRotate: true,\n    },\n    overflowLabels: {\n      style: {\n        fill: styleSheet.overflowLabelFillColor,\n        fontSize: styleSheet.overflowLabelFontSize,\n        fontFamily: styleSheet.fontFamily,\n        stroke: styleSheet.overflowLabelBorderColor,\n        lineWidth: styleSheet.overflowLabelBorder,\n      },\n    },\n    pieLabels: {\n      labelHeight: 14,\n      offset: 10,\n      labelLine: {\n        style: {\n          lineWidth: styleSheet.labelLineBorder,\n        },\n      },\n      autoRotate: true,\n    },\n  };\n}\n","import { StyleSheetCfg } from '../../interface';\n\nconst BLACK_COLORS = {\n  100: '#000',\n  95: '#0D0D0D',\n  85: '#262626',\n  65: '#595959',\n  45: '#8C8C8C',\n  25: '#BFBFBF',\n  15: '#D9D9D9',\n  6: '#F0F0F0',\n};\n\nconst WHITE_COLORS = {\n  100: '#FFFFFF',\n  95: '#F2F2F2',\n  85: '#D9D9D9',\n  65: '#A6A6A6',\n  45: '#737373',\n  25: '#404040',\n  15: '#262626',\n  6: '#0F0F0F',\n};\n\nconst QUALITATIVE_10 = [\n  '#5B8FF9',\n  '#5AD8A6',\n  '#5D7092',\n  '#F6BD16',\n  '#6F5EF9',\n  '#6DC8EC',\n  '#945FB9',\n  '#FF9845',\n  '#1E9493',\n  '#FF99C3',\n];\n\nconst QUALITATIVE_20 = [\n  '#5B8FF9',\n  '#CDDDFD',\n  '#5AD8A6',\n  '#CDF3E4',\n  '#5D7092',\n  '#CED4DE',\n  '#F6BD16',\n  '#FCEBB9',\n  '#6F5EF9',\n  '#D3CEFD',\n  '#6DC8EC',\n  '#D3EEF9',\n  '#945FB9',\n  '#DECFEA',\n  '#FF9845',\n  '#FFE0C7',\n  '#1E9493',\n  '#BBDEDE',\n  '#FF99C3',\n  '#FFE0ED',\n];\n\n/**  */\nconst SINGLE_SEQUENCE = [\n  '#B8E1FF',\n  '#9AC5FF',\n  '#7DAAFF',\n  '#5B8FF9',\n  '#3D76DD',\n  '#085EC0',\n  '#0047A5',\n  '#00318A',\n  '#001D70',\n];\n\nexport const createLightStyleSheet = (cfg: StyleSheetCfg = {}) => {\n  const { paletteQualitative10 = QUALITATIVE_10, paletteQualitative20 = QUALITATIVE_20 } = cfg;\n  const { brandColor = paletteQualitative10[0] } = cfg;\n\n  const token = {\n    /**  */\n    backgroundColor: 'transparent',\n    /**  */\n    brandColor,\n    /**  */\n    subColor: 'rgba(0,0,0,0.05)',\n    /**  1 10  */\n    paletteQualitative10,\n    /**  2 10  */\n    paletteQualitative20,\n    /**  */\n    paletteSemanticRed: '#F4664A',\n    /**  */\n    paletteSemanticGreen: '#30BF78',\n    /**  */\n    paletteSemanticYellow: '#FAAD14',\n    /** () */\n    paletteSequence: SINGLE_SEQUENCE,\n    /**  */\n    fontFamily: `\"Segoe UI\", Roboto, \"Helvetica Neue\", Arial,\n    \"Noto Sans\", sans-serif, \"Apple Color Emoji\", \"Segoe UI Emoji\", \"Segoe UI Symbol\",\n    \"Noto Color Emoji\"`,\n\n    // --------------------  --------------------\n    /**  */\n    axisLineBorderColor: BLACK_COLORS[25],\n    /**  */\n    axisLineBorder: 1,\n    /**  lineDash  */\n    axisLineDash: null,\n\n    /**  */\n    axisTitleTextFillColor: BLACK_COLORS[65],\n    /**  */\n    axisTitleTextFontSize: 12,\n    /**  */\n    axisTitleTextLineHeight: 12,\n    /**  */\n    axisTitleTextFontWeight: 'normal',\n    /**  */\n    axisTitleSpacing: 12,\n    /** icon */\n    axisDescriptionIconFillColor: WHITE_COLORS[85],\n\n    /**  */\n    axisTickLineBorderColor: BLACK_COLORS[25],\n    /**  */\n    axisTickLineLength: 4,\n    /**  */\n    axisTickLineBorder: 1,\n\n    /**  */\n    axisSubTickLineBorderColor: BLACK_COLORS[15],\n    /**  */\n    axisSubTickLineLength: 2,\n    /**  */\n    axisSubTickLineBorder: 1,\n\n    /**  */\n    axisLabelFillColor: BLACK_COLORS[45],\n    /**  */\n    axisLabelFontSize: 12,\n    /**  */\n    axisLabelLineHeight: 12,\n    /**  */\n    axisLabelFontWeight: 'normal',\n    /**  */\n    axisLabelOffset: 8,\n\n    /**  */\n    axisGridBorderColor: BLACK_COLORS[15],\n    /**  */\n    axisGridBorder: 1,\n    /**  */\n    axisGridLineDash: null,\n\n    // --------------------  --------------------\n    /**  */\n    legendTitleTextFillColor: BLACK_COLORS[45],\n    /**  */\n    legendTitleTextFontSize: 12,\n    /**  */\n    legendTitleTextLineHeight: 21,\n    /**  */\n    legendTitleTextFontWeight: 'normal',\n\n    /**  marker  */\n    legendMarkerColor: brandColor,\n    /**  marker  */\n    legendMarkerSpacing: 8,\n    /**  marker  */\n    legendMarkerSize: 4,\n    /**  'circle' marker  */\n    legendCircleMarkerSize: 4,\n    /**  'square' marker  */\n    legendSquareMarkerSize: 4,\n    /**  'line' marker  */\n    legendLineMarkerSize: 5,\n\n    /**  */\n    legendItemNameFillColor: BLACK_COLORS[65],\n    /**  */\n    legendItemNameFontSize: 12,\n    /**  */\n    legendItemNameLineHeight: 12,\n    /**  */\n    legendItemNameFontWeight: 'normal',\n    /**  */\n    legendItemSpacing: 24,\n    /**  */\n    legendItemMarginBottom: 12,\n    /**   */\n    legendPadding: [8, 8, 8, 8],\n    /**  */\n    legendHorizontalPadding: [8, 0, 8, 0],\n    /**  */\n    legendVerticalPadding: [0, 8, 0, 8],\n\n    // \n    /**  marker  */\n    legendPageNavigatorMarkerSize: 12,\n    /**  marker  */\n    legendPageNavigatorMarkerInactiveFillColor: BLACK_COLORS[100],\n    /**  marker  */\n    legendPageNavigatorMarkerInactiveFillOpacity: 0.45,\n    /**  marker  */\n    legendPageNavigatorMarkerFillColor: BLACK_COLORS[100],\n    /**  marker  */\n    legendPageNavigatorMarkerFillOpacity: 1,\n    /**  */\n    legendPageNavigatorTextFillColor: BLACK_COLORS[45],\n    /**  */\n    legendPageNavigatorTextFontSize: 12,\n\n    /**  */\n    sliderRailFillColor: BLACK_COLORS[15],\n    /**  */\n    sliderRailBorder: 0,\n    /**  */\n    sliderRailBorderColor: null,\n    /**  */\n    sliderRailWidth: 100,\n    /**  */\n    sliderRailHeight: 12,\n\n    /**  */\n    sliderLabelTextFillColor: BLACK_COLORS[45],\n    /**  */\n    sliderLabelTextFontSize: 12,\n    /**  */\n    sliderLabelTextLineHeight: 12,\n    /**  */\n    sliderLabelTextFontWeight: 'normal',\n\n    /**  */\n    sliderHandlerFillColor: BLACK_COLORS[6],\n    /**  */\n    sliderHandlerWidth: 10,\n    /**  */\n    sliderHandlerHeight: 14,\n    /**  */\n    sliderHandlerBorder: 1,\n    /**  */\n    sliderHandlerBorderColor: BLACK_COLORS[25],\n\n    // -------------------- Annotation --------------------\n    /** arc  */\n    annotationArcBorderColor: BLACK_COLORS[15],\n    /** arc  */\n    annotationArcBorder: 1,\n\n    /** line  */\n    annotationLineBorderColor: BLACK_COLORS[25],\n    /** line  */\n    annotationLineBorder: 1,\n    /** lube  */\n    annotationLineDash: null,\n\n    /** text  */\n    annotationTextFillColor: BLACK_COLORS[65],\n    /** text  */\n    annotationTextFontSize: 12,\n    /** text  */\n    annotationTextLineHeight: 12,\n    /** text  */\n    annotationTextFontWeight: 'normal',\n    /** text  */\n    annotationTextBorderColor: null,\n    /** text  */\n    annotationTextBorder: 0,\n\n    /** region  */\n    annotationRegionFillColor: BLACK_COLORS[100],\n    /** region  */\n    annotationRegionFillOpacity: 0.06,\n    /** region  */\n    annotationRegionBorder: 0,\n    /** region  */\n    annotationRegionBorderColor: null,\n\n    /** dataMarker  */\n    annotationDataMarkerLineLength: 16,\n\n    // -------------------- Tooltip --------------------\n    /** tooltip crosshairs  */\n    tooltipCrosshairsBorderColor: BLACK_COLORS[25],\n    /** tooltip crosshairs  */\n    tooltipCrosshairsBorder: 1,\n    /** tooltip crosshairs  */\n    tooltipCrosshairsLineDash: null,\n\n    /** tooltip  */\n    tooltipContainerFillColor: 'rgb(255, 255, 255)',\n    tooltipContainerFillOpacity: 0.95,\n    /** tooltip  */\n    tooltipContainerShadow: '0px 0px 10px #aeaeae',\n    /** tooltip  */\n    tooltipContainerBorderRadius: 3,\n\n    /** tooltip  */\n    tooltipTextFillColor: BLACK_COLORS[65],\n    /** tooltip  */\n    tooltipTextFontSize: 12,\n    /** tooltip  */\n    tooltipTextLineHeight: 12,\n    /** tooltip  */\n    tooltipTextFontWeight: 'bold',\n\n    // -------------------- Geometry labels --------------------\n    /** Geometry label  */\n    labelFillColor: BLACK_COLORS[65],\n    labelFillColorDark: '#2c3542',\n    labelFillColorLight: '#ffffff',\n    /** Geometry label  */\n    labelFontSize: 12,\n    /** Geometry label  */\n    labelLineHeight: 12,\n    /** Geometry label  */\n    labelFontWeight: 'normal',\n    /** Geometry label  */\n    labelBorderColor: null,\n    /** Geometry label  */\n    labelBorder: 0,\n\n    /** Geometry innerLabel  */\n    innerLabelFillColor: WHITE_COLORS[100],\n    /** Geometry innerLabel  */\n    innerLabelFontSize: 12,\n    /** Geometry innerLabel  */\n    innerLabelLineHeight: 12,\n    /** Geometry innerLabel  */\n    innerLabelFontWeight: 'normal',\n    /** Geometry innerLabel  */\n    innerLabelBorderColor: null,\n    /** Geometry innerLabel  */\n    innerLabelBorder: 0,\n\n    /** Geometry overflowLabel  */\n    overflowLabelFillColor: BLACK_COLORS[65],\n    /** Geometry overflowLabel  */\n    overflowLabelFontSize: 12,\n    /** Geometry overflowLabel  */\n    overflowLabelLineHeight: 12,\n    /** Geometry overflowLabel  */\n    overflowLabelFontWeight: 'normal',\n    /** Geometry overflowLabel  */\n    overflowLabelBorderColor: WHITE_COLORS[100],\n    /** Geometry overflowLabel  */\n    overflowLabelBorder: 1,\n\n    /** Geometry label  */\n    labelLineBorder: 1,\n    /** Geometry label  */\n    labelLineBorderColor: BLACK_COLORS[25],\n\n    // -------------------- Slider --------------------\n    /** slider  */\n    cSliderRailHieght: 16,\n    /** slider  */\n    cSliderBackgroundFillColor: '#416180',\n    /** slider  */\n    cSliderBackgroundFillOpacity: 0.05,\n    /** slider  */\n    cSliderForegroundFillColor: '#5B8FF9',\n    /** slider  */\n    cSliderForegroundFillOpacity: 0.15,\n    // slider handlerStyle \n    /** slider  */\n    cSliderHandlerHeight: 24,\n    /** Slider  */\n    cSliderHandlerWidth: 10,\n    /** Slider  */\n    cSliderHandlerFillColor: '#F7F7F7',\n    /** Slider  */\n    cSliderHandlerFillOpacity: 1,\n    /** Slider  */\n    cSliderHandlerHighlightFillColor: '#FFF',\n    /** Slider  */\n    cSliderHandlerBorderColor: '#BFBFBF',\n    /** Slider  */\n    cSliderHandlerBorder: 1,\n    /** Slider  */\n    cSliderHandlerBorderRadius: 2,\n    // slider textStyle \n    /** Slider  */\n    cSliderTextFillColor: '#000',\n    /** Slider  */\n    cSliderTextFillOpacity: 0.45,\n    /** Slider  */\n    cSliderTextFontSize: 12,\n    /** Slider  */\n    cSliderTextLineHeight: 12,\n    /** Slider  */\n    cSliderTextFontWeight: 'normal',\n    /** Slider  */\n    cSliderTextBorderColor: null,\n    /** Slider  */\n    cSliderTextBorder: 0,\n\n    // -------------------- Scrollbar --------------------\n    /**   */\n    scrollbarTrackFillColor: 'rgba(0,0,0,0)',\n    /**   */\n    scrollbarThumbFillColor: 'rgba(0,0,0,0.15)',\n    /**   */\n    scrollbarThumbHighlightFillColor: 'rgba(0,0,0,0.2)',\n\n    // -------------------- Geometry --------------------\n    /**  */\n    pointFillColor: brandColor,\n    /**  */\n    pointFillOpacity: 0.95,\n    /**  */\n    pointSize: 4,\n    /**  */\n    pointBorder: 1,\n    /**  */\n    pointBorderColor: WHITE_COLORS[100],\n    /**  */\n    pointBorderOpacity: 1,\n\n    /**  active  */\n    pointActiveBorderColor: BLACK_COLORS[100],\n\n    /**  selected  */\n    pointSelectedBorder: 2,\n    /**  selected  */\n    pointSelectedBorderColor: BLACK_COLORS[100],\n\n    /**  inactive  */\n    pointInactiveFillOpacity: 0.3,\n    /**  inactive  */\n    pointInactiveBorderOpacity: 0.3,\n\n    /**  */\n    hollowPointSize: 4,\n    /**  */\n    hollowPointBorder: 1,\n    /**  */\n    hollowPointBorderColor: brandColor,\n    /**  */\n    hollowPointBorderOpacity: 0.95,\n    hollowPointFillColor: WHITE_COLORS[100],\n\n    /**  active  */\n    hollowPointActiveBorder: 1,\n    /**  active  */\n    hollowPointActiveBorderColor: BLACK_COLORS[100],\n    /**  active  */\n    hollowPointActiveBorderOpacity: 1,\n\n    /**  selected  */\n    hollowPointSelectedBorder: 2,\n    /**  selected  */\n    hollowPointSelectedBorderColor: BLACK_COLORS[100],\n    /**  selected  */\n    hollowPointSelectedBorderOpacity: 1,\n\n    /**  inactive  */\n    hollowPointInactiveBorderOpacity: 0.3,\n\n    /**  */\n    lineBorder: 2,\n    /**  */\n    lineBorderColor: brandColor,\n    /**  */\n    lineBorderOpacity: 1,\n\n    /**  Active  */\n    lineActiveBorder: 3,\n\n    /**  selected  */\n    lineSelectedBorder: 3,\n\n    /**  inactive  */\n    lineInactiveBorderOpacity: 0.3,\n\n    /** area  */\n    areaFillColor: brandColor,\n    /** area  */\n    areaFillOpacity: 0.25,\n\n    /** area  active  */\n    areaActiveFillColor: brandColor,\n    areaActiveFillOpacity: 0.5,\n\n    /** area  selected  */\n    areaSelectedFillColor: brandColor,\n    areaSelectedFillOpacity: 0.5,\n\n    /** area inactive  */\n    areaInactiveFillOpacity: 0.3,\n\n    /** hollowArea  */\n    hollowAreaBorderColor: brandColor,\n    /** hollowArea  */\n    hollowAreaBorder: 2,\n    /** hollowArea  */\n    hollowAreaBorderOpacity: 1,\n\n    /** hollowArea active  */\n    hollowAreaActiveBorder: 3,\n    hollowAreaActiveBorderColor: BLACK_COLORS[100],\n\n    /** hollowArea selected  */\n    hollowAreaSelectedBorder: 3,\n    hollowAreaSelectedBorderColor: BLACK_COLORS[100],\n\n    /** hollowArea inactive  */\n    hollowAreaInactiveBorderOpacity: 0.3,\n\n    /** interval  */\n    intervalFillColor: brandColor,\n    /** interval  */\n    intervalFillOpacity: 0.95,\n\n    /** interval active  */\n    intervalActiveBorder: 1,\n    /** interval active  */\n    intervalActiveBorderColor: BLACK_COLORS[100],\n    intervalActiveBorderOpacity: 1,\n\n    /** interval selected  */\n    intervalSelectedBorder: 2,\n    /** interval selected  */\n    intervalSelectedBorderColor: BLACK_COLORS[100],\n    /** interval selected  */\n    intervalSelectedBorderOpacity: 1,\n\n    /** interval inactive  */\n    intervalInactiveBorderOpacity: 0.3,\n    /** interval inactive  */\n    intervalInactiveFillOpacity: 0.3,\n\n    /** interval  */\n    hollowIntervalBorder: 2,\n    /** hollowInterval  */\n    hollowIntervalBorderColor: brandColor,\n    /** hollowInterval  */\n    hollowIntervalBorderOpacity: 1,\n    hollowIntervalFillColor: WHITE_COLORS[100],\n\n    /** hollowInterval active  */\n    hollowIntervalActiveBorder: 2,\n    /** hollowInterval active  */\n    hollowIntervalActiveBorderColor: BLACK_COLORS[100],\n\n    /** hollowInterval selected  */\n    hollowIntervalSelectedBorder: 3,\n    /** hollowInterval selected  */\n    hollowIntervalSelectedBorderColor: BLACK_COLORS[100],\n    /** hollowInterval selected  */\n    hollowIntervalSelectedBorderOpacity: 1,\n\n    /** hollowInterval inactive  */\n    hollowIntervalInactiveBorderOpacity: 0.3,\n  };\n\n  return { ...token, ...cfg };\n};\n\nexport const antvLight = createLightStyleSheet();\n","import { deepMix } from '@antv/util';\nimport { createThemeByStyleSheet } from './create-by-style-sheet';\nimport { createLightStyleSheet } from '../style-sheet/light';\nimport { LooseObject, StyleSheetCfg } from '../../interface';\n\ninterface ThemeCfg extends LooseObject {\n  styleSheet?: StyleSheetCfg;\n}\n\nexport function createTheme(themeCfg: ThemeCfg): LooseObject {\n  const { styleSheet: styleSheetCfg = {}, ...themeObject } = themeCfg;\n\n  //   ( light )\n  const styleSheet = createLightStyleSheet(styleSheetCfg);\n  //  \n  return deepMix({}, createThemeByStyleSheet(styleSheet), themeObject);\n}\n","import { get, lowerCase } from '@antv/util';\nimport { LooseObject } from '../interface';\n\nimport { createTheme } from './util';\n\nconst defaultTheme = createTheme({});\n\n// \nconst Themes: Record<string, LooseObject> = {\n  default: defaultTheme,\n};\n\n/**\n * \n * @param theme \n */\nexport function getTheme(theme?: string): LooseObject {\n  return get(Themes, lowerCase(theme), Themes.default);\n}\n\n/**\n * \n * @param theme \n * @param value \n */\nexport function registerTheme(theme: string, value: LooseObject) {\n  Themes[lowerCase(theme)] = createTheme(value);\n}\n","import {\n  contains,\n  filter,\n  find,\n  isArray,\n  isEmpty,\n  isFunction,\n  isNil,\n  isNumberEqual,\n  isObject,\n  memoize,\n  get,\n  values,\n} from '@antv/util';\nimport { View } from '../chart';\nimport { FIELD_ORIGIN, GROUP_ATTRS } from '../constant';\nimport { Attribute, Scale } from '../dependents';\nimport Geometry from '../geometry/base';\nimport { Data, Datum, MappingDatum, Point, TooltipCfg, TooltipTitle } from '../interface';\nimport { getName, inferScaleType } from './scale';\n\nfunction snapEqual(v1: any, v2: any, scale: Scale) {\n  const value1 = scale.translate(v1);\n  const value2 = scale.translate(v2);\n\n  return isNumberEqual(value1, value2);\n}\n\nfunction getXValueByPoint(point: Point, geometry: Geometry): number {\n  const coordinate = geometry.coordinate;\n  const xScale = geometry.getXScale();\n  const range = xScale.range;\n  const rangeMax = range[range.length - 1];\n  const rangeMin = range[0];\n\n  const invertPoint = coordinate.invert(point);\n\n  let xValue = invertPoint.x;\n  if (coordinate.isPolar && xValue > (1 + rangeMax) / 2) {\n    xValue = rangeMin; // scale  range \n  }\n  return xScale.translate(xScale.invert(xValue));\n}\n\nfunction filterYValue(data: Data, point: Point, geometry: Geometry) {\n  const coordinate = geometry.coordinate;\n  const yScale = geometry.getYScale();\n  const yField = yScale.field;\n  const invertPoint = coordinate.invert(point);\n  const yValue = yScale.invert(invertPoint.y);\n\n  const result = find(data, (obj: Datum) => {\n    const originData = obj[FIELD_ORIGIN];\n    return originData[yField][0] <= yValue && originData[yField][1] >= yValue;\n  });\n  return result || data[data.length - 1];\n}\n\nconst getXDistance = memoize((scale: Scale) => {\n  if (scale.isCategory) {\n    return 1;\n  }\n  const scaleValues = scale.values; // values \n  const length = scaleValues.length;\n  let min = scale.translate(scaleValues[0]);\n  let max = min;\n\n  for (let index = 0; index < length; index++) {\n    const value = scaleValues[index];\n    //  translate\n    const numericValue = scale.translate(value);\n    if (numericValue < min) {\n      min = numericValue;\n    }\n    if (numericValue > max) {\n      max = numericValue;\n    }\n  }\n  return (max - min) / (length - 1);\n});\n\n/**\n *  tooltip  title\n * @param originData\n * @param geometry\n * @param title\n */\nfunction getTooltipTitle(originData: Datum, geometry: Geometry, title: TooltipTitle): string {\n  const positionAttr = geometry.getAttribute('position');\n  const fields = positionAttr.getFields();\n  const scales = geometry.scales;\n\n  const titleField = isFunction(title) || !title ? fields[0] : title;\n  const titleScale = scales[titleField];\n\n  //  scale scale.getText() \n  //  scale title \n  const tooltipTitle = titleScale ? titleScale.getText(originData[titleField]) : originData[titleField] || titleField;\n\n  return isFunction(title) ? title(tooltipTitle, originData) : tooltipTitle;\n}\n\nfunction getAttributesForLegend(geometry: Geometry) {\n  const attributes = values(geometry.attributes);\n  return filter(attributes, (attribute: Attribute) => contains(GROUP_ATTRS, attribute.type));\n}\n\nfunction getTooltipValueScale(geometry: Geometry) {\n  const attributes = getAttributesForLegend(geometry);\n  let scale;\n  for (const attribute of attributes) {\n    const tmpScale = attribute.getScale(attribute.type);\n    if (tmpScale && tmpScale.isLinear) {\n      const tmpScaleDef = get(geometry.scaleDefs, tmpScale.field);\n      const inferedScaleType = inferScaleType(tmpScale, tmpScaleDef, attribute.type, geometry.type);\n      if (inferedScaleType !== 'cat') {\n        //  position \n        scale = tmpScale;\n        break;\n      }\n    }\n  }\n\n  const xScale = geometry.getXScale();\n  const yScale = geometry.getYScale();\n\n  return scale || yScale || xScale;\n}\n\nfunction getTooltipValue(originData: Datum, valueScale: Scale) {\n  const field = valueScale.field;\n  const value = originData[field];\n\n  if (isArray(value)) {\n    const texts = value.map((eachValue) => {\n      return valueScale.getText(eachValue);\n    });\n    return texts.join('-');\n  }\n  return valueScale.getText(value);\n}\n\n//  tooltip item  name \nfunction getTooltipName(originData: Datum, geometry: Geometry) {\n  let nameScale: Scale;\n  const groupScales = geometry.getGroupScales();\n  if (groupScales.length) {\n    // \n    nameScale = groupScales[0];\n  }\n  if (nameScale) {\n    const field = nameScale.field;\n    return nameScale.getText(originData[field]);\n  }\n\n  const valueScale = getTooltipValueScale(geometry);\n  return getName(valueScale);\n}\n\n/**\n * @ignore\n * Finds data from geometry by point\n * @param point canvas point\n * @param data an item of geometry.dataArray\n * @param geometry\n * @returns\n */\nexport function findDataByPoint(point: Point, data: MappingDatum[], geometry: Geometry) {\n  if (data.length === 0) {\n    return null;\n  }\n\n  const geometryType = geometry.type;\n  const xScale = geometry.getXScale();\n  const yScale = geometry.getYScale();\n\n  const xField = xScale.field;\n  const yField = yScale.field;\n\n  let rst = null;\n\n  //  point \n  if (geometryType === 'heatmap' || geometryType === 'point') {\n    //  point \n    const coordinate = geometry.coordinate;\n    const invertPoint = coordinate.invert(point); // \n    const x = xScale.invert(invertPoint.x); // \n    const y = yScale.invert(invertPoint.y); // \n\n    let min = Infinity;\n    for (let index = 0; index < data.length; index++) {\n      const obj = data[index];\n      const originData = obj[FIELD_ORIGIN];\n      const range = (originData[xField] - x) ** 2 + (originData[yField] - y) ** 2;\n      if (range < min) {\n        min = range;\n        rst = obj;\n      }\n    }\n\n    return rst;\n  }\n\n  //  Geometry  x \n  const first = data[0];\n  let last = data[data.length - 1];\n  const xValue = getXValueByPoint(point, geometry);\n  const firstXValue = first[FIELD_ORIGIN][xField];\n  const firstYValue = first[FIELD_ORIGIN][yField];\n  const lastXValue = last[FIELD_ORIGIN][xField];\n  const isYArray = yScale.isLinear && isArray(firstYValue); //  x y \n\n  //  x \n  if (isArray(firstXValue)) {\n    for (let index = 0; index < data.length; index++) {\n      const record = data[index];\n      const originData = record[FIELD_ORIGIN];\n      // xValue  originData[xField] \n      if (xScale.translate(originData[xField][0]) <= xValue && xScale.translate(originData[xField][1]) >= xValue) {\n        if (isYArray) {\n          // x  y \n          if (!isArray(rst)) {\n            rst = [];\n          }\n          rst.push(record);\n        } else {\n          rst = record;\n          break;\n        }\n      }\n    }\n    if (isArray(rst)) {\n      rst = filterYValue(rst, point, geometry);\n    }\n  } else {\n    let next;\n    if (!xScale.isLinear && xScale.type !== 'timeCat') {\n      // x \n      for (let index = 0; index < data.length; index++) {\n        const record = data[index];\n        const originData = record[FIELD_ORIGIN];\n        if (snapEqual(originData[xField], xValue, xScale)) {\n          if (isYArray) {\n            if (!isArray(rst)) {\n              rst = [];\n            }\n            rst.push(record);\n          } else {\n            rst = record;\n            break;\n          }\n        } else if (xScale.translate(originData[xField]) <= xValue) {\n          last = record;\n          next = data[index + 1];\n        }\n      }\n\n      if (isArray(rst)) {\n        rst = filterYValue(rst, point, geometry);\n      }\n    } else {\n      // x \n      if (\n        (xValue > xScale.translate(lastXValue) || xValue < xScale.translate(firstXValue)) &&\n        (xValue > xScale.max || xValue < xScale.min)\n      ) {\n        // \n        return null;\n      }\n\n      let firstIdx = 0;\n      let lastIdx = data.length - 1;\n      let middleIdx;\n      while (firstIdx <= lastIdx) {\n        middleIdx = Math.floor((firstIdx + lastIdx) / 2);\n        const item = data[middleIdx][FIELD_ORIGIN][xField];\n        if (snapEqual(item, xValue, xScale)) {\n          return data[middleIdx];\n        }\n\n        if (xScale.translate(item) <= xScale.translate(xValue)) {\n          firstIdx = middleIdx + 1;\n          last = data[middleIdx];\n          next = data[middleIdx + 1];\n        } else {\n          if (lastIdx === 0) {\n            last = data[0];\n          }\n          lastIdx = middleIdx - 1;\n        }\n      }\n    }\n\n    if (last && next) {\n      // \n      if (\n        Math.abs(xScale.translate(last[FIELD_ORIGIN][xField]) - xValue) >\n        Math.abs(xScale.translate(next[FIELD_ORIGIN][xField]) - xValue)\n      ) {\n        last = next;\n      }\n    }\n  }\n\n  const distance = getXDistance(geometry.getXScale()); // \n  if (!rst && Math.abs(xScale.translate(last[FIELD_ORIGIN][xField]) - xValue) <= distance / 2) {\n    rst = last;\n  }\n\n  return rst;\n}\n\n/**\n * @ignore\n * Gets tooltip items\n * @param data\n * @param geometry\n * @param [title]\n * @returns\n */\nexport function getTooltipItems(\n  data: MappingDatum,\n  geometry: Geometry,\n  title: TooltipTitle = '',\n  showNil: boolean = false\n) {\n  const originData = data[FIELD_ORIGIN];\n  const tooltipTitle = getTooltipTitle(originData, geometry, title);\n  const tooltipOption = geometry.tooltipOption;\n  const { defaultColor } = geometry.theme;\n  const items = [];\n  let name;\n  let value;\n\n  function addItem(itemName, itemValue) {\n    if (showNil || (!isNil(itemValue) && itemValue !== '')) {\n      //  null\n      const item = {\n        title: tooltipTitle,\n        data: originData, // \n        mappingData: data, // \n        name: itemName,\n        value: itemValue,\n        color: data.color || defaultColor,\n        marker: true,\n      };\n\n      items.push(item);\n    }\n  }\n\n  if (isObject(tooltipOption)) {\n    const { fields, callback } = tooltipOption;\n    if (callback) {\n      // \n      const callbackParams = fields.map((field: string) => {\n        return data[FIELD_ORIGIN][field];\n      });\n      const cfg = callback(...callbackParams);\n      const itemCfg = {\n        data: data[FIELD_ORIGIN], // \n        mappingData: data, // \n        title: tooltipTitle,\n        color: data.color || defaultColor,\n        marker: true, //  marker\n        ...cfg,\n      };\n\n      items.push(itemCfg);\n    } else {\n      const scales = geometry.scales;\n      for (const field of fields) {\n        if (!isNil(originData[field])) {\n          // null, undefined \n          const scale = scales[field];\n          name = getName(scale);\n          value = scale.getText(originData[field]);\n          addItem(name, value);\n        }\n      }\n    }\n  } else {\n    const valueScale = getTooltipValueScale(geometry);\n    // null ,undefined\n    value = getTooltipValue(originData, valueScale);\n    name = getTooltipName(originData, geometry);\n    addItem(name, value);\n  }\n  return items;\n}\n\nfunction getTooltipItemsByFindData(geometry: Geometry, point, title, tooltipCfg: TooltipCfg) {\n  const { showNil } = tooltipCfg;\n  const result = [];\n  const dataArray = geometry.dataArray;\n  if (!isEmpty(dataArray)) {\n    geometry.sort(dataArray); //  tooltip \n    for (const data of dataArray) {\n      const record = findDataByPoint(point, data, geometry);\n      if (record) {\n        const elementId = geometry.getElementId(record);\n        const element = geometry.elementsMap[elementId];\n        if (geometry.type === 'heatmap' || element.visible) {\n          // Heatmap  Element\n          //  tooltip \n          const items = getTooltipItems(record, geometry, title, showNil);\n          if (items.length) {\n            result.push(items);\n          }\n        }\n      }\n    }\n  }\n\n  return result;\n}\n\nfunction getTooltipItemsByHitShape(geometry, point, title, tooltipCfg: TooltipCfg) {\n  const { showNil } = tooltipCfg;\n  const result = [];\n  const container = geometry.container;\n  const shape = container.getShape(point.x, point.y);\n  if (shape && shape.get('visible') && shape.get('origin')) {\n    const mappingData = shape.get('origin').mappingData;\n    const items = getTooltipItems(mappingData, geometry, title, showNil);\n    if (items.length) {\n      result.push(items);\n    }\n  }\n\n  return result;\n}\n\n/**\n * \n */\nexport function findItemsFromView(view: View, point: Point, tooltipCfg: TooltipCfg) {\n  const result = [];\n  //  view \n  const geometries = view.geometries;\n  const { shared, title, reversed } = tooltipCfg;\n  for (const geometry of geometries) {\n    if (geometry.visible && geometry.tooltipOption !== false) {\n      // geometry  tooltip\n      const geometryType = geometry.type;\n      let tooltipItems;\n      if (['point', 'edge', 'polygon'].includes(geometryType)) {\n        // \n        tooltipItems = getTooltipItemsByHitShape(geometry, point, title, tooltipCfg);\n      } else if (['area', 'line', 'path', 'heatmap'].includes(geometryType)) {\n        //  'area', 'line', 'path' tooltip\n        tooltipItems = getTooltipItemsByFindData(geometry, point, title, tooltipCfg);\n      } else {\n        if (shared !== false) {\n          tooltipItems = getTooltipItemsByFindData(geometry, point, title, tooltipCfg);\n        } else {\n          tooltipItems = getTooltipItemsByHitShape(geometry, point, title, tooltipCfg);\n        }\n      }\n      if (tooltipItems.length) {\n        if (reversed) {\n          tooltipItems.reverse();\n        }\n        // geometry  item geometry.tooltip('x*y*z')\n        result.push(tooltipItems);\n      }\n    }\n  }\n\n  return result;\n}\n\nexport function findItemsFromViewRecurisive(view: View, point: Point, tooltipCfg: TooltipCfg) {\n  let result = findItemsFromView(view, point, tooltipCfg);\n\n  // \n  for (const childView of view.views) {\n    result = result.concat(findItemsFromView(childView, point, tooltipCfg));\n  }\n\n  return result;\n}\n","import { isArray, isNumber } from '@antv/util';\nimport { Padding, ViewPadding } from '../interface';\n\n/**\n * @ignore\n *  padding\n * @param padding\n */\nexport function isAutoPadding(padding: ViewPadding): padding is 'auto' {\n  return !isNumber(padding) && !isArray(padding);\n}\n\n/**\n * @ignore\n * padding \n * @param padding\n * @return [ top, right, bottom, left ]\n */\nexport function parsePadding(padding: number[] | number = 0): Padding {\n  let paddingArray = isArray(padding) ? padding : [padding];\n\n  switch (paddingArray.length) {\n    case 0:\n      paddingArray = [0, 0, 0, 0];\n      break;\n    case 1:\n      paddingArray = new Array(4).fill(paddingArray[0]);\n      break;\n    case 2:\n      paddingArray = [...paddingArray, ...paddingArray];\n      break;\n    case 3:\n      paddingArray = [...paddingArray, paddingArray[1]];\n      break;\n    default:\n      // \n      paddingArray = paddingArray.slice(0, 4);\n      break;\n  }\n\n  return paddingArray as [number, number, number, number];\n}\n","import { ControllerCtor } from './base';\n\nconst LOAD_COMPONENT_CONTROLLERS: Record<string, ControllerCtor> = {};\n\n/**\n * \n * @param name \n * @param plugin \n * @returns void\n */\nexport function registerComponentController(name: string, plugin: ControllerCtor) {\n  LOAD_COMPONENT_CONTROLLERS[name] = plugin;\n}\n\n/**\n * \n * @param name \n * @returns void\n */\nexport function unregisterComponentController(name: string) {\n  delete LOAD_COMPONENT_CONTROLLERS[name];\n}\n\n/**\n * \n * @returns string[] \n */\nexport function getComponentControllerNames(): string[] {\n  return Object.keys(LOAD_COMPONENT_CONTROLLERS);\n}\n\n/**\n * \n * @param name \n * @returns \n */\nexport function getComponentController(name: string): ControllerCtor {\n  return LOAD_COMPONENT_CONTROLLERS[name];\n}\n","import { each, isNil, some } from '@antv/util';\nimport { Coordinate, getCoordinate, Point } from '../../dependents';\nimport { CoordinateOption } from '../../interface';\n\n/**\n * coordinate controller\n * 1. \n * 2. \n */\nexport default class CoordinateController {\n  private option: CoordinateOption;\n  private coordinate: Coordinate;\n\n  constructor(option?: CoordinateOption) {\n    // \n    this.option = this.wrapperOption(option);\n  }\n\n  /**\n   * \n   * @param option\n   */\n  public update(option: CoordinateOption) {\n    this.option = this.wrapperOption(option);\n    return this;\n  }\n\n  /**\n   *  action\n   * @param actionName\n   */\n  public hasAction(actionName: string) {\n    const { actions } = this.option;\n\n    return some(actions, (action) => action[0] === actionName);\n  }\n  /**\n   * \n   * @param start \n   * @param end   \n   * @return \n   */\n  public create(start: Point, end: Point) {\n    const { type, cfg } = this.option;\n    const isTheta = type === 'theta';\n\n    // 1. \n    const props = {\n      start,\n      end,\n      ...cfg,\n    };\n\n    // 2. \n    const C = getCoordinate(isTheta ? 'polar' : type);\n\n    this.coordinate = new C(props);\n\n    // @ts-ignore FIXME coordinate  type \n    this.coordinate.type = type;\n\n    // 3.  action\n    if (isTheta) {\n      //  transpose action\n      if (!this.hasAction('transpose')) {\n        this.transpose();\n      }\n    }\n\n    // 4.  action\n    this.execActions();\n\n    return this.coordinate;\n  }\n\n  /**\n   * \n   * @param start \n   * @param end   \n   * @return \n   */\n  public adjust(start: Point, end: Point) {\n    this.coordinate.update({\n      start,\n      end,\n    });\n\n    // \n    // 1.  matrix\n    // 2.  matrix  action\n    this.coordinate.resetMatrix();\n    this.execActions(['scale', 'rotate', 'translate']);\n\n    return this.coordinate;\n  }\n\n  /**\n   * \n   * @param angle\n   */\n  public rotate(angle: number) {\n    this.option.actions.push(['rotate', angle]);\n    return this;\n  }\n\n  /**\n   * \n   * @param dim\n   */\n  public reflect(dim: 'x' | 'y') {\n    this.option.actions.push(['reflect', dim]);\n    return this;\n  }\n\n  /**\n   * scale\n   * @param sx\n   * @param sy\n   */\n  public scale(sx: number, sy: number) {\n    this.option.actions.push(['scale', sx, sy]);\n    return this;\n  }\n\n  /**\n   * \n   */\n  public transpose() {\n    this.option.actions.push(['transpose']);\n    return this;\n  }\n\n  /**\n   * \n   */\n  public getOption(): CoordinateOption {\n    return this.option;\n  }\n\n  /**\n   *  coordinate \n   */\n  public getCoordinate() {\n    return this.coordinate;\n  }\n\n  /**\n   * \n   * @param option\n   */\n  private wrapperOption(option: CoordinateOption): CoordinateOption {\n    return {\n      type: 'rect',\n      actions: [],\n      cfg: {},\n      ...option,\n    };\n  }\n\n  /**\n   * coordinate  actions\n   * @params includeActions  action\n   */\n  private execActions(includeActions?: string[]) {\n    const { actions } = this.option;\n\n    each(actions, (action) => {\n      const [actionName, ...args] = action;\n\n      const shouldExec = isNil(includeActions) ? true : includeActions.includes(actionName);\n\n      if (shouldExec) {\n        this.coordinate[actionName](...args);\n      }\n    });\n  }\n}\n","import { Event as GEvent, IShape } from '../dependents';\nimport { Datum } from '../interface';\nimport View from './view';\n\n/**\n * @todo Whether it can(or necessary to) keep consistent with the structure of G.Event or directly use the structure of G.Event\n * G2  G.Event\n */\nexport default class Event {\n  /**  target  view  */\n  public view: View;\n  /**  G  */\n  public gEvent: GEvent;\n  /**  */\n  public data?: Datum;\n  /**  */\n  public type: string;\n\n  constructor(view: View, gEvent: GEvent, data?: Datum) {\n    this.view = view;\n    this.gEvent = gEvent;\n    this.data = data;\n    this.type = gEvent.type;\n  }\n\n  /**\n   * \n   * @param view\n   * @param type\n   * @param data\n   */\n  public static fromData(view: View, type: string, data: Datum) {\n    return new Event(view, new GEvent(type, {}), data);\n  }\n\n  // below props are proxy props of G.event convenient\n\n  /** the real trigger shape of the event */\n  public get target(): IShape {\n    // @todo G  object  ignore\n    // @ts-ignore\n    return this.gEvent.target;\n  }\n\n  /**  dom  */\n  public get event(): any {\n    return this.gEvent.originalEvent;\n  }\n\n  /** x  */\n  public get x(): number {\n    return this.gEvent.x;\n  }\n\n  /** y  */\n  public get y(): number {\n    return this.gEvent.y;\n  }\n\n  /** x  */\n  public get clientX(): number {\n    return this.gEvent.clientX;\n  }\n\n  /** y  */\n  public get clientY(): number {\n    return this.gEvent.clientY;\n  }\n  // end for proxy events\n\n  /**\n   * event string\n   * @returns string\n   */\n  public toString(): string {\n    return `[Event (type=${this.type})]`;\n  }\n\n  /**\n   * clone a new event with same attributes\n   * @returns [[Event]]\n   */\n  public clone(): Event {\n    return new Event(this.view, this.gEvent, this.data);\n  }\n}\n","import { Controller } from '../controller/base';\nimport View from '../view';\n\n// \n//  view  padding \nexport type Layout = (view: View) => void;\n\n/**\n * @ignore\n * G2  layout \n * \n *\n * 1.  padding = 'auto' direction  padding \n * 2.  padding  direction  padding \n * 3. \n *\n *  12  view \n * @param view\n */\nexport default function defaultLayout(view: View): void {\n  const axis = view.getController('axis');\n  const legend = view.getController('legend');\n  const annotation = view.getController('annotation');\n  const slider = view.getController('slider');\n  const scrollbar = view.getController('scrollbar');\n\n  //  coordinate \n  [axis, slider, scrollbar, legend, annotation].forEach((controller: Controller) => {\n    if (controller) {\n      controller.layout();\n    }\n  });\n}\n","/**\n * view  scale \n */\nimport { deepMix, each, get, isNumber, last } from '@antv/util';\nimport { Scale, Coordinate } from '../../dependents';\nimport { Data, LooseObject, ScaleOption, ViewCfg } from '../../interface';\nimport { createScaleByField, syncScale, getDefaultCategoryScaleRange } from '../../util/scale';\n\n/** @ignore */\ninterface ScaleMeta {\n  readonly key: string;\n  readonly scale: Scale;\n  scaleDef: ScaleOption;\n  syncKey?: string;\n}\n\n/** @ignore */\nexport class ScalePool {\n  /**  scales */\n  private scales = new Map<string, ScaleMeta>();\n  /**  scale  key: scaleKeyArray */\n  private syncScales = new Map<string, string[]>();\n\n  /**\n   *  scale\n   * @param field\n   * @param data\n   * @param scaleDef\n   * @param key\n   */\n  public createScale(field: string, data: Data, scaleDef: ScaleOption, key: string): Scale {\n    let finalScaleDef = scaleDef;\n\n    const cacheScaleMeta = this.getScaleMeta(key);\n    if (data.length === 0 && cacheScaleMeta) {\n      //  key  scale  scale \n      const cacheScale = cacheScaleMeta.scale;\n      const cacheScaleDef: LooseObject = {\n        type: cacheScale.type,\n      };\n      if (cacheScale.isCategory) {\n        //  values\n        cacheScaleDef.values = cacheScale.values;\n      }\n      finalScaleDef = deepMix(cacheScaleDef, cacheScaleMeta.scaleDef, scaleDef);\n    }\n\n    const scale = createScaleByField(field, data, finalScaleDef);\n\n    // \n    this.cacheScale(scale, scaleDef, key);\n\n    return scale;\n  }\n\n  /**\n   *  scale\n   */\n  public sync(coordinate: Coordinate, theme: ViewCfg['theme']) {\n    //  syncScales  syncKey  scale \n    this.syncScales.forEach((scaleKeys: string[], syncKey: string) => {\n      // min, max, values, ranges\n      let min = Number.MAX_SAFE_INTEGER;\n      let max = Number.MIN_SAFE_INTEGER;\n      const values = [];\n\n      // 1. values \n      each(scaleKeys, (key: string) => {\n        const scale = this.getScale(key);\n\n        max = isNumber(scale.max) ? Math.max(max, scale.max) : max;\n        min = isNumber(scale.min) ? Math.min(min, scale.min) : min;\n\n        // \n        each(scale.values, (v: any) => {\n          if (!values.includes(v)) {\n            values.push(v);\n          }\n        });\n      });\n\n      // 2. \n      each(scaleKeys, (key: string) => {\n        const scale = this.getScale(key);\n\n        if (scale.isContinuous) {\n          scale.change({\n            min,\n            max,\n            values,\n          });\n        } else if (scale.isCategory) {\n          let range = scale.range;\n          const cacheScaleMeta = this.getScaleMeta(key);\n\n          //  value  range  to fix https://github.com/antvis/G2/issues/2996\n          if (values && !get(cacheScaleMeta, ['scaleDef', 'range'])) {\n            //  range\n            range = getDefaultCategoryScaleRange(\n              deepMix({}, scale, {\n                values,\n              }),\n              coordinate,\n              theme\n            );\n          }\n          scale.change({\n            values,\n            range,\n          });\n        }\n      });\n    });\n  }\n\n  /**\n   *  scale\n   * @param scale\n   * @param scaleDef\n   * @param key\n   */\n  private cacheScale(scale: Scale, scaleDef: ScaleOption, key: string) {\n    // 1.  scales\n\n    let sm = this.getScaleMeta(key);\n    // \n    if (sm && sm.scale.type === scale.type) {\n      syncScale(sm.scale, scale);\n      sm.scaleDef = scaleDef;\n      //  scaleDef\n    } else {\n      sm = {\n        key,\n        scale,\n        scaleDef,\n      };\n\n      this.scales.set(key, sm);\n    }\n\n    // 2.  syncScales Record<sync, string[]> \n    const syncKey = this.getSyncKey(sm);\n    sm.syncKey = syncKey; //  sync  key\n\n    //  scale  syncScales  sync \n    this.removeFromSyncScales(key);\n\n    //  sync  sync\n    if (syncKey) {\n      //  syncKey\n      let scaleKeys = this.syncScales.get(syncKey);\n      if (!scaleKeys) {\n        scaleKeys = [];\n        this.syncScales.set(syncKey, scaleKeys);\n      }\n      scaleKeys.push(key);\n    }\n  }\n\n  /**\n   *  key  scale\n   * @param key\n   */\n  public getScale(key: string): Scale {\n    let scaleMeta = this.getScaleMeta(key);\n    if (!scaleMeta) {\n      const field = last(key.split('-'));\n      const scaleKeys = this.syncScales.get(field);\n      if (scaleKeys && scaleKeys.length) {\n        scaleMeta = this.getScaleMeta(scaleKeys[0]);\n      }\n    }\n    return scaleMeta && scaleMeta.scale;\n  }\n\n  /**\n   *  view  scale \n   * @param key\n   */\n  public deleteScale(key: string) {\n    const scaleMeta = this.getScaleMeta(key);\n    if (scaleMeta) {\n      const { syncKey } = scaleMeta;\n\n      const scaleKeys = this.syncScales.get(syncKey);\n\n      // \n      if (scaleKeys && scaleKeys.length) {\n        const idx = scaleKeys.indexOf(key);\n\n        if (idx !== -1) {\n          scaleKeys.splice(idx, 1);\n        }\n      }\n    }\n\n    //  scale \n    this.scales.delete(key);\n  }\n\n  /**\n   * \n   */\n  public clear() {\n    this.scales.clear();\n    this.syncScales.clear();\n  }\n\n  /**\n   *  sync scale \n   * @param key\n   */\n  private removeFromSyncScales(key: string) {\n    this.syncScales.forEach((scaleKeys: string[], syncKey: string) => {\n      const idx = scaleKeys.indexOf(key);\n\n      if (idx !== -1) {\n        scaleKeys.splice(idx, 1);\n\n        // \n        if (scaleKeys.length === 0) {\n          this.syncScales.delete(syncKey);\n        }\n\n        return false; // \n      }\n    });\n  }\n\n  /**\n   * get sync key\n   * @param sm\n   */\n  private getSyncKey(sm: ScaleMeta): string {\n    const { scale, scaleDef } = sm;\n    const { field } = scale;\n    const sync = get(scaleDef, ['sync']);\n\n    //  sync = true syncKey\n    return sync === true ? field : sync === false ? undefined : sync;\n  }\n\n  /**\n   *  key  scale\n   * @param key\n   */\n  private getScaleMeta(key: string): ScaleMeta {\n    return this.scales.get(key);\n  }\n}\n","import { DIRECTION } from '../../constant';\nimport { BBox } from '../../dependents';\nimport { Padding } from '../../interface';\n\nexport type PaddingCalCtor = {\n  readonly instance: (top?: number, right?: number, bottom?: number, left?: number) => PaddingCal;\n};\n\n/** @ignore */\nexport class PaddingCal {\n  private top: number;\n  private right: number;\n  private bottom: number;\n  private left: number;\n\n  /**\n   * \n   * @param top\n   * @param right\n   * @param bottom\n   * @param left\n   */\n  public static instance(top: number = 0, right: number = 0, bottom: number = 0, left: number = 0) {\n    return new PaddingCal(top, right, bottom, left);\n  }\n\n  /**\n   *  padding \n   * @param top\n   * @param right\n   * @param bottom\n   * @param left\n   */\n  constructor(top: number = 0, right: number = 0, bottom: number = 0, left: number = 0) {\n    this.top = top;\n    this.right = right;\n    this.bottom = bottom;\n    this.left = left;\n  }\n\n  /**\n   * \n   * @param padding\n   */\n  public max(padding: Padding): PaddingCal {\n    const [top, right, bottom, left] = padding;\n\n    this.top = Math.max(this.top, top);\n    this.right = Math.max(this.right, right);\n    this.bottom = Math.max(this.bottom, bottom);\n    this.left = Math.max(this.left, left);\n\n    return this;\n  }\n\n  /**\n   *  padding\n   * @param padding\n   */\n  public shrink(padding: Padding): PaddingCal {\n    const [top, right, bottom, left] = padding;\n\n    this.top += top;\n    this.right += right;\n    this.bottom += bottom;\n    this.left += left;\n\n    return this;\n  }\n\n  /**\n   *  padding\n   * @param bbox\n   * @param direction\n   */\n  public inc(bbox: BBox, direction: DIRECTION): PaddingCal {\n    const { width, height } = bbox;\n\n    switch (direction) {\n      case DIRECTION.TOP:\n      case DIRECTION.TOP_LEFT:\n      case DIRECTION.TOP_RIGHT:\n        this.top += height;\n        break;\n\n      case DIRECTION.RIGHT:\n      case DIRECTION.RIGHT_TOP:\n      case DIRECTION.RIGHT_BOTTOM:\n        this.right += width;\n        break;\n\n      case DIRECTION.BOTTOM:\n      case DIRECTION.BOTTOM_LEFT:\n      case DIRECTION.BOTTOM_RIGHT:\n        this.bottom += height;\n        break;\n\n      case DIRECTION.LEFT:\n      case DIRECTION.LEFT_TOP:\n      case DIRECTION.LEFT_BOTTOM:\n        this.left += width;\n        break;\n      default:\n        break;\n    }\n\n    return this;\n  }\n\n  /**\n   *  padding\n   */\n  public getPadding(): Padding {\n    return [this.top, this.right, this.bottom, this.left];\n  }\n\n  /**\n   * clone  padding cal\n   */\n  public clone(): PaddingCal {\n    return new PaddingCal(...this.getPadding());\n  }\n}\n","import { PaddingCalCtor } from '../layout/padding-cal';\nimport { View } from '../view';\n\n/**\n *  syncViewPadding \n * @param chart\n * @param views\n * @param PC: PaddingCalCtor\n */\nexport function defaultSyncViewPadding(chart: View, views: View[], PC: PaddingCalCtor) {\n  const syncPadding = PC.instance();\n\n  //  view  autoPadding \n  views.forEach((v: View) => {\n    v.autoPadding = syncPadding.max(v.autoPadding.getPadding());\n  });\n}\n","import {\n  clone,\n  deepMix,\n  each,\n  filter,\n  find,\n  flatten,\n  get,\n  isBoolean,\n  isFunction,\n  isNil,\n  isObject,\n  isString,\n  isUndefined,\n  mix,\n  remove,\n  set,\n  size,\n  uniqueId,\n  isEqual,\n  isPlainObject,\n  reduce,\n} from '@antv/util';\nimport { Attribute, Coordinate, Event as GEvent, GroupComponent, ICanvas, IGroup, IShape, Scale } from '../dependents';\nimport {\n  AxisOption,\n  ComponentOption,\n  CoordinateCfg,\n  CoordinateOption,\n  Data,\n  Datum,\n  FacetCfgMap,\n  FilterCondition,\n  GeometryOption,\n  LegendOption,\n  LooseObject,\n  Options,\n  Point,\n  Region,\n  ScaleOption,\n  TooltipOption,\n  ViewCfg,\n  ViewPadding,\n  ViewAppendPadding,\n  EventPayload,\n  Padding,\n} from '../interface';\nimport { GROUP_Z_INDEX, LAYER, PLOT_EVENTS, VIEW_LIFE_CIRCLE } from '../constant';\nimport Base from '../base';\nimport { Facet, getFacet } from '../facet';\nimport Geometry from '../geometry/base';\nimport Element from '../geometry/element';\nimport { createInteraction, Interaction } from '../interaction';\nimport { getTheme } from '../theme';\nimport { BBox } from '../util/bbox';\nimport { getCoordinateClipCfg, isPointInCoordinate } from '../util/coordinate';\nimport { uniq } from '../util/helper';\nimport { findDataByPoint } from '../util/tooltip';\nimport { parsePadding } from '../util/padding';\nimport { getDefaultCategoryScaleRange } from '../util/scale';\nimport { createTheme } from '../theme/util';\nimport Chart from './chart';\nimport { getComponentController, getComponentControllerNames } from './controller';\nimport Annotation from './controller/annotation';\nimport { Controller } from './controller/base';\nimport CoordinateController from './controller/coordinate';\nimport Tooltip from './controller/tooltip';\nimport Slider from './controller/slider';\nimport Scrollbar from './controller/scrollbar';\nimport Axis from './controller/axis';\nimport Gesture from './controller/gesture';\nimport Legend from './controller/legend';\nimport Event from './event';\nimport defaultLayout, { Layout } from './layout';\nimport { ScalePool } from './util/scale-pool';\nimport { PaddingCal } from './layout/padding-cal';\nimport { calculatePadding } from './layout/auto';\nimport { defaultSyncViewPadding } from './util/sync-view-padding';\n\n/**\n * G2  View \n */\nexport class View extends Base {\n  /** view id */\n  public id: string;\n  /**  view */\n  public parent: View;\n  /**  view */\n  public views: View[] = [];\n  /**  geometry  */\n  public geometries: Geometry[] = [];\n  /**  controllers */\n  public controllers: Controller[] = [];\n  /**  Interaction  */\n  public interactions: Record<string, Interaction> = {};\n\n  /** view  */\n  public viewBBox: BBox;\n  /** ViewBBox - padding = coordinateBBox */\n  public coordinateBBox: BBox;\n  /** view  padding  */\n  public padding: ViewPadding;\n  /** padding */\n  public appendPadding: ViewAppendPadding;\n  /** G.Canvas  */\n  public canvas: ICanvas;\n  /**  padding  */\n  public autoPadding: PaddingCal;\n\n  /**  Group  */\n  public backgroundGroup: IGroup;\n  /**  Group  */\n  public middleGroup: IGroup;\n  /**  Group  */\n  public foregroundGroup: IGroup;\n  /**  Geometry  */\n  public limitInPlot: boolean = false;\n\n  /**\n   *  view  0 ~ 1 \n   */\n  protected region: Region;\n  /**  */\n  protected themeObject: LooseObject;\n\n  // \n  protected options: Options = {\n    data: [],\n    animate: true, // \n  }; // \n\n  /**  */\n  protected filteredData: Data;\n\n  /**  */\n  private usedControllers: string[] = getComponentControllerNames();\n\n  /**  scales */\n  private scalePool: ScalePool = new ScalePool();\n\n  /**  */\n  protected layoutFunc: Layout = defaultLayout;\n  /** {@link https://github.com/antvis/coord/blob/master/src/coord/base.ts|Coordinate} */\n  protected coordinateInstance: Coordinate;\n  /** Coordinate  */\n  protected coordinateController: CoordinateController;\n  /**  */\n  protected facetInstance: Facet;\n\n  /**  plot CoordinateBBox */\n  private isPreMouseInPlot: boolean = false;\n  /**  */\n  private isDataChanged: boolean = false;\n  /**  */\n  private isCoordinateChanged: boolean = false;\n  /**  view  scale key */\n  private createdScaleKeys = new Map<string, boolean>();\n  /**  shape */\n  private backgroundStyleRectShape;\n  /**  view  padding */\n  private syncViewPadding;\n\n  constructor(props: ViewCfg) {\n    super({ visible: props.visible });\n\n    const {\n      id = uniqueId('view'),\n      parent,\n      canvas,\n      backgroundGroup,\n      middleGroup,\n      foregroundGroup,\n      region = { start: { x: 0, y: 0 }, end: { x: 1, y: 1 } },\n      padding,\n      appendPadding,\n      theme,\n      options,\n      limitInPlot,\n      syncViewPadding,\n    } = props;\n\n    this.parent = parent;\n    this.canvas = canvas;\n    this.backgroundGroup = backgroundGroup;\n    this.middleGroup = middleGroup;\n    this.foregroundGroup = foregroundGroup;\n    this.region = region;\n    this.padding = padding;\n    this.appendPadding = appendPadding;\n    //  view \n    this.options = { ...this.options, ...options };\n    this.limitInPlot = limitInPlot;\n    this.id = id;\n    this.syncViewPadding = syncViewPadding;\n\n    //  theme\n    this.themeObject = isObject(theme) ? deepMix({}, getTheme('default'), createTheme(theme)) : getTheme(theme);\n    this.init();\n  }\n\n  /**\n   *  layout \n   * @param layout \n   * @returns void\n   */\n  public setLayout(layout: Layout) {\n    this.layoutFunc = layout;\n  }\n\n  /**\n   * \n   * @returns voids\n   */\n  public init() {\n    //  viewBBox\n    this.calculateViewBBox();\n\n    // \n    this.initEvents();\n\n    //  controller\n    this.initComponentController();\n\n    this.initOptions();\n  }\n\n  /**\n   * \n   * render  view  view\n   * @param isUpdate \n   * @param params render \n   */\n  public render(isUpdate: boolean = false, payload?: EventPayload) {\n    this.emit(VIEW_LIFE_CIRCLE.BEFORE_RENDER, Event.fromData(this, VIEW_LIFE_CIRCLE.BEFORE_RENDER, payload));\n    // \n    this.paint(isUpdate);\n\n    this.emit(VIEW_LIFE_CIRCLE.AFTER_RENDER, Event.fromData(this, VIEW_LIFE_CIRCLE.AFTER_RENDER, payload));\n\n    if (this.visible === false) {\n      //  visible: false\n      this.changeVisible(false);\n    }\n  }\n\n  /**\n   * chart \n   * @returns void\n   */\n  public clear() {\n    this.emit(VIEW_LIFE_CIRCLE.BEFORE_CLEAR);\n    // 1. \n    this.filteredData = [];\n    this.coordinateInstance = undefined;\n    this.isDataChanged = false; // \n    this.isCoordinateChanged = false; // \n\n    // 2.  geometries\n    const geometries = this.geometries;\n    for (let i = 0; i < geometries.length; i++) {\n      geometries[i].clear();\n      // view  geometry  chart.geometry()  #2799\n      geometries[i].container.remove(true);\n      geometries[i].labelsContainer.remove(true);\n    }\n    this.geometries = [];\n\n    // 3.  controllers\n    const controllers = this.controllers;\n    for (let i = 0; i < controllers.length; i++) {\n      if (controllers[i].name === 'annotation') {\n        // \n        (controllers[i] as Annotation).clear(true);\n      } else {\n        controllers[i].clear();\n      }\n    }\n\n    // 4.  scale \n    this.createdScaleKeys.forEach((v: boolean, k: string) => {\n      this.getRootView().scalePool.deleteScale(k);\n    });\n    this.createdScaleKeys.clear();\n\n    //  view\n    const views = this.views;\n    for (let i = 0; i < views.length; i++) {\n      views[i].clear();\n    }\n\n    this.emit(VIEW_LIFE_CIRCLE.AFTER_CLEAR);\n  }\n\n  /**\n   * \n   * @returns void\n   */\n  public destroy() {\n    // \n    this.emit(VIEW_LIFE_CIRCLE.BEFORE_DESTROY);\n    const interactions = this.interactions;\n    //  interactions\n    each(interactions, (interaction) => {\n      if (interaction) {\n        //  undefined\n        interaction.destroy();\n      }\n    });\n\n    this.clear();\n\n    //  controller \n    const controllers = this.controllers;\n    for (let i = 0, len = controllers.length; i < len; i++) {\n      const controller = controllers[i];\n      controller.destroy();\n    }\n\n    this.backgroundGroup.remove(true);\n    this.middleGroup.remove(true);\n    this.foregroundGroup.remove(true);\n\n    super.destroy();\n  }\n  /* end  */\n\n  /**\n   *  view\n   * @param visible \n   * @returns View\n   */\n  public changeVisible(visible: boolean): View {\n    super.changeVisible(visible);\n\n    const geometries = this.geometries;\n    for (let i = 0, len = geometries.length; i < len; i++) {\n      const geometry = geometries[i];\n      geometry.changeVisible(visible);\n    }\n\n    const controllers = this.controllers;\n    for (let i = 0, len = controllers.length; i < len; i++) {\n      const controller = controllers[i];\n      controller.changeVisible(visible);\n    }\n\n    this.foregroundGroup.set('visible', visible);\n    this.middleGroup.set('visible', visible);\n    this.backgroundGroup.set('visible', visible);\n\n    // group.set('visible', visible) \n    this.getCanvas().draw();\n\n    return this;\n  }\n\n  /**\n   * \n   *\n   * ```ts\n   * view.data([{ city: '', sale: 100 }, { city: '', sale: 110 } ]);\n   * ```\n   *\n   * @param data json \n   * @returns View\n   */\n  public data(data: Data): View {\n    set(this.options, 'data', data);\n    this.isDataChanged = true;\n    return this;\n  }\n\n  /**\n   * @deprecated\n   * This method will be removed at G2 V4.1. Replaced by {@link #data(data)}\n   */\n  public source(data: Data): View {\n    console.warn('This method will be removed at G2 V4.1. Please use chart.data() instead.');\n    return this.data(data);\n  }\n\n  /**\n   * \n   *\n   * ```ts\n   * view.filter('city', (value: any, datum: Datum) => value !== '');\n   *\n   * //  'city' \n   * view.filter('city', null);\n   * ```\n   *\n   * @param field \n   * @param condition \n   * @returns View\n   */\n  public filter(field: string, condition: FilterCondition | null): View {\n    if (isFunction(condition)) {\n      set(this.options, ['filters', field], condition);\n      return this;\n    }\n    // condition \n    if (!condition && get(this.options, ['filters', field])) {\n      delete this.options.filters[field];\n    }\n\n    return this;\n  }\n\n  /**\n   * \n   *\n   * ```ts\n   *  view.axis(false); // \n   * ```\n   * @param field \n   */\n  public axis(field: boolean): View;\n  /**\n   * \n   *\n   * @example\n   * ```ts\n   * view.axis('city', false); //  'city' \n   *\n   * //  'city' \n   * view.axis('city', {\n   *   title: null,\n   * });\n   * ```\n   *\n   * @param field \n   * @param axisOption https://github.com/antvis/component#axis\n   */\n  public axis(field: string, axisOption: AxisOption): View;\n  public axis(field: string | boolean, axisOption?: AxisOption): View {\n    if (isBoolean(field)) {\n      set(this.options, ['axes'], field);\n    } else {\n      set(this.options, ['axes', field], axisOption);\n    }\n\n    return this;\n  }\n\n  /**\n   * \n   *\n   * ```ts\n   * view.legend(false); // \n   *\n   * view.legend({\n   *   position: 'right',\n   * }); // \n   * ```\n   * @param field\n   * @returns View\n   */\n  public legend(field: LegendOption): View;\n  /**\n   * \n   *\n   * @example\n   * ```ts\n   * view.legend('city', false); // \n   *\n   * // \n   * view.legend('city', {\n   *   position: 'right',\n   * });\n   * ```\n   *\n   * @param field \n   * @param legendOption https://github.com/antvis/component#axis\n   * @returns View\n   */\n  public legend(field: string, legendOption: LegendOption): View;\n  public legend(field: string | LegendOption, legendOption?: LegendOption): View {\n    if (isBoolean(field)) {\n      set(this.options, ['legends'], field);\n    } else if (isString(field)) {\n      set(this.options, ['legends', field], legendOption);\n      if (isPlainObject(legendOption) && legendOption?.selected) {\n        set(this.options, ['filters', field], (name: string) => {\n          return legendOption?.selected[name] ?? true;\n        });\n      }\n    } else {\n      //  legend \n      set(this.options, ['legends'], field);\n    }\n\n    return this;\n  }\n\n  /**\n   *  scale \n   *\n   * ```ts\n   * view.scale({\n   *   sale: {\n   *     min: 0,\n   *     max: 100,\n   *   }\n   * });\n   * ```\n   * Scale https://github.com/antvis/scale#api\n   * @returns View\n   */\n  public scale(field: Record<string, ScaleOption>): View;\n  /**\n   *  scale \n   *\n   * ```ts\n   * view.scale('sale', {\n   *   min: 0,\n   *   max: 100,\n   * });\n   * ```\n   *\n   * @returns View\n   */\n  public scale(field: string, scaleOption: ScaleOption): View;\n  public scale(field: string | Record<string, ScaleOption>, scaleOption?: ScaleOption): View {\n    if (isString(field)) {\n      set(this.options, ['scales', field], scaleOption);\n    } else if (isObject(field)) {\n      each(field, (v: ScaleOption, k: string) => {\n        set(this.options, ['scales', k], v);\n      });\n    }\n\n    return this;\n  }\n\n  /**\n   * tooltip \n   *\n   * ```ts\n   * view.tooltip(false); //  tooltip\n   *\n   * view.tooltip({\n   *   shared: true\n   * });\n   * ```\n   *\n   * @param cfg Tooltip https://github.com/antvis/component#tooltip\n   * @returns View\n   */\n  public tooltip(cfg: boolean | TooltipOption): View {\n    set(this.options, 'tooltip', cfg);\n\n    return this;\n  }\n\n  /**\n   * \n   *\n   * ```ts\n   * view.annotation().line({\n   *   start: ['min', 85],\n   *   end: ['max', 85],\n   *   style: {\n   *     stroke: '#595959',\n   *     lineWidth: 1,\n   *     lineDash: [3, 3],\n   *   },\n   * });\n   * ```\n   * https://github.com/antvis/component#annotation\n   * @returns [[Annotation]]\n   */\n  public annotation(): Annotation {\n    return this.getController('annotation');\n  }\n\n  /**\n   * @deprecated\n   * This method will be removed at G2 V4.1. Replaced by {@link #guide()}\n   */\n  public guide(): Annotation {\n    console.warn('This method will be removed at G2 V4.1. Please use chart.annotation() instead.');\n    return this.annotation();\n  }\n\n  /**\n   * \n   *\n   * @example\n   * ```ts\n   * view.coordinate({\n   *   type: 'polar',\n   *   cfg: {\n   *     radius: 0.85,\n   *   },\n   *   actions: [\n   *     [ 'transpose' ],\n   *   ],\n   * });\n   * ```\n   *\n   * @param option\n   * @returns\n   */\n  public coordinate(option?: CoordinateOption): CoordinateController;\n  /**\n   * \n   *\n   * ```ts\n   * // \n   * view.coordinate('rect').transpose();\n   *\n   * // \n   * view.coordinate();\n   * ```\n   *\n   * @param type \n   * @param [coordinateCfg] \n   * @returns\n   */\n  public coordinate(type: string, coordinateCfg?: CoordinateCfg): CoordinateController;\n  public coordinate(type: string | CoordinateOption, coordinateCfg?: CoordinateCfg): CoordinateController {\n    // \n    if (isString(type)) {\n      set(this.options, 'coordinate', { type, cfg: coordinateCfg } as CoordinateOption);\n    } else {\n      set(this.options, 'coordinate', type);\n    }\n\n    //  coordinate \n    this.coordinateController.update(this.options.coordinate);\n\n    return this.coordinateController;\n  }\n\n  /**\n   * @deprecated\n   * This method will be removed at G2 V4.1. Replaced by {@link #coordinate()}\n   */\n  public coord(type: string | CoordinateOption, coordinateCfg?: CoordinateCfg): CoordinateController {\n    console.warn('This method will be removed at G2 V4.1. Please use chart.coordinate() instead.');\n    // @ts-ignore\n    return this.coordinate(type, coordinateCfg);\n  }\n\n  /**\n   * view \n   *\n   * ```ts\n   * view.facet('rect', {\n   *   rowField: 'province',\n   *   columnField: 'category',\n   *   eachView: (innerView: View, facet?: FacetData) => {\n   *     innerView.line().position('city*sale');\n   *   },\n   * });\n   * ```\n   *\n   * @param type \n   * @param cfg  [[FacetCfgMap]]\n   * @returns View\n   */\n  public facet<T extends keyof FacetCfgMap>(type: T, cfg: FacetCfgMap[T]): View {\n    // \n    if (this.facetInstance) {\n      this.facetInstance.destroy();\n    }\n\n    // \n    const Ctor = getFacet(type);\n\n    if (!Ctor) {\n      throw new Error(`facet '${type}' is not exist!`);\n    }\n\n    this.facetInstance = new Ctor(this, { ...cfg, type });\n\n    return this;\n  }\n\n  /*\n   * \n   *\n   * ```ts\n   * view.animate(false);\n   * ```\n   *\n   * @param status true false \n   * @returns View\n   */\n  public animate(status: boolean): View {\n    set(this.options, 'animate', status);\n    return this;\n  }\n\n  /**\n   * \n   * @param options \n   */\n  public updateOptions(options: Options) {\n    this.clear(); // \n    mix(this.options, options);\n\n    //  view \n    //  view \n    this.views.forEach((view) => view.destroy());\n    this.views = [];\n\n    this.initOptions();\n    //  padding \n    this.coordinateBBox = this.viewBBox;\n    return this;\n  }\n\n  /**\n   *  `view.options` \n   * @param name \n   * @param opt \n   * @returns view\n   */\n  public option(name: string, opt: any): View {\n    //  option\n    // name  API option \n    if (View.prototype[name]) {\n      throw new Error(`Can't use built in variable name \"${name}\", please change another one.`);\n    }\n\n    //  option \n    set(this.options, name, opt);\n    return this;\n  }\n\n  /**\n   * \n   *\n   * ```ts\n   * view.theme('dark'); // 'dark'  `registerTheme()` \n   *\n   * view.theme({ defaultColor: 'red' });\n   * ```\n   *\n   * @param theme \n   * @returns View\n   */\n  public theme(theme: string | LooseObject): View {\n    this.themeObject = isObject(theme) ? deepMix({}, this.themeObject, createTheme(theme)) : getTheme(theme);\n\n    return this;\n  }\n\n  /* end  API */\n\n  /**\n   * Call the interaction based on the interaction name\n   *\n   * ```ts\n   * view.interaction('my-interaction', { extra: 'hello world' });\n   * ```\n   * https://g2.antv.vision/zh/docs/api/general/interaction\n   * @param name interaction name\n   * @param cfg interaction config\n   * @returns\n   */\n  public interaction(name: string, cfg?: LooseObject): View {\n    const existInteraction = this.interactions[name];\n    // \n    if (existInteraction) {\n      existInteraction.destroy();\n    }\n\n    // \n    const interaction = createInteraction(name, this, cfg);\n    if (interaction) {\n      interaction.init();\n      this.interactions[name] = interaction;\n    }\n    return this;\n  }\n\n  /**\n   *  View  interaction\n   * ```ts\n   * view.removeInteraction('my-interaction');\n   * ```\n   * @param name interaction name\n   */\n  public removeInteraction(name: string) {\n    const existInteraction = this.interactions[name];\n    // \n    if (existInteraction) {\n      existInteraction.destroy();\n      this.interactions[name] = undefined;\n    }\n  }\n\n  /**\n   *  view\n   *\n   * ```ts\n   * view.changeData([{ city: '', sale: '200' }]);\n   * ```\n   *\n   * @param data\n   * @returns void\n   */\n  public changeData(data: Data) {\n    this.isDataChanged = true;\n    this.emit(VIEW_LIFE_CIRCLE.BEFORE_CHANGE_DATA, Event.fromData(this, VIEW_LIFE_CIRCLE.BEFORE_CHANGE_DATA, null));\n    // 1. \n    this.data(data);\n\n    // 2. \n    this.paint(true);\n\n    // 3.  view  change data\n    const views = this.views;\n    for (let i = 0, len = views.length; i < len; i++) {\n      const view = views[i];\n      // FIXME  view \n      view.changeData(data);\n    }\n\n    this.emit(VIEW_LIFE_CIRCLE.AFTER_CHANGE_DATA, Event.fromData(this, VIEW_LIFE_CIRCLE.AFTER_CHANGE_DATA, null));\n  }\n\n  /* View  API */\n\n  /**\n   *  view\n   *\n   * ```ts\n   * const innerView = view.createView({\n   *   start: { x: 0, y: 0 },\n   *   end: { x: 0.5, y: 0.5 },\n   *   padding: 8,\n   * });\n   * ```\n   *\n   * @param cfg\n   * @returns View\n   */\n  public createView(cfg?: Partial<ViewCfg>): View {\n    //  4.1  view chart - view \n    //  API  warning\n    if (this.parent && this.parent.parent) {\n      //  3  \n      console.warn('The view nesting recursive feature will be removed at G2 V4.1. Please avoid to use it.');\n    }\n\n    //  view  options \n    const sharedOptions = {\n      data: this.options.data,\n      scales: clone(this.options.scales),\n      axes: clone(this.options.axes),\n      coordinate: clone(this.coordinateController.getOption()),\n      tooltip: clone(this.options.tooltip),\n      legends: clone(this.options.legends),\n      animate: this.options.animate,\n      visible: this.visible,\n    };\n\n    const v = new View({\n      parent: this,\n      canvas: this.canvas,\n      //  view  group\n      backgroundGroup: this.backgroundGroup.addGroup({ zIndex: GROUP_Z_INDEX.BG }),\n      middleGroup: this.middleGroup.addGroup({ zIndex: GROUP_Z_INDEX.MID }),\n      foregroundGroup: this.foregroundGroup.addGroup({ zIndex: GROUP_Z_INDEX.FORE }),\n      theme: this.themeObject,\n      padding: this.padding,\n      ...cfg,\n      options: {\n        ...sharedOptions,\n        ...get(cfg, 'options', {}),\n      },\n    });\n\n    this.views.push(v);\n\n    return v;\n  }\n\n  /**\n   * @deprecated\n   * This method will be removed at G2 V4.1. Replaced by {@link #createView()}\n   */\n  public view(cfg?: Partial<ViewCfg>) {\n    console.warn('This method will be removed at G2 V4.1. Please use chart.createView() instead.');\n    return this.createView(cfg);\n  }\n\n  /**\n   *  view\n   * @param view\n   * @return removedView\n   */\n  public removeView(view: View): View {\n    const removedView = remove(this.views, (v: View) => v === view)[0];\n\n    if (removedView) {\n      removedView.destroy();\n    }\n\n    return removedView;\n  }\n  /* end View  API */\n\n  //  get \n\n  /**\n   * \n   * @returns [[Coordinate]]\n   */\n  public getCoordinate() {\n    return this.coordinateInstance;\n  }\n\n  /**\n   *  view \n   * @returns themeObject\n   */\n  public getTheme(): LooseObject {\n    return this.themeObject;\n  }\n\n  /**\n   *  x  scale \n   * @returns view  Geometry  x scale\n   */\n  public getXScale(): Scale {\n    //  Geometry  X scale\n    //  view  Geometry  x \n    const g = this.geometries[0];\n    return g ? g.getXScale() : null;\n  }\n\n  /**\n   *  y  scales \n   * @returns view  Geometry  y scale \n   */\n  public getYScales(): Scale[] {\n    //  Geometry  Y scale\n    const tmpMap = {};\n    const yScales = [];\n    this.geometries.forEach((g: Geometry) => {\n      const yScale = g.getYScale();\n      const field = yScale.field;\n      if (!tmpMap[field]) {\n        tmpMap[field] = true;\n        yScales.push(yScale);\n      }\n    });\n    return yScales;\n  }\n\n  /**\n   *  x  y  scale \n   * @param dimType x | y\n   * @returns x  y  scale \n   */\n  public getScalesByDim(dimType: 'x' | 'y'): Record<string, Scale> {\n    const geometries = this.geometries;\n    const scales = {};\n\n    for (let i = 0, len = geometries.length; i < len; i++) {\n      const geometry = geometries[i];\n      const scale = dimType === 'x' ? geometry.getXScale() : geometry.getYScale();\n      if (scale && !scales[scale.field]) {\n        scales[scale.field] = scale;\n      }\n    }\n\n    return scales;\n  }\n\n  /**\n   *  scale \n   * @param field \n   * @param key id\n   */\n  public getScale(field: string, key?: string): Scale {\n    const defaultKey = key ? key : this.getScaleKey(field);\n    //  view \n    return this.getRootView().scalePool.getScale(defaultKey);\n  }\n\n  /**\n   * @deprecated\n   * This method will be removed at G2 V4.1. Please use `getScale`.\n   */\n  public getScaleByField(field: string, key?: string): Scale {\n    return this.getScale(field, key);\n  }\n\n  /**\n   * \n   * @returns  view API \n   */\n  public getOptions(): Options {\n    return this.options;\n  }\n\n  /**\n   *  view \n   * @returns \n   */\n  public getData() {\n    return this.filteredData;\n  }\n\n  /**\n   * \n   * @returns  G2 \n   */\n  public getOriginalData() {\n    return this.options.data;\n  }\n\n  /**\n   *  padding\n   * @returns\n   */\n  public getPadding(): Padding {\n    return this.autoPadding.getPadding();\n  }\n\n  /**\n   *  view  geometries\n   * @returns\n   */\n  public getGeometries() {\n    return this.geometries;\n  }\n\n  /**\n   *  view  geome\n   */\n  public getElements(): Element[] {\n    return reduce(\n      this.geometries,\n      (elements: Element[], geometry: Geometry) => {\n        return elements.concat(geometry.getElements());\n      },\n      []\n    );\n  }\n\n  /**\n   *  Geometry  Elements\n   *\n   * ```typescript\n   * getElementsBy((element) => {\n   *   const data = element.getData();\n   *\n   *   return data.a === 'a';\n   * });\n   * ```\n   *\n   * @param condition \n   * @returns\n   */\n  public getElementsBy(condition: (element: Element) => boolean): Element[] {\n    return this.getElements().filter((el) => condition(el));\n  }\n\n  /**\n   *  group\n   * @param layer \n   * @returns  Group\n   */\n  public getLayer(layer: LAYER): IGroup {\n    return layer === LAYER.BG\n      ? this.backgroundGroup\n      : layer === LAYER.MID\n      ? this.middleGroup\n      : layer === LAYER.FORE\n      ? this.foregroundGroup\n      : this.foregroundGroup;\n  }\n\n  /**\n   * \n   * @param point \n   */\n  public isPointInPlot(point: Point): boolean {\n    return isPointInCoordinate(this.getCoordinate(), point);\n  }\n\n  /**\n   *  legend  attribute \n   * @returns  Attribute \n   */\n  public getLegendAttributes(): Attribute[] {\n    return flatten(this.geometries.map((g: Geometry) => g.getGroupAttributes())) as unknown as Attribute[];\n  }\n\n  /**\n   *  scale \n   * @returns  scale \n   */\n  public getGroupScales(): Scale[] {\n    //  Geometry   scale\n    const scales = this.geometries.map((g: Geometry) => g.getGroupScales());\n    return uniq(flatten(scales));\n  }\n\n  /**\n   *  G.Canvas \n   * @returns G.Canvas \n   */\n  public getCanvas(): ICanvas {\n    return (this.getRootView() as unknown as Chart).canvas;\n  }\n\n  /**\n   *  view\n   */\n  public getRootView(): View {\n    let v = this as View;\n\n    while (true) {\n      if (v.parent) {\n        v = v.parent;\n        continue;\n      }\n      break;\n    }\n    return v;\n  }\n\n  /**\n   * \n   * @param data \n   * @returns \n   */\n  public getXY(data: Datum): Point {\n    const coordinate = this.getCoordinate();\n    const xScales = this.getScalesByDim('x');\n    const yScales = this.getScalesByDim('y');\n    let x;\n    let y;\n\n    each(data, (value, key) => {\n      if (xScales[key]) {\n        x = xScales[key].scale(value);\n      }\n      if (yScales[key]) {\n        y = yScales[key].scale(value);\n      }\n    });\n\n    if (!isNil(x) && !isNil(y)) {\n      return coordinate.convert({ x, y });\n    }\n  }\n\n  public getController(name: 'tooltip'): Tooltip;\n  public getController(name: 'axis'): Axis;\n  public getController(name: 'legend'): Legend;\n  public getController(name: 'scrollbar'): Scrollbar;\n  public getController(name: 'slider'): Slider;\n  public getController(name: 'annotation'): Annotation;\n  public getController(name: 'gestucre'): Gesture;\n  public getController(name: string): Controller;\n  /**\n   *  name  controller \n   * @param name\n   */\n  public getController(name: string): Controller {\n    return find(this.controllers, (c: Controller) => c.name === name);\n  }\n\n  /**\n   *  point  tooltip\n   * @param point \n   * @returns View\n   */\n  public showTooltip(point: Point): View {\n    const tooltip = this.getController('tooltip');\n    if (tooltip) {\n      tooltip.showTooltip(point);\n    }\n    return this;\n  }\n\n  /**\n   *  tooltip\n   * @returns View\n   */\n  public hideTooltip(): View {\n    const tooltip = this.getController('tooltip');\n    if (tooltip) {\n      tooltip.hideTooltip();\n    }\n    return this;\n  }\n\n  /**\n   *  tooltip \n   * @returns View\n   */\n  public lockTooltip(): View {\n    const tooltip = this.getController('tooltip');\n    if (tooltip) {\n      tooltip.lockTooltip();\n    }\n    return this;\n  }\n\n  /**\n   *  tooltip \n   * @returns View\n   */\n  public unlockTooltip(): View {\n    const tooltip = this.getController('tooltip');\n    if (tooltip) {\n      tooltip.unlockTooltip();\n    }\n    return this;\n  }\n\n  /**\n   *  tooltip\n   * @returns \n   */\n  public isTooltipLocked() {\n    const tooltip = this.getController('tooltip');\n    return tooltip && tooltip.isTooltipLocked();\n  }\n\n  /**\n   *  point  tooltip \n   * @param point \n   * @returns tooltip \n   */\n  public getTooltipItems(point: Point) {\n    const tooltip = this.getController('tooltip');\n\n    return tooltip ? tooltip.getTooltipItems(point) : [];\n  }\n\n  /**\n   * \n   * @param point \n   * @returns  \n   */\n  public getSnapRecords(point: Point) {\n    const geometries = this.geometries;\n    let rst = [];\n    for (let i = 0, len = geometries.length; i < len; i++) {\n      const geom = geometries[i];\n      const dataArray = geom.dataArray;\n      geom.sort(dataArray); //  tooltip \n      let record;\n      for (let j = 0, dataLen = dataArray.length; j < dataLen; j++) {\n        const data = dataArray[j];\n        record = findDataByPoint(point, data, geom);\n        if (record) {\n          rst.push(record);\n        }\n      }\n    }\n\n    //  views\n    const views = this.views;\n    for (let i = 0, len = views.length; i < len; i++) {\n      const view = views[i];\n      const snapRecords = view.getSnapRecords(point);\n      rst = rst.concat(snapRecords);\n    }\n\n    return rst;\n  }\n\n  /**\n   *  pure component \n   */\n  public getComponents(): ComponentOption[] {\n    let components = [];\n    const controllers = this.controllers;\n    for (let i = 0, len = controllers.length; i < len; i++) {\n      const controller = controllers[i];\n      components = components.concat(controller.getComponents());\n    }\n\n    return components;\n  }\n\n  /**\n   *  data \n   * @param data\n   * @returns \n   */\n  public filterData(data: Data): Data {\n    const { filters } = this.options;\n    //  filters\n    if (size(filters) === 0) {\n      return data;\n    }\n\n    //   \n    return filter(data, (datum: Datum, idx: number) => {\n      //  filter \n      const fields = Object.keys(filters);\n\n      // \n      return fields.every((field: string) => {\n        const condition = filters[field];\n\n        // condition  true\n        return condition(datum[field], datum, idx);\n      });\n    });\n  }\n\n  /**\n   * \n   * @param field\n   * @param data\n   */\n  public filterFieldData(field: string, data: Data): Data {\n    const { filters } = this.options;\n    const condition = get(filters, field);\n\n    if (isUndefined(condition)) {\n      return data;\n    }\n    return data.filter((datum: Datum, idx: number) => condition(datum[field], datum, idx));\n  }\n\n  /**\n   *  coordinate \n   */\n  public adjustCoordinate() {\n    const { start: curStart, end: curEnd } = this.getCoordinate();\n    const start = this.coordinateBBox.bl;\n    const end = this.coordinateBBox.tr;\n\n    //  defaultLayoutFn  coordinateBBox  adjustCoordinate()\n    if (isEqual(curStart, start) && isEqual(curEnd, end)) {\n      this.isCoordinateChanged = false;\n      // \n      return;\n    }\n    this.isCoordinateChanged = true;\n    this.coordinateInstance = this.coordinateController.adjust(start, end);\n  }\n\n  protected paint(isUpdate: boolean) {\n    this.renderDataRecursive(isUpdate);\n\n    //  sync scale \n    this.syncScale();\n\n    this.emit(VIEW_LIFE_CIRCLE.BEFORE_PAINT);\n\n    //  padding\n    this.renderPaddingRecursive(isUpdate);\n    // \n    this.renderLayoutRecursive(isUpdate);\n    //  shape\n    this.renderBackgroundStyleShape();\n    //  render\n    this.renderPaintRecursive(isUpdate);\n\n    this.emit(VIEW_LIFE_CIRCLE.AFTER_PAINT);\n\n    this.isDataChanged = false; // \n  }\n\n  /**\n   *  shape\n   *  view  view \n   */\n  private renderBackgroundStyleShape() {\n    // \n    if (this.parent) {\n      return;\n    }\n    const background = get(this.themeObject, 'background');\n    // \n    if (background) {\n      // 1. \n      if (!this.backgroundStyleRectShape) {\n        this.backgroundStyleRectShape = this.backgroundGroup.addShape('rect', {\n          attrs: {},\n          zIndex: -1,\n          //  shape \n          capture: false,\n        });\n        this.backgroundStyleRectShape.toBack();\n      }\n\n      // 2.  shape \n      const { x, y, width, height } = this.viewBBox;\n      this.backgroundStyleRectShape.attr({\n        fill: background,\n        x,\n        y,\n        width,\n        height,\n      });\n    } else {\n      // \n      if (this.backgroundStyleRectShape) {\n        this.backgroundStyleRectShape.remove(true);\n        this.backgroundStyleRectShape = undefined;\n      }\n    }\n  }\n\n  /**\n   *  view  padding coordinateBBox  coordinateInstance\n   * @param isUpdate\n   */\n  protected renderPaddingRecursive(isUpdate: boolean) {\n    // 1.  view  coordinateBBoxchangeSize \n    this.calculateViewBBox();\n    // 2.  coordinate\n    this.adjustCoordinate();\n    // 3.  component\n    this.initComponents(isUpdate);\n    // 4.  view  padding \n    // 4.1.  auto padding -> absolute padding appendPadding\n    this.autoPadding = calculatePadding(this).shrink(parsePadding(this.appendPadding));\n    // 4.2.  coordinateBBox Coordinate\n    //  view  viewBBox  parent  coordinateBBox\n    this.coordinateBBox = this.viewBBox.shrink(this.autoPadding.getPadding());\n    this.adjustCoordinate();\n\n    //  tooltip (tooltip crosshairs  coordinate )\n    const tooltipController = this.controllers.find((c) => c.name === 'tooltip');\n    tooltipController.update();\n\n    //  views\n    const views = this.views;\n    for (let i = 0, len = views.length; i < len; i++) {\n      const view = views[i];\n      view.renderPaddingRecursive(isUpdate);\n    }\n  }\n\n  /**\n   *  view  view  coordinateBBox  coordinateInstance\n   * @param isUpdate\n   */\n  protected renderLayoutRecursive(isUpdate: boolean) {\n    // 1.  view padding\n    //  padding\n    const syncViewPaddingFn =\n      this.syncViewPadding === true\n        ? defaultSyncViewPadding\n        : isFunction(this.syncViewPadding)\n        ? this.syncViewPadding\n        : undefined;\n\n    if (syncViewPaddingFn) {\n      syncViewPaddingFn(this, this.views, PaddingCal);\n      //  padding  coordinate\n      this.views.forEach((v: View) => {\n        v.coordinateBBox = v.viewBBox.shrink(v.autoPadding.getPadding());\n        v.adjustCoordinate();\n      });\n    }\n\n    // 3.  view  view padding \n    this.doLayout();\n\n    //  views\n    const views = this.views;\n    for (let i = 0, len = views.length; i < len; i++) {\n      const view = views[i];\n      view.renderLayoutRecursive(isUpdate);\n    }\n  }\n\n  /**\n   * \n   * @param isUpdate\n   */\n  protected renderPaintRecursive(isUpdate: boolean) {\n    const middleGroup = this.middleGroup;\n    if (this.limitInPlot) {\n      const { type, attrs } = getCoordinateClipCfg(this.coordinateInstance);\n      middleGroup.setClip({\n        type,\n        attrs,\n      });\n    } else {\n      //  clip\n      middleGroup.setClip(undefined);\n    }\n\n    // 1. \n    this.paintGeometries(isUpdate);\n    // 2. \n    this.renderComponents(isUpdate);\n\n    //  views\n    const views = this.views;\n    for (let i = 0, len = views.length; i < len; i++) {\n      const view = views[i];\n      view.renderPaintRecursive(isUpdate);\n    }\n  }\n\n  // end Get \n\n  /**\n   *  scale view  scale\n   * @param field\n   * @param data\n   * @param scaleDef\n   * @param key\n   */\n  protected createScale(field: string, data: Data, scaleDef: ScaleOption, key: string): Scale {\n    // 1.  field  scaleDef\n    const currentScaleDef = get(this.options.scales, [field]);\n    const mergedScaleDef = { ...currentScaleDef, ...scaleDef };\n\n    // 2.  view\n    if (this.parent) {\n      return this.parent.createScale(field, data, mergedScaleDef, key);\n    }\n\n    // 3.  view  scalePool \n    return this.scalePool.createScale(field, data, mergedScaleDef, key);\n  }\n\n  /**\n   * \n   * @param isUpdate\n   */\n  private renderDataRecursive(isUpdate: boolean) {\n    // 1. \n    this.doFilterData();\n    // 2. \n    this.createCoordinate();\n    // 3.  Geometry\n    this.initGeometries(isUpdate);\n    // 4.  view  geometry\n    this.renderFacet(isUpdate);\n\n    //  views\n    const views = this.views;\n    for (let i = 0, len = views.length; i < len; i++) {\n      const view = views[i];\n      view.renderDataRecursive(isUpdate);\n    }\n  }\n\n  /**\n   *  region\n   * @private\n   */\n  private calculateViewBBox() {\n    let x;\n    let y;\n    let width;\n    let height;\n\n    if (this.parent) {\n      const bbox = this.parent.coordinateBBox;\n      //  parent \n      x = bbox.x;\n      y = bbox.y;\n      width = bbox.width;\n      height = bbox.height;\n    } else {\n      //  canvas  \n      x = 0;\n      y = 0;\n      width = this.canvas.get('width');\n      height = this.canvas.get('height');\n    }\n\n    const { start, end } = this.region;\n\n    //  region  view  bbox \n    const viewBBox = new BBox(\n      x + width * start.x,\n      y + height * start.y,\n      width * (end.x - start.x),\n      height * (end.y - start.y)\n    );\n\n    if (!this.viewBBox || !this.viewBBox.isEqual(viewBBox)) {\n      // viewBBox \n      this.viewBBox = new BBox(\n        x + width * start.x,\n        y + height * start.y,\n        width * (end.x - start.x),\n        height * (end.y - start.y)\n      );\n    }\n\n    //  coordinate bbox \n    this.coordinateBBox = this.viewBBox;\n  }\n\n  /**\n   * G 4.0  name:event  name \n   *\n   * G2  view \n   *  view  view  Component  Geometry \n   * @private\n   */\n  private initEvents() {\n    //  group  shape  G \n    this.foregroundGroup.on('*', this.onDelegateEvents);\n    this.middleGroup.on('*', this.onDelegateEvents);\n    this.backgroundGroup.on('*', this.onDelegateEvents);\n\n    this.canvas.on('*', this.onCanvasEvent);\n  }\n\n  private onCanvasEvent = (evt: GEvent): void => {\n    const name = evt.name;\n    if (!name.includes(':')) {\n      // \n      const e = this.createViewEvent(evt);\n      //  plot \n      this.doPlotEvent(e);\n      this.emit(name, e);\n    }\n  };\n\n  /**\n   * \n   */\n  private initComponentController() {\n    const usedControllers = this.usedControllers;\n    for (let i = 0, len = usedControllers.length; i < len; i++) {\n      const controllerName = usedControllers[i];\n      const Ctor = getComponentController(controllerName);\n      if (Ctor) {\n        this.controllers.push(new Ctor(this));\n      }\n    }\n  }\n\n  private createViewEvent(evt: GEvent) {\n    const { shape, name } = evt;\n\n    const data = shape ? shape.get('origin') : null;\n    //  view \n    const e = new Event(this, evt, data);\n    e.type = name;\n    return e;\n  }\n  /**\n   * \n   * @param evt\n   */\n  private onDelegateEvents = (evt: GEvent): void => {\n    // \n    // evt.preventDefault();\n    const { name } = evt;\n    if (!name.includes(':')) {\n      return;\n    }\n    //  view \n    const e = this.createViewEvent(evt);\n\n    // \n    this.emit(name, e);\n    // const currentTarget = evt.currentTarget as IShape;\n    // const inheritNames = currentTarget.get('inheritNames');\n    // if (evt.delegateObject || inheritNames) {\n    //   const events = this.getEvents();\n    //   each(inheritNames, (subName) => {\n    //     const eventName = `${subName}:${type}`;\n    //     if (events[eventName]) {\n    //       this.emit(eventName, e);\n    //     }\n    //   });\n    // }\n  };\n\n  /**\n   *  PLOT_EVENTS\n   * plot event  emit\n   *  mouseentermouseleave \n   * @param e\n   */\n  private doPlotEvent(e: Event) {\n    const { type, x, y } = e;\n\n    const point = { x, y };\n\n    const ALL_EVENTS = [\n      'mousedown',\n      'mouseup',\n      'mousemove',\n      'mouseleave',\n      'mousewheel',\n      'touchstart',\n      'touchmove',\n      'touchend',\n      'touchcancel',\n      'click',\n      'dblclick',\n      'contextmenu',\n    ];\n\n    if (ALL_EVENTS.includes(type)) {\n      const currentInPlot = this.isPointInPlot(point);\n      const newEvent = e.clone();\n\n      if (currentInPlot) {\n        const TYPE = `plot:${type}`; //  plot \n        newEvent.type = TYPE;\n        this.emit(TYPE, newEvent);\n        if (type === 'mouseleave' || type === 'touchend') {\n          // plot \n          this.isPreMouseInPlot = false;\n        }\n      }\n\n      //  mouseenter, mouseleave \n      if (type === 'mousemove' || type === 'touchmove') {\n        if (this.isPreMouseInPlot && !currentInPlot) {\n          if (type === 'mousemove') {\n            newEvent.type = PLOT_EVENTS.MOUSE_LEAVE;\n            this.emit(PLOT_EVENTS.MOUSE_LEAVE, newEvent);\n          }\n          newEvent.type = PLOT_EVENTS.LEAVE;\n          this.emit(PLOT_EVENTS.LEAVE, newEvent);\n        } else if (!this.isPreMouseInPlot && currentInPlot) {\n          if (type === 'mousemove') {\n            newEvent.type = PLOT_EVENTS.MOUSE_ENTER;\n            this.emit(PLOT_EVENTS.MOUSE_ENTER, newEvent);\n          }\n          newEvent.type = PLOT_EVENTS.ENTER;\n          this.emit(PLOT_EVENTS.ENTER, newEvent);\n        }\n        // \n        this.isPreMouseInPlot = currentInPlot;\n      } else if (type === 'mouseleave' || type === 'touchend') {\n        //  currentInPlot \n        if (this.isPreMouseInPlot) {\n          if (type === 'mouseleave') {\n            newEvent.type = PLOT_EVENTS.MOUSE_LEAVE;\n            this.emit(PLOT_EVENTS.MOUSE_LEAVE, newEvent);\n          }\n          newEvent.type = PLOT_EVENTS.LEAVE;\n          this.emit(PLOT_EVENTS.LEAVE, newEvent);\n\n          this.isPreMouseInPlot = false;\n        }\n      }\n    }\n  }\n\n  // view   \n\n  /**\n   * \n   * @private\n   */\n  private doFilterData() {\n    const { data } = this.options;\n    this.filteredData = this.filterData(data);\n  }\n\n  /**\n   *  Geometries\n   * @private\n   */\n  private initGeometries(isUpdate: boolean) {\n    //  /  scales\n    this.createOrUpdateScales();\n    //  Geometry view  scale \n    const coordinate = this.getCoordinate();\n    const scaleDefs = get(this.options, 'scales', {});\n    const geometries = this.geometries;\n    for (let i = 0, len = geometries.length; i < len; i++) {\n      const geometry = geometries[i];\n      //  scales \n      geometry.scales = this.getGeometryScales();\n      const cfg = {\n        coordinate, //  coordinate  coordinate \n        scaleDefs,\n        data: this.filteredData,\n        theme: this.themeObject,\n        isDataChanged: this.isDataChanged,\n        isCoordinateChanged: this.isCoordinateChanged,\n      };\n\n      if (isUpdate) {\n        // \n        geometry.update(cfg);\n      } else {\n        geometry.init(cfg);\n      }\n    }\n\n    // Geometry  scale scale \n    this.adjustScales();\n  }\n\n  /**\n   *  Geometry  scales\n   * \n   */\n  private createOrUpdateScales() {\n    const fields = this.getScaleFields();\n    const groupedFields = this.getGroupedFields();\n\n    const { data, scales = {} } = this.getOptions();\n    const filteredData = this.filteredData;\n\n    for (let i = 0, len = fields.length; i < len; i++) {\n      const field = fields[i];\n      const scaleDef = scales[field];\n\n      // \n      const key = this.getScaleKey(field);\n      this.createScale(\n        field,\n        //  scale \n        groupedFields.includes(field) ? data : filteredData,\n        scaleDef,\n        key\n      );\n\n      //  view  scale key\n      this.createdScaleKeys.set(key, true);\n    }\n  }\n\n  /**\n   *  scale \n   */\n  private syncScale() {\n    //  root view \n    this.getRootView().scalePool.sync(this.getCoordinate(), this.theme);\n  }\n\n  /**\n   *  Geometry  scale \n   */\n  private getGeometryScales(): Record<string, Scale> {\n    const fields = this.getScaleFields();\n\n    const scales = {};\n    for (let i = 0; i < fields.length; i++) {\n      const field = fields[i];\n      scales[field] = this.getScaleByField(field);\n    }\n\n    return scales;\n  }\n\n  private getScaleFields() {\n    const fields = [];\n    const tmpMap = new Map();\n    const geometries = this.geometries;\n    for (let i = 0; i < geometries.length; i++) {\n      const geometry = geometries[i];\n      const geometryScales = geometry.getScaleFields();\n      uniq(geometryScales, fields, tmpMap);\n    }\n    return fields;\n  }\n\n  private getGroupedFields() {\n    const fields = [];\n    const tmpMap = new Map();\n    const geometries = this.geometries;\n    for (let i = 0; i < geometries.length; i++) {\n      const geometry = geometries[i];\n      const groupFields = geometry.getGroupFields();\n      uniq(groupFields, fields, tmpMap);\n    }\n    return fields;\n  }\n\n  /**\n   *  scale \n   * @private\n   */\n  private adjustScales() {\n    // \n    //  scale range \n    this.adjustCategoryScaleRange();\n  }\n\n  /**\n   *  scale  range\n   * @private\n   */\n  private adjustCategoryScaleRange() {\n    const xyScales = [this.getXScale(), ...this.getYScales()].filter((e) => !!e);\n    const coordinate = this.getCoordinate();\n    const scaleOptions = this.options.scales;\n\n    each(xyScales, (scale: Scale) => {\n      const { field, values, isCategory, isIdentity } = scale;\n\n      //  identity  scale \n      if (isCategory || isIdentity) {\n        //  value  range \n        if (values && !get(scaleOptions, [field, 'range'])) {\n          //  range\n          scale.range = getDefaultCategoryScaleRange(scale, coordinate, this.theme);\n        }\n      }\n    });\n  }\n\n  /**\n   *  options Geometry  components\n   * @param isUpdate \n   * @private\n   */\n  private initComponents(isUpdate: boolean) {\n    //  render\n    const controllers = this.controllers;\n    for (let i = 0; i < controllers.length; i++) {\n      const controller = controllers[i];\n      // \n      if (isUpdate) {\n        controller.update();\n      } else {\n        controller.clear();\n        controller.render();\n      }\n    }\n  }\n\n  private doLayout() {\n    this.layoutFunc(this);\n  }\n\n  /**\n   * \n   * @private\n   */\n  private createCoordinate() {\n    const start = this.coordinateBBox.bl;\n    const end = this.coordinateBBox.tr;\n    this.coordinateInstance = this.coordinateController.create(start, end);\n  }\n\n  /**\n   *  options  geometry\n   * @private\n   */\n  private paintGeometries(isUpdate: boolean) {\n    const doAnimation = this.options.animate;\n    // geometry  paint \n    const coordinate = this.getCoordinate();\n    const canvasRegion = {\n      x: this.viewBBox.x,\n      y: this.viewBBox.y,\n      minX: this.viewBBox.minX,\n      minY: this.viewBBox.minY,\n      maxX: this.viewBBox.maxX,\n      maxY: this.viewBBox.maxY,\n      width: this.viewBBox.width,\n      height: this.viewBBox.height,\n    };\n    const geometries = this.geometries;\n    for (let i = 0; i < geometries.length; i++) {\n      const geometry = geometries[i];\n      geometry.coordinate = coordinate;\n      geometry.canvasRegion = canvasRegion;\n      if (!doAnimation) {\n        //  view  view  geometry \n        geometry.animate(false);\n      }\n      geometry.paint(isUpdate);\n    }\n  }\n\n  /**\n   * \n   * @param isUpdate\n   */\n  private renderComponents(isUpdate: boolean) {\n    const components = this.getComponents();\n    //  render\n    for (let i = 0; i < components.length; i++) {\n      const co = components[i];\n      (co.component as GroupComponent).render();\n    }\n  }\n\n  /**\n   *  view \n   * @param isUpdate\n   */\n  private renderFacet(isUpdate: boolean) {\n    if (this.facetInstance) {\n      if (isUpdate) {\n        this.facetInstance.update();\n      } else {\n        this.facetInstance.clear();\n        // \n        this.facetInstance.init();\n        //  views\n        this.facetInstance.render();\n      }\n    }\n  }\n\n  private initOptions() {\n    const {\n      geometries = [],\n      interactions = [],\n      views = [],\n      annotations = [],\n      coordinate,\n      events,\n      facets,\n    } = this.options;\n\n    // \n    if (this.coordinateController) {\n      //  coordinate controller\n      coordinate && this.coordinateController.update(coordinate);\n    } else {\n      //  coordinate controller\n      this.coordinateController = new CoordinateController(coordinate);\n    }\n\n    //  geometry \n    for (let i = 0; i < geometries.length; i++) {\n      const geometryOption = geometries[i];\n      this.createGeometry(geometryOption);\n    }\n\n    //  interactions \n    for (let j = 0; j < interactions.length; j++) {\n      const interactionOption = interactions[j];\n      const { type, cfg } = interactionOption;\n      this.interaction(type, cfg);\n    }\n\n    //  view \n    for (let k = 0; k < views.length; k++) {\n      const viewOption = views[k];\n      this.createView(viewOption);\n    }\n\n    //  annotation\n    const annotationComponent = this.getController('annotation');\n    for (let l = 0; l < annotations.length; l++) {\n      const annotationOption = annotations[l];\n      annotationComponent.annotation(annotationOption);\n    }\n\n    //  events\n    if (events) {\n      each(events, (eventCallback, eventName) => {\n        this.on(eventName, eventCallback);\n      });\n    }\n\n    if (facets) {\n      each(facets, (facet) => {\n        const { type, ...rest } = facet;\n\n        this.facet(type, rest);\n      });\n    }\n  }\n\n  private createGeometry(geometryOption: GeometryOption) {\n    const { type, cfg = {} } = geometryOption;\n    if (this[type]) {\n      const geometry = this[type](cfg);\n      each(geometryOption, (v, k) => {\n        if (isFunction(geometry[k])) {\n          geometry[k](v);\n        }\n      });\n    }\n  }\n\n  /**\n   * scale key \n   * @param field\n   */\n  private getScaleKey(field: string): string {\n    return `${this.id}-${field}`;\n  }\n}\n\n/**\n *  geometry \n * @param name\n * @param Ctor\n * @returns Geometry\n */\nexport function registerGeometry(name: string, Ctor: any) {\n  //  view API \n  View.prototype[name.toLowerCase()] = function (cfg: any = {}) {\n    const props = {\n      /**  */\n      container: this.middleGroup.addGroup(),\n      labelsContainer: this.foregroundGroup.addGroup(),\n      ...cfg,\n    };\n\n    const geometry = new Ctor(props);\n    this.geometries.push(geometry);\n\n    return geometry;\n  };\n}\n\nexport default View;\n","import { each } from '@antv/util';\nimport { COMPONENT_TYPE } from '../../constant';\nimport { ComponentOption, Padding } from '../../interface';\nimport { BBox } from '../../util/bbox';\nimport { isAutoPadding, parsePadding } from '../../util/padding';\nimport View from '../view';\nimport { PaddingCal } from './padding-cal';\n\n/**\n * @ignore\n *  view  padding \n * @param view\n */\nexport function calculatePadding(view: View): PaddingCal {\n  const padding = view.padding;\n\n  //  auto padding\n  if (!isAutoPadding(padding)) {\n    return new PaddingCal(...parsePadding(padding));\n  }\n\n  //  auto padding padding\n  const { viewBBox } = view;\n\n  const paddingCal = new PaddingCal();\n\n  const axisComponents = [];\n  const paddingComponents = [];\n  const otherComponents = [];\n\n  each(view.getComponents(), (co: ComponentOption) => {\n    const { type } = co;\n    if (type === COMPONENT_TYPE.AXIS) {\n      axisComponents.push(co);\n    } else if ([COMPONENT_TYPE.LEGEND, COMPONENT_TYPE.SLIDER, COMPONENT_TYPE.SCROLLBAR].includes(type)) {\n      paddingComponents.push(co);\n    } else if (type !== COMPONENT_TYPE.GRID && type !== COMPONENT_TYPE.TOOLTIP) {\n      otherComponents.push(co);\n    }\n  });\n\n  //  padding \n  each(axisComponents, (co: ComponentOption) => {\n    const { component } = co;\n    const bboxObject = component.getLayoutBBox();\n    const componentBBox = new BBox(bboxObject.x, bboxObject.y, bboxObject.width, bboxObject.height);\n\n    const exceed = componentBBox.exceed(viewBBox);\n\n    //  axis \n    paddingCal.max(exceed);\n  });\n\n  //  padding \n  each(paddingComponents, (co: ComponentOption) => {\n    const { component, direction } = co;\n    const bboxObject = component.getLayoutBBox();\n    const componentPadding: Padding = component.get('padding');\n    const componentBBox = new BBox(bboxObject.x, bboxObject.y, bboxObject.width, bboxObject.height).expand(\n      componentPadding\n    );\n    //  padding\n    paddingCal.inc(componentBBox, direction);\n  });\n\n  // \n  each(otherComponents, (co: ComponentOption) => {\n    const { component, direction } = co;\n    const bboxObject = component.getLayoutBBox();\n    const componentBBox = new BBox(bboxObject.x, bboxObject.y, bboxObject.width, bboxObject.height);\n    //  padding\n    paddingCal.inc(componentBBox, direction);\n  });\n\n  return paddingCal;\n}\n","import { debounce, each, isString } from '@antv/util';\nimport { ChartCfg } from '../interface';\nimport { GROUP_Z_INDEX, VIEW_LIFE_CIRCLE } from '../constant';\nimport { getEngine } from '../engine';\nimport { createDom, getChartSize, removeDom, modifyCSS } from '../util/dom';\nimport View from './view';\nimport { AriaOption } from '../interface';\n\n/**\n * Chart  G2 \n */\nexport default class Chart extends View {\n  /** Chart  DOM  */\n  public ele: HTMLElement;\n\n  /**  */\n  public width: number;\n  /**  */\n  public height: number;\n  /**  */\n  public localRefresh: boolean;\n  /**  DOM  false */\n  public autoFit: boolean;\n  /**  */\n  public renderer: 'canvas' | 'svg';\n\n  private wrapperElement: HTMLElement;\n\n  // @ts-ignore\n  constructor(props: ChartCfg) {\n    const {\n      container,\n      width,\n      height,\n      autoFit = false,\n      padding,\n      appendPadding,\n      renderer = 'canvas',\n      pixelRatio,\n      localRefresh = true,\n      visible = true,\n      supportCSSTransform = false,\n      defaultInteractions = ['tooltip', 'legend-filter', 'legend-active', 'continuous-filter', 'ellipsis-text', 'axis-description'],\n      options,\n      limitInPlot,\n      theme,\n      syncViewPadding,\n    } = props;\n\n    const ele: HTMLElement = isString(container) ? document.getElementById(container) : container;\n\n    //  div \n    const wrapperElement = createDom('<div style=\"position:relative;\"></div>');\n    ele.appendChild(wrapperElement);\n\n    // if autoFit, use the container size, to avoid the graph render twice.\n    const size = getChartSize(ele, autoFit, width, height);\n\n    const G = getEngine(renderer);\n\n    const canvas = new G.Canvas({\n      container: wrapperElement,\n      pixelRatio,\n      localRefresh,\n      supportCSSTransform,\n      ...size,\n    });\n\n    //  view \n    super({\n      parent: null,\n      canvas,\n      // create 3 group layers for views.\n      backgroundGroup: canvas.addGroup({ zIndex: GROUP_Z_INDEX.BG }),\n      middleGroup: canvas.addGroup({ zIndex: GROUP_Z_INDEX.MID }),\n      foregroundGroup: canvas.addGroup({ zIndex: GROUP_Z_INDEX.FORE }),\n      padding,\n      appendPadding,\n      visible,\n      options,\n      limitInPlot,\n      theme,\n      syncViewPadding,\n    });\n\n    this.ele = ele;\n    this.canvas = canvas;\n    this.width = size.width;\n    this.height = size.height;\n    this.autoFit = autoFit;\n    this.localRefresh = localRefresh;\n    this.renderer = renderer;\n    this.wrapperElement = wrapperElement;\n\n    // \n    this.updateCanvasStyle();\n    this.bindAutoFit();\n    this.initDefaultInteractions(defaultInteractions);\n  }\n\n  private initDefaultInteractions(interactions) {\n    each(interactions, (interaction) => {\n      this.interaction(interaction);\n    });\n  }\n\n  /**\n   *  WAI-ARIA  arial \n   * @param ariaOption\n   */\n  public aria(ariaOption: AriaOption) {\n    const ATTR = 'aria-label';\n    if (ariaOption === false) {\n      this.ele.removeAttribute(ATTR);\n    } else {\n      this.ele.setAttribute(ATTR, ariaOption.label);\n    }\n  }\n\n  /**\n   * \n   * @param width \n   * @param height \n   * @returns\n   */\n  public changeSize(width: number, height: number) {\n    //  changeSize \n    if (this.width === width && this.height === height) {\n      return this;\n    }\n\n    this.emit(VIEW_LIFE_CIRCLE.BEFORE_CHANGE_SIZE);\n\n    this.width = width;\n    this.height = height;\n    this.canvas.changeSize(width, height);\n\n    // \n    this.render(true);\n\n    this.emit(VIEW_LIFE_CIRCLE.AFTER_CHANGE_SIZE);\n\n    return this;\n  }\n\n  /**\n   *  aria \n   */\n  public clear() {\n    super.clear();\n\n    this.aria(false);\n  }\n\n  /**\n   *  G.Canvas \n   * @returns void\n   */\n  public destroy() {\n    super.destroy();\n\n    this.unbindAutoFit();\n    this.canvas.destroy();\n\n    removeDom(this.wrapperElement);\n    this.wrapperElement = null;\n  }\n\n  /**\n   * \n   * @param visible true false \n   * @returns\n   */\n  public changeVisible(visible: boolean) {\n    super.changeVisible(visible); //  visible \n    this.wrapperElement.style.display = visible ? '' : 'none';\n\n    return this;\n  }\n\n  /**\n   *  resize \n   */\n  public forceFit() {\n    // skip if already destroyed\n    if (!this.destroyed) {\n      //  true autoFit = falseforceFit() \n      const { width, height } = getChartSize(this.ele, true, this.width, this.height);\n      this.changeSize(width, height);\n    }\n  }\n\n  private updateCanvasStyle() {\n    modifyCSS(this.canvas.get('el'), {\n      display: 'inline-block',\n      verticalAlign: 'middle',\n    });\n  }\n\n  private bindAutoFit() {\n    if (this.autoFit) {\n      window.addEventListener('resize', this.onResize);\n    }\n  }\n\n  private unbindAutoFit() {\n    if (this.autoFit) {\n      window.removeEventListener('resize', this.onResize);\n    }\n  }\n\n  /**\n   * when container size changed, change chart size props, and re-render.\n   */\n  private onResize = debounce(() => {\n    this.forceFit();\n  }, 300);\n}\n","import { each } from '@antv/util';\nimport { ComponentOption } from '../../interface';\nimport View from '../view';\n\n/** Component controller class type define */\nexport type ControllerCtor<O = any> = new (view: View) => Controller<O>;\n\n/**\n * Component Controller \n * 1.  option \n * 2.  API\n * 3. \n */\nexport abstract class Controller<O = unknown> {\n  /**  */\n  public visible: boolean = true;\n  protected view: View;\n  /** option  */\n  protected option: O;\n  /**  component */\n  protected components: ComponentOption[] = [];\n\n  constructor(view: View) {\n    this.view = view;\n  }\n\n  public abstract get name(): string;\n\n  /**\n   * init the component\n   */\n  public abstract init();\n\n  /**\n   * render the components\n   */\n  public abstract render();\n\n  /**\n   * update the components\n   */\n  // public abstract update();\n\n  /**\n   * do layout\n   */\n  public abstract layout();\n\n  /**\n   * \n   *  -  id option \n   *  -  id  diff\n   *  - \n   *  - \n   *  - \n   */\n  public abstract update();\n\n  /**\n   * clear\n   * @param includeOption  option used in annotation\n   */\n  public clear(includeOption?: boolean) {\n    // destroy all components\n    each(this.components, (co: ComponentOption) => {\n      co.component.destroy();\n    });\n\n    // clear all component instance\n    this.components = [];\n  }\n\n  /**\n   * destroy the component\n   */\n  public destroy() {\n    this.clear();\n  }\n\n  /**\n   * get all components\n   * @returns components array\n   */\n  public getComponents(): ComponentOption[] {\n    return this.components;\n  }\n\n  /**\n   * change visibility of component\n   * @param visible\n   */\n  public changeVisible(visible: boolean) {\n    if (this.visible === visible) {\n      return;\n    }\n    this.components.forEach((co: ComponentOption) => {\n      if (visible) {\n        co.component.show();\n      } else {\n        co.component.hide();\n      }\n    });\n    this.visible = visible;\n  }\n}\n","import { deepMix, find, get, isEqual, isFunction, mix, isString, isBoolean, flatten, isArray } from '@antv/util';\nimport { Crosshair, HtmlTooltip, IGroup } from '../../dependents';\nimport { Point, TooltipItem, TooltipOption } from '../../interface';\nimport { getAngleByPoint, getDistanceToCenter, getCoordinateClipCfg } from '../../util/coordinate';\nimport { polarToCartesian } from '../../util/graphics';\nimport { findItemsFromView } from '../../util/tooltip';\nimport { BBox } from '../../util/bbox';\nimport { Controller } from './base';\nimport Event from '../event';\nimport View from '../view';\n\n// Filter duplicates, use `name`, `color`, `value` and `title` property values as condition\nfunction uniq(items) {\n  const uniqItems = [];\n  for (let index = 0; index < items.length; index++) {\n    const item = items[index];\n    const result = find(uniqItems, (subItem) => {\n      return (\n        subItem.color === item.color &&\n        subItem.name === item.name &&\n        subItem.value === item.value &&\n        subItem.title === item.title\n      );\n    });\n    if (!result) {\n      uniqItems.push(item);\n    }\n  }\n  return uniqItems;\n}\n\n/** @ignore */\nexport default class Tooltip extends Controller<TooltipOption> {\n  private tooltip;\n  private tooltipMarkersGroup: IGroup;\n  private tooltipCrosshairsGroup: IGroup;\n  private xCrosshair;\n  private yCrosshair;\n  private guideGroup: IGroup;\n\n  private isLocked: boolean = false;\n  private items;\n  private title: string;\n  private point: Point;\n\n  public get name(): string {\n    return 'tooltip';\n  }\n\n  public init() { }\n\n  private isVisible() {\n    const option = this.view.getOptions().tooltip;\n    return option !== false;\n  }\n\n  public render() { }\n\n  /**\n   * Shows tooltip\n   * @param point\n   */\n  public showTooltip(point: Point) {\n    this.point = point;\n    if (!this.isVisible()) {\n      //  tooltip(false) \n      return;\n    }\n    const view = this.view;\n    const items = this.getTooltipItems(point);\n    if (!items.length) {\n      //  tooltip \n      this.hideTooltip();\n      return;\n    }\n    const title = this.getTitle(items);\n    const dataPoint = {\n      x: items[0].x,\n      y: items[0].y,\n    }; // \n\n    view.emit(\n      'tooltip:show',\n      Event.fromData(view, 'tooltip:show', {\n        items,\n        title,\n        ...point,\n      })\n    );\n\n    const cfg = this.getTooltipCfg();\n    const { follow, showMarkers, showCrosshairs, showContent, marker } = cfg;\n    const lastItems = this.items;\n    const lastTitle = this.title;\n    if (!isEqual(lastTitle, title) || !isEqual(lastItems, items)) {\n      //  tooltip\n      view.emit(\n        'tooltip:change',\n        Event.fromData(view, 'tooltip:change', {\n          items,\n          title,\n          ...point,\n        })\n      );\n\n      if (isFunction(showContent) ? showContent(items) : showContent) {\n        //  tooltip  tooltip\n        if (!this.tooltip) {\n          // \n          this.renderTooltip();\n        }\n        this.tooltip.update(\n          mix(\n            {},\n            cfg,\n            {\n              items: this.getItemsAfterProcess(items),\n              title,\n            },\n            follow ? point : {}\n          )\n        );\n        this.tooltip.show();\n      }\n\n      if (showMarkers) {\n        //  tooltipMarkerstooltipMarkers \n        this.renderTooltipMarkers(items, marker);\n      }\n    } else {\n      // \n      if (this.tooltip && follow) {\n        this.tooltip.update(point);\n        this.tooltip.show(); // tooltip \n      }\n\n      if (this.tooltipMarkersGroup) {\n        this.tooltipMarkersGroup.show();\n      }\n    }\n\n    this.items = items;\n    this.title = title;\n\n    if (showCrosshairs) {\n      //  tooltip \n      const isCrosshairsFollowCursor = get(cfg, ['crosshairs', 'follow'], false); // \n      this.renderCrosshairs(isCrosshairsFollowCursor ? point : dataPoint, cfg);\n    }\n  }\n\n  public hideTooltip() {\n    const { follow } = this.getTooltipCfg();\n    if (!follow) {\n      this.point = null;\n      return;\n    }\n    // hide the tooltipMarkers\n    const tooltipMarkersGroup = this.tooltipMarkersGroup;\n    if (tooltipMarkersGroup) {\n      tooltipMarkersGroup.hide();\n    }\n\n    // hide crosshairs\n    const xCrosshair = this.xCrosshair;\n    const yCrosshair = this.yCrosshair;\n    if (xCrosshair) {\n      xCrosshair.hide();\n    }\n    if (yCrosshair) {\n      yCrosshair.hide();\n    }\n\n    const tooltip = this.tooltip;\n    if (tooltip) {\n      tooltip.hide();\n    }\n\n    this.view.emit('tooltip:hide', Event.fromData(this.view, 'tooltip:hide', {}));\n\n    this.point = null;\n  }\n\n  /**\n   * lockTooltip\n   */\n  public lockTooltip() {\n    this.isLocked = true;\n    if (this.tooltip) {\n      // tooltip contianer \n      this.tooltip.setCapture(true);\n    }\n  }\n\n  /**\n   * unlockTooltip\n   */\n  public unlockTooltip() {\n    this.isLocked = false;\n    const cfg = this.getTooltipCfg();\n    if (this.tooltip) {\n      //  capture \n      this.tooltip.setCapture(cfg.capture);\n    }\n  }\n\n  /**\n   * isTooltipLocked\n   */\n  public isTooltipLocked() {\n    return this.isLocked;\n  }\n\n  public clear() {\n    const { tooltip, xCrosshair, yCrosshair, tooltipMarkersGroup } = this;\n    if (tooltip) {\n      tooltip.hide();\n      tooltip.clear();\n    }\n\n    if (xCrosshair) {\n      xCrosshair.clear();\n    }\n\n    if (yCrosshair) {\n      yCrosshair.clear();\n    }\n\n    if (tooltipMarkersGroup) {\n      tooltipMarkersGroup.clear();\n    }\n\n    //  customContent  tooltip\n    if (tooltip?.get('customContent')) {\n      this.tooltip.destroy();\n      this.tooltip = null;\n    }\n\n    // title  items ,  tooltip \n    //  !isEqual(lastTitle, title) || !isEqual(lastItems, items)  tooltip \n    this.title = null;\n    this.items = null;\n  }\n\n  public destroy() {\n    if (this.tooltip) {\n      this.tooltip.destroy();\n    }\n    if (this.xCrosshair) {\n      this.xCrosshair.destroy();\n    }\n    if (this.yCrosshair) {\n      this.yCrosshair.destroy();\n    }\n\n    if (this.guideGroup) {\n      this.guideGroup.remove(true);\n    }\n\n    this.reset();\n  }\n\n  public reset() {\n    this.items = null;\n    this.title = null;\n    this.tooltipMarkersGroup = null;\n    this.tooltipCrosshairsGroup = null;\n    this.xCrosshair = null;\n    this.yCrosshair = null;\n    this.tooltip = null;\n    this.guideGroup = null;\n    this.isLocked = false;\n    this.point = null;\n  }\n\n  public changeVisible(visible: boolean) {\n    if (this.visible === visible) {\n      return;\n    }\n    const { tooltip, tooltipMarkersGroup, xCrosshair, yCrosshair } = this;\n    if (visible) {\n      if (tooltip) {\n        tooltip.show();\n      }\n      if (tooltipMarkersGroup) {\n        tooltipMarkersGroup.show();\n      }\n      if (xCrosshair) {\n        xCrosshair.show();\n      }\n      if (yCrosshair) {\n        yCrosshair.show();\n      }\n    } else {\n      if (tooltip) {\n        tooltip.hide();\n      }\n      if (tooltipMarkersGroup) {\n        tooltipMarkersGroup.hide();\n      }\n      if (xCrosshair) {\n        xCrosshair.hide();\n      }\n      if (yCrosshair) {\n        yCrosshair.hide();\n      }\n    }\n    this.visible = visible;\n  }\n\n  public getTooltipItems(point: Point) {\n    let items = this.findItemsFromView(this.view, point);\n    if (items.length) {\n      // \n      items = flatten(items);\n      for (const itemArr of items) {\n        for (const item of itemArr) {\n          const { x, y } = item.mappingData;\n          item.x = isArray(x) ? x[x.length - 1] : x;\n          item.y = isArray(y) ? y[y.length - 1] : y;\n        }\n      }\n\n      const { shared } = this.getTooltipCfg();\n      // shared: false  shape  view  Geometry shape\n      if (shared === false && items.length > 1) {\n        let snapItem = items[0];\n        let min = Math.abs(point.y - snapItem[0].y);\n        for (const aItem of items) {\n          const yDistance = Math.abs(point.y - aItem[0].y);\n          if (yDistance <= min) {\n            snapItem = aItem;\n            min = yDistance;\n          }\n        }\n        items = [snapItem];\n      }\n\n      return uniq(flatten(items));\n    }\n\n    return [];\n  }\n\n  public layout() { }\n\n  public update() {\n    if (this.point) {\n      this.showTooltip(this.point);\n    }\n\n    if (this.tooltip) {\n      // #2279 resizetooltip\n      // tooltip\n      const canvas = this.view.getCanvas();\n      // TODO  tooltip  canvas \n      //  region\n      this.tooltip.set('region', {\n        start: { x: 0, y: 0 },\n        end: { x: canvas.get('width'), y: canvas.get('height') },\n      });\n    }\n  }\n\n  /**\n   *  enter tooltip \n   * @param point\n   */\n  public isCursorEntered(point: Point) {\n    //  tooltip dom \n    if (this.tooltip) {\n      const el: HTMLElement = this.tooltip.getContainer();\n      const capture = this.tooltip.get('capture');\n\n      if (el && capture) {\n        const { x, y, width, height } = el.getBoundingClientRect();\n        return new BBox(x, y, width, height).isPointIn(point);\n      }\n    }\n\n    return false;\n  }\n\n  //  tooltip  view.tooltip()  tooltip\n  public getTooltipCfg() {\n    const view = this.view;\n    const option = view.getOptions().tooltip;\n    const processOption = this.processCustomContent(option);\n    const theme = view.getTheme();\n    const defaultCfg = get(theme, ['components', 'tooltip'], {});\n    const enterable = get(processOption, 'enterable', defaultCfg.enterable);\n    return deepMix({}, defaultCfg, processOption, {\n      capture: enterable || this.isLocked ? true : false,\n    });\n  }\n\n  // process customContent\n  protected processCustomContent(option: TooltipOption) {\n    if (isBoolean(option) || !get(option, 'customContent')) {\n      return option;\n    }\n    const currentCustomContent = option.customContent;\n    const customContent = (title: string, items: any[]) => {\n      const content = currentCustomContent(title, items) || '';\n      return isString(content) ? '<div class=\"g2-tooltip\">' + content + '</div>' : content;\n    };\n    return {\n      ...option,\n      customContent,\n    };\n  }\n\n  private getTitle(items) {\n    const title = items[0].title || items[0].name;\n    this.title = title;\n\n    return title;\n  }\n\n  private renderTooltip() {\n    const canvas = this.view.getCanvas();\n    const region = {\n      start: { x: 0, y: 0 },\n      end: { x: canvas.get('width'), y: canvas.get('height') },\n    };\n\n    const cfg = this.getTooltipCfg();\n    const tooltip = new HtmlTooltip({\n      parent: canvas.get('el').parentNode,\n      region,\n      ...cfg,\n      visible: false,\n      crosshairs: null,\n    });\n\n    tooltip.init();\n    this.tooltip = tooltip;\n  }\n\n  private renderTooltipMarkers(items, marker) {\n    const tooltipMarkersGroup = this.getTooltipMarkersGroup();\n    const rootView = this.view.getRootView();\n    const { limitInPlot } = rootView;\n    for (const item of items) {\n      const { x, y } = item;\n\n      // \n      if (limitInPlot || tooltipMarkersGroup?.getClip()) {\n        const { type, attrs } = getCoordinateClipCfg(rootView.getCoordinate());\n        tooltipMarkersGroup?.setClip({\n          type,\n          attrs,\n        });\n      } else {\n        //  clip\n        tooltipMarkersGroup?.setClip(undefined);\n      }\n\n      const theme = this.view.getTheme();\n      const markerDefaultCfg = get(theme, ['components', 'tooltip', 'marker'], {});\n\n      const attrs = {\n        fill: item.color,\n        symbol: 'circle',\n        shadowColor: item.color,\n        ...(isFunction(marker) ? { ...markerDefaultCfg, ...marker(item) } : marker),\n        x,\n        y,\n      };\n\n      tooltipMarkersGroup.addShape('marker', {\n        attrs,\n      });\n    }\n  }\n\n  private renderCrosshairs(point: Point, cfg) {\n    const crosshairsType = get(cfg, ['crosshairs', 'type'], 'x'); //  x \n    if (crosshairsType === 'x') {\n      if (this.yCrosshair) {\n        this.yCrosshair.hide();\n      }\n      this.renderXCrosshairs(point, cfg);\n    } else if (crosshairsType === 'y') {\n      if (this.xCrosshair) {\n        this.xCrosshair.hide();\n      }\n      this.renderYCrosshairs(point, cfg);\n    } else if (crosshairsType === 'xy') {\n      this.renderXCrosshairs(point, cfg);\n      this.renderYCrosshairs(point, cfg);\n    }\n  }\n\n  //  x  tooltip \n  private renderXCrosshairs(point: Point, tooltipCfg) {\n    const coordinate = this.getViewWithGeometry(this.view).getCoordinate();\n    let start;\n    let end;\n    if (coordinate.isRect) {\n      if (coordinate.isTransposed) {\n        start = {\n          x: coordinate.start.x,\n          y: point.y,\n        };\n        end = {\n          x: coordinate.end.x,\n          y: point.y,\n        };\n      } else {\n        start = {\n          x: point.x,\n          y: coordinate.end.y,\n        };\n        end = {\n          x: point.x,\n          y: coordinate.start.y,\n        };\n      }\n    } else {\n      //  x  crosshairs \n      const angle = getAngleByPoint(coordinate, point);\n      const center = coordinate.getCenter();\n      const radius = coordinate.getRadius();\n      end = polarToCartesian(center.x, center.y, radius, angle);\n      start = center;\n    }\n\n    const cfg = deepMix(\n      {\n        start,\n        end,\n        container: this.getTooltipCrosshairsGroup(),\n      },\n      get(tooltipCfg, 'crosshairs', {}),\n      this.getCrosshairsText('x', point, tooltipCfg)\n    );\n    delete cfg.type; //  Crosshairs  type \n\n    let xCrosshair = this.xCrosshair;\n    if (xCrosshair) {\n      xCrosshair.update(cfg);\n    } else {\n      xCrosshair = new Crosshair.Line(cfg);\n      xCrosshair.init();\n    }\n    xCrosshair.render();\n    xCrosshair.show();\n    this.xCrosshair = xCrosshair;\n  }\n\n  //  y \n  private renderYCrosshairs(point: Point, tooltipCfg) {\n    const coordinate = this.getViewWithGeometry(this.view).getCoordinate();\n    let cfg;\n    let type;\n    if (coordinate.isRect) {\n      let start;\n      let end;\n      if (coordinate.isTransposed) {\n        start = {\n          x: point.x,\n          y: coordinate.end.y,\n        };\n        end = {\n          x: point.x,\n          y: coordinate.start.y,\n        };\n      } else {\n        start = {\n          x: coordinate.start.x,\n          y: point.y,\n        };\n        end = {\n          x: coordinate.end.x,\n          y: point.y,\n        };\n      }\n      cfg = {\n        start,\n        end,\n      };\n      type = 'Line';\n    } else {\n      //  y  crosshairs \n      cfg = {\n        center: coordinate.getCenter(),\n        // @ts-ignore\n        radius: getDistanceToCenter(coordinate, point),\n        startAngle: coordinate.startAngle,\n        endAngle: coordinate.endAngle,\n      };\n      type = 'Circle';\n    }\n\n    cfg = deepMix(\n      {\n        container: this.getTooltipCrosshairsGroup(),\n      },\n      cfg,\n      get(tooltipCfg, 'crosshairs', {}),\n      this.getCrosshairsText('y', point, tooltipCfg)\n    );\n    delete cfg.type; //  Crosshairs  type \n\n    let yCrosshair = this.yCrosshair;\n    if (yCrosshair) {\n      // \n      if (\n        (coordinate.isRect && yCrosshair.get('type') === 'circle') ||\n        (!coordinate.isRect && yCrosshair.get('type') === 'line')\n      ) {\n        yCrosshair = new Crosshair[type](cfg);\n        yCrosshair.init();\n      } else {\n        yCrosshair.update(cfg);\n      }\n    } else {\n      yCrosshair = new Crosshair[type](cfg);\n      yCrosshair.init();\n    }\n    yCrosshair.render();\n    yCrosshair.show();\n    this.yCrosshair = yCrosshair;\n  }\n\n  private getCrosshairsText(type, point: Point, tooltipCfg) {\n    let textCfg = get(tooltipCfg, ['crosshairs', 'text']);\n    const follow = get(tooltipCfg, ['crosshairs', 'follow']);\n    const items = this.items;\n\n    if (textCfg) {\n      const view = this.getViewWithGeometry(this.view);\n      // \n      const firstItem = items[0];\n      const xScale = view.getXScale();\n      const yScale = view.getYScales()[0];\n      let xValue;\n      let yValue;\n      if (follow) {\n        // \n        const invertPoint = this.view.getCoordinate().invert(point);\n        xValue = xScale.invert(invertPoint.x); // \n        yValue = yScale.invert(invertPoint.y); // \n      } else {\n        xValue = firstItem.data[xScale.field];\n        yValue = firstItem.data[yScale.field];\n      }\n\n      const content = type === 'x' ? xValue : yValue;\n      if (isFunction(textCfg)) {\n        textCfg = textCfg(type, content, items, point);\n      } else {\n        textCfg.content = content;\n      }\n\n      return {\n        text: textCfg,\n      };\n    }\n  }\n\n  //  tooltipMarkers  crosshairs \n  private getGuideGroup() {\n    if (!this.guideGroup) {\n      const foregroundGroup = this.view.foregroundGroup;\n      this.guideGroup = foregroundGroup.addGroup({\n        name: 'tooltipGuide',\n        capture: false,\n      });\n    }\n\n    return this.guideGroup;\n  }\n\n  //  tooltipMarkers \n  private getTooltipMarkersGroup() {\n    let tooltipMarkersGroup = this.tooltipMarkersGroup;\n    if (tooltipMarkersGroup && !tooltipMarkersGroup.destroyed) {\n      tooltipMarkersGroup.clear();\n      tooltipMarkersGroup.show();\n    } else {\n      tooltipMarkersGroup = this.getGuideGroup().addGroup({\n        name: 'tooltipMarkersGroup',\n      });\n      tooltipMarkersGroup.toFront();\n      this.tooltipMarkersGroup = tooltipMarkersGroup;\n    }\n    return tooltipMarkersGroup;\n  }\n\n  //  tooltip crosshairs \n  private getTooltipCrosshairsGroup() {\n    let tooltipCrosshairsGroup = this.tooltipCrosshairsGroup;\n    if (!tooltipCrosshairsGroup) {\n      tooltipCrosshairsGroup = this.getGuideGroup().addGroup({\n        name: 'tooltipCrosshairsGroup',\n        capture: false,\n      });\n      tooltipCrosshairsGroup.toBack();\n      this.tooltipCrosshairsGroup = tooltipCrosshairsGroup;\n    }\n    return tooltipCrosshairsGroup;\n  }\n\n  private findItemsFromView(view: View, point: Point) {\n    if (view.getOptions().tooltip === false) {\n      //  view  tooltip\n      return [];\n    }\n\n    const tooltipCfg = this.getTooltipCfg();\n    let result = findItemsFromView(view, point, tooltipCfg);\n    // \n    for (const childView of view.views) {\n      result = result.concat(this.findItemsFromView(childView, point));\n    }\n\n    return result;\n  }\n\n  // FIXME: hack \n  //  tooltip  Chart chart  Geometry  View \n  private getViewWithGeometry(view) {\n    if (view.geometries.length) {\n      return view;\n    }\n\n    return find(view.views, (childView) => this.getViewWithGeometry(childView));\n  }\n\n  /**\n   *  items  items\n   * \n   */\n  private getItemsAfterProcess(originalItems: TooltipItem[]): TooltipItem[] {\n    const { customItems } = this.getTooltipCfg();\n    const fn = customItems ? customItems : (v) => v;\n\n    return fn(originalItems);\n  }\n}\n","import { IGroup, IShape } from '../../dependents';\nimport { GAnimateCfg } from '../../interface';\nimport { AnimateExtraCfg } from '../interface';\n\n/** @ignore */\ninterface AnimationMap {\n  [key: string]: Animation;\n}\n\ntype Animation = (element: IGroup | IShape, animateCfg: GAnimateCfg, cfg: AnimateExtraCfg) => void;\n\nconst ANIMATIONS_MAP: AnimationMap = {};\n\n/**\n * \n * @param type \n */\nexport function getAnimation(type: string) {\n  return ANIMATIONS_MAP[type.toLowerCase()];\n}\n\n/**\n * \n * @param type \n * @param animation \n */\nexport function registerAnimation(type: string, animation: Animation) {\n  ANIMATIONS_MAP[type.toLowerCase()] = animation;\n}\n","import { deepMix, get, isFunction } from '@antv/util';\nimport { FIELD_ORIGIN } from '../constant';\nimport { Coordinate, IGroup, IShape } from '../dependents';\nimport { AnimateCfg, Data, Datum, GAnimateCfg, Point } from '../interface';\nimport { AnimateExtraCfg } from './interface';\n\nimport { getAnimation } from './animation';\n\n// \nexport const DEFAULT_ANIMATE_CFG = {\n  appear: {\n    duration: 450,\n    easing: 'easeQuadOut',\n  }, // \n  update: {\n    duration: 400,\n    easing: 'easeQuadInOut',\n  }, // \n  enter: {\n    duration: 400,\n    easing: 'easeQuadInOut',\n  }, // \n  leave: {\n    duration: 350,\n    easing: 'easeQuadIn',\n  }, // \n};\n\n//  Geometry \nconst GEOMETRY_ANIMATE_CFG = {\n  interval: (coordinate: Coordinate) => {\n    return {\n      enter: {\n        animation: coordinate.isRect ? (coordinate.isTransposed ? 'scale-in-x' : 'scale-in-y') : 'fade-in',\n      },\n      update: {\n        animation: coordinate.isPolar && coordinate.isTransposed ? 'sector-path-update' : null,\n      },\n      leave: {\n        animation: 'fade-out',\n      },\n    };\n  },\n  line: {\n    enter: {\n      animation: 'fade-in',\n    },\n    leave: {\n      animation: 'fade-out',\n    },\n  },\n  path: {\n    enter: {\n      animation: 'fade-in',\n    },\n    leave: {\n      animation: 'fade-out',\n    },\n  },\n  point: {\n    appear: {\n      animation: 'zoom-in',\n    },\n    enter: {\n      animation: 'zoom-in',\n    },\n    leave: {\n      animation: 'zoom-out',\n    },\n  },\n  area: {\n    enter: {\n      animation: 'fade-in',\n    },\n    leave: {\n      animation: 'fade-out',\n    },\n  },\n  polygon: {\n    enter: {\n      animation: 'fade-in',\n    },\n    leave: {\n      animation: 'fade-out',\n    },\n  },\n  schema: {\n    enter: {\n      animation: 'fade-in',\n    },\n    leave: {\n      animation: 'fade-out',\n    },\n  },\n  edge: {\n    enter: {\n      animation: 'fade-in',\n    },\n    leave: {\n      animation: 'fade-out',\n    },\n  },\n  label: {\n    appear: {\n      animation: 'fade-in',\n      delay: 450,\n    },\n    enter: {\n      animation: 'fade-in',\n    },\n    update: {\n      animation: 'position-update',\n    },\n    leave: {\n      animation: 'fade-out',\n    },\n  },\n};\n\n//  Geometry \nconst GEOMETRY_GROUP_APPEAR_ANIMATION = {\n  line: () => {\n    return {\n      animation: 'wave-in',\n    };\n  },\n  area: () => {\n    return {\n      animation: 'wave-in',\n    };\n  },\n  path: () => {\n    return {\n      animation: 'fade-in',\n    };\n  },\n  interval(coordinate: Coordinate) {\n    let animation;\n\n    if (coordinate.isRect) {\n      animation = coordinate.isTransposed ? 'grow-in-x' : 'grow-in-y';\n    } else {\n      animation = 'grow-in-xy';\n      if (coordinate.isPolar && coordinate.isTransposed) {\n        // pie chart\n        animation = 'wave-in';\n      }\n    }\n    return {\n      animation,\n    };\n  },\n  schema: (coordinate) => {\n    let animation;\n    if (coordinate.isRect) {\n      animation = coordinate.isTransposed ? 'grow-in-x' : 'grow-in-y';\n    } else {\n      animation = 'grow-in-xy';\n    }\n    return {\n      animation,\n    };\n  },\n  polygon: () => {\n    return {\n      animation: 'fade-in',\n      duration: 500,\n    };\n  },\n  edge: () => {\n    return {\n      animation: 'fade-in',\n    };\n  },\n};\n\n// \nfunction parseAnimateConfig(animateCfg: AnimateCfg, data: Data | Datum): GAnimateCfg {\n  return {\n    delay: isFunction(animateCfg.delay) ? animateCfg.delay(data) : animateCfg.delay,\n    easing: isFunction(animateCfg.easing) ? animateCfg.easing(data) : animateCfg.easing,\n    duration: isFunction(animateCfg.duration) ? animateCfg.duration(data) : animateCfg.duration,\n    callback: animateCfg.callback,\n    repeat: animateCfg.repeat,\n  };\n}\n\n/**\n * @ignore\n *  elementName  `animateType` `animateType` \n * @param elementName \n * @param coordinate \n * @param animateType \n */\nexport function getDefaultAnimateCfg(elementName: string, coordinate: Coordinate, animateType?: string) {\n  let animateCfg = GEOMETRY_ANIMATE_CFG[elementName];\n\n  if (animateCfg) {\n    if (isFunction(animateCfg)) {\n      animateCfg = animateCfg(coordinate);\n    }\n    animateCfg = deepMix({}, DEFAULT_ANIMATE_CFG, animateCfg);\n\n    if (animateType) {\n      return animateCfg[animateType];\n    }\n  }\n  return animateCfg;\n}\n\n/**\n * @ignore\n * \n *  shape \n * @param shape \n * @param animateCfg \n * @param cfg \n */\nexport function doAnimate(shape: IGroup | IShape, animateCfg: AnimateCfg, cfg: AnimateExtraCfg) {\n  const data = get(shape.get('origin'), 'data', FIELD_ORIGIN);\n  const animation = animateCfg.animation; // \n  const parsedAnimateCfg = parseAnimateConfig(animateCfg, data);\n  if (animation) {\n    // \n    const animateFunction = getAnimation(animation);\n    if (animateFunction) {\n      animateFunction(shape, parsedAnimateCfg, cfg);\n    }\n  } else {\n    //  toAttrs \n    shape.animate(cfg.toAttrs, parsedAnimateCfg);\n  }\n}\n\n/**\n * @ignore\n *  Geometry \n * @param container \n * @param animateCfg \n * @param geometryType geometry \n * @param coordinate \n * @param minYPoint y \n */\nexport function doGroupAppearAnimate(\n  container: IGroup,\n  animateCfg: AnimateCfg,\n  geometryType: string,\n  coordinate: Coordinate,\n  minYPoint: Point\n) {\n  if (GEOMETRY_GROUP_APPEAR_ANIMATION[geometryType]) {\n    const defaultCfg = GEOMETRY_GROUP_APPEAR_ANIMATION[geometryType](coordinate);\n    const animation = getAnimation(get(defaultCfg, 'animation', ''));\n    if (animation) {\n      const cfg = {\n        ...DEFAULT_ANIMATE_CFG.appear,\n        ...defaultCfg,\n        ...animateCfg,\n      };\n      container.stopAnimate(); //  container \n      animation(container, cfg, {\n        coordinate,\n        minYPoint,\n        toAttrs: null,\n      });\n    }\n  }\n}\n","/**\n * Name of Background Shape\n */\nexport const BACKGROUND_SHAPE = 'element-background';\n","import { deepMix, each, get, isArray, isEmpty, isEqual, isFunction, isString } from '@antv/util';\n// \n// @ts-ignore\nimport { propagationDelegate } from '@antv/component';\nimport { doAnimate } from '../../animate';\nimport Base from '../../base';\nimport { BBox, IGroup, IShape } from '../../dependents';\nimport { AnimateOption, Datum, ShapeFactory, ShapeInfo, StateCfg } from '../../interface';\nimport { getReplaceAttrs } from '../../util/graphics';\nimport Geometry from '../base';\nimport { GEOMETRY_LIFE_CIRCLE } from '../../constant';\nimport { BACKGROUND_SHAPE } from '../shape/constant';\n\n/** Element  */\ninterface ElementCfg {\n  /**  shape  */\n  shapeFactory: ShapeFactory;\n  /** shape  */\n  container: IGroup;\n  /** element  */\n  elementIndex?: number;\n  /**  group */\n  offscreenGroup?: IGroup;\n  /**  */\n  visible?: boolean;\n}\n\n/**\n * Element \n *  G2 Element / Shape  Shape\n */\nexport default class Element extends Base {\n  /**  shape  */\n  public shapeFactory: ShapeFactory;\n  /** shape  */\n  public container: IGroup;\n  /** element  */\n  public elementIndex: number;\n  /**  */\n  public shape: IShape | IGroup;\n  /** shape  */\n  public animate: AnimateOption | boolean;\n\n  // \n  /** element  Geometry  */\n  public geometry: Geometry;\n  /**  shape  label */\n  public labelShape: IGroup[] = [];\n\n  /**  shape  */\n  private shapeType: string;\n\n  /** shape  */\n  private model: ShapeInfo;\n  /**  */\n  private data: Datum;\n  // \n  private states: string[] = [];\n  private statesStyle;\n  //  Group\n  private offscreenGroup: IGroup;\n\n  constructor(cfg: ElementCfg) {\n    super(cfg);\n\n    const { shapeFactory, container, offscreenGroup, elementIndex, visible = true } = cfg;\n    this.shapeFactory = shapeFactory;\n    this.container = container;\n    this.offscreenGroup = offscreenGroup;\n    this.visible = visible;\n    this.elementIndex = elementIndex;\n  }\n\n  /**\n   * \n   * @param model \n   * @param isUpdate \n   */\n  public draw(model: ShapeInfo, isUpdate: boolean = false) {\n    this.model = model;\n    this.data = model.data; // \n    this.shapeType = this.getShapeType(model);\n\n    // \n    this.drawShape(model, isUpdate);\n\n    if (this.visible === false) {\n      //  visible: false\n      this.changeVisible(false);\n    }\n  }\n\n  /**\n   * \n   * @param model \n   */\n  public update(model: ShapeInfo) {\n    const { shapeFactory, shape } = this;\n    if (!shape) {\n      return;\n    }\n\n    // \n    this.model = model;\n    this.data = model.data;\n    this.shapeType = this.getShapeType(model);\n\n    // step 1:  shape \n    this.setShapeInfo(shape, model);\n\n    // step 2:  Group  shape shape\n    const offscreenGroup = this.getOffscreenGroup();\n    const newShape = shapeFactory.drawShape(this.shapeType, model, offscreenGroup);\n    // @ts-ignore\n    newShape.cfg.data = this.data;\n    // @ts-ignore\n    newShape.cfg.origin = model;\n    // label \n    newShape.cfg.element = this;\n\n    // step 3:  shape \n    this.syncShapeStyle(shape, newShape, this.getStates(), this.getAnimateCfg('update'));\n  }\n\n  /**\n   *  element \n   */\n  public destroy() {\n    const { shapeFactory, shape } = this;\n\n    if (shape) {\n      const animateCfg = this.getAnimateCfg('leave');\n      if (animateCfg) {\n        // \n        doAnimate(shape, animateCfg, {\n          coordinate: shapeFactory.coordinate,\n          toAttrs: {\n            ...shape.attr(),\n          },\n        });\n      } else {\n        // \n        shape.remove(true);\n      }\n    }\n\n    // reset\n    this.states = [];\n    this.shapeFactory = undefined;\n    this.container = undefined;\n    this.shape = undefined;\n    this.animate = undefined;\n    this.geometry = undefined;\n    this.labelShape = [];\n    this.model = undefined;\n    this.data = undefined;\n    this.offscreenGroup = undefined;\n    this.statesStyle = undefined;\n\n    super.destroy();\n  }\n\n  /**\n   *  element\n   * @param visible \n   */\n  public changeVisible(visible: boolean) {\n    super.changeVisible(visible);\n\n    if (visible) {\n      if (this.shape) {\n        this.shape.show();\n      }\n      if (this.labelShape) {\n        this.labelShape.forEach((label: IGroup) => {\n          label.show();\n        });\n      }\n    } else {\n      if (this.shape) {\n        this.shape.hide();\n      }\n      if (this.labelShape) {\n        this.labelShape.forEach((label: IGroup) => {\n          label.hide();\n        });\n      }\n    }\n  }\n\n  /**\n   *  Element \n   *\n   *  Element \n   * 1. active\n   * 2. selected\n   * 3. inactive\n   *\n   * \n   *\n   *  [[Theme]]  `geometry.state()` \n   *\n   * ```ts\n   * //  active \n   * setState('active', true);\n   * ```\n   *\n   * @param stateName \n   * @param stateStatus \n   */\n  public setState(stateName: string, stateStatus: boolean) {\n    const { states, shapeFactory, model, shape, shapeType } = this;\n\n    const index = states.indexOf(stateName);\n    if (stateStatus) {\n      // \n      if (index > -1) {\n        // \n        return;\n      }\n      states.push(stateName);\n      if (stateName === 'active' || stateName === 'selected') {\n        shape?.toFront();\n      }\n    } else {\n      if (index === -1) {\n        // \n        return;\n      }\n      states.splice(index, 1);\n      if (stateName === 'active' || stateName === 'selected') {\n        const { sortZIndex, zIndexReversed } = this.geometry;\n        const idx = zIndexReversed ? this.geometry.elements.length - this.elementIndex : this.elementIndex;\n        sortZIndex ? shape.setZIndex(idx) : shape.set('zIndex', idx);\n      }\n    }\n\n    //  group  shape shape  shape\n    const offscreenShape = shapeFactory.drawShape(shapeType, model, this.getOffscreenGroup());\n    if (states.length) {\n      // \n      this.syncShapeStyle(shape, offscreenShape, states, null);\n    } else {\n      // \n      this.syncShapeStyle(shape, offscreenShape, ['reset'], null);\n    }\n\n    offscreenShape.remove(true); // \n\n    const eventObject = {\n      state: stateName,\n      stateStatus,\n      element: this,\n      target: this.container,\n    };\n    this.container.emit('statechange', eventObject);\n    // @ts-ignore\n    propagationDelegate(this.shape, 'statechange', eventObject);\n  }\n\n  /**\n   * \n   */\n  public clearStates() {\n    const states = this.states;\n\n    each(states, (state) => {\n      this.setState(state, false);\n    });\n\n    this.states = [];\n  }\n\n  /**\n   *  Element  `stateName` \n   * @param stateName \n   * @returns true false \n   */\n  public hasState(stateName: string): boolean {\n    return this.states.includes(stateName);\n  }\n\n  /**\n   *  Element \n   * @returns  Element \n   */\n  public getStates(): string[] {\n    return this.states;\n  }\n\n  /**\n   *  Element \n   * @returns \n   */\n  public getData(): Datum {\n    return this.data;\n  }\n\n  /**\n   *  Element \n   * @returns \n   */\n  public getModel(): ShapeInfo {\n    return this.model;\n  }\n\n  /**\n   *  Element  bbox\n   * @returns \n   */\n  public getBBox(): BBox {\n    const { shape, labelShape } = this;\n    let bbox = {\n      x: 0,\n      y: 0,\n      minX: 0,\n      minY: 0,\n      maxX: 0,\n      maxY: 0,\n      width: 0,\n      height: 0,\n    };\n    if (shape) {\n      bbox = shape.getCanvasBBox();\n    }\n    if (labelShape) {\n      labelShape.forEach((label: IGroup) => {\n        const labelBBox = label.getCanvasBBox();\n        bbox.x = Math.min(labelBBox.x, bbox.x);\n        bbox.y = Math.min(labelBBox.y, bbox.y);\n        bbox.minX = Math.min(labelBBox.minX, bbox.minX);\n        bbox.minY = Math.min(labelBBox.minY, bbox.minY);\n        bbox.maxX = Math.max(labelBBox.maxX, bbox.maxX);\n        bbox.maxY = Math.max(labelBBox.maxY, bbox.maxY);\n      });\n    }\n\n    bbox.width = bbox.maxX - bbox.minX;\n    bbox.height = bbox.maxY - bbox.minY;\n\n    return bbox;\n  }\n\n  private getStatesStyle() {\n    if (!this.statesStyle) {\n      const { shapeType, geometry, shapeFactory } = this;\n      const stateOption = geometry.stateOption;\n      const defaultShapeType = shapeFactory.defaultShapeType;\n      const stateTheme = shapeFactory.theme[shapeType] || shapeFactory.theme[defaultShapeType];\n      this.statesStyle = deepMix({}, stateTheme, stateOption);\n    }\n\n    return this.statesStyle;\n  }\n\n  // \n  private getStateStyle(stateName: string, shapeKey?: string): StateCfg {\n    const statesStyle = this.getStatesStyle();\n    const stateCfg = get(statesStyle, [stateName, 'style'], {});\n    const shapeStyle = stateCfg[shapeKey] || stateCfg;\n    if (isFunction(shapeStyle)) {\n      return shapeStyle(this);\n    }\n\n    return shapeStyle;\n  }\n\n  // \n  private getAnimateCfg(animateType: string) {\n    const animate = this.animate;\n    if (animate) {\n      const cfg = animate[animateType];\n\n      if (cfg) {\n        //  geometry  animate \n        return {\n          ...cfg,\n          callback: () => {\n            isFunction(cfg.callback) && cfg.callback();\n            this.geometry?.emit(GEOMETRY_LIFE_CIRCLE.AFTER_DRAW_ANIMATE);\n          },\n        };\n      }\n      return cfg;\n    }\n\n    return null;\n  }\n\n  // \n  private drawShape(model: ShapeInfo, isUpdate: boolean = false) {\n    const { shapeFactory, container, shapeType } = this;\n\n    //  shape  shape\n    this.shape = shapeFactory.drawShape(shapeType, model, container);\n\n    if (this.shape) {\n      this.setShapeInfo(this.shape, model); // \n      // @ts-ignore\n      const name = this.shape.cfg.name;\n      //  element  name, name \n      if (!name) {\n        //  name,  name  name\n        // @ts-ignore\n        this.shape.cfg.name = ['element', this.shapeFactory.geometryType];\n      } else if (isString(name)) {\n        // @ts-ignore\n        this.shape.cfg.name = ['element', name];\n      }\n      // \n      const animateType = isUpdate ? 'enter' : 'appear';\n      const animateCfg = this.getAnimateCfg(animateType);\n      if (animateCfg) {\n        // \n        this.geometry?.emit(GEOMETRY_LIFE_CIRCLE.BEFORE_DRAW_ANIMATE);\n\n        doAnimate(this.shape, animateCfg, {\n          coordinate: shapeFactory.coordinate,\n          toAttrs: {\n            ...this.shape.attr(),\n          },\n        });\n      }\n    }\n  }\n\n  //  Group\n  private getOffscreenGroup() {\n    if (!this.offscreenGroup) {\n      const GroupCtor = this.container.getGroupBase(); // \n      this.offscreenGroup = new GroupCtor({});\n    }\n\n    return this.offscreenGroup;\n  }\n\n  //  shape \n  private setShapeInfo(shape: IShape | IGroup, data: ShapeInfo) {\n    // @ts-ignore\n    shape.cfg.origin = data;\n    // @ts-ignore\n    shape.cfg.element = this;\n    if (shape.isGroup()) {\n      const children = shape.get('children');\n      children.forEach((child) => {\n        this.setShapeInfo(child, data);\n      });\n    }\n  }\n\n  //  shape \n  private syncShapeStyle(\n    sourceShape: IGroup | IShape,\n    targetShape: IGroup | IShape,\n    states: string[] = [],\n    animateCfg,\n    index: number = 0\n  ) {\n    if (!sourceShape || !targetShape) {\n      return;\n    }\n    //  shape  clip\n    const clip = sourceShape.get('clipShape');\n    const newClip = targetShape.get('clipShape');\n\n    this.syncShapeStyle(clip, newClip, states, animateCfg);\n\n    if (sourceShape.isGroup()) {\n      const children = sourceShape.get('children');\n      const newChildren = targetShape.get('children');\n      for (let i = 0; i < children.length; i++) {\n        this.syncShapeStyle(children[i], newChildren[i], states, animateCfg, index + i);\n      }\n    } else {\n      if (!isEmpty(states) && !isEqual(states, ['reset'])) {\n        let name = sourceShape.get('name');\n        if (isArray(name)) {\n          //  element  name\n          name = name[1];\n        }\n\n        each(states, (state) => {\n          // background shape \n          if (targetShape.get('name') !== BACKGROUND_SHAPE) {\n            const style = this.getStateStyle(state, name || index); //  name\n            targetShape.attr(style);\n          }\n        });\n      }\n      const newAttrs = getReplaceAttrs(sourceShape as IShape, targetShape as IShape);\n\n      if (this.animate) {\n        if (animateCfg) {\n          this.geometry?.emit(GEOMETRY_LIFE_CIRCLE.BEFORE_DRAW_ANIMATE);\n          // \n          doAnimate(sourceShape, animateCfg, {\n            coordinate: this.shapeFactory.coordinate,\n            toAttrs: newAttrs,\n            shapeModel: this.model,\n          });\n        } else if (!isEmpty(states)) {\n          sourceShape.stopAnimate();\n          sourceShape.animate(newAttrs, {\n            duration: 300,\n          });\n        } else {\n          sourceShape.attr(newAttrs);\n        }\n      } else {\n        sourceShape.attr(newAttrs);\n      }\n    }\n  }\n\n  private getShapeType(model: ShapeInfo) {\n    const shape = get(model, 'shape');\n    return isArray(shape) ? shape[0] : shape;\n  }\n}\n","import { BBox, IGroup, IShape } from '../../dependents';\nimport { LooseObject } from '../../interface';\nimport { GeometryLabelConstructor } from './base';\nimport { LabelItem } from './interface';\n\n/**\n * label \n * @param items  label \n * @param labels  labels \n * @param shapes  label \n * @param region \n * @param cfg \n */\ntype GeometryLabelsLayoutFn = (\n  items: LabelItem[],\n  labels: IGroup[],\n  shapes: IShape[] | IGroup[],\n  region: BBox,\n  cfg?: LooseObject\n) => void;\n\nconst GEOMETRY_LABELS_MAP: Record<string, GeometryLabelConstructor> = {};\nconst GEOMETRY_LABELS_LAYOUT_MAP: Record<string, GeometryLabelsLayoutFn> = {};\n\n/**\n *  `type`  [[GeometryLabel]] \n * @param type\n * @returns\n */\nexport function getGeometryLabel(type: string): GeometryLabelConstructor {\n  return GEOMETRY_LABELS_MAP[type.toLowerCase()];\n}\n\n/**\n *  GeometryLabel \n * @param type GeometryLabel \n * @param ctor GeometryLabel \n */\nexport function registerGeometryLabel(type: string, ctor: GeometryLabelConstructor) {\n  GEOMETRY_LABELS_MAP[type.toLowerCase()] = ctor;\n}\n\n/**\n *  `type`  [[GeometryLabelsLayoutFn]] label \n * @param type \n * @returns\n */\nexport function getGeometryLabelLayout(type: string): GeometryLabelsLayoutFn {\n  return GEOMETRY_LABELS_LAYOUT_MAP[type.toLowerCase()];\n}\n\n/**\n *  label \n * @param type label \n * @param layoutFn label \n */\nexport function registerGeometryLabelLayout(type: string, layoutFn: GeometryLabelsLayoutFn) {\n  GEOMETRY_LABELS_LAYOUT_MAP[type.toLowerCase()] = layoutFn;\n}\n","import { LooseObject } from '@antv/g-svg';\nimport { parsePathString } from '@antv/path-util';\nimport { deepMix, get, upperFirst } from '@antv/util';\nimport { IGroup, IShape, PathCommand } from '../../dependents';\nimport {\n  Point,\n  RegisterShape,\n  RegisterShapeFactory,\n  Shape,\n  ShapeFactory,\n  ShapeInfo,\n  ShapeMarkerAttrs,\n  ShapeMarkerCfg,\n  ShapePoint,\n} from '../../interface';\n\nimport { convertNormalPath, convertPolarPath } from './util/path';\n\n/** ShapeFactory  */\nconst ShapeFactoryBase = {\n  /**  */\n  coordinate: null,\n  /**  Shape  */\n  defaultShapeType: null,\n  /**  */\n  theme: null,\n  /**\n   *  shape \n   * @param shapeType shape \n   * @param shapePoint  size \n   * @returns \n   */\n  getShapePoints(shapeType: string, shapePoint: ShapePoint) {\n    const shape = this.getShape(shapeType);\n    if (shape.getPoints) {\n      return shape.getPoints(shapePoint);\n    }\n\n    return this.getDefaultPoints(shapePoint);\n  },\n  /**\n   *  shape  shape \n   * @param shapeType string shape \n   * @returns\n   */\n  getShape(shapeType: string): Shape {\n    const shape = this[shapeType] || this[this.defaultShapeType];\n    shape.coordinate = this.coordinate;\n\n    return shape;\n  },\n  /**\n   *  shape \n   * @override\n   */\n  getDefaultPoints() {\n    return [];\n  },\n  /**\n   *  shape  ( shapeFactory )\n   */\n  getDefaultStyle(geometryTheme: LooseObject): LooseObject {\n    return get(geometryTheme, [this.defaultShapeType, 'default', 'style'], {});\n  },\n  /**\n   *  shape \n   * @param shapeType shape \n   * @param color \n   * @param isInPolar \n   * @returns  marker \n   */\n  getMarker(shapeType: string, markerCfg: ShapeMarkerCfg): ShapeMarkerAttrs {\n    let shape = this.getShape(shapeType);\n\n    if (!shape.getMarker) {\n      const defaultShapeType = this.defaultShapeType;\n      shape = this.getShape(defaultShapeType);\n    }\n\n    const theme = this.theme;\n    const shapeStyle = get(theme, [shapeType, 'default'], {});\n    const markerStyle = shape.getMarker(markerCfg);\n\n    return deepMix({}, shapeStyle, markerStyle);\n  },\n  /**\n   *  shape\n   * @override\n   * @param shapeType  shape \n   * @param cfg  shape \n   * @param element Element \n   * @returns\n   */\n  drawShape(shapeType: string, cfg: ShapeInfo, container: IGroup): IShape | IGroup {\n    const shape = this.getShape(shapeType);\n    return shape.draw(cfg, container);\n  },\n};\n\n/** Shape  */\nconst ShapeBase = {\n  /**  */\n  coordinate: null,\n  /**\n   *  path  path\n   * @param path \n   * @returns\n   */\n  parsePath(path: string): PathCommand[] {\n    const coordinate = this.coordinate;\n    let parsedPath = parsePathString(path);\n    if (coordinate.isPolar) {\n      parsedPath = convertPolarPath(coordinate, parsedPath);\n    } else {\n      parsedPath = convertNormalPath(coordinate, parsedPath);\n    }\n    return parsedPath;\n  },\n  /**\n   * \n   * @param point \n   * @returns\n   */\n  parsePoint(point: Point): Point {\n    const coordinate = this.coordinate;\n    return coordinate.convert(point);\n  },\n  /**\n   * 01 points   points\n   * @param points \n   * @returns\n   */\n  parsePoints(points: Point[]): Point[] {\n    const coordinate = this.coordinate;\n    return points.map((point) => {\n      return coordinate.convert(point);\n    });\n  },\n  /**\n   *  shape\n   * @override\n   */\n  draw(cfg: ShapeInfo, container: IGroup) {},\n};\n\nconst ShapeFactoryMap = {};\n\n/**\n *  ShapeFactory\n * @param factoryName  ShapeFactory  Geometry \n * @param cfg  ShapeFactory \n * @returns  ShapeFactory \n */\nexport function registerShapeFactory(factoryName: string, cfg: RegisterShapeFactory): ShapeFactory {\n  const className = upperFirst(factoryName);\n  const geomObj = {\n    ...ShapeFactoryBase,\n    ...cfg,\n    geometryType: factoryName,\n  };\n  ShapeFactoryMap[className] = geomObj;\n  return geomObj;\n}\n\n/**\n *  Shape\n * @param factoryName  ShapeFactory \n * @param shapeType  shape \n * @param cfg  Shape \n * @returns shape  shape \n */\nexport function registerShape(factoryName: string, shapeType: string, cfg: RegisterShape): Shape {\n  const className = upperFirst(factoryName);\n  const factory = ShapeFactoryMap[className];\n  const shapeObj = {\n    ...ShapeBase,\n    ...cfg,\n  };\n  factory[shapeType] = shapeObj;\n  return shapeObj;\n}\n\n/**\n *  factoryName  shapeFactory\n * @param factoryName\n * @returns shape factory\n */\nexport function getShapeFactory(factoryName: string): ShapeFactory {\n  const className = upperFirst(factoryName);\n  return ShapeFactoryMap[className];\n}\n","import { isEqual, some } from '@antv/util';\nimport { ShapeInfo } from '../../interface';\n\n/**\n * @ignore\n * Determines whether model is change\n * @param currentModel\n * @param preModel\n * @returns\n */\nexport function isModelChange(currentModel: ShapeInfo, preModel: ShapeInfo) {\n  return some(\n    ['color', 'shape', 'size', 'x', 'y', 'isInCircle', 'data', 'style', 'defaultStyle', 'points', 'mappingData'],\n    (key: string) => {\n      return !isEqual(currentModel[key], preModel[key]);\n    }\n  );\n}\n","import { isArray } from '@antv/util';\n\n/** @ignore */\nexport function parseFields(field: string | string[]): string[] {\n  if (isArray(field)) {\n    return field;\n  }\n\n  return field.split('*');\n}\n","/**\n *  added, updated, removed\n * @param keyItem  key-item  object \n * @param keys  array \n * @returns  added, updated, removed array  object\n */\nexport function diff(keyItem: Record<string, any>, keys: string[]) {\n  const added = [];\n  const updated = [];\n  const removed = [];\n  const keyIncluded = new Map<string, boolean>();\n\n  for (let i = 0; i < keys.length; i++) {\n    const key = keys[i];\n    if (keyItem[key]) updated.push(key);\n    else added.push(key);\n    keyIncluded.set(key, true);\n  }\n\n  Object.keys(keyItem).forEach((key) => {\n    if (!keyIncluded.has(key)) removed.push(key);\n  });\n\n  return {\n    added,\n    updated,\n    removed,\n  };\n}\n","import { Adjust, getAdjust as getAdjustClass } from '@antv/adjust';\nimport { Attribute, getAttribute as getAttributeClass } from '@antv/attr';\nimport {\n  clone,\n  deepMix,\n  each,\n  flatten,\n  get,\n  isArray,\n  isEmpty,\n  isEqual,\n  isFunction,\n  isNil,\n  isNumber,\n  isObject,\n  isPlainObject,\n  isString,\n  set,\n} from '@antv/util';\nimport { doGroupAppearAnimate, getDefaultAnimateCfg } from '../animate';\nimport Base from '../base';\nimport { FIELD_ORIGIN, GEOMETRY_LIFE_CIRCLE, GROUP_ATTRS } from '../constant';\nimport { BBox, Coordinate, IGroup, IShape, Scale } from '../dependents';\nimport {\n  AdjustOption,\n  AdjustType,\n  AnimateOption,\n  AttributeOption,\n  ColorAttrCallback,\n  Data,\n  Datum,\n  GeometryLabelCfg,\n  GeometryTooltipOption,\n  LabelCallback,\n  LabelOption,\n  LooseObject,\n  MappingDatum,\n  ScaleOption,\n  ShapeAttrCallback,\n  ShapeFactory,\n  ShapeInfo,\n  ShapeMarkerCfg,\n  ShapeMarkerAttrs,\n  ShapePoint,\n  SizeAttrCallback,\n  StateOption,\n  StyleCallback,\n  StyleOption,\n  TooltipCallback,\n  CustomOption,\n} from '../interface';\nimport { uniq } from '../util/helper';\nimport Element from './element';\nimport { getGeometryLabel } from './label';\nimport GeometryLabel from './label/base';\nimport { getShapeFactory } from './shape/base';\nimport { group } from './util/group-data';\nimport { isModelChange } from './util/is-model-change';\nimport { parseFields } from './util/parse-fields';\nimport { diff } from './util/diff';\nimport { inferScaleType } from '../util/scale';\nimport { getXDimensionLength } from '../util/coordinate';\n\n/** @ignore */\ninterface AttributeInstanceCfg {\n  fields?: string[];\n  callback?: (...args) => any;\n  values?: string[] | number[];\n  scales?: Scale[];\n}\ninterface DimValuesMapType {\n  [dim: string]: number[];\n}\n/** @ignore */\ninterface AdjustInstanceCfg {\n  type: AdjustType;\n  adjustNames?: string[];\n  xField?: string;\n  yField?: string;\n\n  dodgeBy?: string;\n  marginRatio?: number;\n  dodgeRatio?: number;\n\n  size?: number;\n  height?: number;\n  reverseOrder?: boolean;\n\n  /** offset */\n  intervalPadding?: number;\n  dodgePadding?: number;\n  /** xpadding */\n  xDimensionLength?: number;\n  /** offset */\n  groupNum?: number;\n  /**  size */\n  defaultSize?: number;\n  /**  */\n  maxColumnWidth?: number;\n  minColumnWidth?: number;\n  /**  */\n  columnWidthRatio?: number;\n  /** dimValuesMap */\n  dimValuesMap?: DimValuesMapType;\n}\n\n/** geometry.init()  */\nexport interface InitCfg {\n  /**  */\n  coordinate?: Coordinate;\n  /**  */\n  data?: Data;\n  /**  */\n  theme?: LooseObject;\n  /**  */\n  scaleDefs?: Record<string, ScaleOption>;\n  /**  */\n  isDataChanged?: boolean;\n  isCoordinateChanged?: boolean;\n}\n\n/** Geometry  */\nexport interface GeometryCfg {\n  /** Geometry shape  */\n  container: IGroup;\n  /**  */\n  coordinate?: Coordinate;\n  /**  */\n  data?: Data;\n  /**  scales */\n  scales?: Record<string, Scale>;\n  /**  */\n  scaleDefs?: Record<string, ScaleOption>;\n  /** Geometry labels  */\n  labelsContainer?: IGroup;\n  /**  */\n  sortable?: boolean;\n  /** elements  zIndex  zIndexReversed  */\n  zIndexReversed?: boolean;\n  /**  zIndex  sort */\n  sortZIndex?: boolean;\n  /**  Geometry .  true ,  timeout  */\n  useDeferredLabel?: boolean | number;\n  /**  */\n  visible?: boolean;\n  /**  */\n  theme?: LooseObject;\n\n  /**  */\n  intervalPadding?: number;\n  /**  */\n  dodgePadding?: number;\n  /**  */\n  maxColumnWidth?: number;\n  /**  */\n  minColumnWidth?: number;\n  /** intervalschema */\n  columnWidthRatio?: number;\n  /**  */\n  roseWidthRatio?: number;\n  /** / */\n  multiplePieWidthRatio?: number;\n}\n\n/**\n * Geometry \n */\nexport default class Geometry<S extends ShapePoint = ShapePoint> extends Base {\n  /** Geometry  */\n  public readonly type: string = 'base';\n  /** ShapeFactory  */\n  public readonly shapeType: string;\n\n  //  Geometry \n  /** Coordinate  */\n  public coordinate: Coordinate;\n  /**  */\n  public data: Data;\n  /**  */\n  public readonly container: IGroup;\n  /** label  */\n  public readonly labelsContainer: IGroup;\n  /**  false  */\n  public sortable: boolean;\n  /**  Geometry   */\n  public theme: LooseObject;\n  /**  geometry  scales */\n  public scales: Record<string, Scale>;\n  /** scale  */\n  public scaleDefs: Record<string, ScaleOption>;\n  /**  label  */\n  public canvasRegion: BBox;\n\n  // \n  /** Attribute map  */\n  public attributes: Record<string, Attribute> = {};\n  /** Element map */\n  public elements: Element[] = [];\n  /**\n   * \n   * + init()  updateData() ,  Data[]\n   * + paint()  MappingDatum[][]\n   */\n  public dataArray: MappingDatum[][];\n  /**  tooltip  */\n  public tooltipOption: GeometryTooltipOption | boolean;\n  /**  label  */\n  public labelOption: LabelOption | false;\n  /**  */\n  public stateOption: StateOption;\n  /**  key-value  Elementkey  Element  ID */\n  public elementsMap: Record<string, Element> = {};\n  /** animate  */\n  public animateOption: AnimateOption | boolean = true;\n  /**  */\n  protected attributeOption: Record<string, AttributeOption> = {};\n  /** adjust  */\n  protected adjustOption: AdjustOption[];\n  /** style  */\n  protected styleOption: StyleOption;\n  /** custom  */\n  protected customOption: CustomOption;\n  /**  Geometry  Shape  Shape */\n  protected shapeFactory: ShapeFactory;\n  /**  element  */\n  protected lastElementsMap: Record<string, Element> = {};\n  /**  */\n  protected generatePoints: boolean = false;\n  /**  */\n  protected beforeMappingData: Data[] = null;\n  /**  shape  size IntervalSchema  */\n  protected defaultSize: number;\n\n  //  geometry \n  private userTheme: LooseObject;\n  private adjusts: Record<string, Adjust> = {};\n  private lastAttributeOption;\n  private idFields: string[] = [];\n  private geometryLabel: GeometryLabel;\n\n  // \n  /**  */\n  protected intervalPadding: number;\n  /**  */\n  protected dodgePadding: number;\n  /**  */\n  protected maxColumnWidth: number;\n  /**  */\n  protected minColumnWidth: number;\n  /**  */\n  protected columnWidthRatio: number;\n  /**  */\n  protected roseWidthRatio: number;\n  /** / */\n  protected multiplePieWidthRatio: number;\n  /** elements  zIndex  zIndexReversed  */\n  public zIndexReversed?: boolean;\n  /**  zIndex  sort */\n  public sortZIndex?: boolean;\n  protected useDeferredLabel?: null | number;\n\n  /**  Group */\n  private offscreenGroup: IGroup;\n  private groupScales: Scale[];\n  private hasSorted: boolean = false;\n  protected isCoordinateChanged: boolean = false;\n\n  /**\n   *  Geometry \n   * @param cfg\n   */\n  constructor(cfg: GeometryCfg) {\n    super(cfg);\n\n    const {\n      container,\n      labelsContainer,\n      coordinate,\n      data,\n      sortable = false,\n      visible = true,\n      theme,\n      scales = {},\n      scaleDefs = {},\n      // \n      intervalPadding,\n      dodgePadding,\n      maxColumnWidth,\n      minColumnWidth,\n      columnWidthRatio,\n      roseWidthRatio,\n      multiplePieWidthRatio,\n      zIndexReversed,\n      sortZIndex,\n      useDeferredLabel,\n    } = cfg;\n\n    this.container = container;\n    this.labelsContainer = labelsContainer;\n    this.coordinate = coordinate;\n    this.data = data;\n    this.sortable = sortable;\n    this.visible = visible;\n    this.userTheme = theme;\n    this.scales = scales;\n    this.scaleDefs = scaleDefs;\n    // \n    this.intervalPadding = intervalPadding;\n    this.dodgePadding = dodgePadding;\n    this.maxColumnWidth = maxColumnWidth;\n    this.minColumnWidth = minColumnWidth;\n    this.columnWidthRatio = columnWidthRatio;\n    this.roseWidthRatio = roseWidthRatio;\n    this.multiplePieWidthRatio = multiplePieWidthRatio;\n    this.zIndexReversed = zIndexReversed;\n    this.sortZIndex = sortZIndex;\n    this.useDeferredLabel = useDeferredLabel ? (typeof useDeferredLabel === 'number' ? useDeferredLabel : Infinity) : null;\n  }\n\n  /**\n   *  position \n   *\n   * @example\n   * ```typescript\n   * // : [{ x: 'A', y: 10, color: 'red' }]\n   * geometry.position('x*y');\n   * geometry.position([ 'x', 'y' ]);\n   * geometry.position({\n   *   fields: [ 'x', 'y' ],\n   * });\n   * ```\n   *\n   * @param cfg \n   * @returns\n   */\n  public position(cfg: string | string[] | AttributeOption): Geometry {\n    let positionCfg = cfg;\n    if (!isPlainObject(cfg)) {\n      // \n      positionCfg = {\n        fields: parseFields(cfg),\n      };\n    }\n\n    const fields = get(positionCfg, 'fields');\n    if (fields.length === 1) {\n      //  1*xx\n      fields.unshift('1');\n      set(positionCfg, 'fields', fields);\n    }\n    set(this.attributeOption, 'position', positionCfg);\n\n    return this;\n  }\n\n  /**\n   *  color \n   *\n   * @example\n   * ```typescript\n   * // data: [{ x: 'A', y: 10, color: 'red' }, { x: 'B', y: 30, color: 'yellow' }]\n   * geometry.color({\n   *   fields: [ 'x' ],\n   *   values: [ '#1890ff', '#5AD8A6' ],\n   * });\n   * ```\n   *\n   * @param field \n   * @returns\n   */\n  public color(field: AttributeOption): Geometry;\n  /**\n   * @example\n   * ```typescript\n   * // data: [{ x: 'A', y: 10, color: 'red' }, { x: 'B', y: 30, color: 'yellow' }]\n   *\n   * //  '#1890ff' \n   * geometry.color('#1890ff');\n   *\n   * //  x  G2 \n   * geometry.color('x');\n   *\n   * //  'x'  colors\n   * geometry.color('x', [ '#1890ff', '#5AD8A6' ]);\n   *\n   * // *\n   * geometry.color('x', (xVal) => {\n   *   if (xVal === 'a') {\n   *     return 'red';\n   *   }\n   *   return 'blue';\n   * });\n   *\n   * // \n   * geometry.color('x', '#BAE7FF-#1890FF-#0050B3');\n   * ```\n   *\n   * @param field  '*' \n   * @param cfg Optional, color \n   * @returns\n   */\n  public color(field: string, cfg?: string | string[] | ColorAttrCallback): Geometry;\n  public color(field: AttributeOption | string, cfg?: string | string[] | ColorAttrCallback): Geometry {\n    this.createAttrOption('color', field, cfg);\n\n    return this;\n  }\n\n  /**\n   *  shape \n   *\n   * @example\n   *\n   * ```typescript\n   * // data: [{ x: 'A', y: 10, color: 'red' }, { x: 'B', y: 30, color: 'yellow' }]\n   * geometry.shape({\n   *   fields: [ 'x' ],\n   * });\n   * ```\n   *\n   * @param field \n   * @returns\n   */\n  public shape(field: AttributeOption): Geometry;\n  /**\n   *\n   * @example\n   * ```typescript\n   * // data: [{ x: 'A', y: 10, color: 'red' }, { x: 'B', y: 30, color: 'yellow' }]\n   *\n   * //  shape\n   * geometry.shape('circle');\n   *\n   * //  shapes \n   * geometry.shape('x');\n   *\n   * //  shapes \n   * geometry.shape('x', [ 'circle', 'diamond', 'square' ]);\n   *\n   * //  shape shape \n   * geometry.shape('x', (xVal) => {\n   *   if (xVal === 'a') {\n   *     return 'circle';\n   *   }\n   *   return 'diamond';\n   * });\n   * ```\n   *\n   * @param field  shape  '*' \n   * @param cfg Optional, shape \n   * @returns\n   */\n  public shape(field: string, cfg?: string[] | ShapeAttrCallback): Geometry;\n  public shape(field: AttributeOption | string, cfg?: string[] | ShapeAttrCallback): Geometry {\n    this.createAttrOption('shape', field, cfg);\n\n    return this;\n  }\n\n  /**\n   *  size \n   *\n   * @example\n   * ```typescript\n   * // data: [{ x: 'A', y: 10, color: 'red' }, { x: 'B', y: 30, color: 'yellow' }]\n   * geometry.size({\n   *   values: [ 10 ],\n   * })\n   * ```\n   *\n   * @param field \n   * @returns\n   */\n  public size(field: AttributeOption): Geometry;\n  /**\n   *\n   * @example\n   * ```typescript\n   * // data: [{ x: 'A', y: 10, color: 'red' }, { x: 'B', y: 30, color: 'yellow' }]\n   *\n   * // \n   * geometry.size(10);\n   *\n   * //  size  [1, 10]\n   * geometry.size('x');\n   *\n   * //  size  size \n   * geometry.size('x', [ 5, 30 ]);\n   *\n   * //  size size \n   * geometry.size('x', (xVal) => {\n   *   if (xVal === 'a') {\n   *     return 10;\n   *   }\n   *   return 5;\n   * });\n   * ```\n   *\n   * @param field  size  '*' \n   * @param cfg Optional, size \n   * @returns\n   */\n  public size(field: number | string, cfg?: [number, number] | SizeAttrCallback): Geometry;\n  public size(field: AttributeOption | number | string, cfg?: [number, number] | SizeAttrCallback): Geometry {\n    this.createAttrOption('size', field, cfg);\n\n    return this;\n  }\n\n  /**\n   * G2 \n   * 1. dodge\n   * 2. stack\n   * 3. symmetric\n   * 4. jitter\n   *\n   *\n   * **Tip**\n   * +  'dodge' :\n   * ```typescript\n   * geometry.adjust('dodge', {\n   *   marginRatio: 0, //  0  1 \n   *   dodgeBy: 'x', //  'dodge' \n   * });\n   * ```\n   *\n   * +  'stack' :\n   * ```typescript\n   * geometry.adjust('stack', {\n   *   reverseOrder: false, // \n   * });\n   * ```\n   *\n   * @example\n   * ```typescript\n   * geometry.adjust('stack');\n   *\n   * geometry.adjust({\n   *   type: 'stack',\n   *   reverseOrder: false,\n   * });\n   *\n   * //  adjust\n   * geometry.adjust([ 'stack', 'dodge' ]);\n   *\n   * geometry.adjust([\n   *   { type: 'stack' },\n   *   { type: 'dodge', dodgeBy: 'x' },\n   * ]);\n   * ```\n   *\n   * @param adjustCfg \n   * @returns\n   */\n  public adjust(adjustCfg: string | string[] | AdjustOption | AdjustOption[]): Geometry {\n    let adjusts: any = adjustCfg;\n    if (isString(adjustCfg) || isPlainObject(adjustCfg)) {\n      adjusts = [adjustCfg];\n    }\n    each(adjusts, (adjust, index) => {\n      if (!isObject(adjust)) {\n        adjusts[index] = { type: adjust };\n      }\n    });\n\n    this.adjustOption = adjusts;\n    return this;\n  }\n\n  /**\n   * \n   *\n   * @example\n   * ```typescript\n   * // \n   * style({\n   *   lineWidth: 2,\n   *   stroke: '#1890ff',\n   * });\n   *\n   * // \n   * style({\n   *   fields: [ 'x', 'y' ], // \n   *   callback: (xVal, yVal) => {\n   *     const style = { lineWidth: 2, stroke: '#1890ff' };\n   *     if (xVal === 'a') {\n   *       style.lineDash = [ 2, 2 ];\n   *     }\n   *     return style;\n   *   },\n   * });\n   * ```\n   *\n   * @param field \n   * @returns\n   */\n  public style(field: StyleOption | LooseObject): Geometry;\n  /**\n   * @example\n   * ```typescript\n   * style('x*y', (xVal, yVal) => {\n   *   const style = { lineWidth: 2, stroke: '#1890ff' };\n   *   if (xVal === 'a') {\n   *     style.lineDash = [ 2, 2 ];\n   *   }\n   *   return style;\n   * });\n   * ```\n   *\n   * @param field \n   * @param styleFunc Optional, \n   * @returns\n   */\n  public style(field: string, styleFunc: StyleCallback): Geometry;\n  public style(field: StyleOption | LooseObject | string, styleFunc?: StyleCallback): Geometry {\n    if (isString(field)) {\n      const fields = parseFields(field);\n      this.styleOption = {\n        fields,\n        callback: styleFunc,\n      };\n    } else {\n      const { fields, callback, cfg } = field as StyleOption;\n      if (fields || callback || cfg) {\n        this.styleOption = field;\n      } else {\n        this.styleOption = {\n          cfg: field,\n        };\n      }\n    }\n\n    return this;\n  }\n\n  /**\n   *  Geometry  tooltip \n   *\n   * `tooltip(false)`  tooltip\n   * `tooltip(true)`  tooltip\n   *\n   * Geometry  tooltip  tooltip \n   *\n   * @example\n   * ```typescript\n   * // data: [{x: 'a', y: 10}]\n   * tooltip({\n   *   fields: [ 'x' ],\n   * });\n   * ```\n   * ![](https://gw.alipayobjects.com/mdn/rms_2274c3/afts/img/A*268uQ50if60AAAAAAAAAAABkARQnAQ)\n   *\n   * ```typescript\n   * tooltip({\n   *   fields: [ 'x', 'y' ],\n   * });\n   * ```\n   * ![](https://gw.alipayobjects.com/mdn/rms_2274c3/afts/img/A*A_ujSa8QhtcAAAAAAAAAAABkARQnAQ)\n   *\n   * tooltip() \n   *\n   * @example\n   * ```typescript\n   * chart.tooltip({\n   *   itemTpl: '<li>{x}: {y}</li>',\n   * });\n   *\n   * chart.line()\n   *   .position('x*y')\n   *   .tooltip({\n   *     fields: [ 'x', 'y' ],\n   *     callback: (x, y) => {\n   *       return {\n   *         x,\n   *         y,\n   *       };\n   *     },\n   *   });\n   * ```\n   *\n   *  chart.tooltip()  itemTpl  itemTpl \n   *\n   * @param field tooltip \n   * @returns\n   */\n  public tooltip(field: GeometryTooltipOption | boolean): Geometry;\n  /**\n   * @example\n   * ```typescript\n   * // data: [{x: 'a', y: 10}]\n   *\n   * //  tooltip({ fields: [ 'x' ] })\n   * tooltip('x');\n   *\n   * //  tooltip({ fields: [ 'x', 'y' ] })\n   * tooltip('x*y');\n   *\n   * //  tooltip({ fields: [ 'x', 'y' ], callback: (x, y) => { x, y } })\n   * tooltip('x*y', (x, y) => {\n   *   return {\n   *     x,\n   *     y,\n   *   };\n   * });\n   * ```\n   *\n   * @param field \n   * @param cfg Optional, \n   * @returns\n   */\n  public tooltip(field: string, cfg?: TooltipCallback): Geometry;\n  public tooltip(field: GeometryTooltipOption | boolean | string, cfg?: TooltipCallback): Geometry {\n    if (isString(field)) {\n      const fields = parseFields(field);\n      this.tooltipOption = {\n        fields,\n        callback: cfg,\n      };\n    } else {\n      this.tooltipOption = field;\n    }\n\n    return this;\n  }\n\n  /**\n   * Geometry \n   *\n   * + `animate(false)` \n   * + `animate(true)` \n   *\n   * \n   * 1. appear: \n   * 2. enter: \n   * 3. update: \n   * 4. leave: \n   *\n   * @example\n   * ```typescript\n   * animate({\n   *   enter: {\n   *     duration: 1000, // enter \n   *   },\n   *   leave: false, //  leave \n   * });\n   * ```\n   *\n   * @param cfg \n   * @returns\n   */\n  public animate(cfg: AnimateOption | boolean): Geometry {\n    this.animateOption = cfg;\n    return this;\n  }\n\n  /**\n   * Geometry label \n   *\n   * @example\n   * ```ts\n   * // data: [ {x: 1, y: 2, z: 'a'}, {x: 2, y: 2, z: 'b'} ]\n   * //  z \n   * label({\n   *   fields: [ 'z' ]\n   * });\n   *\n   * label(false); //  label\n   *\n   * //  x \n   * label('x', {\n   *   style: {\n   *     fill: 'red',\n   *   },\n   * })\n   *\n   * //  type  label  x \n   * label('x', (xValue) => {\n   *   return {\n   *     content: xValue + '%',\n   *   };\n   * }, {\n   *   type: 'base' //  label \n   * })\n   * ```\n   *\n   * @param field\n   * @returns label\n   */\n  public label(field: LabelOption | false | string): Geometry;\n  public label(field: string, secondParam: GeometryLabelCfg | LabelCallback): Geometry;\n  public label(field: string, secondParam: LabelCallback, thirdParam: GeometryLabelCfg): Geometry;\n  public label(\n    field: string | LabelOption | false,\n    secondParam?: GeometryLabelCfg | LabelCallback,\n    thirdParam?: GeometryLabelCfg\n  ): Geometry {\n    if (isString(field)) {\n      const labelOption: LabelOption = {};\n      const fields = parseFields(field);\n      labelOption.fields = fields;\n      if (isFunction(secondParam)) {\n        labelOption.callback = secondParam;\n      } else if (isPlainObject(secondParam)) {\n        labelOption.cfg = secondParam;\n      }\n\n      if (thirdParam) {\n        labelOption.cfg = thirdParam;\n      }\n      this.labelOption = labelOption;\n    } else {\n      this.labelOption = field;\n    }\n\n    return this;\n  }\n\n  /**\n   * \n   *\n   * @example\n   * ```ts\n   * chart.interval().state({\n   *   selected: {\n   *     animate: { duration: 100, easing: 'easeLinear' },\n   *     style: {\n   *       lineWidth: 2,\n   *       stroke: '#000',\n   *     },\n   *   },\n   * });\n   * ```\n   *\n   *  shape  shape  G.Group  group  shape\n   *  group  shape  'name' (shape.set('name', 'xx')) 'name'  key shape   key\n   *\n   * ```ts\n   * chart.interval().shape('groupShape').state({\n   *   selected: {\n   *     style: {\n   *       0: { lineWidth: 2 },\n   *       1: { fillOpacity: 1 },\n   *     }\n   *   }\n   * });\n   * ```\n   *\n   * @param cfg \n   */\n  public state(cfg: StateOption) {\n    this.stateOption = cfg;\n    return this;\n  }\n\n  /**\n   *  shape  shape  shape  shape \n   *\n   * @example\n   * ```ts\n   * chart.interval().customInfo({ yourData: 'hello, g2!' });\n   * ```\n   *\n   *  shape \n   *\n   * ```ts\n   * registerShape('interval', 'your-shape', {\n   *   draw(shapeInfo, container) {\n   *     const { customInfo } = shapeInfo;\n   *     console.log(customInfo); // will log { yourData: 'hello, g2!' }.\n   *   }\n   * });\n   * ```\n   *\n   * @param cfg\n   */\n  public customInfo(cfg: any) {\n    this.customOption = cfg;\n    return this;\n  }\n\n  /**\n   *  Geomtry \n   *  [[Attribute]] and [[Scale]] \n   */\n  public init(cfg: InitCfg = {}) {\n    this.setCfg(cfg);\n    this.initAttributes(); // \n\n    //  ->  -> adjust\n    this.processData(this.data);\n\n    //  scale\n    this.adjustScale();\n  }\n\n  /**\n   * Geometry \n   * @param [cfg] \n   */\n  public update(cfg: InitCfg = {}) {\n    const { data, isDataChanged, isCoordinateChanged } = cfg;\n    const { attributeOption, lastAttributeOption } = this;\n\n    if (!isEqual(attributeOption, lastAttributeOption)) {\n      // \n      this.init(cfg);\n    } else if (data && (isDataChanged || !isEqual(data, this.data))) {\n      // \n      this.setCfg(cfg);\n      this.initAttributes(); // \n      this.processData(data); //  ->  -> adjust\n    } else {\n      //  coordinate \n      this.setCfg(cfg);\n    }\n\n    //  scale\n    this.adjustScale();\n    this.isCoordinateChanged = isCoordinateChanged;\n  }\n\n  /**\n   * \n   */\n  public paint(isUpdate: boolean = false) {\n    if (this.animateOption) {\n      this.animateOption = deepMix({}, getDefaultAnimateCfg(this.type, this.coordinate), this.animateOption);\n    }\n\n    this.defaultSize = undefined;\n    this.elementsMap = {};\n    this.elements = [];\n    const offscreenGroup = this.getOffscreenGroup();\n    offscreenGroup.clear();\n\n    const beforeMappingData = this.beforeMappingData;\n    const dataArray = this.beforeMapping(beforeMappingData);\n\n    this.dataArray = new Array(dataArray.length);\n    for (let i = 0; i < dataArray.length; i++) {\n      const data = dataArray[i];\n      this.dataArray[i] = this.mapping(data);\n    }\n    this.updateElements(this.dataArray, isUpdate);\n    this.lastElementsMap = this.elementsMap;\n\n    if (this.canDoGroupAnimation(isUpdate)) {\n      //  appear.animation\n      const container = this.container;\n      const type = this.type;\n      const coordinate = this.coordinate;\n      const animateCfg = get(this.animateOption, 'appear');\n      const yScale = this.getYScale();\n      const yMinPoint = coordinate.convert({\n        x: 0,\n        y: yScale.scale(this.getYMinValue()),\n      });\n      doGroupAppearAnimate(container, animateCfg, type, coordinate, yMinPoint);\n    }\n\n    //  label\n    if (this.labelOption) {\n      const deferred = this.useDeferredLabel;\n      const callback = (() => this.renderLabels(flatten(this.dataArray) as unknown as MappingDatum[], isUpdate)).bind(this);\n      if (typeof deferred === 'number') {\n        // Use `requestIdleCallback` to render labels in idle time (like react fiber)\n        const timeout = (typeof deferred === 'number' && deferred !== Infinity) ? deferred : 0;\n        if (!window.requestIdleCallback) {\n          setTimeout(callback, timeout);\n        } else {\n          const options = timeout && timeout !== Infinity ? { timeout } : undefined;\n          window.requestIdleCallback(callback, options);\n        }\n      } else {\n        callback();\n      }\n    }\n\n    // \n    this.lastAttributeOption = {\n      ...this.attributeOption,\n    };\n\n    if (this.visible === false) {\n      //  visible: false\n      this.changeVisible(false);\n    }\n  }\n\n  /**\n   *  Geometry\n   * @override\n   */\n  public clear() {\n    const { container, geometryLabel, offscreenGroup } = this;\n    if (container) {\n      container.clear();\n    }\n\n    if (geometryLabel) {\n      geometryLabel.clear();\n    }\n\n    if (offscreenGroup) {\n      offscreenGroup.clear();\n    }\n\n    // \n    this.scaleDefs = undefined;\n    this.attributes = {};\n    this.scales = {};\n    this.elementsMap = {};\n    this.lastElementsMap = {};\n    this.elements = [];\n    this.adjusts = {};\n    this.dataArray = null;\n    this.beforeMappingData = null;\n    this.lastAttributeOption = undefined;\n    this.defaultSize = undefined;\n    this.idFields = [];\n    this.groupScales = undefined;\n    this.hasSorted = false;\n    this.isCoordinateChanged = false;\n  }\n\n  /**\n   *  Geometry \n   */\n  public destroy() {\n    this.clear();\n    const container = this.container;\n    container.remove(true);\n\n    if (this.offscreenGroup) {\n      this.offscreenGroup.remove(true);\n      this.offscreenGroup = null;\n    }\n\n    if (this.geometryLabel) {\n      this.geometryLabel.destroy();\n      this.geometryLabel = null;\n    }\n    this.theme = undefined;\n    this.shapeFactory = undefined;\n\n    super.destroy();\n  }\n\n  /**\n   *  scale \n   * @returns\n   */\n  public getGroupScales(): Scale[] {\n    return this.groupScales;\n  }\n\n  /**\n   * \n   */\n  public getAttribute(name: string): Attribute {\n    return this.attributes[name];\n  }\n\n  /**  x  scale  */\n  public getXScale(): Scale {\n    return this.getAttribute('position').scales[0];\n  }\n\n  /**  y  scale  */\n  public getYScale(): Scale {\n    return this.getAttribute('position').scales[1];\n  }\n\n  /**\n   * \n   */\n  public getGroupAttributes(): Attribute[] {\n    const rst = [];\n    each(this.attributes, (attr: Attribute) => {\n      if (GROUP_ATTRS.includes(attr.type)) {\n        rst.push(attr);\n      }\n    });\n    return rst;\n  }\n\n  /**  */\n  public getDefaultValue(attrName: string) {\n    let value: any;\n    const attr = this.getAttribute(attrName);\n    if (attr && isEmpty(attr.scales)) {\n      // \n      value = attr.values[0];\n    }\n    return value;\n  }\n\n  /**\n   *  Attribute \n   * @param attr Attribute \n   * @param obj \n   * @returns\n   */\n  public getAttributeValues(attr: Attribute, obj: Datum) {\n    const params = [];\n    const scales = attr.scales;\n    for (let index = 0, length = scales.length; index < length; index++) {\n      const scale = scales[index];\n      const field = scale.field;\n      if (scale.isIdentity) {\n        params.push(scale.values);\n      } else {\n        params.push(obj[field]);\n      }\n    }\n\n    return attr.mapping(...params);\n  }\n\n  /**\n   *  adjust \n   * @param adjustType\n   * @returns\n   */\n  public getAdjust(adjustType: string) {\n    return this.adjusts[adjustType];\n  }\n\n  /**\n   *  coordinate \n   * @returns\n   */\n  public getCoordinate() {\n    return this.coordinate;\n  }\n\n  public getData() {\n    return this.data;\n  }\n\n  /**\n   *  shape  marker \n   * @param shapeName shape \n   * @param cfg marker \n   * @returns\n   */\n  public getShapeMarker(shapeName: string, cfg: ShapeMarkerCfg): ShapeMarkerAttrs {\n    const shapeFactory = this.getShapeFactory();\n    return shapeFactory.getMarker(shapeName, cfg);\n  }\n\n  /**\n   *  Geometry  Elements\n   *\n   * ```typescript\n   * getElementsBy((element) => {\n   *   const data = element.getData();\n   *\n   *   return data.a === 'a';\n   * });\n   * ```\n   *\n   * @param condition \n   * @returns\n   */\n  public getElementsBy(condition: (element: Element) => boolean): Element[] {\n    return this.elements.filter((element) => condition(element));\n  }\n\n  /**\n   *  Geometry  Elements\n   *\n   * ```typescript\n   * getElements();\n   * ```\n   */\n  public getElements() {\n    return this.elements;\n  }\n\n  /**\n   *  id\n   * @param data Element \n   * @returns\n   */\n  public getElementId(data: MappingDatum | MappingDatum[]) {\n    data = isArray(data) ? data[0] : data;\n    const originData = data[FIELD_ORIGIN];\n\n    //  id \n    if (this.idFields.length) {\n      let elementId = originData[this.idFields[0]];\n      for (let index = 1; index < this.idFields.length; index++) {\n        elementId += '-' + originData[this.idFields[index]];\n      }\n\n      return elementId;\n    }\n\n    const type = this.type;\n    const xScale = this.getXScale();\n    const yScale = this.getYScale();\n    const xField = xScale.field || 'x';\n    const yField = yScale.field || 'y';\n    const yVal = originData[yField];\n    let xVal;\n    if (xScale.type === 'identity') {\n      xVal = xScale.values[0];\n    } else {\n      xVal = originData[xField];\n    }\n\n    let id: string;\n    if (type === 'interval' || type === 'schema') {\n      id = `${xVal}`;\n    } else if (type === 'line' || type === 'area' || type === 'path') {\n      id = type;\n    } else {\n      id = `${xVal}-${yVal}`;\n    }\n\n    const groupScales = this.groupScales;\n\n    for (let index = 0, length = groupScales.length; index < length; index++) {\n      const groupScale = groupScales[index];\n      const field = groupScale.field;\n      id = `${id}-${originData[field]}`;\n    }\n\n    //  dodge  adjust  dodgeBy \n    const dodgeAdjust = this.getAdjust('dodge');\n    if (dodgeAdjust) {\n      const dodgeBy = dodgeAdjust.dodgeBy;\n      if (dodgeBy) {\n        id = `${id}-${originData[dodgeBy]}`;\n      }\n    }\n\n    if (this.getAdjust('jitter')) {\n      id = `${id}-${data.x}-${data.y}`;\n    }\n\n    return id;\n  }\n\n  /**\n   *  scale \n   */\n  public getScaleFields(): string[] {\n    const fields = [];\n    const tmpMap = new Map();\n    const { attributeOption, labelOption, tooltipOption } = this;\n    //  fields\n    for (const attributeType in attributeOption) {\n      if (attributeOption.hasOwnProperty(attributeType)) {\n        const eachOpt = attributeOption[attributeType];\n        if (eachOpt.fields) {\n          uniq(eachOpt.fields, fields, tmpMap);\n        } else if (eachOpt.values) {\n          //  size(10), shape('circle') \n          uniq(eachOpt.values, fields, tmpMap);\n        }\n      }\n    }\n    //  label \n    if (labelOption && labelOption.fields) {\n      uniq(labelOption.fields, fields, tmpMap);\n    }\n\n    //  tooltip \n    if (isObject(tooltipOption) && tooltipOption.fields) {\n      uniq(tooltipOption.fields, fields, tmpMap);\n    }\n\n    return fields;\n  }\n\n  /**\n   *  geometry\n   * @param visible\n   */\n  public changeVisible(visible: boolean) {\n    super.changeVisible(visible);\n    const elements = this.elements;\n    for (let index = 0, length = elements.length; index < length; index++) {\n      const element = elements[index];\n      element.changeVisible(visible);\n    }\n    if (visible) {\n      if (this.container) {\n        this.container.show();\n      }\n      if (this.labelsContainer) {\n        this.labelsContainer.show();\n      }\n    } else {\n      if (this.container) {\n        this.container.hide();\n      }\n      if (this.labelsContainer) {\n        this.labelsContainer.hide();\n      }\n    }\n  }\n\n  /**\n   * \n   */\n  public getFields() {\n    const uniqMap = new Map<string, boolean>();\n    const fields = [];\n\n    Object.values(this.attributeOption).forEach((cfg) => {\n      const fs = cfg?.fields || [];\n      fs.forEach((f) => {\n        if (!uniqMap.has(f)) {\n          fields.push(f);\n        }\n        uniqMap.set(f, true);\n      });\n    }, []);\n\n    return fields;\n  }\n\n  /**\n   *  & \n   * @return fields string[]\n   */\n  public getGroupFields(): string[] {\n    const groupFields = [];\n    const tmpMap = new Map(); // \n    for (let index = 0, length = GROUP_ATTRS.length; index < length; index++) {\n      const attributeName = GROUP_ATTRS[index];\n      const cfg = this.attributeOption[attributeName];\n      if (cfg && cfg.fields) {\n        uniq(cfg.fields, groupFields, tmpMap);\n      }\n    }\n\n    return groupFields;\n  }\n\n  /**\n   *  x y \n   */\n  public getXYFields() {\n    const [x, y] = this.attributeOption.position.fields;\n    return [x, y];\n  }\n\n  /**\n   * x \n   * @returns\n   */\n  public getXField(): string {\n    return get(this.getXYFields(), [0]);\n  }\n\n  /**\n   * y \n   * @returns\n   */\n  public getYField(): string {\n    return get(this.getXYFields(), [1]);\n  }\n\n  /**\n   *  Geometry  shapes\n   * @returns shapes\n   */\n  public getShapes(): (IShape | IGroup)[] {\n    return this.elements.map((element: Element) => element.shape);\n  }\n\n  /**\n   *  Group\n   * @returns\n   */\n  public getOffscreenGroup() {\n    if (!this.offscreenGroup) {\n      const GroupCtor = this.container.getGroupBase(); // \n      this.offscreenGroup = new GroupCtor({});\n    }\n    return this.offscreenGroup;\n  }\n\n  // \n  public sort(mappingArray: Data[]) {\n    if (!this.hasSorted) {\n      // \n      const xScale = this.getXScale();\n      const xField = xScale.field;\n      for (let index = 0; index < mappingArray.length; index++) {\n        const itemArr = mappingArray[index];\n        itemArr.sort((obj1: Datum, obj2: Datum) => {\n          return xScale.translate(obj1[FIELD_ORIGIN][xField]) - xScale.translate(obj2[FIELD_ORIGIN][xField]);\n        });\n      }\n    }\n\n    this.hasSorted = true;\n  }\n\n  /**\n   *  Geometry Interval  Y  0 \n   */\n  protected adjustScale() {\n    const yScale = this.getYScale();\n    //  stack adjust yScale \n    if (yScale && this.getAdjust('stack')) {\n      this.updateStackRange(yScale, this.beforeMappingData);\n    }\n  }\n\n  /**\n   *  Geometry  Shape \n   */\n  protected getShapeFactory() {\n    const shapeType = this.shapeType;\n    if (!getShapeFactory(shapeType)) {\n      return;\n    }\n    if (!this.shapeFactory) {\n      this.shapeFactory = clone(getShapeFactory(shapeType)); //  view  shapeFactory  coordinate \n    }\n    //  shapeFactory coordinate shapeFactory \n    this.shapeFactory.coordinate = this.coordinate;\n    // theme \n    this.shapeFactory.theme = this.theme.geometries[shapeType] || {};\n\n    return this.shapeFactory;\n  }\n\n  /**\n   *  Shape \n   * @param obj  ->  -> adjust \n   * @returns\n   */\n  protected createShapePointsCfg(obj: Datum): S {\n    const xScale = this.getXScale();\n    const yScale = this.getYScale();\n    const x = this.normalizeValues(obj[xScale.field], xScale);\n    let y; //  y \n\n    if (yScale) {\n      y = this.normalizeValues(obj[yScale.field], yScale);\n    } else {\n      y = obj.y ? obj.y : 0.1;\n    }\n\n    return {\n      x,\n      y,\n      y0: yScale ? yScale.scale(this.getYMinValue()) : undefined,\n    } as S;\n  }\n\n  /**\n   *  Element \n   * @param mappingDatum Element \n   * @param [isUpdate] \n   * @returns element  Element \n   */\n  protected createElement(mappingDatum: MappingDatum, index: number, isUpdate: boolean = false): Element {\n    const { container } = this;\n\n    const shapeCfg = this.getDrawCfg(mappingDatum); // \n    const shapeFactory = this.getShapeFactory();\n\n    const element = new Element({\n      shapeFactory,\n      container,\n      offscreenGroup: this.getOffscreenGroup(),\n      elementIndex: index,\n    });\n    element.animate = this.animateOption;\n    element.geometry = this;\n    element.draw(shapeCfg, isUpdate); // \n\n    return element;\n  }\n\n  /**\n   * \n   * @param mappingDatum \n   * @returns draw cfg\n   */\n  protected getDrawCfg(mappingDatum: MappingDatum): ShapeInfo {\n    const originData = mappingDatum[FIELD_ORIGIN]; // \n    const cfg: ShapeInfo = {\n      mappingData: mappingDatum, // \n      data: originData, // \n      x: mappingDatum.x,\n      y: mappingDatum.y,\n      color: mappingDatum.color,\n      size: mappingDatum.size,\n      isInCircle: this.coordinate.isPolar,\n      customInfo: this.customOption,\n    };\n\n    let shapeName = mappingDatum.shape;\n    if (!shapeName && this.getShapeFactory()) {\n      shapeName = this.getShapeFactory().defaultShapeType;\n    }\n    cfg.shape = shapeName;\n    // \n    const theme = this.theme.geometries[this.shapeType];\n    cfg.defaultStyle = get(theme, [shapeName, 'default'], {}).style;\n    if (!cfg.defaultStyle && this.getShapeFactory()) {\n      cfg.defaultStyle = this.getShapeFactory().getDefaultStyle(theme);\n    }\n\n    const styleOption = this.styleOption;\n    if (styleOption) {\n      cfg.style = this.getStyleCfg(styleOption, originData);\n    }\n    if (this.generatePoints) {\n      cfg.points = mappingDatum.points;\n      cfg.nextPoints = mappingDatum.nextPoints;\n    }\n\n    return cfg;\n  }\n\n  protected updateElements(mappingDataArray: MappingDatum[][], isUpdate: boolean = false): void {\n    const keyDatum = new Map<string, MappingDatum>();\n    const keys: string[] = [];\n\n    //  diff  added, updated \n    const keyIndex = new Map<string, number>();\n    let index = 0;\n\n    //  keys\n    //  key \n    for (let i = 0; i < mappingDataArray.length; i++) {\n      const mappingData = mappingDataArray[i];\n      for (let j = 0; j < mappingData.length; j++) {\n        const mappingDatum = mappingData[j];\n        const key = this.getElementId(mappingDatum);\n        const finalKey = keyDatum.has(key) ? `${key}-${i}-${j}` : key;\n        keys.push(finalKey);\n        keyDatum.set(finalKey, mappingDatum);\n        keyIndex.set(finalKey, index);\n        index++;\n      }\n    }\n\n    this.elements = new Array(index);\n\n    const { added, updated, removed } = diff(this.lastElementsMap, keys);\n\n    //  element\n    for (const key of added) {\n      const mappingDatum = keyDatum.get(key);\n      const i = keyIndex.get(key);\n      const element = this.createElement(mappingDatum, i, isUpdate);\n      this.elements[i] = element;\n      this.elementsMap[key] = element;\n      if (element.shape) {\n        element.shape.set('zIndex', this.zIndexReversed ? this.elements.length - i : i);\n      }\n    }\n\n    //  element\n    for (const key of updated) {\n      const element = this.lastElementsMap[key];\n      const mappingDatum = keyDatum.get(key);\n      const currentShapeCfg = this.getDrawCfg(mappingDatum);\n      const preShapeCfg = element.getModel();\n      const i = keyIndex.get(key);\n      if (this.isCoordinateChanged || isModelChange(currentShapeCfg, preShapeCfg)) {\n        element.animate = this.animateOption;\n        // \n        element.update(currentShapeCfg); //  element\n      }\n      this.elements[i] = element;\n      this.elementsMap[key] = element;\n      if (element.shape) {\n        element.shape.set('zIndex', this.zIndexReversed ? this.elements.length - i : i);\n      }\n    }\n\n    //  setZIndex  sort\n    if (this.container) {\n      this.container.sort();\n    }\n\n    //  elements\n    for (const key of removed) {\n      const element = this.lastElementsMap[key];\n      // \n      element.animate = this.animateOption;\n      element.destroy();\n    }\n  }\n\n  /**\n   *  label \n   */\n  protected getLabelType(): string {\n    const { labelOption, coordinate, type } = this;\n    const { type: coordinateType, isTransposed } = coordinate;\n    let labelType = get(labelOption, ['cfg', 'type']);\n    if (!labelType) {\n      // \n      if (coordinateType === 'polar') {\n        // \n        labelType = isTransposed ? 'pie' : 'polar';\n      } else if (coordinateType === 'theta') {\n        // theta \n        labelType = 'pie';\n      } else if (type === 'interval' || type === 'polygon') {\n        labelType = 'interval';\n      } else {\n        labelType = 'base';\n      }\n    }\n\n    return labelType;\n  }\n\n  /**\n   *  Y \n   */\n  protected getYMinValue(): number {\n    const yScale = this.getYScale();\n    const { min, max } = yScale;\n    let value: number;\n\n    if (min >= 0) {\n      value = min;\n    } else if (max <= 0) {\n      //  ymin  0\n      value = max;\n    } else {\n      value = 0;\n    }\n    return value;\n  }\n\n  // \n  protected createAttrOption(attrName: string, field: AttributeOption | string | number, cfg?) {\n    if (isNil(field) || isObject(field)) {\n      if (isObject(field) && isEqual(Object.keys(field), ['values'])) {\n        // shape({ values: [ 'funnel' ] })\n        set(this.attributeOption, attrName, {\n          fields: field.values,\n        });\n      } else {\n        set(this.attributeOption, attrName, field);\n      }\n    } else {\n      const attrCfg: AttributeOption = {};\n      if (isNumber(field)) {\n        // size(3)\n        attrCfg.values = [field];\n      } else {\n        attrCfg.fields = parseFields(field);\n      }\n\n      if (cfg) {\n        if (isFunction(cfg)) {\n          attrCfg.callback = cfg;\n        } else {\n          attrCfg.values = cfg;\n        }\n      }\n\n      set(this.attributeOption, attrName, attrCfg);\n    }\n  }\n\n  protected initAttributes() {\n    const { attributes, attributeOption, theme, shapeType } = this;\n    this.groupScales = [];\n    const tmpMap = {};\n\n    //  attrOption Attribute \n    for (const attrType in attributeOption) {\n      if (attributeOption.hasOwnProperty(attrType)) {\n        const option: AttributeOption = attributeOption[attrType];\n        if (!option) {\n          return;\n        }\n        const attrCfg: AttributeInstanceCfg = {\n          ...option,\n        };\n        const { callback, values, fields = [] } = attrCfg;\n\n        //  scale\n        const scales = fields.map((field) => {\n          const scale = this.scales[field];\n          if (!tmpMap[field] && GROUP_ATTRS.includes(attrType)) {\n            const inferedScaleType = inferScaleType(scale, get(this.scaleDefs, field), attrType, this.type);\n            if (inferedScaleType === 'cat') {\n              this.groupScales.push(scale);\n              tmpMap[field] = true;\n            }\n          }\n          return scale;\n        });\n\n        attrCfg.scales = scales;\n\n        if (attrType !== 'position' && scales.length === 1 && scales[0].type === 'identity') {\n          //  color('red'), size(5)\n          attrCfg.values = scales[0].values;\n        } else if (!callback && !values) {\n          // \n          if (attrType === 'size') {\n            attrCfg.values = theme.sizes;\n          } else if (attrType === 'shape') {\n            attrCfg.values = theme.shapes[shapeType] || [];\n          } else if (attrType === 'color') {\n            if (scales.length) {\n              // \n              attrCfg.values = scales[0].values.length <= 10 ? theme.colors10 : theme.colors20;\n            } else {\n              attrCfg.values = theme.colors10;\n            }\n          }\n        }\n        const AttributeCtor = getAttributeClass(attrType);\n        attributes[attrType] = new AttributeCtor(attrCfg);\n      }\n    }\n  }\n\n  //  ->  -> adjust \n  private processData(data: Data) {\n    this.hasSorted = false;\n    const { scales } = this.getAttribute('position');\n    const categoryScales = scales.filter((scale: Scale) => scale.isCategory);\n\n    const groupedArray = this.groupData(data); // \n    const beforeAdjust = [];\n    for (let i = 0, len = groupedArray.length; i < len; i++) {\n      const subData = groupedArray[i];\n      const arr = [];\n      for (let j = 0, subLen = subData.length; j < subLen; j++) {\n        const originData = subData[j];\n        const item = {};\n        // tslint:disable-next-line: forin\n        for (const k in originData) {\n          item[k] = originData[k];\n        }\n        item[FIELD_ORIGIN] = originData;\n\n        // , \n        for (const scale of categoryScales) {\n          const field = scale.field;\n          item[field] = scale.translate(item[field]);\n        }\n        arr.push(item);\n      }\n      beforeAdjust.push(arr);\n    }\n\n    const dataArray = this.adjustData(beforeAdjust); //  adjust \n    this.beforeMappingData = dataArray;\n\n    return dataArray;\n  }\n\n  // \n  private adjustData(dataArray: Data[]): Data[] {\n    const adjustOption = this.adjustOption;\n    const { intervalPadding, dodgePadding, theme } = this;\n    // theme\n    const maxColumnWidth = this.maxColumnWidth || theme.maxColumnWidth;\n    const minColumnWidth = this.minColumnWidth || theme.minColumnWidth;\n    const columnWidthRatio = this.columnWidthRatio || theme.columnWidthRatio;\n    let result = dataArray;\n\n    if (adjustOption) {\n      const xScale = this.getXScale();\n      const yScale = this.getYScale();\n      const xField = xScale.field;\n      const yField = yScale ? yScale.field : null;\n      const xDimensionLength = getXDimensionLength(this.coordinate);\n      const groupNum = xScale.values.length;\n      // size\n      const sizeAttr = this.getAttribute('size');\n      let defaultSize;\n      if (sizeAttr) {\n        defaultSize = sizeAttr.values[0];\n      }\n      for (let i = 0, len = adjustOption.length; i < len; i++) {\n        const adjust = adjustOption[i];\n        const adjustCfg: AdjustInstanceCfg = {\n          xField,\n          yField,\n          intervalPadding,\n          dodgePadding,\n          xDimensionLength,\n          groupNum,\n          defaultSize,\n          maxColumnWidth,\n          minColumnWidth,\n          columnWidthRatio,\n          ...adjust,\n        };\n        const type = adjust.type;\n        if (type === 'dodge') {\n          const adjustNames = [];\n          if (xScale.isCategory || xScale.type === 'identity') {\n            adjustNames.push('x');\n          } else if (!yScale) {\n            adjustNames.push('y');\n          } else {\n            throw new Error('dodge is not support linear attribute, please use category attribute!');\n          }\n          adjustCfg.adjustNames = adjustNames;\n          //  columnWidthRatio \n          // theme\n          adjustCfg.dodgeRatio = columnWidthRatio;\n        } else if (type === 'stack') {\n          const coordinate = this.coordinate;\n          if (!yScale) {\n            // size\n            adjustCfg.height = coordinate.getHeight();\n            const size = this.getDefaultValue('size') || 3;\n            adjustCfg.size = size;\n          }\n          //  transpose \n          if (!coordinate.isTransposed && isNil(adjustCfg.reverseOrder)) {\n            adjustCfg.reverseOrder = true;\n          }\n        }\n        const adjustCtor = getAdjustClass(type);\n        adjustCfg.dimValuesMap = {};\n        //dimValuesMap\n        if (xScale && xScale.values) {\n          adjustCfg.dimValuesMap[xScale.field] = xScale.values.map((v) => xScale.translate(v));\n        }\n        const adjustInstance = new adjustCtor(adjustCfg);\n\n        result = adjustInstance.process(result);\n\n        this.adjusts[type] = adjustInstance;\n      }\n    }\n\n    return result;\n  }\n\n  // \n  private groupData(data: Data): Data[] {\n    const groupScales = this.getGroupScales();\n    const scaleDefs = this.scaleDefs;\n    const appendConditions = {};\n    const groupFields = [];\n    for (let index = 0; index < groupScales.length; index++) {\n      const scale = groupScales[index];\n      const field = scale.field;\n      groupFields.push(field);\n      if (get(scaleDefs, [field, 'values'])) {\n        //  view.scale()  values \n        appendConditions[field] = scaleDefs[field].values;\n      }\n    }\n\n    return group(data, groupFields, appendConditions);\n  }\n\n  // \n  private updateStackRange(scale: Scale, dataArray: Data[]) {\n    const mergeArray = flatten(dataArray);\n    const field = scale.field;\n    let min = scale.min;\n    let max = scale.max;\n    for (let index = 0; index < mergeArray.length; index++) {\n      const obj = mergeArray[index];\n      const tmpMin = Math.min.apply(null, obj[field]);\n      const tmpMax = Math.max.apply(null, obj[field]);\n      if (tmpMin < min) {\n        min = tmpMin;\n      }\n      if (tmpMax > max) {\n        max = tmpMax;\n      }\n    }\n    const scaleDefs = this.scaleDefs;\n    const cfg: LooseObject = {};\n    if (min < scale.min && !get(scaleDefs, [field, 'min'])) {\n      //  min\n      cfg.min = min;\n    }\n    if (max > scale.max && !get(scaleDefs, [field, 'max'])) {\n      //  max\n      cfg.max = max;\n    }\n\n    scale.change(cfg);\n  }\n\n  // \n  private beforeMapping(beforeMappingData: Data[]) {\n    //  clone  points  clone\n    // const source = clone(beforeMappingData);\n    const source = beforeMappingData;\n    if (this.sortable) {\n      this.sort(source);\n    }\n    if (this.generatePoints) {\n      // \n      for (let index = 0, length = source.length; index < length; index++) {\n        const currentData = source[index];\n        this.generateShapePoints(currentData);\n        const nextData = source[index + 1];\n        if (nextData) {\n          this.generateShapePoints(nextData);\n          currentData[0].nextPoints = nextData[0].points;\n        }\n      }\n    }\n\n    return source;\n  }\n\n  //  shape \n  private generateShapePoints(data: Data) {\n    const shapeFactory = this.getShapeFactory();\n    const shapeAttr = this.getAttribute('shape');\n    for (let index = 0; index < data.length; index++) {\n      const obj = data[index];\n      const cfg = this.createShapePointsCfg(obj);\n      const shape = shapeAttr ? this.getAttributeValues(shapeAttr, obj) : null;\n      const points = shapeFactory.getShapePoints(shape, cfg);\n      obj.points = points;\n    }\n  }\n\n  // \n  private normalizeValues(values, scale) {\n    let rst = [];\n    if (isArray(values)) {\n      for (let index = 0; index < values.length; index++) {\n        const value = values[index];\n        rst.push(scale.scale(value));\n      }\n    } else {\n      rst = scale.scale(values);\n    }\n    return rst;\n  }\n\n  // \n  private mapping(data: Data): MappingDatum[] {\n    const attributes = this.attributes;\n    const mappingData = [];\n    for (let index = 0; index < data.length; index++) {\n      const record = data[index];\n      const newRecord: MappingDatum = {\n        _origin: record[FIELD_ORIGIN],\n        points: record.points,\n        nextPoints: record.nextPoints,\n      };\n      for (const k in attributes) {\n        if (attributes.hasOwnProperty(k)) {\n          const attr = attributes[k];\n          const names = attr.names;\n          const values = this.getAttributeValues(attr, record);\n          if (names.length > 1) {\n            // position \n            for (let j = 0; j < values.length; j += 1) {\n              const val = values[j];\n              const name = names[j];\n              newRecord[name] = isArray(val) && val.length === 1 ? val[0] : val; // \n            }\n          } else {\n            // values.length === 1 \n            // shape('a', ['dot', 'dash']), color('a', ['red', 'yellow'])\n            newRecord[names[0]] = values.length === 1 ? values[0] : values;\n          }\n        }\n      }\n\n      this.convertPoint(newRecord); //  xy \n      mappingData.push(newRecord);\n    }\n\n    return mappingData;\n  }\n\n  // \n  private convertPoint(mappingRecord: MappingDatum) {\n    const { x, y } = mappingRecord;\n\n    let rstX;\n    let rstY;\n    let obj;\n    const coordinate = this.coordinate;\n    if (isArray(x) && isArray(y)) {\n      rstX = [];\n      rstY = [];\n      for (let i = 0, j = 0, xLen = x.length, yLen = y.length; i < xLen && j < yLen; i += 1, j += 1) {\n        obj = coordinate.convert({\n          x: x[i],\n          y: y[j],\n        });\n        rstX.push(obj.x);\n        rstY.push(obj.y);\n      }\n    } else if (isArray(y)) {\n      rstY = [];\n      for (let index = 0; index < y.length; index++) {\n        const yVal = y[index];\n        obj = coordinate.convert({\n          x: x as number,\n          y: yVal,\n        });\n        if (rstX && rstX !== obj.x) {\n          if (!isArray(rstX)) {\n            rstX = [rstX];\n          }\n          rstX.push(obj.x);\n        } else {\n          rstX = obj.x;\n        }\n        rstY.push(obj.y);\n      }\n    } else if (isArray(x)) {\n      rstX = [];\n      for (let index = 0; index < x.length; index++) {\n        const xVal = x[index];\n        obj = coordinate.convert({\n          x: xVal,\n          y,\n        });\n        if (rstY && rstY !== obj.y) {\n          if (!isArray(rstY)) {\n            rstY = [rstY];\n          }\n          rstY.push(obj.y);\n        } else {\n          rstY = obj.y;\n        }\n        rstX.push(obj.x);\n      }\n    } else {\n      const point = coordinate.convert({\n        x,\n        y,\n      });\n      rstX = point.x;\n      rstY = point.y;\n    }\n    mappingRecord.x = rstX;\n    mappingRecord.y = rstY;\n  }\n\n  //  style \n  private getStyleCfg(styleOption: StyleOption, originData: Datum) {\n    const { fields = [], callback, cfg } = styleOption;\n    if (cfg) {\n      // \n      return cfg;\n    }\n\n    const params = fields.map((field) => {\n      return originData[field];\n    });\n\n    return callback(...params);\n  }\n\n  private setCfg(cfg: InitCfg) {\n    const { coordinate, data, theme, scaleDefs } = cfg;\n    if (coordinate) {\n      this.coordinate = coordinate;\n    }\n    if (data) {\n      this.data = data;\n    }\n    if (scaleDefs) {\n      this.scaleDefs = scaleDefs;\n      this.idFields = [];\n      each(scaleDefs, (scaleDef, field) => {\n        if (scaleDef && scaleDef.key) {\n          this.idFields.push(field);\n        }\n      });\n    }\n    if (theme) {\n      this.theme = this.userTheme ? deepMix({}, theme, this.userTheme) : theme; //  geometry \n    }\n  }\n\n  private async renderLabels(mappingArray: MappingDatum[], isUpdate: boolean = false) {\n    let geometryLabel = this.geometryLabel;\n\n    this.emit(GEOMETRY_LIFE_CIRCLE.BEFORE_RENDER_LABEL);\n\n    if (!geometryLabel) {\n      // \n      const labelType = this.getLabelType();\n      const GeometryLabelsCtor = getGeometryLabel(labelType);\n      geometryLabel = new GeometryLabelsCtor(this);\n      this.geometryLabel = geometryLabel;\n    }\n    await geometryLabel.render(mappingArray, isUpdate);\n\n    //  label  element \n    const labelsMap = geometryLabel.labelsRenderer.shapesMap;\n    // Store labels for every element.\n    const elementLabels = new Map<Element, Set<IGroup>>();\n    each(labelsMap, (labelGroup: IGroup, labelGroupId: string) => {\n      const labelChildren = labelGroup.getChildren() || [];\n      for (let j = 0; j < labelChildren.length; j++) {\n        const labelShape = labelChildren[j];\n        const element = this.elementsMap[labelShape.get('elementId') || labelGroupId.split(' ')[0]];\n        if (element) {\n          labelShape.cfg.name = ['element', 'label'];\n          labelShape.cfg.element = element;\n          const labels = elementLabels.get(element) || new Set();\n          labels.add(labelGroup);\n          elementLabels.set(element, labels);\n        }\n      }\n    });\n    for (const [element, labels] of elementLabels.entries()) {\n      element.labelShape = [...labels];\n    }\n\n    this.emit(GEOMETRY_LIFE_CIRCLE.AFTER_RENDER_LABEL);\n  }\n  /**\n   * \n   * \n   * 1. \n   * 2.  geometry \n   * 3.  appear \n   * 4.  appear.animation\n   */\n  private canDoGroupAnimation(isUpdate: boolean) {\n    return (\n      !isUpdate &&\n      this.animateOption &&\n      (get(this.animateOption, 'appear') === undefined ||\n        (get(this.animateOption, 'appear') && get(this.animateOption, ['appear', 'animation']) === undefined))\n    );\n  }\n}\n","import { groupToMap } from '@antv/util';\nimport { Data } from '../../interface';\n\n/** @ignore */\nexport function group(data: Data, fields: string[], appendConditions: Record<string, any[]> = {}) {\n  if (!fields) {\n    return [data];\n  }\n  const groups = groupToMap(data, fields);\n  const array = [];\n  if (fields.length === 1 && appendConditions[fields[0]]) {\n    const values = appendConditions[fields[0]];\n    for (const value of values) {\n      const arr = groups[`_${value}`];\n      if (arr) {\n        //  values  arr  null\n        array.push(arr);\n      }\n    }\n  } else {\n    for (const k in groups) {\n      if (groups.hasOwnProperty(k)) {\n        const eachGroup = groups[k];\n        array.push(eachGroup);\n      }\n    }\n  }\n\n  return array;\n}\n","import { ext } from '@antv/matrix-util';\nimport { IElement, IGroup, IShape } from '../dependents';\n\nconst transform: (m: number[], actions: any[][]) => number[] = ext.transform;\n\nexport { transform };\n\n/**\n * \n * @param element \n * @param x x \n * @param y y \n */\nexport function translate(element: IGroup | IShape, x: number, y: number) {\n  const matrix = transform(element.getMatrix(), [['t', x, y]]);\n  element.setMatrix(matrix);\n}\n\n/**\n *  ()\n * @param element \n * @param rotateRadian \n */\nexport function getRotateMatrix(element: IElement, rotateRadian: number) {\n  const { x, y } = element.attr();\n  const matrix = transform(element.getMatrix(), [\n    ['t', -x, -y],\n    ['r', rotateRadian],\n    ['t', x, y],\n  ]);\n  return matrix;\n}\n\n/**\n * \n * @param element \n * @param rotateRadian \n */\nexport function rotate(element: IGroup | IShape, rotateRadian: number) {\n  const matrix = getRotateMatrix(element, rotateRadian);\n  element.setMatrix(matrix);\n}\n\n/**\n * \n * @returns identity matrix\n */\nexport function getIdentityMatrix(): number[] {\n  return [1, 0, 0, 0, 1, 0, 0, 0, 1];\n}\n\n/**\n * \n * @param element \n * @param ratio \n */\nexport function zoom(element: IGroup | IShape, ratio: number) {\n  const bbox = element.getBBox();\n  const x = (bbox.minX + bbox.maxX) / 2;\n  const y = (bbox.minY + bbox.maxY) / 2;\n  element.applyToMatrix([x, y, 1]);\n\n  const matrix = transform(element.getMatrix(), [\n    ['t', -x, -y],\n    ['s', ratio, ratio],\n    ['t', x, y],\n  ]);\n  element.setMatrix(matrix);\n}\n","/**\n * @file utils of label\n */\n\nimport { isNil, isNumber, some } from '@antv/util';\nimport { IElement, IGroup, BBox } from '../../../dependents';\nimport { rotate } from '../../../util/transform';\n\n/**\n *  Label Group  shape \n * @param label\n */\nexport function findLabelTextShape(label: IGroup): IElement {\n  return label.find((el) => el.get('type') === 'text');\n}\n\n/**\n * : box () + rotation ()\n */\nexport function getLabelBackgroundInfo(\n  labelGroup: IGroup,\n  labelItem: { rotate?: number;[key: string]: any },\n  padding: number | number[] = [0, 0, 0, 0]\n): { x: number; y: number; width: number; height: number; rotation: number } {\n  const content = labelGroup && labelGroup.getChildren()[0];\n  if (content) {\n    const labelShape = content.clone();\n\n    // revert rotate\n    if (labelItem?.rotate) {\n      rotate(labelShape as IGroup, -labelItem.rotate);\n    }\n\n    // use `getCanvasBBox`, because if Shape is been translated, `getBBox` is not the actual box position\n    const { x, y, width, height } = labelShape.getCanvasBBox();\n\n    labelShape.destroy();\n\n    let boxPadding = padding;\n    if (isNil(boxPadding)) {\n      boxPadding = [2, 2, 2, 2];\n    } else if (isNumber(boxPadding)) {\n      boxPadding = new Array(4).fill(boxPadding);\n    }\n\n    return {\n      x: x - boxPadding[3],\n      y: y - boxPadding[0],\n      width: width + boxPadding[1] + boxPadding[3],\n      height: height + boxPadding[0] + boxPadding[2],\n      rotation: labelItem?.rotate || 0,\n    };\n  }\n\n  return { x: 0, y: 0, width: 0, height: 0, rotation: 0 };\n}\n\n/**\n * \n */\nexport function getOverlapArea(a: BBox, b: BBox, margin = 0) {\n  const xOverlap = Math.max(\n    0,\n    Math.min(a.x + a.width + margin, b.x + b.width + margin) - Math.max(a.x - margin, b.x - margin)\n  );\n  const yOverlap = Math.max(\n    0,\n    Math.min(a.y + a.height + margin, b.y + b.height + margin) - Math.max(a.y - margin, b.y - margin)\n  );\n\n  return xOverlap * yOverlap;\n}\n\n/**  */\nexport function checkShapeOverlap(cur: IElement, dones: IElement[]) {\n  const box = cur.getBBox();\n  return some(dones, (done) => {\n    const target = done.getBBox();\n    return getOverlapArea(box, target, 2) > 0;\n  });\n}\n","import { Coordinate } from '@antv/coord';\nimport { IGroup, IShape } from '@antv/g-base';\nimport { each, get } from '@antv/util';\nimport { doAnimate } from '../animate';\nimport { getReplaceAttrs } from '../util/graphics';\n\n/** label  */\ntype Cfg = {\n  data: any;\n  origin: any;\n  animateCfg: any;\n  coordinate: Coordinate;\n};\n\n/**\n * @desc  label ( id  idx )\n * @done shape \n * @done shape delete\n * @done shape append\n *\n * @param fromShape old labelShape\n * @param toShape new labelShape\n * @param cfg\n */\nexport function updateLabel(fromShape: IGroup, toShape: IGroup, cfg: Cfg): void {\n  const { data, origin, animateCfg, coordinate } = cfg;\n  const updateAnimateCfg = get(animateCfg, 'update');\n\n  fromShape.set('data', data);\n  fromShape.set('origin', origin);\n  fromShape.set('animateCfg', animateCfg);\n  fromShape.set('coordinate', coordinate);\n  fromShape.set('visible', toShape.get('visible'));\n\n  (fromShape.getChildren() || []).forEach((fromChild, idx) => {\n    const toChild = toShape.getChildByIndex(idx) as IShape;\n    if (!toChild) {\n      fromShape.removeChild(fromChild);\n      fromChild.remove(true);\n    } else {\n      fromChild.set('data', data);\n      fromChild.set('origin', origin);\n      fromChild.set('animateCfg', animateCfg);\n      fromChild.set('coordinate', coordinate);\n\n      const newAttrs = getReplaceAttrs(fromChild as IShape, toChild);\n      if (updateAnimateCfg) {\n        doAnimate(fromChild as IShape, updateAnimateCfg, {\n          toAttrs: newAttrs,\n          coordinate,\n        });\n      } else {\n        fromChild.attr(newAttrs);\n      }\n      if (toChild.isGroup()) {\n        updateLabel(fromChild as any, toChild as any, cfg);\n      }\n    }\n  });\n\n  // append\n  each(toShape.getChildren(), (child, idx) => {\n    if (idx >= fromShape.getCount()) {\n      if (!child.destroyed) {\n        fromShape.add(child);\n      }\n    }\n  });\n}\n","import { deepMix, each, get, isArray, isNull } from '@antv/util';\nimport { BBox, Coordinate, IGroup, IShape } from '../dependents';\nimport { LabelItem } from '../geometry/label/interface';\nimport { AnimateOption, GeometryLabelLayoutCfg } from '../interface';\nimport { doAnimate } from '../animate';\nimport { getGeometryLabelLayout } from '../geometry/label';\nimport { getLabelBackgroundInfo } from '../geometry/label/util';\nimport { polarToCartesian } from '../util/graphics';\nimport { rotate, translate } from '../util/transform';\nimport { FIELD_ORIGIN } from '../constant';\nimport { updateLabel } from './update-label';\n\n/**\n * Labels \n */\nexport interface LabelsGroupCfg {\n  /** label  */\n  container: IGroup;\n  /** label  */\n  layout?: GeometryLabelLayoutCfg | GeometryLabelLayoutCfg[];\n}\n\n/**\n * Geometry labels \n */\nexport default class Labels {\n  /**  labels  */\n  public layout: GeometryLabelLayoutCfg | GeometryLabelLayoutCfg[];\n  /**  */\n  public container: IGroup;\n  /**  */\n  public animate: AnimateOption | false;\n  /** label  */\n  public region: BBox;\n\n  /**  shape  shape id */\n  public shapesMap: Record<string, IGroup> = {};\n\n  constructor(cfg: LabelsGroupCfg) {\n    const { layout, container } = cfg;\n\n    this.layout = layout;\n    this.container = container;\n  }\n  /**\n   * \n   */\n  public async render(items: LabelItem[], shapes: Record<string, IShape | IGroup>, isUpdate: boolean = false) {\n    const shapesMap = {};\n    const offscreenGroup = this.createOffscreenGroup(); // \n    if (items.length) {\n      //  items \n      // step 1:  group  shapes\n      for (const item of items) {\n        if (item) {\n          shapesMap[item.id] = this.renderLabel(item, offscreenGroup);\n        }\n      }\n      // [todo] Move layout into Worker.\n      // step 2:  labels\n      await this.doLayout(items, shapes, shapesMap);\n\n      // step 3.1:  labelLine\n      this.renderLabelLine(items, shapesMap);\n      // step 3.2:  labelBackground\n      this.renderLabelBackground(items, shapesMap);\n      // step 4:  label\n      this.adjustLabel(items, shapesMap);\n    }\n\n    // \n    const lastShapesMap = this.shapesMap;\n    each(shapesMap, (shape, id) => {\n      if (shape.destroyed) {\n        // label doLayout\n        delete shapesMap[id];\n      } else {\n        if (lastShapesMap[id]) {\n          // \n          const data = shape.get('data');\n          const origin = shape.get('origin');\n          const coordinate = shape.get('coordinate');\n          const currentAnimateCfg = shape.get('animateCfg');\n\n          const currentShape = lastShapesMap[id]; //  shape\n          updateLabel(currentShape, shapesMap[id], {\n            data,\n            origin,\n            animateCfg: currentAnimateCfg,\n            coordinate,\n          });\n\n          shapesMap[id] = currentShape; // \n        } else {\n          //  shape\n          // If container has been destroyed, no need to render labels.\n          if (this.container.destroyed) return;\n          this.container.add(shape);\n          const animateCfg = get(shape.get('animateCfg'), isUpdate ? 'enter' : 'appear');\n          if (animateCfg) {\n            doAnimate(shape, animateCfg, {\n              toAttrs: {\n                ...shape.attr(),\n              },\n              coordinate: shape.get('coordinate'),\n            });\n          }\n        }\n        delete lastShapesMap[id];\n      }\n    });\n\n    // \n    each(lastShapesMap, (deleteShape) => {\n      const animateCfg = get(deleteShape.get('animateCfg'), 'leave');\n      if (animateCfg) {\n        doAnimate(deleteShape, animateCfg, {\n          toAttrs: null,\n          coordinate: deleteShape.get('coordinate'),\n        });\n      } else {\n        deleteShape.remove(true); // \n      }\n    });\n\n    this.shapesMap = shapesMap;\n    offscreenGroup.destroy();\n  }\n\n  /**  labels */\n  public clear() {\n    this.container.clear();\n    this.shapesMap = {};\n  }\n\n  /**  */\n  public destroy() {\n    this.container.destroy();\n    this.shapesMap = null;\n  }\n\n  private renderLabel(cfg: LabelItem, container: IGroup): IGroup {\n    const { id, elementId, data, mappingData, coordinate, animate, content, capture } = cfg;\n    const shapeAppendCfg = {\n      id,\n      elementId,\n      capture,\n      data,\n      origin: {\n        ...mappingData,\n        data: mappingData[FIELD_ORIGIN],\n      },\n      coordinate,\n    };\n    const labelGroup = container.addGroup({\n      name: 'label',\n      //  this.animate === false  cfg.animate === false/null \n      animateCfg:\n        this.animate === false || animate === null || animate === false ? false : deepMix({}, this.animate, animate),\n      ...shapeAppendCfg,\n    });\n    let labelShape;\n    if ((content.isGroup && content.isGroup()) || (content.isShape && content.isShape())) {\n      //  content  Group  Shape textAlign  labelGroup\n      const { width, height } = content.getCanvasBBox();\n      const textAlign = get(cfg, 'textAlign', 'left');\n\n      let x = cfg.x;\n      const y = cfg.y - height / 2;\n\n      if (textAlign === 'center') {\n        x = x - width / 2;\n      } else if (textAlign === 'right' || textAlign === 'end') {\n        x = x - width;\n      }\n\n      translate(content, x, y); //  label  x, y \n      labelShape = content;\n      labelGroup.add(content);\n    } else {\n      const fill = get(cfg, ['style', 'fill']);\n      labelShape = labelGroup.addShape('text', {\n        attrs: {\n          x: cfg.x,\n          y: cfg.y,\n          textAlign: cfg.textAlign,\n          textBaseline: get(cfg, 'textBaseline', 'middle'),\n          text: cfg.content,\n          ...cfg.style,\n          fill: isNull(fill) ? cfg.color : fill,\n        },\n        ...shapeAppendCfg,\n      });\n    }\n\n    if (cfg.rotate) {\n      rotate(labelShape, cfg.rotate);\n    }\n    return labelGroup;\n  }\n\n  // typelabel\n  private async doLayout(items: LabelItem[], shapes: Record<string, IShape | IGroup>, shapesMap: Record<string, IGroup>) {\n    if (this.layout) {\n      const layouts = isArray(this.layout) ? this.layout : [this.layout];\n      await Promise.all(layouts.map((layout: GeometryLabelLayoutCfg) => {\n        const layoutFn = getGeometryLabelLayout(get(layout, 'type', ''));\n        if (!layoutFn) return;\n\n        const labelShapes = [];\n        const geometryShapes = [];\n        each(shapesMap, (labelShape, id) => {\n          labelShapes.push(labelShape);\n          geometryShapes.push(shapes[labelShape.get('elementId')]);\n        });\n        // [todo] Refactor more layout into Worker.\n        return layoutFn(items, labelShapes, geometryShapes, this.region, layout.cfg);\n      }));\n    }\n  }\n\n  private renderLabelLine(labelItems: LabelItem[], shapesMap) {\n    each(labelItems, (labelItem) => {\n      const coordinate: Coordinate = get(labelItem, 'coordinate');\n      if (!labelItem || !coordinate) {\n        return;\n      }\n      const center = coordinate.getCenter();\n      const radius = coordinate.getRadius();\n      if (!labelItem.labelLine) {\n        // labelLine: null | false label  labelLine\n        return;\n      }\n      const labelLineCfg = get(labelItem, 'labelLine', {});\n      const id = labelItem.id;\n      let path = labelLineCfg.path;\n      if (!path) {\n        const start = polarToCartesian(center.x, center.y, radius, labelItem.angle);\n        path = [\n          ['M', start.x, start.y],\n          ['L', labelItem.x, labelItem.y],\n        ];\n      }\n      const labelGroup = shapesMap[id];\n      if (!labelGroup.destroyed) {\n        labelGroup.addShape('path', {\n          capture: false, // labelLine \n          attrs: {\n            path,\n            stroke: labelItem.color ? labelItem.color : get(labelItem, ['style', 'fill'], '#000'),\n            fill: null,\n            ...labelLineCfg.style,\n          },\n          id,\n          origin: labelItem.mappingData,\n          data: labelItem.data,\n          coordinate: labelItem.coordinate,\n        });\n      }\n    });\n  }\n\n  /**\n   * \n   * @param labelItems\n   */\n  private renderLabelBackground(labelItems: LabelItem[], shapesMap) {\n    each(labelItems, (labelItem) => {\n      const coordinate: Coordinate = get(labelItem, 'coordinate');\n      const background: LabelItem['background'] = get(labelItem, 'background');\n      if (!background || !coordinate) {\n        return;\n      }\n\n      const id = labelItem.id;\n      const labelGroup = shapesMap[id];\n      if (!labelGroup.destroyed) {\n        const labelContentShape = labelGroup.getChildren()[0];\n        if (labelContentShape) {\n          const { rotation, ...box } = getLabelBackgroundInfo(labelGroup, labelItem, background.padding);\n          const backgroundShape = labelGroup.addShape('rect', {\n            attrs: {\n              ...box,\n              ...(background.style || {}),\n            },\n            id,\n            origin: labelItem.mappingData,\n            data: labelItem.data,\n            coordinate: labelItem.coordinate,\n          });\n          backgroundShape.setZIndex(-1);\n\n          if (rotation) {\n            const matrix = labelContentShape.getMatrix();\n            backgroundShape.setMatrix(matrix);\n          }\n        }\n      }\n    });\n  }\n\n  private createOffscreenGroup() {\n    const container = this.container;\n    const GroupClass = container.getGroupBase(); // \n    const newGroup = new GroupClass({});\n    return newGroup;\n  }\n\n  private adjustLabel(items: LabelItem[], shapesMap) {\n    each(items, (item) => {\n      if (item) {\n        const id = item.id;\n        const labelGroup = shapesMap[id];\n        if (!labelGroup.destroyed) {\n          // fix:  label content  group  content group   spider label  2  textShape  gorup\n          const labelShapes = labelGroup.findAll((ele) => ele.get('type') !== 'path');\n          each(labelShapes, (labelShape) => {\n            if (labelShape) {\n              if (item.offsetX) {\n                labelShape.attr('x', labelShape.attr('x') + item.offsetX);\n              }\n              if (item.offsetY) {\n                labelShape.attr('y', labelShape.attr('y') + item.offsetY);\n              }\n            }\n          });\n        }\n      }\n    });\n  }\n}\n","import { deepMix, each, get, isArray, isFunction, isNil, isNumber, isString, isUndefined } from '@antv/util';\n\nimport { FIELD_ORIGIN } from '../../constant';\nimport { Scale } from '../../dependents';\nimport { Datum, LabelOption, MappingDatum, Point } from '../../interface';\nimport { LabelCfg, LabelItem, LabelPointCfg, TextAlign } from './interface';\n\nimport { getDefaultAnimateCfg } from '../../animate';\nimport { getPolygonCentroid } from '../../util/graphics';\n\nimport Labels from '../../component/labels';\nimport Geometry from '../base';\nimport Element from '../element';\n\nexport type GeometryLabelConstructor = new (cfg: any) => GeometryLabel;\n\nfunction avg(arr: number[]) {\n  let sum = 0;\n  each(arr, (value: number) => {\n    sum += value;\n  });\n  return sum / arr.length;\n}\n\n/**\n * Geometry Label  Geometry  label \n */\nexport default class GeometryLabel {\n  /** geometry  */\n  public readonly geometry: Geometry;\n  public labelsRenderer: Labels;\n  /**  */\n  public defaultLayout: string;\n\n  constructor(geometry: Geometry) {\n    this.geometry = geometry;\n  }\n\n  public getLabelItems(mapppingArray: MappingDatum[]): LabelItem[] {\n    const items = [];\n    const labelCfgs = this.getLabelCfgs(mapppingArray);\n    //  label  xy  x, y\n    each(mapppingArray, (mappingData: MappingDatum, index: number) => {\n      const labelCfg = labelCfgs[index];\n      if (!labelCfg || isNil(mappingData.x) || isNil(mappingData.y)) {\n        items.push(null);\n        return;\n      }\n\n      const labelContent = !isArray(labelCfg.content) ? [labelCfg.content] : labelCfg.content;\n      labelCfg.content = labelContent;\n      const total = labelContent.length;\n      each(labelContent, (content, subIndex) => {\n        if (isNil(content) || content === '') {\n          items.push(null);\n          return;\n        }\n\n        const item = {\n          ...labelCfg,\n          ...this.getLabelPoint(labelCfg, mappingData, subIndex),\n        };\n        if (!item.textAlign) {\n          item.textAlign = this.getLabelAlign(item, subIndex, total);\n        }\n\n        if (item.offset <= 0) {\n          item.labelLine = null;\n        }\n\n        items.push(item);\n      });\n    });\n    return items;\n  }\n\n  public async render(mappingArray: MappingDatum[], isUpdate: boolean = false) {\n    const labelItems = this.getLabelItems(mappingArray);\n    const labelsRenderer = this.getLabelsRenderer();\n    const shapes = this.getGeometryShapes();\n    // \n    await labelsRenderer.render(labelItems, shapes, isUpdate);\n  }\n\n  public clear() {\n    const labelsRenderer = this.labelsRenderer;\n    if (labelsRenderer) {\n      labelsRenderer.clear();\n    }\n  }\n\n  public destroy() {\n    const labelsRenderer = this.labelsRenderer;\n    if (labelsRenderer) {\n      labelsRenderer.destroy();\n    }\n    this.labelsRenderer = null;\n  }\n\n  // geometry  Coordinate  Coordinate\n  public getCoordinate() {\n    return this.geometry.coordinate;\n  }\n\n  /**\n   *  label \n   */\n  protected getDefaultLabelCfg(offset?: number, position?: string) {\n    const geometry = this.geometry;\n    const { type, theme } = geometry;\n\n    if (\n      type === 'polygon' ||\n      (type === 'interval' && position === 'middle') ||\n      (offset < 0 && !['line', 'point', 'path'].includes(type))\n    ) {\n      // polygon  (interval  middle)  offset  0  \n      return get(theme, 'innerLabels', {});\n    }\n\n    return get(theme, 'labels', {});\n  }\n\n  /**\n   *  label \n   * @param labelCfg\n   */\n  protected getThemedLabelCfg(labelCfg: LabelCfg) {\n    const geometry = this.geometry;\n    const defaultLabelCfg = this.getDefaultLabelCfg();\n    const { type, theme } = geometry;\n    let themedLabelCfg;\n\n    if (type === 'polygon' || (labelCfg.offset < 0 && !['line', 'point', 'path'].includes(type))) {\n      // polygon  offset  0  \n      themedLabelCfg = deepMix({}, defaultLabelCfg, theme.innerLabels, labelCfg);\n    } else {\n      themedLabelCfg = deepMix({}, defaultLabelCfg, theme.labels, labelCfg);\n    }\n\n    return themedLabelCfg;\n  }\n\n  /**\n   *  label \n   * @param labelPointCfg\n   * @param mappingData\n   * @param index\n   * @param position\n   */\n  protected setLabelPosition(\n    labelPointCfg: LabelPointCfg,\n    mappingData: MappingDatum,\n    index: number,\n    position: string\n  ) {}\n\n  /**\n   * @desc  label offset\n   */\n  protected getLabelOffset(offset: number | string): number {\n    const coordinate = this.getCoordinate();\n    const vector = this.getOffsetVector(offset);\n    return coordinate.isTransposed ? vector[0] : vector[1];\n  }\n\n  /**\n   *  label  ()\n   * @param labelCfg\n   * @param index\n   * @param total\n   * @return {Point} offsetPoint\n   */\n  protected getLabelOffsetPoint(labelCfg: LabelCfg, index: number, total: number): Point {\n    const offset = labelCfg.offset;\n    const coordinate = this.getCoordinate();\n    const transposed = coordinate.isTransposed;\n    const dim = transposed ? 'x' : 'y';\n    const factor = transposed ? 1 : -1; // y transposed\n    const offsetPoint = {\n      x: 0,\n      y: 0,\n    };\n    if (index > 0 || total === 1) {\n      // 0\n      offsetPoint[dim] = offset * factor;\n    } else {\n      offsetPoint[dim] = offset * factor * -1;\n    }\n    return offsetPoint;\n  }\n\n  /**\n   *  label \n   * @param labelCfg\n   * @param mappingData\n   * @param index\n   * @returns label point\n   */\n  protected getLabelPoint(labelCfg: LabelCfg, mappingData: MappingDatum, index: number): LabelPointCfg {\n    const coordinate = this.getCoordinate();\n    const total = labelCfg.content.length;\n\n    function getDimValue(value: number | number[], idx: number, isAvg = false) {\n      let v = value;\n      if (isArray(v)) {\n        if (labelCfg.content.length === 1) {\n          if (isAvg) {\n            v = avg(v);\n          } else {\n            //  label y,  y\n            if (v.length <= 2) {\n              v = v[(value as number[]).length - 1];\n            } else {\n              v = avg(v);\n            }\n          }\n        } else {\n          v = v[idx];\n        }\n      }\n      return v;\n    }\n\n    const label = {\n      content: labelCfg.content[index],\n      x: 0,\n      y: 0,\n      start: { x: 0, y: 0 },\n      color: '#fff',\n    };\n    const shape = isArray(mappingData.shape) ? mappingData.shape[0] : mappingData.shape;\n    const isFunnel = shape === 'funnel' || shape === 'pyramid';\n\n    // \n    if (this.geometry.type === 'polygon') {\n      const centroid = getPolygonCentroid(mappingData.x, mappingData.y);\n      label.x = centroid[0];\n      label.y = centroid[1];\n    } else if (this.geometry.type === 'interval' && !isFunnel) {\n      // label X \n      label.x = getDimValue(mappingData.x, index, true);\n      label.y = getDimValue(mappingData.y, index);\n    } else {\n      label.x = getDimValue(mappingData.x, index);\n      label.y = getDimValue(mappingData.y, index);\n    }\n\n    // \n    if (isFunnel) {\n      const nextPoints = get(mappingData, 'nextPoints');\n      const points = get(mappingData, 'points');\n      if (nextPoints) {\n        // \n        const point1 = coordinate.convert(points[1] as Point);\n        const point2 = coordinate.convert(nextPoints[1] as Point);\n        label.x = (point1.x + point2.x) / 2;\n        label.y = (point1.y + point2.y) / 2;\n      } else if (shape === 'pyramid') {\n        const point1 = coordinate.convert(points[1] as Point);\n        const point2 = coordinate.convert(points[2] as Point);\n        label.x = (point1.x + point2.x) / 2;\n        label.y = (point1.y + point2.y) / 2;\n      }\n    }\n\n    if (labelCfg.position) {\n      //  label  position \n      this.setLabelPosition(label, mappingData, index, labelCfg.position);\n    }\n    const offsetPoint = this.getLabelOffsetPoint(labelCfg, index, total);\n    label.start = { x: label.x, y: label.y };\n    label.x += offsetPoint.x;\n    label.y += offsetPoint.y;\n    label.color = mappingData.color;\n    return label;\n  }\n\n  /**\n   * \n   * @param item\n   * @param index\n   * @param total\n   * @returns\n   */\n  protected getLabelAlign(item: LabelItem, index: number, total: number): TextAlign {\n    let align: TextAlign = 'center';\n    const coordinate = this.getCoordinate();\n    if (coordinate.isTransposed) {\n      const offset = item.offset;\n      if (offset < 0) {\n        align = 'right';\n      } else if (offset === 0) {\n        align = 'center';\n      } else {\n        align = 'left';\n      }\n      if (total > 1 && index === 0) {\n        if (align === 'right') {\n          align = 'left';\n        } else if (align === 'left') {\n          align = 'right';\n        }\n      }\n    }\n    return align;\n  }\n\n  /**\n   *  label  id\n   * @param mappingData label \n   */\n  protected getLabelId(mappingData: MappingDatum) {\n    const geometry = this.geometry;\n    const type = geometry.type;\n    const xScale = geometry.getXScale();\n    const yScale = geometry.getYScale();\n    const origin = mappingData[FIELD_ORIGIN]; // \n\n    let labelId = geometry.getElementId(mappingData);\n    if (type === 'line' || type === 'area') {\n      //  labels labels line id  x \n      labelId += ` ${origin[xScale.field]}`;\n    } else if (type === 'path') {\n      // path  x  y  x y  id\n      labelId += ` ${origin[xScale.field]}-${origin[yScale.field]}`;\n    }\n\n    return labelId;\n  }\n\n  //  labels \n  private getLabelsRenderer() {\n    const { labelsContainer, labelOption, canvasRegion, animateOption } = this.geometry;\n    const coordinate = this.geometry.coordinate;\n\n    let labelsRenderer = this.labelsRenderer;\n    if (!labelsRenderer) {\n      labelsRenderer = new Labels({\n        container: labelsContainer,\n        layout: get(labelOption, ['cfg', 'layout'], {\n          type: this.defaultLayout,\n        }),\n      });\n      this.labelsRenderer = labelsRenderer;\n    }\n    labelsRenderer.region = canvasRegion;\n    //  geometry  label \n    labelsRenderer.animate = animateOption ? getDefaultAnimateCfg('label', coordinate) : false;\n\n    return labelsRenderer;\n  }\n\n  private getLabelCfgs(mapppingArray: MappingDatum[]): LabelCfg[] {\n    const geometry = this.geometry;\n    const { labelOption, scales, coordinate } = geometry;\n    const { fields, callback, cfg } = labelOption as LabelOption;\n    const labelScales = fields.map((field: string) => {\n      return scales[field];\n    });\n\n    const labelCfgs: LabelCfg[] = [];\n    each(mapppingArray, (mappingData: MappingDatum, index: number) => {\n      const origin = mappingData[FIELD_ORIGIN]; // \n      const originText = this.getLabelText(origin, labelScales);\n      let callbackCfg;\n      if (callback) {\n        //  callback  cfg  callback \n        const originValues = fields.map((field: string) => origin[field]);\n        callbackCfg = callback(...originValues);\n        if (isNil(callbackCfg)) {\n          labelCfgs.push(null);\n          return;\n        }\n      }\n\n      let labelCfg = {\n        id: this.getLabelId(mappingData), //  ID \n        elementId: this.geometry.getElementId(mappingData), // label  Element  ID\n        data: origin, // \n        mappingData, // ,\n        coordinate, // \n        ...cfg,\n        ...callbackCfg,\n      };\n\n      if (isFunction(labelCfg.position)) {\n        labelCfg.position = labelCfg.position(origin, mappingData, index);\n      }\n\n      const offset = this.getLabelOffset(labelCfg.offset || 0);\n      // defaultCfg  innerLabels & labels\n      const defaultLabelCfg = this.getDefaultLabelCfg(offset, labelCfg.position);\n      // labelCfg priority: defaultCfg < cfg < callbackCfg\n      labelCfg = deepMix({}, defaultLabelCfg, labelCfg);\n      //  offset\n      labelCfg.offset = this.getLabelOffset(labelCfg.offset || 0);\n\n      const content = labelCfg.content;\n      if (isFunction(content)) {\n        labelCfg.content = content(origin, mappingData, index);\n      } else if (isUndefined(content)) {\n        //  content\n        labelCfg.content = originText[0];\n      }\n\n      labelCfgs.push(labelCfg);\n    });\n\n    return labelCfgs;\n  }\n\n  private getLabelText(origin: Datum, scales: Scale[]) {\n    const labelTexts = [];\n    each(scales, (scale: Scale) => {\n      let value = origin[scale.field];\n      if (isArray(value)) {\n        value = value.map((subVal) => {\n          return scale.getText(subVal);\n        });\n      } else {\n        value = scale.getText(value);\n      }\n\n      if (isNil(value) || value === '') {\n        labelTexts.push(null);\n      } else {\n        labelTexts.push(value);\n      }\n    });\n    return labelTexts;\n  }\n\n  private getOffsetVector(offset: number | string = 0) {\n    const coordinate = this.getCoordinate();\n    let actualOffset = 0;\n    if (isNumber(offset)) {\n      actualOffset = offset;\n    }\n    //  x,y  x y\n    return coordinate.isTransposed ? coordinate.applyMatrix(actualOffset, 0) : coordinate.applyMatrix(0, actualOffset);\n  }\n\n  private getGeometryShapes() {\n    const geometry = this.geometry;\n    const shapes = {};\n    each(geometry.elementsMap, (element: Element, id: string) => {\n      shapes[id] = element.shape;\n    });\n    //  shape  shape.getBBox()  offscreenGroup \n    each(geometry.getOffscreenGroup().getChildren(), (child) => {\n      const id = geometry.getElementId(child.get('origin').mappingData);\n      shapes[id] = child;\n    });\n\n    return shapes;\n  }\n}\n","import { Attribute } from '../dependents';\n\n/**\n * @ignore\n * get the mapping value by attribute, if mapping value is nil, return def\n * @param attr\n * @param value\n * @param def\n * @returns get mapping value\n */\nexport function getMappingValue(attr: Attribute, value: any, def: string): string {\n  if (!attr) {\n    return def;\n  }\n\n  let r;\n  // \n  if (attr.callback && attr.callback.length > 1) {\n    const restArgs = Array(attr.callback.length - 1).fill('');\n    r = attr.mapping(value, ...restArgs).join('');\n  } else {\n    r = attr.mapping(value).join('');\n  }\n\n  return r || def;\n}\n","/** @ignore */\nexport const MarkerSymbols = {\n  hexagon: (x: number, y: number, r: number) => {\n    const diffX = (r / 2) * Math.sqrt(3);\n    return [\n      ['M', x, y - r],\n      ['L', x + diffX, y - r / 2],\n      ['L', x + diffX, y + r / 2],\n      ['L', x, y + r],\n      ['L', x - diffX, y + r / 2],\n      ['L', x - diffX, y - r / 2],\n      ['Z'],\n    ];\n  },\n  bowtie: (x: number, y: number, r: number) => {\n    const diffY = r - 1.5;\n    return [['M', x - r, y - diffY], ['L', x + r, y + diffY], ['L', x + r, y - diffY], ['L', x - r, y + diffY], ['Z']];\n  },\n  cross: (x: number, y: number, r: number) => {\n    return [\n      ['M', x - r, y - r],\n      ['L', x + r, y + r],\n      ['M', x + r, y - r],\n      ['L', x - r, y + r],\n    ];\n  },\n  tick: (x: number, y: number, r: number) => {\n    return [\n      ['M', x - r / 2, y - r],\n      ['L', x + r / 2, y - r],\n      ['M', x, y - r],\n      ['L', x, y + r],\n      ['M', x - r / 2, y + r],\n      ['L', x + r / 2, y + r],\n    ];\n  },\n  plus: (x: number, y: number, r: number) => {\n    return [\n      ['M', x - r, y],\n      ['L', x + r, y],\n      ['M', x, y - r],\n      ['L', x, y + r],\n    ];\n  },\n  hyphen: (x: number, y: number, r: number) => {\n    return [\n      ['M', x - r, y],\n      ['L', x + r, y],\n    ];\n  },\n  line: (x: number, y: number, r: number) => {\n    return [\n      ['M', x, y - r],\n      ['L', x, y + r],\n    ];\n  },\n};\n","import { LegendMarkerCfg } from '@antv/component';\nimport { deepMix, isString, each, get, isFunction } from '@antv/util';\nimport View from '../chart/view';\nimport { DIRECTION } from '../constant';\nimport { Attribute, ShapeAttrs, Tick } from '../dependents';\nimport Geometry from '../geometry/base';\nimport { LegendCfg, LegendItem, MarkerCfg } from '../interface';\nimport { getMappingValue } from './attr';\nimport { omit } from './helper';\nimport { MarkerSymbols } from './marker';\n\n/**  marker symbol */\nconst STROKES_SYMBOLS = ['line', 'cross', 'tick', 'plus', 'hyphen'];\n\n/**\n *  marker style\n * @param markerStyle\n * @param userMarker.style\n * @returns {ShapeAttrs} newStyle\n */\nfunction handleUserMarkerStyle(markerStyle: ShapeAttrs, style: MarkerCfg['style']): ShapeAttrs {\n  if (isFunction(style)) {\n    return style(markerStyle);\n  }\n  return deepMix({}, markerStyle, style);\n}\n\n/**\n *  marker  symbol, \n * @param symbol\n * @param style\n * @param color\n */\nfunction adpatorMarkerStyle(marker: LegendMarkerCfg, color: string): void {\n  const symbol = marker.symbol;\n  if (isString(symbol) && STROKES_SYMBOLS.indexOf(symbol) !== -1) {\n    const markerStyle = get(marker, 'style', {});\n    const lineWidth = get(markerStyle, 'lineWidth', 1);\n    const stroke = markerStyle.stroke || markerStyle.fill || color;\n    marker.style = deepMix({}, marker.style, { lineWidth, stroke, fill: null });\n  }\n}\n\n/**\n *  marker  symbol  symbol \n * @param marker\n */\nfunction setMarkerSymbol(marker: LegendMarkerCfg): void {\n  const symbol = marker.symbol;\n  if (isString(symbol) && MarkerSymbols[symbol]) {\n    marker.symbol = MarkerSymbols[symbol];\n  }\n}\n\n/**\n * @ignore\n * get the legend layout from direction\n * @param direction\n * @returns layout 'horizontal' | 'vertical'\n */\nexport function getLegendLayout(direction: DIRECTION): 'vertical' | 'horizontal' {\n  return direction.startsWith(DIRECTION.LEFT) || direction.startsWith(DIRECTION.RIGHT) ? 'vertical' : 'horizontal';\n}\n\n/** item of @antv/component legend  */\ntype ComponentLegendItem = Omit<LegendItem, 'marker'> & {\n  marker: any;\n};\n\n/**\n * @ignore\n * get the legend items\n * @param view\n * @param geometry\n * @param attr\n * @param themeMarker\n * @param markerCfg\n * @returns legend items\n */\nexport function getLegendItems(\n  view: View,\n  geometry: Geometry,\n  attr: Attribute,\n  themeMarker: object,\n  userMarker: LegendCfg['marker']\n): ComponentLegendItem[] {\n  const scale = attr.getScale(attr.type);\n  if (scale.isCategory) {\n    const field = scale.field;\n    const colorAttr = geometry.getAttribute('color');\n    const shapeAttr = geometry.getAttribute('shape');\n    const defaultColor = view.getTheme().defaultColor;\n    const isInPolar = geometry.coordinate.isPolar;\n\n    return scale.getTicks().map((tick: Tick, index: number) => {\n      const { text, value: scaleValue } = tick;\n      const name = text;\n      const value = scale.invert(scaleValue);\n\n      //  unchecked\n      let unchecked = view.filterFieldData(field, [{ [field]: value }]).length === 0;\n      each(view.views, (subView) => {\n        if (!subView.filterFieldData(field, [{ [field]: value }]).length) {\n          unchecked = true;\n        }\n      });\n\n      // @ts-ignore\n      const color = getMappingValue(colorAttr, value, defaultColor);\n      const shape = getMappingValue(shapeAttr, value, 'point');\n      let marker = geometry.getShapeMarker(shape, {\n        color,\n        isInPolar,\n      });\n\n      let markerCfg = userMarker;\n      if (isFunction(markerCfg)) {\n        markerCfg = markerCfg(name, index, { name, value, ...deepMix({}, themeMarker, marker) });\n      }\n\n      // the marker configure order should be ensure\n      marker = deepMix({}, themeMarker, marker, omit({ ...markerCfg }, ['style']));\n      adpatorMarkerStyle(marker, color);\n      if (markerCfg && markerCfg.style) {\n        // handle user's style settings\n        marker.style = handleUserMarkerStyle(marker.style, markerCfg.style);\n      }\n      setMarkerSymbol(marker);\n\n      return { id: value, name, value, marker, unchecked };\n    });\n  }\n  return [];\n}\n\n/**\n *\n * @ignore\n * custom legend  items \n * @param themeMarker\n * @param userMarker\n * @param customItems\n */\nexport function getCustomLegendItems(themeMarker: object, userMarker: object, customItems: LegendItem[]) {\n  //  item marker \n  return customItems.map((item: LegendItem, index: number) => {\n    let markerCfg = userMarker;\n    if (isFunction(markerCfg)) {\n      markerCfg = markerCfg(item.name, index, deepMix({}, themeMarker, item));\n    }\n\n    const itemMarker = isFunction(item.marker)\n      ? item.marker(item.name, index, deepMix({}, themeMarker, item))\n      : item.marker;\n\n    const marker = deepMix({}, themeMarker, markerCfg, itemMarker);\n    setMarkerSymbol(marker);\n\n    item.marker = marker;\n    return item;\n  });\n}\n\n/**\n * get the legend cfg from theme, will mix the common cfg of legend theme\n *\n * @param theme view theme object\n * @param direction legend direction\n * @returns legend theme cfg\n */\nexport function getLegendThemeCfg(theme: object, direction: string): object {\n  const legendTheme = get(theme, ['components', 'legend'], {});\n  return deepMix({}, get(legendTheme, ['common'], {}), deepMix({}, get(legendTheme, [direction], {})));\n}\n","import { isArray } from '@antv/util';\nimport { PathCommand } from '../../../dependents';\nimport { Point, RangePoint, ShapeVertices } from '../../../interface';\nimport { getSplinePath } from './path';\n\nfunction isValueEmpty(value) {\n  if (value) {\n    return false;\n  }\n  return value === null || value === undefined || isNaN(value);\n}\n\nfunction isYNil(point: Point[] | RangePoint) {\n  if (isArray(point)) {\n    //  area  [{x: 0, y: 1}, {x: 0, y: 2}]\n    return isValueEmpty(point[1].y);\n  }\n  const value = point.y;\n  return isArray(value) ? isValueEmpty(value[0]) : isValueEmpty(value);\n}\n\n/**\n * @ignore\n * y  null/undefined/NaN \n * \n *\n * ```typescript\n * // return [[{x: 1, y: 2}, {x: 3, y: 3}]]\n * getPathPoints([{x: 1, y: 2}, {x: 2, y: null}, {x: 3, y: 3}], true);\n * // return [[{x: 1, y: 2}], [{x: 3, y: 3}]]\n * getPathPoints([{x: 1, y: 2}, {x: 2, y: null}, {x: 3, y: 3}], false);\n * // return [[[{ x: 1, y: 10 }, { x: 2, y: 2 }], [{ x: 9, y: 34 }, { x: 1, y: 1 }]]]\n * getPathPoints([\n *   [{ x: 1, y: 10 }, { x: 2, y: 2 }],\n *   [{ x: 4, y: 2 }, { x: 8, y: NaN }],\n *   [{ x: 9, y: 34 }, { x: 1, y: 1 }],\n * ], true);\n * ```\n *\n * @param points \n * @param connectNulls \n * @param showSinglePoint \n * @returns \n */\nexport function getPathPoints(points: ShapeVertices, connectNulls: boolean = false, showSinglePoint: boolean = true) {\n  if (!points.length || (points.length === 1 && !showSinglePoint)) {\n    // \n    return [];\n  }\n\n  if (connectNulls) {\n    //  y \n    const filtered = [];\n    for (let i = 0, len = points.length; i < len; i++) {\n      const point = points[i];\n      if (!isYNil(point)) {\n        filtered.push(point);\n      }\n    }\n    return [filtered];\n  }\n\n  const result = [];\n  let tmp = [];\n  for (let i = 0, len = points.length; i < len; i++) {\n    const point = points[i];\n    if (isYNil(point)) {\n      if (tmp.length) {\n        if (!(tmp.length === 1 && !showSinglePoint)) {\n          // \n          result.push(tmp);\n        }\n        tmp = [];\n      }\n    } else {\n      tmp.push(point);\n    }\n  }\n\n  if (tmp.length) {\n    result.push(tmp);\n  }\n  return result;\n}\n\n/**\n *  path\n * @param points\n * @returns\n */\nexport function getViolinPath(points: ShapeVertices): PathCommand[] {\n  const path = [];\n  for (let i = 0; i < points.length; i++) {\n    const point = points[i] as Point;\n    if (point) {\n      const action = i === 0 ? 'M' : 'L';\n      path.push([action, point.x, point.y]);\n    }\n  }\n  const first = points[0] as Point;\n  if (first) {\n    path.push(['L', first.x, first.y]);\n    path.push(['z']);\n  }\n  return path;\n}\n\n/**\n *   path\n * @param points\n * @returns\n */\nexport function getSmoothViolinPath(points: ShapeVertices): PathCommand[] {\n  const half = points.length / 2;\n  const leftPoints = [];\n  const rightPoints = [];\n  for (let i = 0; i < points.length; i++) {\n    if (i < half) {\n      leftPoints.push(points[i]);\n    } else {\n      rightPoints.push(points[i]);\n    }\n  }\n  const leftPath = getSplinePath(leftPoints, false);\n  const rightPath = getSplinePath(rightPoints, false);\n  if (rightPoints.length) {\n    leftPath.push(['L', rightPoints[0].x, rightPoints[0].y]);\n  }\n  rightPath.shift();\n  const path = leftPath.concat(rightPath);\n  if (leftPoints.length) {\n    path.push(['L', leftPoints[0].x, leftPoints[0].y]);\n  }\n  path.push(['z']);\n  return path;\n}\n","import { deepMix, isNil, get } from '@antv/util';\nimport { ShapeInfo } from '../../../interface';\n\n/**\n * @ignore\n *  Shape \n * @param cfg\n * @param isStroke \n * @param isFill \n * @param [sizeName] lineWidth  r\n * @returns\n */\nexport function getStyle(cfg: ShapeInfo, isStroke: boolean, isFill: boolean, sizeName: string = '') {\n  const { style = {}, defaultStyle, color, size } = cfg;\n  const attrs = {\n    ...defaultStyle,\n    ...style,\n  };\n  if (color) {\n    if (isStroke) {\n      if (!style.stroke) {\n        //  style()  stroke\n        attrs.stroke = color;\n      }\n    }\n\n    if (isFill) {\n      if (!style.fill) {\n        //  style()  fill\n        attrs.fill = color;\n      }\n    }\n  }\n  if (sizeName && isNil(style[sizeName]) && !isNil(size)) {\n    //  style()  lineWidth  r \n    attrs[sizeName] = size;\n  }\n\n  return attrs;\n}\n\n/**\n *   \n * @param cfg\n */\nexport function getBackgroundRectStyle(cfg?: ShapeInfo) {\n  return deepMix(\n    {},\n    {\n      // copy from active-region\n      fill: '#CCD6EC',\n      fillOpacity: 0.3,\n    },\n    get(cfg, ['background', 'style'])\n  );\n}\n","import { isArray } from '@antv/util';\nimport { Point, RangePoint } from '../../../interface';\n\n/**\n * @ignore\n * \n * @example\n * // result: [{x: 20, y: 20}, {x: 20, y: 30}]\n * splitPoints({x: 20,y: [20, 30]});\n * @example\n * // result: [{x: 20, y: 20}, {x: 30, y: 30}]\n * splitPoints({x: [20, 30],y: [20, 30]});\n * @param obj\n */\nexport function splitPoints(obj: RangePoint): Point[] {\n  // y  y  [19, 30] x \n  const x = obj.x;\n  const y = isArray(obj.y) ? obj.y : [obj.y];\n\n  return y.map((eachY, index) => {\n    return {\n      x: isArray(x) ? x[index] : x,\n      y: eachY,\n    };\n  });\n}\n","import { ShapeMarkerCfg } from '../../../interface';\n\nconst LineSymbols = {\n  line: (x: number, y: number, r: number) => {\n    return [\n      ['M', x - r, y],\n      ['L', x + r, y],\n    ];\n  },\n  dot: (x: number, y: number, r: number) => {\n    return [\n      ['M', x - r, y],\n      ['L', x + r, y],\n    ];\n  },\n  dash: (x: number, y: number, r: number) => {\n    return [\n      ['M', x - r, y],\n      ['L', x + r, y],\n    ];\n  },\n  smooth: (x: number, y: number, r: number) => {\n    return [\n      ['M', x - r, y],\n      ['A', r / 2, r / 2, 0, 1, 1, x, y],\n      ['A', r / 2, r / 2, 0, 1, 0, x + r, y],\n    ];\n  },\n  hv: (x: number, y: number, r: number) => {\n    return [\n      ['M', x - r - 1, y - 2.5],\n      ['L', x, y - 2.5],\n      ['L', x, y + 2.5],\n      ['L', x + r + 1, y + 2.5],\n    ];\n  },\n  vh: (x: number, y: number, r: number) => {\n    return [\n      ['M', x - r - 1, y + 2.5],\n      ['L', x, y + 2.5],\n      ['L', x, y - 2.5],\n      ['L', x + r + 1, y - 2.5],\n    ];\n  },\n  hvh: (x: number, y: number, r: number) => {\n    return [\n      ['M', x - (r + 1), y + 2.5],\n      ['L', x - r / 2, y + 2.5],\n      ['L', x - r / 2, y - 2.5],\n      ['L', x + r / 2, y - 2.5],\n      ['L', x + r / 2, y + 2.5],\n      ['L', x + r + 1, y + 2.5],\n    ];\n  },\n  vhv: (x: number, y: number) => {\n    //  13px 8px\n    return [\n      ['M', x - 5, y + 2.5],\n      ['L', x - 5, y],\n      ['L', x, y],\n      ['L', x, y - 3],\n      ['L', x, y + 3],\n      ['L', x + 6.5, y + 3],\n    ];\n  },\n};\n\n/**\n * Gets line marker\n * @ignore\n * @param markerCfg\n * @param shapeType\n * @returns  Line  marker \n */\nexport function getLineMarker(markerCfg: ShapeMarkerCfg, shapeType: string) {\n  const { color } = markerCfg;\n  return {\n    symbol: LineSymbols[shapeType],\n    style: {\n      lineWidth: 2,\n      r: 6,\n      stroke: color,\n    },\n  };\n}\n","import { each, isArray } from '@antv/util';\nimport { IGroup, ShapeAttrs } from '../../../dependents';\nimport { Point, Position, RangePoint, ShapeInfo, ShapeMarkerCfg } from '../../../interface';\n\nimport { registerShape, registerShapeFactory } from '../base';\nimport { getPathPoints } from '../util/get-path-points';\nimport { getStyle } from '../util/get-style';\nimport { getLinePath, getSplinePath } from '../util/path';\nimport { splitPoints } from '../util/split-points';\nimport { getLineMarker } from './util';\n\nfunction getShapeAttrs(cfg: ShapeInfo, smooth?: boolean, constraint?: Position[]) {\n  const { isStack, connectNulls, isInCircle, showSinglePoint } = cfg;\n  const shapeAttrs = getStyle(cfg, true, false, 'lineWidth');\n\n  const points = getPathPoints(cfg.points, connectNulls, showSinglePoint); //  connectNulls  points\n  let path = [];\n  for (let i = 0, len = points.length; i < len; i++) {\n    const eachLinePoints = points[i];\n    path = path.concat(getPath(eachLinePoints, isInCircle, isStack, smooth, constraint, shapeAttrs));\n  }\n  shapeAttrs.path = path;\n\n  return shapeAttrs;\n}\n\n//  path\nfunction getSinglePath(\n  points: Point[],\n  isInCircle: boolean,\n  smooth?: boolean,\n  constraint?: Position[],\n  style?: ShapeAttrs\n) {\n  if (points.length === 1) {\n    // \n    return [\n      ['M', points[0].x, points[0].y - style.lineWidth / 2],\n      ['L', points[0].x, points[0].y],\n      ['L', points[0].x, points[0].y + style.lineWidth / 2],\n    ];\n  }\n\n  let path;\n  if (!smooth) {\n    path = getLinePath(points, false);\n    if (isInCircle) {\n      path.push(['Z']);\n    }\n  } else {\n    // \n    if (isInCircle && points.length) {\n      points.push({ x: points[0].x, y: points[0].y });\n    }\n    path = getSplinePath(points, false, constraint);\n  }\n\n  return path;\n}\n\nfunction getRangePath(\n  points: RangePoint[],\n  isInCircle: boolean,\n  isStack?: boolean,\n  smooth?: boolean,\n  constraint?: Position[],\n  style?: ShapeAttrs\n) {\n  const topPoints = [];\n  const bottomPoints = [];\n  each(points, (point: RangePoint) => {\n    const result = splitPoints(point);\n    topPoints.push(result[1]); // \n    bottomPoints.push(result[0]); // \n  });\n\n  const topPath = getSinglePath(topPoints, isInCircle, smooth, constraint, style);\n  const bottomPath = getSinglePath(bottomPoints, isInCircle, smooth, constraint, style);\n  if (isStack) {\n    return topPath;\n  }\n  return topPath.concat(bottomPath);\n}\n\n/**\n *  path\n */\nexport function getPath(\n  points: Point[] | RangePoint[],\n  isInCircle: boolean,\n  isStack?: boolean,\n  smooth?: boolean,\n  constraint?: Position[],\n  style?: ShapeAttrs\n) {\n  if (points.length) {\n    const first = points[0];\n\n    return isArray(first.y)\n      ? getRangePath(points as RangePoint[], isInCircle, isStack, smooth, constraint, style)\n      : getSinglePath(points as Point[], isInCircle, smooth, constraint, style);\n  }\n  return [];\n}\n\nconst LineShapeFactory = registerShapeFactory('line', {\n  defaultShapeType: 'line',\n});\n\n// \n// 'line' 'dot'  'dash'  - - -\neach(['line', 'dot', 'dash', 'smooth'], (shapeType) => {\n  registerShape('line', shapeType, {\n    draw(cfg: ShapeInfo, container: IGroup) {\n      const smooth = shapeType === 'smooth';\n      let constraint;\n      if (smooth) {\n        const { start, end } = this.coordinate;\n        constraint = [\n          [start.x, end.y],\n          [end.x, start.y],\n        ];\n      }\n\n      const attrs = getShapeAttrs(cfg, smooth, constraint);\n      const shape = container.addShape({\n        type: 'path',\n        attrs,\n        name: 'line',\n        capture: !smooth,\n      });\n\n      return shape;\n    },\n    getMarker(markerCfg: ShapeMarkerCfg) {\n      return getLineMarker(markerCfg, shapeType);\n    },\n  });\n});\n\nexport default LineShapeFactory;\n","/* G2  Geometry */\n\nexport const VERSION = '4.2.8';\n\n// \nexport { Chart, View, Event } from './chart'; // Chart, View \nexport { Controller as ComponentController } from './chart/controller/base'; // G2 \nexport { default as TooltipController } from './chart/controller/tooltip'; // G2 tooltip \nexport { default as Geometry } from './geometry/base'; // Geometry \nexport { default as Element } from './geometry/element'; // Element \nexport { default as GeometryLabel } from './geometry/label/base'; // Geometry Label \nexport { Interaction, Action } from './interaction'; // Interaction, Action \nexport { Facet } from './facet'; // Facet \nexport { default as InteractionAction } from './interaction/action/base'; // Interaction Action \n\n//  ComponentController\nexport { registerComponentController } from './chart';\n\n//  Geometry\nexport { registerGeometry } from './chart';\n\n//  Geometry Shape\nexport { registerShape, registerShapeFactory, getShapeFactory } from './geometry/shape/base';\n\n//  Geometry label  Geometry Label \nexport {\n  registerGeometryLabel,\n  registerGeometryLabelLayout,\n  getGeometryLabel,\n  getGeometryLabelLayout,\n} from './geometry/label';\n\n//  interaction\nexport { getInteraction, registerInteraction, registerAction, getActionClass } from './interaction';\n\n//  facet\nexport { getFacet, registerFacet } from './facet';\n\n// \nexport { getTheme, registerTheme } from './theme';\n\n// G engine \nexport { registerEngine, getEngine } from './engine';\n\n// \nexport { registerAnimation, getAnimation } from './animate/animation';\n\nexport { LAYER, DIRECTION } from './constant';\n\n//  typescript  export * as \nimport * as Types from './interface';\nexport type { Types };\n\nexport { IGroup, ShapeAttrs, Coordinate, Scale, ScaleConfig } from './dependents';\n\n// \nimport { getMappingValue } from './util/attr';\nimport { getLegendItems } from './util/legend';\nimport { getAngle, getSectorPath, polarToCartesian } from './util/graphics';\nimport { rotate, transform, translate, zoom } from './util/transform';\nimport { getTooltipItems } from './util/tooltip';\nimport { getDelegationObject } from './interaction/action/util';\nimport { getPathPoints } from './geometry/shape/util/get-path-points';\nimport { getPath } from './geometry/shape/line';\n\nexport const Util = {\n  getLegendItems,\n  translate,\n  rotate,\n  zoom,\n  transform,\n  getAngle,\n  getSectorPath,\n  polarToCartesian,\n  getDelegationObject,\n  getTooltipItems,\n  getMappingValue,\n  // shape \n  getPath,\n  getPathPoints,\n};\n","import { StyleSheetCfg } from '../../interface';\n\nconst WHITE_COLORS = {\n  100: '#000',\n  95: '#0D0D0D',\n  85: '#262626',\n  65: '#595959',\n  45: '#8C8C8C',\n  25: '#BFBFBF',\n  15: '#D9D9D9',\n  6: '#F0F0F0',\n};\n\nconst BLACK_COLORS = {\n  100: '#FFFFFF',\n  95: '#F2F2F2',\n  85: '#D9D9D9',\n  65: '#A6A6A6',\n  45: '#737373',\n  25: '#404040',\n  15: '#262626',\n  6: '#0F0F0F',\n};\n\nconst QUALITATIVE_10 = [\n  '#5B8FF9',\n  '#5AD8A6',\n  '#5D7092',\n  '#F6BD16',\n  '#E86452',\n  '#6DC8EC',\n  '#945FB9',\n  '#FF9845',\n  '#1E9493',\n  '#FF99C3',\n];\n\nconst QUALITATIVE_20 = [\n  '#5B8FF9',\n  '#CDDDFD',\n  '#5AD8A6',\n  '#CDF3E4',\n  '#5D7092',\n  '#CED4DE',\n  '#F6BD16',\n  '#FCEBB9',\n  '#E86452',\n  '#F8D0CB',\n  '#6DC8EC',\n  '#D3EEF9',\n  '#945FB9',\n  '#DECFEA',\n  '#FF9845',\n  '#FFE0C7',\n  '#1E9493',\n  '#BBDEDE',\n  '#FF99C3',\n  '#FFE0ED',\n];\n\n/**  */\nconst SINGLE_SEQUENCE = [\n  '#B8E1FF',\n  '#9AC5FF',\n  '#7DAAFF',\n  '#5B8FF9',\n  '#3D76DD',\n  '#085EC0',\n  '#0047A5',\n  '#00318A',\n  '#001D70',\n];\n\nexport const createDarkStyleSheet = (cfg: StyleSheetCfg = {}) => {\n  const { paletteQualitative10 = QUALITATIVE_10, paletteQualitative20 = QUALITATIVE_20 } = cfg;\n  const { brandColor = paletteQualitative10[0] } = cfg;\n\n  const token = {\n    /**  */\n    backgroundColor: '#141414',\n    /**  */\n    brandColor,\n    /**  */\n    subColor: 'rgba(255,255,255,0.05)',\n    /**  1 10  */\n    paletteQualitative10,\n    /**  2 10  */\n    paletteQualitative20,\n    /**  */\n    paletteSemanticRed: '#F4664A',\n    /**  */\n    paletteSemanticGreen: '#30BF78',\n    /**  */\n    paletteSemanticYellow: '#FAAD14',\n    /** () */\n    paletteSequence: SINGLE_SEQUENCE,\n    /**  */\n    fontFamily: `\"Segoe UI\", Roboto, \"Helvetica Neue\", Arial,\n    \"Noto Sans\", sans-serif, \"Apple Color Emoji\", \"Segoe UI Emoji\", \"Segoe UI Symbol\",\n    \"Noto Color Emoji\"`,\n\n    // --------------------  --------------------\n    /**  */\n    axisLineBorderColor: BLACK_COLORS[25],\n    /**  */\n    axisLineBorder: 1,\n    /**  lineDash  */\n    axisLineDash: null,\n\n    /**  */\n    axisTitleTextFillColor: BLACK_COLORS[65],\n    /**  */\n    axisTitleTextFontSize: 12,\n    /**  */\n    axisTitleTextLineHeight: 12,\n    /**  */\n    axisTitleTextFontWeight: 'normal',\n    /**  */\n    axisTitleSpacing: 12,\n    /** icon */\n    axisDescriptionIconFillColor: WHITE_COLORS[85],\n\n    /**  */\n    axisTickLineBorderColor: BLACK_COLORS[25],\n    /**  */\n    axisTickLineLength: 4,\n    /**  */\n    axisTickLineBorder: 1,\n\n    /**  */\n    axisSubTickLineBorderColor: BLACK_COLORS[15],\n    /**  */\n    axisSubTickLineLength: 2,\n    /**  */\n    axisSubTickLineBorder: 1,\n\n    /**  */\n    axisLabelFillColor: BLACK_COLORS[45],\n    /**  */\n    axisLabelFontSize: 12,\n    /**  */\n    axisLabelLineHeight: 12,\n    /**  */\n    axisLabelFontWeight: 'normal',\n    /**  */\n    axisLabelOffset: 8,\n\n    /**  */\n    axisGridBorderColor: BLACK_COLORS[15],\n    /**  */\n    axisGridBorder: 1,\n    /**  */\n    axisGridLineDash: null,\n\n    // --------------------  --------------------\n    /**  */\n    legendTitleTextFillColor: BLACK_COLORS[45],\n    /**  */\n    legendTitleTextFontSize: 12,\n    /**  */\n    legendTitleTextLineHeight: 21,\n    /**  */\n    legendTitleTextFontWeight: 'normal',\n\n    /**  marker  */\n    legendMarkerColor: QUALITATIVE_10[0],\n    /**  marker  */\n    legendMarkerSpacing: 8,\n    /**  marker  */\n    legendMarkerSize: 4,\n    /**  'circle' marker  */\n    legendCircleMarkerSize: 4,\n    /**  'square' marker  */\n    legendSquareMarkerSize: 4,\n    /**  'line' marker  */\n    legendLineMarkerSize: 5,\n\n    /**  */\n    legendItemNameFillColor: BLACK_COLORS[65],\n    /**  */\n    legendItemNameFontSize: 12,\n    /**  */\n    legendItemNameLineHeight: 12,\n    /**  */\n    legendItemNameFontWeight: 'normal',\n    /**  */\n    legendItemSpacing: 24,\n    /**  */\n    legendItemMarginBottom: 12,\n    /**   */\n    legendSpacing: 16,\n    /**   */\n    legendPadding: [8, 8, 8, 8],\n    /**  */\n    legendHorizontalPadding: [8, 0, 8, 0],\n    /**  */\n    legendVerticalPadding: [0, 8, 0, 8],\n\n    // \n    /**  marker  */\n    legendPageNavigatorMarkerSize: 12,\n    /**  marker  */\n    legendPageNavigatorMarkerInactiveFillColor: BLACK_COLORS[45],\n    /**  marker  */\n    legendPageNavigatorMarkerInactiveFillOpacity: 0.45,\n    /**  marker  */\n    legendPageNavigatorMarkerFillColor: BLACK_COLORS[45],\n    /**  marker  */\n    legendPageNavigatorMarkerFillOpacity: 1,\n    /**  */\n    legendPageNavigatorTextFillColor: BLACK_COLORS[65],\n    /**  */\n    legendPageNavigatorTextFontSize: 12,\n\n    /**  */\n    sliderRailFillColor: BLACK_COLORS[15],\n    /**  */\n    sliderRailBorder: 0,\n    /**  */\n    sliderRailBorderColor: null,\n    /**  */\n    sliderRailWidth: 100,\n    /**  */\n    sliderRailHeight: 12,\n\n    /**  */\n    sliderLabelTextFillColor: BLACK_COLORS[45],\n    /**  */\n    sliderLabelTextFontSize: 12,\n    /**  */\n    sliderLabelTextLineHeight: 12,\n    /**  */\n    sliderLabelTextFontWeight: 'normal',\n\n    /**  */\n    sliderHandlerFillColor: WHITE_COLORS[6],\n    /**  */\n    sliderHandlerWidth: 10,\n    /**  */\n    sliderHandlerHeight: 14,\n    /**  */\n    sliderHandlerBorder: 1,\n    /**  */\n    sliderHandlerBorderColor: WHITE_COLORS[25],\n\n    // -------------------- Annotation --------------------\n    /** arc  */\n    annotationArcBorderColor: BLACK_COLORS[15],\n    /** arc  */\n    annotationArcBorder: 1,\n\n    /** line  */\n    annotationLineBorderColor: BLACK_COLORS[25],\n    /** line  */\n    annotationLineBorder: 1,\n    /** lube  */\n    annotationLineDash: null,\n\n    /** text  */\n    annotationTextFillColor: BLACK_COLORS[65],\n    /** text  */\n    annotationTextFontSize: 12,\n    /** text  */\n    annotationTextLineHeight: 12,\n    /** text  */\n    annotationTextFontWeight: 'normal',\n    /** text  */\n    annotationTextBorderColor: null,\n    /** text  */\n    annotationTextBorder: 0,\n\n    /** region  */\n    annotationRegionFillColor: BLACK_COLORS[100],\n    /** region  */\n    annotationRegionFillOpacity: 0.06,\n    /** region  */\n    annotationRegionBorder: 0,\n    /** region  */\n    annotationRegionBorderColor: null,\n\n    /** dataMarker  */\n    annotationDataMarkerLineLength: 16,\n\n    // -------------------- Tooltip --------------------\n    /** tooltip crosshairs  */\n    tooltipCrosshairsBorderColor: BLACK_COLORS[25],\n    /** tooltip crosshairs  */\n    tooltipCrosshairsBorder: 1,\n    /** tooltip crosshairs  */\n    tooltipCrosshairsLineDash: null,\n\n    /** tooltip  */\n    tooltipContainerFillColor: '#1f1f1f',\n    tooltipContainerFillOpacity: 0.95,\n    /** tooltip  */\n    tooltipContainerShadow: '0px 2px 4px rgba(0,0,0,.5)',\n    /** tooltip  */\n    tooltipContainerBorderRadius: 3,\n\n    /** tooltip  */\n    tooltipTextFillColor: BLACK_COLORS[65],\n    /** tooltip  */\n    tooltipTextFontSize: 12,\n    /** tooltip  */\n    tooltipTextLineHeight: 12,\n    /** tooltip  */\n    tooltipTextFontWeight: 'bold',\n\n    // -------------------- Geometry labels --------------------\n    /** Geometry label  */\n    labelFillColor: BLACK_COLORS[65],\n    labelFillColorDark: '#2c3542',\n    labelFillColorLight: '#ffffff',\n    /** Geometry label  */\n    labelFontSize: 12,\n    /** Geometry label  */\n    labelLineHeight: 12,\n    /** Geometry label  */\n    labelFontWeight: 'normal',\n    /** Geometry label  */\n    labelBorderColor: null,\n    /** Geometry label  */\n    labelBorder: 0,\n\n    /** Geometry innerLabel  */\n    innerLabelFillColor: WHITE_COLORS[100],\n    /** Geometry innerLabel  */\n    innerLabelFontSize: 12,\n    /** Geometry innerLabel  */\n    innerLabelLineHeight: 12,\n    /** Geometry innerLabel  */\n    innerLabelFontWeight: 'normal',\n    /** Geometry innerLabel  */\n    innerLabelBorderColor: null,\n    /** Geometry innerLabel  */\n    innerLabelBorder: 0,\n\n    /** Geometry label  */\n    overflowLabelFillColor: BLACK_COLORS[65],\n    overflowLabelFillColorDark: '#2c3542',\n    overflowLabelFillColorLight: '#ffffff',\n    /** Geometry label  */\n    overflowLabelFontSize: 12,\n    /** Geometry label  */\n    overflowLabelLineHeight: 12,\n    /** Geometry label  */\n    overflowLabelFontWeight: 'normal',\n    /** Geometry label  */\n    overflowLabelBorderColor: WHITE_COLORS[100],\n    /** Geometry label  */\n    overflowLabelBorder: 1,\n\n    /** Geometry label  */\n    labelLineBorder: 1,\n    /** Geometry label  */\n    labelLineBorderColor: BLACK_COLORS[25],\n\n    // -------------------- Slider --------------------\n    /** slider  */\n    cSliderRailHieght: 16,\n    /** slider  */\n    cSliderBackgroundFillColor: '#416180',\n    /** slider  */\n    cSliderBackgroundFillOpacity: 0.05,\n    /** slider  */\n    cSliderForegroundFillColor: '#5B8FF9',\n    /** slider  */\n    cSliderForegroundFillOpacity: 0.15,\n    // slider handlerStyle \n    /** slider  */\n    cSliderHandlerHeight: 24,\n    /** Slider  */\n    cSliderHandlerWidth: 10,\n    /** Slider  */\n    cSliderHandlerFillColor: '#F7F7F7',\n    /** Slider  */\n    cSliderHandlerFillOpacity: 1,\n    /** Slider  */\n    cSliderHandlerHighlightFillColor: '#FFF',\n    /** Slider  */\n    cSliderHandlerBorderColor: '#BFBFBF',\n    /** Slider  */\n    cSliderHandlerBorder: 1,\n    /** Slider  */\n    cSliderHandlerBorderRadius: 2,\n    // slider textStyle \n    /** Slider  */\n    cSliderTextFillColor: '#fff',\n    /** Slider  */\n    cSliderTextFillOpacity: 0.45,\n    /** Slider  */\n    cSliderTextFontSize: 12,\n    /** Slider  */\n    cSliderTextLineHeight: 12,\n    /** Slider  */\n    cSliderTextFontWeight: 'normal',\n    /** Slider  */\n    cSliderTextBorderColor: null,\n    /** Slider  */\n    cSliderTextBorder: 0,\n\n    // -------------------- Scrollbar --------------------\n    /**   */\n    scrollbarTrackFillColor: 'rgba(255,255,255,0.65)',\n    /**   */\n    scrollbarThumbFillColor: 'rgba(0,0,0,0.35)',\n    /**   */\n    scrollbarThumbHighlightFillColor: 'rgba(0,0,0,0.45)',\n\n    // -------------------- Geometry --------------------\n    /**  */\n    pointFillColor: QUALITATIVE_10[0],\n    /**  */\n    pointFillOpacity: 0.95,\n    /**  */\n    pointSize: 4,\n    /**  */\n    pointBorder: 1,\n    /**  */\n    pointBorderColor: WHITE_COLORS[100],\n    /**  */\n    pointBorderOpacity: 1,\n\n    /**  active  */\n    pointActiveBorderColor: BLACK_COLORS[100],\n\n    /**  selected  */\n    pointSelectedBorder: 2,\n    /**  selected  */\n    pointSelectedBorderColor: BLACK_COLORS[100],\n\n    /**  inactive  */\n    pointInactiveFillOpacity: 0.3,\n    /**  inactive  */\n    pointInactiveBorderOpacity: 0.3,\n\n    /**  */\n    hollowPointSize: 4,\n    /**  */\n    hollowPointBorder: 1,\n    /**  */\n    hollowPointBorderColor: QUALITATIVE_10[0],\n    /**  */\n    hollowPointBorderOpacity: 0.95,\n    hollowPointFillColor: WHITE_COLORS[100],\n\n    /**  active  */\n    hollowPointActiveBorder: 1,\n    /**  active  */\n    hollowPointActiveBorderColor: BLACK_COLORS[100],\n    /**  active  */\n    hollowPointActiveBorderOpacity: 1,\n\n    /**  selected  */\n    hollowPointSelectedBorder: 2,\n    /**  selected  */\n    hollowPointSelectedBorderColor: BLACK_COLORS[100],\n    /**  selected  */\n    hollowPointSelectedBorderOpacity: 1,\n\n    /**  inactive  */\n    hollowPointInactiveBorderOpacity: 0.3,\n\n    /**  */\n    lineBorder: 2,\n    /**  */\n    lineBorderColor: QUALITATIVE_10[0],\n    /**  */\n    lineBorderOpacity: 1,\n\n    /**  Active  */\n    lineActiveBorder: 3,\n\n    /**  selected  */\n    lineSelectedBorder: 3,\n\n    /**  inactive  */\n    lineInactiveBorderOpacity: 0.3,\n\n    /** area  */\n    areaFillColor: QUALITATIVE_10[0],\n    /** area  */\n    areaFillOpacity: 0.25,\n\n    /** area  active  */\n    areaActiveFillColor: QUALITATIVE_10[0],\n    areaActiveFillOpacity: 0.5,\n\n    /** area  selected  */\n    areaSelectedFillColor: QUALITATIVE_10[0],\n    areaSelectedFillOpacity: 0.5,\n\n    /** area inactive  */\n    areaInactiveFillOpacity: 0.3,\n\n    /** hollowArea  */\n    hollowAreaBorderColor: QUALITATIVE_10[0],\n    /** hollowArea  */\n    hollowAreaBorder: 2,\n    /** hollowArea  */\n    hollowAreaBorderOpacity: 1,\n\n    /** hollowArea active  */\n    hollowAreaActiveBorder: 3,\n    hollowAreaActiveBorderColor: BLACK_COLORS[100],\n\n    /** hollowArea selected  */\n    hollowAreaSelectedBorder: 3,\n    hollowAreaSelectedBorderColor: BLACK_COLORS[100],\n\n    /** hollowArea inactive  */\n    hollowAreaInactiveBorderOpacity: 0.3,\n\n    /** interval  */\n    intervalFillColor: QUALITATIVE_10[0],\n    /** interval  */\n    intervalFillOpacity: 0.95,\n\n    /** interval active  */\n    intervalActiveBorder: 1,\n    /** interval active  */\n    intervalActiveBorderColor: BLACK_COLORS[100],\n    intervalActiveBorderOpacity: 1,\n\n    /** interval selected  */\n    intervalSelectedBorder: 2,\n    /** interval selected  */\n    intervalSelectedBorderColor: BLACK_COLORS[100],\n    /** interval selected  */\n    intervalSelectedBorderOpacity: 1,\n\n    /** interval inactive  */\n    intervalInactiveBorderOpacity: 0.3,\n    /** interval inactive  */\n    intervalInactiveFillOpacity: 0.3,\n\n    /** interval  */\n    hollowIntervalBorder: 2,\n    /** hollowInterval  */\n    hollowIntervalBorderColor: QUALITATIVE_10[0],\n    /** hollowInterval  */\n    hollowIntervalBorderOpacity: 1,\n    hollowIntervalFillColor: WHITE_COLORS[100],\n\n    /** hollowInterval active  */\n    hollowIntervalActiveBorder: 2,\n    /** hollowInterval active  */\n    hollowIntervalActiveBorderColor: BLACK_COLORS[100],\n\n    /** hollowInterval selected  */\n    hollowIntervalSelectedBorder: 3,\n    /** hollowInterval selected  */\n    hollowIntervalSelectedBorderColor: BLACK_COLORS[100],\n    /** hollowInterval selected  */\n    hollowIntervalSelectedBorderOpacity: 1,\n\n    /** hollowInterval inactive  */\n    hollowIntervalInactiveBorderOpacity: 0.3,\n  };\n\n  return { ...token, ...cfg };\n};\n\nexport const antvDark = createDarkStyleSheet();\n",null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,"import { FIELD_ORIGIN } from '../constant';\nimport { MappingDatum, ShapeInfo } from '../interface';\nimport Geometry, { GeometryCfg } from './base';\nimport Element from './element';\n/**  ShapeFactory */\nimport './shape/line';\nimport { isModelChange } from './util/is-model-change';\nimport { diff } from './util/diff';\n\n/** Path  */\nexport interface PathCfg extends GeometryCfg {\n  /**  */\n  connectNulls?: boolean;\n  /**  */\n  showSinglePoint?: boolean;\n}\n\n/**\n * Path \n * \n */\nexport default class Path extends Geometry {\n  public readonly type: string = 'path';\n  public readonly shapeType: string = 'line';\n  /**  */\n  public connectNulls: boolean;\n  /**  */\n  public showSinglePoint: boolean;\n\n  constructor(cfg: PathCfg) {\n    super(cfg);\n\n    const { connectNulls = false, showSinglePoint = true } = cfg;\n    this.connectNulls = connectNulls;\n    this.showSinglePoint = showSinglePoint;\n  }\n\n  /**\n   *  Element  PathLineArea Element\n   * @param mappingData\n   * @param [isUpdate]\n   * @returns elements\n   */\n  protected updateElements(mappingDataArray: MappingDatum[][], isUpdate: boolean = false) {\n    // Path  element \n    const keyData = new Map<string, MappingDatum[]>();\n    const keyIndex = new Map<string, number>();\n    const keys: string[] = [];\n\n    let index = 0;\n    for (let i = 0; i < mappingDataArray.length; i++) {\n      const mappingData = mappingDataArray[i];\n      const key = this.getElementId(mappingData);\n      keys.push(key);\n      keyData.set(key, mappingData);\n      keyIndex.set(key, index);\n      index++;\n    }\n\n    this.elements = new Array(index);\n\n    const { added, updated, removed } = diff(this.lastElementsMap, keys);\n\n    for (const key of added) {\n      const mappingData = keyData.get(key);\n      const shapeFactory = this.getShapeFactory();\n      const shapeCfg = this.getShapeInfo(mappingData);\n      const i = keyIndex.get(key);\n      const element = new Element({\n        shapeFactory,\n        container: this.container,\n        offscreenGroup: this.getOffscreenGroup(),\n        elementIndex: i,\n      });\n      element.geometry = this;\n      element.animate = this.animateOption;\n      element.draw(shapeCfg, isUpdate); //  shape\n      this.elementsMap[key] = element;\n      this.elements[i] = element;\n    }\n\n    for (const key of updated) {\n      const mappingData = keyData.get(key);\n      const element = this.lastElementsMap[key];\n      const i = keyIndex.get(key);\n      const shapeCfg = this.getShapeInfo(mappingData);\n      const preShapeCfg = element.getModel();\n      if (this.isCoordinateChanged || isModelChange(preShapeCfg, shapeCfg)) {\n        element.animate = this.animateOption;\n        // \n        element.update(shapeCfg); //  element\n      }\n      this.elementsMap[key] = element;\n      this.elements[i] = element;\n    }\n\n    for (const key of removed) {\n      const element = this.lastElementsMap[key];\n      // \n      element.animate = this.animateOption;\n      element.destroy();\n    }\n  }\n\n  /**\n   * \n   * @param mappingData \n   */\n  protected getPointsAndData(mappingData: MappingDatum[]) {\n    const points = [];\n    const data = [];\n\n    for (let i = 0, len = mappingData.length; i < len; i++) {\n      const obj = mappingData[i];\n      points.push({\n        x: obj.x,\n        y: obj.y,\n      });\n      data.push(obj[FIELD_ORIGIN]);\n    }\n\n    return {\n      points,\n      data,\n    };\n  }\n\n  private getShapeInfo(mappingData: MappingDatum[]): ShapeInfo {\n    const shapeCfg = this.getDrawCfg(mappingData[0]);\n    const { points, data } = this.getPointsAndData(mappingData);\n    shapeCfg.mappingData = mappingData;\n    shapeCfg.data = data;\n    shapeCfg.isStack = !!this.getAdjust('stack');\n    shapeCfg.points = points;\n    shapeCfg.connectNulls = this.connectNulls;\n    shapeCfg.showSinglePoint = this.showSinglePoint;\n\n    return shapeCfg;\n  }\n}\n","import { each } from '@antv/util';\nimport { Coordinate, PathCommand } from '../../../dependents';\nimport { Point, Position, Shape, ShapeInfo } from '../../../interface';\n\nimport { getPathPoints } from '../util/get-path-points';\nimport { getStyle } from '../util/get-style';\nimport { getLinePath, getSplinePath } from '../util/path';\n\nfunction getPath(\n  points: Point[],\n  isInCircle: boolean,\n  smooth: boolean,\n  registeredShape: Shape,\n  constraint?: Position[]\n): PathCommand[] {\n  let path = [];\n\n  if (points.length) {\n    const topLinePoints = []; // area \n    let bottomLinePoints = []; // area \n    for (let i = 0, len = points.length; i < len; i++) {\n      const point = points[i];\n      topLinePoints.push(point[1]);\n      bottomLinePoints.push(point[0]);\n    }\n    bottomLinePoints = bottomLinePoints.reverse();\n\n    each([topLinePoints, bottomLinePoints], (pointsData, index) => {\n      let subPath = [];\n      const parsedPoints = registeredShape.parsePoints(pointsData);\n      const p1 = parsedPoints[0];\n\n      if (topLinePoints.length === 1 && bottomLinePoints.length === 1) {\n        // \n        subPath =\n          index === 0\n            ? [\n                ['M', p1.x - 0.5, p1.y],\n                ['L', p1.x + 0.5, p1.y],\n              ]\n            : [\n                ['L', p1.x + 0.5, p1.y],\n                ['L', p1.x - 0.5, p1.y],\n              ];\n      } else {\n        if (isInCircle) {\n          parsedPoints.push({ x: p1.x, y: p1.y });\n        }\n        if (smooth) {\n          subPath = getSplinePath(parsedPoints, false, constraint);\n        } else {\n          subPath = getLinePath(parsedPoints, false);\n        }\n        if (index > 0) {\n          subPath[0][0] = 'L';\n        }\n      }\n\n      path = path.concat(subPath);\n    });\n\n    path.push(['Z']);\n  }\n\n  return path;\n}\n\n/**\n * @ignore\n * Gets shape attrs\n * @param cfg\n * @param isStroke\n * @param smooth\n * @param registeredShape\n * @param [constraint]\n * @returns\n */\nexport function getShapeAttrs(\n  cfg: ShapeInfo,\n  isStroke: boolean,\n  smooth: boolean,\n  registeredShape: Shape,\n  constraint?: Position[]\n) {\n  const attrs = getStyle(cfg, isStroke, !isStroke, 'lineWidth');\n  const { connectNulls, isInCircle, points, showSinglePoint } = cfg;\n  const pathPoints = getPathPoints(points, connectNulls, showSinglePoint); //  connectNulls \n\n  let path = [];\n  for (let i = 0, len = pathPoints.length; i < len; i++) {\n    const eachPoints = pathPoints[i];\n    path = path.concat(getPath(eachPoints, isInCircle, smooth, registeredShape, constraint));\n  }\n  attrs.path = path;\n\n  return attrs;\n}\n\n/**\n * @ignore\n * Gets constraint\n * @param coordinate\n * @returns constraint\n */\nexport function getConstraint(coordinate: Coordinate): Position[] {\n  const { start, end } = coordinate;\n  return [\n    [start.x, end.y],\n    [end.x, start.y],\n  ];\n}\n","import { isArray } from '@antv/util';\nimport { IGroup } from '../../../dependents';\nimport { Point, ShapeInfo, ShapeMarkerCfg, ShapePoint } from '../../../interface';\nimport { registerShape, registerShapeFactory } from '../base';\nimport { getShapeAttrs } from './util';\n\nconst AreaShapeFactory = registerShapeFactory('area', {\n  defaultShapeType: 'area',\n  getDefaultPoints(pointInfo: ShapePoint): Point[] {\n    // area \n    const { x, y0 } = pointInfo;\n    const y = isArray(pointInfo.y) ? pointInfo.y : [y0, pointInfo.y];\n\n    return y.map((yItem: number) => {\n      return {\n        x: x as number,\n        y: yItem,\n      };\n    });\n  },\n});\n\n// Area  shape\nregisterShape('area', 'area', {\n  draw(cfg: ShapeInfo, container: IGroup) {\n    const attrs = getShapeAttrs(cfg, false, false, this);\n    const shape = container.addShape({\n      type: 'path',\n      attrs,\n      name: 'area',\n    });\n\n    return shape;\n  },\n  getMarker(markerCfg: ShapeMarkerCfg) {\n    const { color } = markerCfg;\n    return {\n      symbol: (x: number, y: number, r: number = 5.5) => {\n        return [['M', x - r, y - 4], ['L', x + r, y - 4], ['L', x + r, y + 4], ['L', x - r, y + 4], ['Z']];\n      },\n      style: {\n        r: 5,\n        fill: color,\n        fillOpacity: 1,\n      },\n    };\n  },\n});\n\nexport default AreaShapeFactory;\n","import { FIELD_ORIGIN } from '../constant';\nimport { MappingDatum } from '../interface';\nimport Path, { PathCfg } from './path';\nimport './shape/area';\n\n/** Area  */\nexport interface AreaCfg extends PathCfg {\n  /**\n   *  0 \n   * 1.  `true`\n   * ![image](https://gw.alipayobjects.com/zos/rmsportal/ZQqwUCczalrKqGgagOVp.png)\n   * 2.  `false` \n   * ![image](https://gw.alipayobjects.com/zos/rmsportal/yPswkaXvUpCYOdhocGwB.png)\n   */\n  startOnZero?: boolean;\n}\n\n/**\n * Area \n * \n */\nexport default class Area extends Path {\n  public readonly type: string = 'area';\n  public readonly shapeType: string = 'area';\n  /**  */\n  public readonly generatePoints: boolean = true;\n  /**\n   *  0 \n   * 1.  `true`\n   * ![image](https://gw.alipayobjects.com/zos/rmsportal/ZQqwUCczalrKqGgagOVp.png)\n   * 2.  `false` \n   * ![image](https://gw.alipayobjects.com/zos/rmsportal/yPswkaXvUpCYOdhocGwB.png)\n   */\n  public readonly startOnZero: boolean = true;\n\n  constructor(cfg: AreaCfg) {\n    super(cfg);\n\n    const { startOnZero = true, sortable = false, showSinglePoint = false } = cfg;\n    this.startOnZero = startOnZero; //  true\n    this.sortable = sortable; //  X \n    this.showSinglePoint = showSinglePoint;\n  }\n\n  /**\n   * \n   * @param mappingData \n   */\n  protected getPointsAndData(mappingData: MappingDatum[]) {\n    const points = [];\n    const data = [];\n\n    for (let i = 0, len = mappingData.length; i < len; i++) {\n      const obj = mappingData[i];\n      points.push(obj.points);\n      data.push(obj[FIELD_ORIGIN]);\n    }\n\n    return {\n      points,\n      data,\n    };\n  }\n\n  /**\n   *  Y \n   * @returns y \n   */\n  protected getYMinValue(): number {\n    if (this.startOnZero) {\n      return super.getYMinValue();\n    }\n    const yScale = this.getYScale();\n    return yScale.min;\n  }\n}\n","import { IGroup } from '../../../dependents';\nimport { Point, ShapeInfo, ShapeMarkerCfg, ShapePoint } from '../../../interface';\n\nimport { registerShape, registerShapeFactory } from '../base';\nimport { getStyle } from '../util/get-style';\nimport { getLinePath } from '../util/path';\nimport { splitPoints } from '../util/split-points';\n\nconst EdgeShapeFactory = registerShapeFactory('edge', {\n  defaultShapeType: 'line',\n  getDefaultPoints(pointInfo: ShapePoint): Point[] {\n    return splitPoints(pointInfo);\n  },\n});\n\nregisterShape('edge', 'line', {\n  draw(cfg: ShapeInfo, container: IGroup) {\n    const style = getStyle(cfg, true, false, 'lineWidth');\n    const path = getLinePath(this.parsePoints(cfg.points), this.coordinate.isPolar);\n    return container.addShape('path', {\n      attrs: {\n        ...style,\n        path,\n      },\n    });\n  },\n  getMarker(markerCfg: ShapeMarkerCfg) {\n    return {\n      symbol: 'circle',\n      style: {\n        r: 4.5,\n        fill: markerCfg.color,\n      },\n    };\n  },\n});\n\nexport default EdgeShapeFactory;\n","import Geometry from './base';\nimport './shape/edge';\n\n/**\n * Edge ****\n * 1. \n * 2. \n * 3. \n * 4. \n * 5. \n */\nexport default class Edge extends Geometry {\n  public readonly type: string = 'edge';\n  public readonly shapeType: string = 'edge';\n  protected generatePoints: boolean = true;\n}\n","import ColorUtil from '@antv/color-util';\nimport { get, isNumber } from '@antv/util';\nimport { FIELD_ORIGIN } from '../constant';\nimport { Color, IShape } from '../dependents';\nimport { Data, Datum, MappingDatum, ShapeInfo, AttributeOption, ColorAttrCallback } from '../interface';\nimport Geometry from './base';\n\n/**\n * \n */\nexport default class Heatmap extends Geometry {\n  public readonly type: string = 'heatmap';\n\n  private paletteCache: Record<number, number> = {};\n  private grayScaleBlurredCanvas: HTMLCanvasElement;\n  private shadowCanvas: HTMLCanvasElement;\n  private imageShape: IShape;\n\n  protected updateElements(mappingDataArray: MappingDatum[][], isUpdate: boolean = false) {\n    for (let i = 0; i < mappingDataArray.length; i++) {\n      const mappingData = mappingDataArray[i];\n      const range = this.prepareRange(mappingData);\n      const radius = this.prepareSize();\n\n      let blur = get(this.styleOption, ['cfg', 'shadowBlur']);\n      if (!isNumber(blur)) {\n        blur = radius / 2;\n      }\n\n      this.prepareGreyScaleBlurredCircle(radius, blur);\n      this.drawWithRange(mappingData, range, radius, blur);\n    }\n  }\n\n  /**  callback  */\n  public color(field: AttributeOption | string, cfg?: string | string[] | ColorAttrCallback): Geometry {\n    this.createAttrOption('color', field, typeof cfg !== 'function' ? cfg : '');\n\n    return this;\n  }\n\n  /**\n   * clear\n   */\n  public clear() {\n    super.clear();\n    this.clearShadowCanvasCtx();\n    this.paletteCache = {};\n  }\n\n  private prepareRange(data: MappingDatum[]) {\n    const colorAttr = this.getAttribute('color');\n    const colorField = colorAttr.getFields()[0];\n\n    let min = Infinity;\n    let max = -Infinity;\n    data.forEach((row) => {\n      const value = row[FIELD_ORIGIN][colorField];\n      if (value > max) {\n        max = value;\n      }\n      if (value < min) {\n        min = value;\n      }\n    });\n\n    if (min === max) {\n      min = max - 1;\n    }\n\n    return [min, max];\n  }\n\n  private prepareSize() {\n    let radius = this.getDefaultValue('size');\n    if (!isNumber(radius)) {\n      radius = this.getDefaultSize();\n    }\n\n    return radius;\n  }\n\n  private prepareGreyScaleBlurredCircle(radius: number, blur: number) {\n    const grayScaleBlurredCanvas = this.getGrayScaleBlurredCanvas();\n    const r2 = radius + blur;\n    const ctx = grayScaleBlurredCanvas.getContext('2d');\n    grayScaleBlurredCanvas.width = grayScaleBlurredCanvas.height = r2 * 2;\n    ctx.clearRect(0, 0, grayScaleBlurredCanvas.width, grayScaleBlurredCanvas.height);\n    ctx.shadowOffsetX = ctx.shadowOffsetY = r2 * 2;\n    ctx.shadowBlur = blur;\n    ctx.shadowColor = 'black';\n\n    ctx.beginPath();\n    ctx.arc(-r2, -r2, radius, 0, Math.PI * 2, true);\n    ctx.closePath();\n    ctx.fill();\n  }\n\n  private drawWithRange(data: MappingDatum[], range: number[], radius: number, blur: number) {\n    // canvas size\n    const { start, end } = this.coordinate;\n    const width = this.coordinate.getWidth();\n    const height = this.coordinate.getHeight();\n\n    // value, range, etc\n    const colorAttr = this.getAttribute('color');\n    const valueField = colorAttr.getFields()[0];\n\n    // prepare shadow canvas context\n    this.clearShadowCanvasCtx();\n    const ctx = this.getShadowCanvasCtx();\n    // filter data\n    if (range) {\n      data = data.filter((row) => {\n        return row[FIELD_ORIGIN][valueField] <= range[1] && row[FIELD_ORIGIN][valueField] >= range[0];\n      });\n    }\n\n    // step1. draw points with shadow\n    const scale = this.scales[valueField];\n    for (const obj of data) {\n      const { x, y } = this.getDrawCfg(obj);\n      const alpha = scale.scale(obj[FIELD_ORIGIN][valueField]);\n      this.drawGrayScaleBlurredCircle((x as number) - start.x, (y as number) - end.y, radius + blur, alpha, ctx);\n    }\n\n    // step2. convert pixels\n    const colored = ctx.getImageData(0, 0, width, height);\n    this.clearShadowCanvasCtx();\n    this.colorize(colored);\n    ctx.putImageData(colored, 0, 0);\n    const imageShape = this.getImageShape();\n    imageShape.attr('x', start.x);\n    imageShape.attr('y', end.y);\n    imageShape.attr('width', width);\n    imageShape.attr('height', height);\n    imageShape.attr('img', ctx.canvas);\n    imageShape.set('origin', this.getShapeInfo(data)); // \n  }\n\n  private getDefaultSize() {\n    const position = this.getAttribute('position');\n    const coordinate = this.coordinate;\n    return Math.min(\n      coordinate.getWidth() / (position.scales[0].ticks.length * 4),\n      coordinate.getHeight() / (position.scales[1].ticks.length * 4)\n    );\n  }\n\n  private clearShadowCanvasCtx() {\n    const ctx = this.getShadowCanvasCtx();\n    ctx.clearRect(0, 0, ctx.canvas.width, ctx.canvas.height);\n  }\n\n  private getShadowCanvasCtx() {\n    let canvas = this.shadowCanvas;\n    if (!canvas) {\n      canvas = document.createElement('canvas');\n      this.shadowCanvas = canvas;\n    }\n    canvas.width = this.coordinate.getWidth();\n    canvas.height = this.coordinate.getHeight();\n    return canvas.getContext('2d');\n  }\n\n  private getGrayScaleBlurredCanvas() {\n    if (!this.grayScaleBlurredCanvas) {\n      this.grayScaleBlurredCanvas = document.createElement('canvas');\n    }\n\n    return this.grayScaleBlurredCanvas;\n  }\n\n  private drawGrayScaleBlurredCircle(x: number, y: number, r: number, alpha: number, ctx: CanvasRenderingContext2D) {\n    const grayScaleBlurredCanvas = this.getGrayScaleBlurredCanvas();\n    ctx.globalAlpha = alpha;\n    ctx.drawImage(grayScaleBlurredCanvas, x - r, y - r);\n  }\n\n  private colorize(img: ImageData) {\n    const colorAttr = this.getAttribute('color') as Color;\n    const pixels = img.data;\n    const paletteCache = this.paletteCache;\n    for (let i = 3; i < pixels.length; i += 4) {\n      const alpha = pixels[i]; // get gradient color from opacity value\n      if (isNumber(alpha)) {\n        const palette = paletteCache[alpha] ? paletteCache[alpha] : ColorUtil.rgb2arr(colorAttr.gradient(alpha / 256));\n        pixels[i - 3] = palette[0];\n        pixels[i - 2] = palette[1];\n        pixels[i - 1] = palette[2];\n        pixels[i] = alpha;\n      }\n    }\n  }\n\n  private getImageShape() {\n    let imageShape = this.imageShape;\n    if (imageShape) {\n      return imageShape;\n    }\n    const container = this.container;\n    imageShape = container.addShape({\n      type: 'image',\n      attrs: {},\n    });\n    this.imageShape = imageShape;\n    return imageShape;\n  }\n\n  private getShapeInfo(mappingData: MappingDatum[]): ShapeInfo {\n    const shapeCfg = this.getDrawCfg(mappingData[0]);\n\n    const data = mappingData.map((obj: Datum) => {\n      return obj[FIELD_ORIGIN];\n    });\n\n    return {\n      ...shapeCfg,\n      mappingData,\n      data,\n    };\n  }\n}\n","import { Coordinate } from '@antv/coord';\nimport { isArray, isNil, get } from '@antv/util';\nimport { getAngle, getSectorPath } from '../../../util/graphics';\nimport { PathCommand } from '../../../dependents';\nimport { Point, ShapeInfo, ShapePoint } from '../../../interface';\n\n/**\n * @ignore\n * \n * @param pointInfo \n * @param [isPyramid] \n * @returns rect points \n */\nexport function getRectPoints(pointInfo: ShapePoint): Point[] {\n  const { x, y, y0, size } = pointInfo;\n  //  4 \n  // 1. x, y \n  // 2. yx\n  // 3. xy\n  // 4. x, y \n  let yMin;\n  let yMax;\n  if (isArray(y)) {\n    [yMin, yMax] = y;\n  } else {\n    yMin = y0;\n    yMax = y;\n  }\n\n  let xMin;\n  let xMax;\n  if (isArray(x)) {\n    [xMin, xMax] = x;\n  } else {\n    xMin = x - size / 2;\n    xMax = x + size / 2;\n  }\n\n  const points = [\n    { x: xMin, y: yMin },\n    { x: xMin, y: yMax },\n  ];\n\n  // \n  // 1 ---- 2\n  // |      |\n  // 0 ---- 3\n  points.push({ x: xMax, y: yMax }, { x: xMax, y: yMin });\n\n  return points;\n}\n\n/**\n * @ignore\n *  path\n * @param points \n * @param isClosed path \n * @returns  path\n */\nexport function getRectPath(points: Point[], isClosed: boolean = true): PathCommand[] {\n  const path = [];\n  const firstPoint = points[0];\n  path.push(['M', firstPoint.x, firstPoint.y]);\n  for (let i = 1, len = points.length; i < len; i++) {\n    path.push(['L', points[i].x, points[i].y]);\n  }\n  //  shape=\"line\" path  lineCap \n  if (isClosed) {\n    path.push(['L', firstPoint.x, firstPoint.y]); // \n    path.push(['z']);\n  }\n  return path;\n}\n\n/**\n *  rect path  radius\n * @returns  path  arc \n */\nexport function parseRadius(radius: number | number[], minLength: number): number[] {\n  let r1 = 0;\n  let r2 = 0;\n  let r3 = 0;\n  let r4 = 0;\n  if (isArray(radius)) {\n    if (radius.length === 1) {\n      r1 = r2 = r3 = r4 = radius[0];\n    } else if (radius.length === 2) {\n      r1 = r3 = radius[0];\n      r2 = r4 = radius[1];\n    } else if (radius.length === 3) {\n      r1 = radius[0];\n      r2 = r4 = radius[1];\n      r3 = radius[2];\n    } else {\n      r1 = radius[0];\n      r2 = radius[1];\n      r3 = radius[2];\n      r4 = radius[3];\n    }\n  } else {\n    r1 = r2 = r3 = r4 = radius;\n  }\n\n  //  \n  if (r1 + r2 > minLength) {\n    r1 = r1 ? minLength / (1 + r2 / r1) : 0;\n    r2 = minLength - r1;\n  }\n\n  if (r3 + r4 > minLength) {\n    r3 = r3 ? minLength / (1 + r4 / r3) : 0;\n    r4 = minLength - r3;\n  }\n\n  return [r1 || 0, r2 || 0, r3 || 0, r4 || 0];\n}\n\n/**\n *  interval  path\n * @param cfg \n * @param points  4 \n * @param coordinate \n * @returns  path\n */\nexport function getBackgroundRectPath(cfg: ShapeInfo, points: Point[], coordinate: Coordinate): PathCommand[] {\n  let path = [];\n  if (coordinate.isRect) {\n    const p0 = coordinate.isTransposed\n      ? { x: coordinate.start.x, y: points[0].y }\n      : { x: points[0].x, y: coordinate.start.y };\n    const p1 = coordinate.isTransposed\n      ? { x: coordinate.end.x, y: points[2].y }\n      : { x: points[3].x, y: coordinate.end.y };\n\n    // corner radius of background shape works only in \n    const radius = get(cfg, ['background', 'style', 'radius']);\n    if (radius) {\n      const width = coordinate.isTransposed ? Math.abs(points[0].y - points[2].y) : points[2].x - points[1].x;\n      const height = coordinate.isTransposed ? coordinate.getWidth() : coordinate.getHeight();\n      const [r1, r2, r3, r4] = parseRadius(radius, Math.min(width, height));\n\n      //    y \n      const isReflectYTransposed = (coordinate.isTransposed && coordinate.isReflect('y'));\n      const bump = isReflectYTransposed ? 0 : 1;\n      const opposite = (r: number) => isReflectYTransposed ? -r : r;\n\n      path.push(['M', p0.x, p1.y + opposite(r1)]);\n      r1 !== 0 && path.push(['A', r1, r1, 0, 0, bump, p0.x + r1, p1.y]);\n      path.push(['L', p1.x - r2, p1.y]);\n      r2 !== 0 && path.push(['A', r2, r2, 0, 0, bump, p1.x, p1.y + opposite(r2)]);\n      path.push(['L', p1.x, p0.y - opposite(r3)]);\n      r3 !== 0 && path.push(['A', r3, r3, 0, 0, bump, p1.x - r3, p0.y]);\n      path.push(['L', p0.x + r4, p0.y]);\n      r4 !== 0 && path.push(['A', r4, r4, 0, 0, bump, p0.x, p0.y - opposite(r4)]);\n    } else {\n      path.push(['M', p0.x, p0.y]);\n      path.push(['L', p1.x, p0.y]);\n      path.push(['L', p1.x, p1.y]);\n      path.push(['L', p0.x, p1.y]);\n      path.push(['L', p0.x, p0.y]);\n    }\n\n    path.push(['z']);\n  }\n\n  if (coordinate.isPolar) {\n    const center = coordinate.getCenter();\n    const { startAngle, endAngle } = getAngle(cfg, coordinate);\n    if (coordinate.type !== 'theta' && !coordinate.isTransposed) {\n      //  path\n      path = getSectorPath(center.x, center.y, coordinate.getRadius(), startAngle, endAngle);\n    } else {\n      const pow = (v) => Math.pow(v, 2);\n      const r1 = Math.sqrt(pow(center.x - points[0].x) + pow(center.y - points[0].y));\n      const r2 = Math.sqrt(pow(center.x - points[2].x) + pow(center.y - points[2].y));\n      //  path coordinate \n      path = getSectorPath(center.x, center.y, r1, coordinate.startAngle, coordinate.endAngle, r2);\n    }\n  }\n  return path;\n}\n\n/**\n * @ignore\n *  path\n * @param points \n * @param lineCap 'round'\n * @param coor \n * @returns  path\n */\nexport function getIntervalRectPath(points: Point[], lineCap: CanvasLineCap, coor: Coordinate): PathCommand[] {\n  const width = coor.getWidth();\n  const height = coor.getHeight();\n  const isRect = coor.type === 'rect';\n  let path = [];\n  const r = (points[2].x - points[1].x) / 2;\n  const ry = coor.isTransposed ? (r * height) / width : (r * width) / height;\n  if (lineCap === 'round') {\n    if (isRect) {\n      path.push(['M', points[0].x, points[0].y + ry]);\n      path.push(['L', points[1].x, points[1].y - ry]);\n      path.push(['A', r, r, 0, 0, 1, points[2].x, points[2].y - ry]);\n      path.push(['L', points[3].x, points[3].y + ry]);\n      path.push(['A', r, r, 0, 0, 1, points[0].x, points[0].y + ry]);\n    } else {\n      path.push(['M', points[0].x, points[0].y]);\n      path.push(['L', points[1].x, points[1].y]);\n      path.push(['A', r, r, 0, 0, 1, points[2].x, points[2].y]);\n      path.push(['L', points[3].x, points[3].y]);\n      path.push(['A', r, r, 0, 0, 1, points[0].x, points[0].y]);\n    }\n    path.push(['z']);\n  } else {\n    path = getRectPath(points);\n  }\n  return path;\n}\n\n/**\n * @ignore\n *  funnel  path\n * @param points \n * @param nextPoints \n * @param isPyramid \n * @returns  path\n */\nexport function getFunnelPath(points: Point[], nextPoints: Point[], isPyramid: boolean) {\n  const path = [];\n  if (!isNil(nextPoints)) {\n    path.push(\n      ['M', points[0].x, points[0].y],\n      ['L', points[1].x, points[1].y],\n      ['L', nextPoints[1].x, nextPoints[1].y],\n      ['L', nextPoints[0].x, nextPoints[0].y],\n      ['Z']\n    );\n  } else if (isPyramid) {\n    // \n    path.push(\n      ['M', points[0].x, points[0].y],\n      ['L', points[1].x, points[1].y],\n      ['L', (points[2].x + points[3].x) / 2, (points[2].y + points[3].y) / 2],\n      ['Z']\n    );\n  } else {\n    // \n    path.push(\n      ['M', points[0].x, points[0].y],\n      ['L', points[1].x, points[1].y],\n      ['L', points[2].x, points[2].y],\n      ['L', points[3].x, points[3].y],\n      ['Z']\n    );\n  }\n\n  return path;\n}\n\n/**\n * \n */\nfunction swap<T>(p0: T, p1: T) {\n  return [p1, p0];\n}\n\n/**\n *   \n * - \n */\nexport function getRectWithCornerRadius(points: Point[], coordinate: Coordinate, radius?: number | number[]) {\n  //  \n  let [p0, p1, p2, p3] = [...points];\n  let [r1, r2, r3, r4] = typeof radius === 'number' ? Array(4).fill(radius) : radius;\n\n  if (coordinate.isTransposed) {\n    [p1, p3] = swap(p1, p3);\n  }\n\n  /**\n   * \n   */\n  if (coordinate.isReflect('y')) {\n    [p0, p1] = swap(p0, p1);\n    [p2, p3] = swap(p2, p3);\n  }\n  if (coordinate.isReflect('x')) {\n    [p0, p3] = swap(p0, p3);\n    [p1, p2] = swap(p1, p2);\n  }\n\n  const path = [];\n\n\n  /**\n   *  p1  p2\n   *      \n   *  p0  p3\n   *\n   *  \n   *\n   *  p0  p3               p2  p1\n   *                           \n   *  p1  p2  --> ()  p3  p0\n   */\n  const abs = v => Math.abs(v);\n  [r1, r2, r3, r4] = parseRadius([r1, r2, r3, r4], Math.min(abs(p3.x - p0.x), abs(p1.y - p0.y))).map(d => abs(d));\n\n  if (coordinate.isTransposed) {\n    [r1, r2, r3, r4] = [r4, r1, r2, r3]\n  }\n\n  if (p0.y < p1.y /**  */) {\n    path.push(['M', p3.x, p3.y + r3]);\n    r3 !== 0 && path.push(['A', r3, r3, 0, 0, 0, p3.x - r3, p3.y]);\n    path.push(['L', p0.x + r4, p0.y]);\n    r4 !== 0 && path.push(['A', r4, r4, 0, 0, 0, p0.x, p0.y + r4]);\n    path.push(['L', p1.x, p1.y - r1]);\n    r1 !== 0 && path.push(['A', r1, r1, 0, 0, 0/**  */, p1.x + r1, p1.y]);\n    path.push(['L', p2.x - r2, p2.y]);\n    r2 !== 0 && path.push(['A', r2, r2, 0, 0, 0, p2.x, p2.y - r2]);\n    path.push(['L', p3.x, p3.y + r3]);\n    path.push(['z']);\n  } else if (p3.x < p0.x) {\n    path.push(['M', p2.x + r2, p2.y]);\n    r2 !== 0 && path.push(['A', r2, r2, 0, 0, 0, p2.x, p2.y + r2]);\n    path.push(['L', p3.x, p3.y - r3]);\n    r3 !== 0 && path.push(['A', r3, r3, 0, 0, 0, p3.x + r3, p3.y]);\n    path.push(['L', p0.x - r4, p0.y]);\n    r4 !== 0 && path.push(['A', r4, r4, 0, 0, 0, p0.x, p0.y - r4]);\n    path.push(['L', p1.x, p1.y + r1]);\n    r1 !== 0 && path.push(['A', r1, r1, 0, 0, 0, p1.x - r1, p1.y]);\n    path.push(['L', p2.x + r2, p2.y]);\n    path.push(['z']);\n  } else {\n    path.push(['M', p1.x, p1.y + r1]);\n    r1 !== 0 && path.push(['A', r1, r1, 0, 0, 1, p1.x + r1, p1.y]);\n    path.push(['L', p2.x - r2, p2.y]);\n    r2 !== 0 && path.push(['A', r2, r2, 0, 0, 1, p2.x, p2.y + r2]);\n    path.push(['L', p3.x, p3.y - r3]);\n    r3 !== 0 && path.push(['A', r3, r3, 0, 0, 1, p3.x - r3, p3.y]);\n    path.push(['L', p0.x + r4, p0.y]);\n    r4 !== 0 && path.push(['A', r4, r4, 0, 0, 1, p0.x, p0.y - r4]);\n    path.push(['L', p1.x, p1.y + r1]);\n    path.push(['z']);\n  }\n\n  return path;\n}\n","import { flatten, isString, valuesOfKey, isNil } from '@antv/util';\nimport { getXDimensionLength } from '../../util/coordinate';\n\n// \nfunction findMinDistance(arr, scale) {\n  const count = arr.length;\n  let sourceArr = arr;\n  if (isString(sourceArr[0])) {\n    //  values \n    sourceArr = arr.map((v: string) => {\n      return scale.translate(v);\n    });\n  }\n  let distance = sourceArr[1] - sourceArr[0];\n  for (let i = 2; i < count; i++) {\n    const tmp = sourceArr[i] - sourceArr[i - 1];\n    if (distance > tmp) {\n      distance = tmp;\n    }\n  }\n  return distance;\n}\n\nfunction getDodgeCount(dataArray, dodgeBy) {\n  if (dodgeBy) {\n    const mergeData = flatten(dataArray);\n    const values = valuesOfKey(mergeData, dodgeBy);\n    return values.length;\n  }\n\n  return dataArray.length;\n}\n\n/** @ignore */\nexport function getDefaultSize(geometry): number {\n  const theme = geometry.theme;\n  const coordinate = geometry.coordinate;\n  const xScale = geometry.getXScale();\n  const xValues = xScale.values;\n  const dataArray = geometry.beforeMappingData;\n  let count: number = xValues.length;\n  const xDimensionLength = getXDimensionLength(geometry.coordinate);\n  // \n  const { intervalPadding, dodgePadding } = geometry;\n  // theme\n  const maxColumnWidth = geometry.maxColumnWidth || theme.maxColumnWidth;\n  const minColumnWidth = geometry.minColumnWidth || theme.minColumnWidth;\n  const columnWidthRatio = geometry.columnWidthRatio || theme.columnWidthRatio;\n  const multiplePieWidthRatio = geometry.multiplePieWidthRatio || theme.multiplePieWidthRatio;\n  const roseWidthRatio = geometry.roseWidthRatio || theme.roseWidthRatio;\n\n  // count\n  if (xScale.isLinear && xValues.length > 1) {\n    // Linear  min, max  count\n    xValues.sort();\n    const interval = findMinDistance(xValues, xScale);\n    count = (xScale.max - xScale.min) / interval;\n    if (xValues.length > count) {\n      count = xValues.length;\n    }\n  }\n\n  const range = xScale.range;\n  let normalizedSize = 1 / count;\n  let wr = 1;\n  if (coordinate.isPolar) {\n    // \n    if (coordinate.isTransposed && count > 1) {\n      // \n      wr = multiplePieWidthRatio;\n    } else {\n      wr = roseWidthRatio;\n    }\n  } else {\n    // \n    if (xScale.isLinear) {\n      normalizedSize *= range[1] - range[0];\n    }\n    wr = columnWidthRatio;\n  }\n\n  // \n  if (!isNil(intervalPadding) && intervalPadding >= 0) {\n    // \n    const normalizedIntervalPadding = intervalPadding / xDimensionLength;\n    normalizedSize = (1 - (count - 1) * normalizedIntervalPadding) / count;\n  } else {\n    // \n    normalizedSize *= wr;\n  }\n  // \n  if (geometry.getAdjust('dodge')) {\n    const dodgeAdjust = geometry.getAdjust('dodge');\n    const dodgeBy = dodgeAdjust.dodgeBy;\n    const dodgeCount = getDodgeCount(dataArray, dodgeBy);\n    if (!isNil(dodgePadding) && dodgePadding >= 0) {\n      // \n      const normalizedDodgePadding = dodgePadding / xDimensionLength;\n      normalizedSize = (normalizedSize - normalizedDodgePadding * (dodgeCount - 1)) / dodgeCount;\n    } else if (!isNil(intervalPadding) && intervalPadding >= 0) {\n      // wr\n      normalizedSize *= wr;\n      normalizedSize = normalizedSize / dodgeCount;\n    } else {\n      // \n      normalizedSize = normalizedSize / dodgeCount;\n    }\n    normalizedSize = normalizedSize >= 0 ? normalizedSize : 0;\n  }\n\n  // \n  if (!isNil(maxColumnWidth) && maxColumnWidth >= 0) {\n    const normalizedMaxColumnWidth = maxColumnWidth / xDimensionLength;\n    if (normalizedSize > normalizedMaxColumnWidth) {\n      normalizedSize = normalizedMaxColumnWidth;\n    }\n  }\n\n  // \bminColumnWidth0\n  if (!isNil(minColumnWidth) && minColumnWidth >= 0) {\n    const normalizedMinColumnWidth = minColumnWidth / xDimensionLength;\n    if (normalizedSize < normalizedMinColumnWidth) {\n      normalizedSize = normalizedMinColumnWidth;\n    }\n  }\n\n  return normalizedSize;\n}\n","import { IGroup } from '../../../dependents';\nimport { Point, ShapeInfo, ShapeMarkerCfg, ShapePoint } from '../../../interface';\n\nimport { registerShape, registerShapeFactory } from '../base';\nimport { BACKGROUND_SHAPE } from '../constant';\nimport { getBackgroundRectStyle, getStyle } from '../util/get-style';\nimport { getBackgroundRectPath, getIntervalRectPath, getRectPoints, getRectWithCornerRadius } from './util';\n\n/** Interval  shape  */\nconst IntervalShapeFactory = registerShapeFactory('interval', {\n  defaultShapeType: 'rect',\n  getDefaultPoints(pointInfo: ShapePoint): Point[] {\n    return getRectPoints(pointInfo);\n  },\n});\n\n/** Inerval  shape */\nregisterShape('interval', 'rect', {\n  draw(cfg: ShapeInfo, container: IGroup) {\n    const style = getStyle(cfg, false, true);\n    let group = container;\n\n    const backgroundCfg = cfg?.background;\n    if (backgroundCfg) {\n      group = container.addGroup({\n        name: 'interval-group',\n      });\n      const backgroundStyle = getBackgroundRectStyle(cfg);\n      const backgroundPath = getBackgroundRectPath(cfg, this.parsePoints(cfg.points) as Point[], this.coordinate);\n      group.addShape('path', {\n        attrs: {\n          ...backgroundStyle,\n          path: backgroundPath,\n        },\n        zIndex: -1,\n        name: BACKGROUND_SHAPE,\n      });\n    }\n\n    let path;\n    if (style.radius && this.coordinate.isRect) {\n      path = getRectWithCornerRadius(this.parsePoints(cfg.points), this.coordinate, style.radius);\n    } else {\n      path = this.parsePath(getIntervalRectPath(cfg.points as Point[], style.lineCap, this.coordinate));\n    }\n\n    const shape = group.addShape('path', {\n      attrs: {\n        ...style,\n        path,\n      },\n      name: 'interval',\n    });\n\n    return backgroundCfg ? group : shape;\n  },\n  getMarker(markerCfg: ShapeMarkerCfg) {\n    const { color, isInPolar } = markerCfg;\n    if (isInPolar) {\n      return {\n        symbol: 'circle',\n        style: {\n          r: 4.5,\n          fill: color,\n        },\n      };\n    }\n\n    return {\n      symbol: 'square',\n      style: {\n        r: 4,\n        fill: color,\n      },\n    };\n  },\n});\n\nexport default IntervalShapeFactory;\n","import { get } from '@antv/util';\nimport { Datum, MappingDatum, ShapeInfo, LooseObject } from '../interface';\nimport { ShapeAttrs } from '../dependents';\nimport { getXDimensionLength } from '../util/coordinate';\nimport Geometry, { GeometryCfg } from './base';\n/**  ShapeFactory */\nimport './shape/interval';\nimport { getDefaultSize } from './util/shape-size';\nimport { getMaxScale } from '../util/scale';\n\n/** Path  */\nexport interface IntervalCfg extends GeometryCfg {\n  /** shape  Interval Geometry  interval-rect shape  */\n  background?: { style?: ShapeAttrs };\n}\n\n/**\n * Interval \n * \n */\nexport default class Interval extends Geometry {\n  public readonly type: string = 'interval';\n  public readonly shapeType: string = 'interval';\n  /** shape  interval-rect shape  */\n  protected background?: { style?: ShapeAttrs };\n  protected generatePoints: boolean = true;\n\n  constructor(cfg: IntervalCfg) {\n    super(cfg);\n\n    const { background } = cfg;\n    this.background = background;\n  }\n\n  /**\n   *  Shape \n   * @param obj  ->  -> adjust \n   * @returns\n   */\n  protected createShapePointsCfg(obj: Datum) {\n    const cfg = super.createShapePointsCfg(obj);\n\n    //  shape  size\n    let size;\n    const sizeAttr = this.getAttribute('size');\n    if (sizeAttr) {\n      size = this.getAttributeValues(sizeAttr, obj)[0];\n      // \n      const coordinate = this.coordinate;\n      const coordinateWidth = getXDimensionLength(coordinate);\n      size = size / coordinateWidth;\n    } else {\n      if (!this.defaultSize) {\n        this.defaultSize = getDefaultSize(this);\n      }\n      size = this.defaultSize;\n    }\n    cfg.size = size;\n\n    return cfg;\n  }\n\n  /**\n   *  y  scale \n   *  Y  0  \n   */\n  protected adjustScale() {\n    super.adjustScale();\n    const yScale = this.getYScale();\n    // \n    if (this.coordinate.type === 'theta') {\n      yScale.change({\n        nice: false,\n        min: 0,\n        //  stack yScale  max this.updateStackRange()\n        max: getMaxScale(yScale),\n      });\n    } else {\n      //  0 \n      const scaleDefs = this.scaleDefs;\n      const { field, min, max, type } = yScale;\n      if (type !== 'time') {\n        // time \n        //  Y  0 \n        if (min > 0 && !get(scaleDefs, [field, 'min'])) {\n          yScale.change({\n            min: 0,\n          });\n        }\n        //  0 \n        if (max <= 0 && !get(scaleDefs, [field, 'max'])) {\n          yScale.change({\n            max: 0,\n          });\n        }\n      }\n    }\n  }\n\n  /**\n   * @override\n   */\n  protected getDrawCfg(mappingData: MappingDatum): ShapeInfo {\n    const shapeCfg = super.getDrawCfg(mappingData);\n    shapeCfg.background = this.background;\n\n    return shapeCfg;\n  }\n}\n","import Path, { PathCfg } from './path';\n/**  Path  ShapeFactory */\nimport './shape/line';\n\n/**\n * Line \n * \n */\nexport default class Line extends Path {\n  public type: string = 'line';\n\n  constructor(cfg: PathCfg) {\n    super(cfg);\n\n    const { sortable = false } = cfg; //  X \n    this.sortable = sortable;\n  }\n}\n","import { IGroup, IShape } from '../../../dependents';\nimport { ShapeInfo } from '../../../interface';\nimport { MarkerSymbols } from '../../../util/marker';\nimport { getStyle } from '../util/get-style';\n\nexport const SHAPES = ['circle', 'square', 'bowtie', 'diamond', 'hexagon', 'triangle', 'triangle-down'];\nexport const HOLLOW_SHAPES = ['cross', 'tick', 'plus', 'hyphen', 'line'];\n\n/**\n * @ignore\n * Draws points\n * @param shape\n * @param cfg\n * @param container\n * @param shapeName\n * @param isStroke\n * @returns points\n */\nexport function drawPoints(\n  shape,\n  cfg: ShapeInfo,\n  container: IGroup,\n  shapeName: string,\n  isStroke: boolean\n): IShape | IGroup {\n  const style = getStyle(cfg, isStroke, !isStroke, 'r');\n  const points = shape.parsePoints(cfg.points);\n  let pointPosition = points[0];\n  if (cfg.isStack) {\n    pointPosition = points[1];\n  } else if (points.length > 1) {\n    const group = container.addGroup();\n    for (const point of points) {\n      group.addShape({\n        type: 'marker',\n        attrs: {\n          ...style,\n          symbol: MarkerSymbols[shapeName] || shapeName,\n          ...point,\n        },\n      });\n    }\n    return group;\n  }\n\n  return container.addShape({\n    type: 'marker',\n    attrs: {\n      ...style,\n      symbol: MarkerSymbols[shapeName] || shapeName,\n      ...pointPosition,\n    },\n  });\n}\n","import { each } from '@antv/util';\nimport { IGroup } from '../../../dependents';\nimport { Point, ShapeInfo, ShapeMarkerCfg, ShapePoint } from '../../../interface';\n\nimport { MarkerSymbols } from '../../../util/marker';\nimport { registerShape, registerShapeFactory } from '../base';\nimport { splitPoints } from '../util/split-points';\nimport { drawPoints, SHAPES } from './util';\n\nconst PointShapeFactory = registerShapeFactory('point', {\n  defaultShapeType: 'hollow-circle',\n  getDefaultPoints(pointInfo: ShapePoint): Point[] {\n    return splitPoints(pointInfo);\n  },\n});\n\neach(SHAPES, (shapeName: string) => {\n  //  shape  hollow-shape\n  registerShape('point', `hollow-${shapeName}`, {\n    draw(cfg: ShapeInfo, container: IGroup) {\n      return drawPoints(this, cfg, container, shapeName, true);\n    },\n    getMarker(markerCfg: ShapeMarkerCfg) {\n      const { color } = markerCfg;\n      return {\n        symbol: MarkerSymbols[shapeName] || shapeName,\n        style: {\n          r: 4.5,\n          stroke: color,\n          fill: null,\n        },\n      };\n    },\n  });\n});\n\nexport default PointShapeFactory;\n","import { MappingDatum, ShapeInfo } from '../interface';\nimport Geometry from './base';\n/**  Point  ShapeFactory */\nimport './shape/point';\n\n/**\n * Point \n * \n */\nexport default class Point extends Geometry {\n  public readonly type: string = 'point';\n  public readonly shapeType: string = 'point';\n  protected generatePoints: boolean = true;\n\n  /**\n   * \n   * @param mappingDatum\n   * @returns draw cfg\n   */\n  protected getDrawCfg(mappingDatum: MappingDatum): ShapeInfo {\n    const shapeCfg = super.getDrawCfg(mappingDatum);\n\n    return {\n      ...shapeCfg,\n      isStack: !!this.getAdjust('stack'), // \n    };\n  }\n}\n","import { each, isEmpty, isEqual, last } from '@antv/util';\nimport { IGroup } from '../../../dependents';\nimport { ShapeInfo, ShapeMarkerCfg, ShapePoint } from '../../../interface';\n\nimport { registerShape, registerShapeFactory } from '../base';\nimport { getStyle } from '../util/get-style';\n\nfunction getPath(points: any[]) {\n  let flag: any = points[0];\n  let i = 1;\n\n  const path = [['M', flag.x, flag.y]];\n\n  while (i < points.length) {\n    const c: any = points[i];\n    if (c.x !== points[i - 1].x || c.y !== points[i - 1].y) {\n      path.push(['L', c.x, c.y]);\n      if (c.x === flag.x && c.y === flag.y && i < points.length - 1) {\n        flag = points[i + 1];\n        path.push(['Z']);\n        path.push(['M', flag.x, flag.y]);\n        i++;\n      }\n    }\n    i++;\n  }\n\n  if (!isEqual(last(path), flag)) {\n    path.push(['L', flag.x, flag.y]);\n  }\n\n  path.push(['Z']);\n\n  return path;\n}\n\nconst PolygonShapeFactory = registerShapeFactory('polygon', {\n  defaultShapeType: 'polygon',\n  getDefaultPoints(pointInfo: ShapePoint) {\n    const points = [];\n    each(pointInfo.x as number[], (subX, index) => {\n      const subY = pointInfo.y[index];\n      points.push({\n        x: subX,\n        y: subY,\n      });\n    });\n    return points;\n  },\n});\n\nregisterShape('polygon', 'polygon', {\n  draw(cfg: ShapeInfo, container: IGroup) {\n    if (!isEmpty(cfg.points)) {\n      const shapeAttrs = getStyle(cfg, true, true);\n      const path = this.parsePath(getPath(cfg.points));\n      return container.addShape('path', {\n        attrs: {\n          ...shapeAttrs,\n          path,\n        },\n        name: 'polygon',\n      });\n    }\n  },\n  getMarker(markerCfg: ShapeMarkerCfg) {\n    const { color } = markerCfg;\n    return {\n      symbol: 'square',\n      style: {\n        r: 4,\n        fill: color,\n      },\n    };\n  },\n});\n\nexport default PolygonShapeFactory;\n","import { isArray } from '@antv/util';\nimport { Datum } from '../interface';\nimport Geometry from './base';\n/**  Path  ShapeFactory */\nimport './shape/polygon';\n\n/**\n * Polygon \n * \n */\nexport default class Polygon extends Geometry {\n  public readonly type: string = 'polygon';\n  public readonly shapeType: string = 'polygon';\n  protected generatePoints: boolean = true;\n\n  /**\n   *  Shape \n   * @param obj\n   * @returns\n   */\n  protected createShapePointsCfg(obj: Datum) {\n    const cfg: any = super.createShapePointsCfg(obj);\n    let x = cfg.x;\n    let y = cfg.y;\n    let temp;\n    // x y \n    if (!(isArray(x) && isArray(y))) {\n      const xScale = this.getXScale();\n      const yScale = this.getYScale();\n      const xCount = xScale.values.length;\n      const yCount = yScale.values.length;\n      const xOffset = (0.5 * 1) / xCount;\n      const yOffset = (0.5 * 1) / yCount;\n\n      if (xScale.isCategory && yScale.isCategory) {\n        // x,y\n        x = [x - xOffset, x - xOffset, x + xOffset, x + xOffset];\n        y = [y - yOffset, y + yOffset, y + yOffset, y - yOffset];\n      } else if (isArray(x)) {\n        // x \n        temp = x;\n        x = [temp[0], temp[0], temp[1], temp[1]];\n        y = [y - yOffset / 2, y + yOffset / 2, y + yOffset / 2, y - yOffset / 2];\n      } else if (isArray(y)) {\n        // y \n        temp = y;\n        y = [temp[0], temp[1], temp[1], temp[0]];\n        x = [x - xOffset / 2, x - xOffset / 2, x + xOffset / 2, x + xOffset / 2];\n      }\n      cfg.x = x;\n      cfg.y = y;\n    }\n    return cfg;\n  }\n}\n","import { registerShapeFactory } from '../base';\n\nconst SchemaShapeFactory = registerShapeFactory('schema', {\n  defaultShapeType: '', // 'schema' is for some custom shapes, so will not specify defaultShapeType\n});\n\nexport default SchemaShapeFactory;\n","import { LooseObject } from '../interface';\nimport { getXDimensionLength } from '../util/coordinate';\nimport Geometry from './base';\n/**  ShapeFactory */\nimport './shape/schema';\nimport { getDefaultSize } from './util/shape-size';\n\n/**\n * Schema \n */\nexport default class Schema extends Geometry {\n  public readonly type: string = 'schema';\n  public readonly shapeType: string = 'schema';\n  protected generatePoints: boolean = true;\n\n  /**\n   *  Shape \n   * @param record\n   * @returns\n   */\n  protected createShapePointsCfg(record: LooseObject) {\n    const cfg = super.createShapePointsCfg(record);\n\n    //  shape  size\n    let size;\n    const sizeAttr = this.getAttribute('size');\n    if (sizeAttr) {\n      size = this.getAttributeValues(sizeAttr, record)[0];\n      // \n      const coordinate = this.coordinate;\n      const coordinateWidth = getXDimensionLength(coordinate);\n      size = size / coordinateWidth;\n    } else {\n      if (!this.defaultSize) {\n        this.defaultSize = getDefaultSize(this);\n      }\n      size = this.defaultSize;\n    }\n    cfg.size = size;\n\n    return cfg;\n  }\n}\n","import { each, max, map, isArray } from '@antv/util';\nimport { IGroup } from '../../../dependents';\nimport { ShapeInfo, ShapeMarkerCfg, ViolinShapePoint } from '../../../interface';\nimport { registerShape, registerShapeFactory } from '../base';\nimport { getViolinPath } from '../util/get-path-points';\nimport { getStyle } from '../util/get-style';\n\nfunction normalizeSize(arr: number[]) {\n  if (!isArray(arr)) {\n    return [];\n  }\n  const maxValue = max(arr);\n  return map(arr, (num) => num / maxValue);\n}\n\nconst ViolinShapeFactory = registerShapeFactory('violin', {\n  defaultShapeType: 'violin',\n  getDefaultPoints(pointInfo: ViolinShapePoint) {\n    const radius = pointInfo.size / 2;\n    const points = [];\n    const sizeArr = normalizeSize(pointInfo._size);\n\n    each(pointInfo.y as number[], (y, index) => {\n      const offset = sizeArr[index] * radius;\n      const isMin = index === 0;\n      const isMax = index === (pointInfo.y as number[]).length - 1;\n      points.push({\n        isMin,\n        isMax,\n        x: (pointInfo.x as number) - offset,\n        y,\n      });\n      points.unshift({\n        isMin,\n        isMax,\n        x: (pointInfo.x as number) + offset,\n        y,\n      });\n    });\n    return points;\n  },\n});\n\nregisterShape('violin', 'violin', {\n  draw(cfg: ShapeInfo, container: IGroup) {\n    const shapeAttrs = getStyle(cfg, true, true);\n    const path = this.parsePath(getViolinPath(cfg.points));\n    return container.addShape('path', {\n      attrs: {\n        ...shapeAttrs,\n        path,\n      },\n      name: 'violin',\n    });\n  },\n  getMarker(markerCfg: ShapeMarkerCfg) {\n    const { color } = markerCfg;\n\n    return {\n      symbol: 'circle',\n      style: {\n        r: 4,\n        fill: color,\n      },\n    };\n  },\n});\n\nexport default ViolinShapeFactory;\n","import { get } from '@antv/util';\nimport { FIELD_ORIGIN } from '../constant';\nimport { Datum, ViolinShapePoint } from '../interface';\nimport { getXDimensionLength } from '../util/coordinate';\nimport { getDefaultSize } from './util/shape-size';\nimport Geometry from './base';\n/**  Path  ShapeFactory */\nimport './shape/violin';\n\n/**\n * Violin \n * \n */\nexport default class Violin extends Geometry<ViolinShapePoint> {\n  public readonly type: string = 'violin';\n  public readonly shapeType: string = 'violin';\n  protected generatePoints: boolean = true;\n  /** size  */\n  private _sizeField: string;\n\n  /**\n   *  Shape \n   * @param record\n   * @returns\n   */\n  protected createShapePointsCfg(record: Datum) {\n    const cfg = super.createShapePointsCfg(record);\n\n    //  shape  size\n    let size;\n    const sizeAttr = this.getAttribute('size');\n    if (sizeAttr) {\n      size = this.getAttributeValues(sizeAttr, record)[0];\n      // \n      const coordinate = this.coordinate;\n      const coordinateWidth = getXDimensionLength(coordinate);\n      size = size / coordinateWidth;\n    } else {\n      if (!this.defaultSize) {\n        this.defaultSize = getDefaultSize(this);\n      }\n      size = this.defaultSize;\n    }\n    cfg.size = size;\n    cfg._size = get(record[FIELD_ORIGIN], [this._sizeField]);\n    return cfg;\n  }\n\n  /**\n   * @override\n   */\n  protected initAttributes() {\n    const { attributeOption } = this;\n    const sizeField = attributeOption.size\n      ? attributeOption.size.fields[0]\n      : this._sizeField\n      ? this._sizeField\n      : 'size';\n    this._sizeField = sizeField;\n    // fixme \n    delete attributeOption.size;\n    super.initAttributes();\n  }\n}\n","import { each } from '@antv/util';\nimport { Point } from '../../../interface';\n\n/**\n * @ignore\n * Gets cpath\n * @param from\n * @param to\n * @returns\n */\nexport function getCPath(from: Point, to: Point) {\n  return ['C', (from.x * 1) / 2 + (to.x * 1) / 2, from.y, (from.x * 1) / 2 + (to.x * 1) / 2, to.y, to.x, to.y];\n}\n\n/**\n * @ignore\n * Gets qpath\n * @param to\n * @param center\n * @returns\n */\nexport function getQPath(to: Point, center: Point) {\n  const points = [];\n  points.push({\n    x: center.x,\n    y: center.y,\n  });\n  points.push(to);\n\n  const sub = ['Q'];\n  each(points, (point) => {\n    sub.push(point.x, point.y);\n  });\n\n  return sub;\n}\n","import { IGroup } from '../../../dependents';\nimport { ShapeInfo, ShapeMarkerCfg } from '../../../interface';\nimport { registerShape } from '../base';\nimport { getShapeAttrs } from './util';\n\n/**\n * \n */\nregisterShape('area', 'line', {\n  draw(cfg: ShapeInfo, container: IGroup) {\n    const attrs = getShapeAttrs(cfg, true, false, this);\n    const shape = container.addShape({\n      type: 'path',\n      attrs,\n      name: 'area',\n    });\n\n    return shape;\n  },\n  getMarker(markerCfg: ShapeMarkerCfg) {\n    const { color } = markerCfg;\n    return {\n      symbol: (x: number, y: number, r: number = 5.5) => {\n        return [['M', x - r, y - 4], ['L', x + r, y - 4], ['L', x + r, y + 4], ['L', x - r, y + 4], ['Z']];\n      },\n      style: {\n        r: 5,\n        stroke: color,\n        fill: null,\n      },\n    };\n  },\n});\n","import { IGroup } from '../../../dependents';\nimport { ShapeInfo, ShapeMarkerCfg } from '../../../interface';\n\nimport { registerShape } from '../base';\nimport { getConstraint, getShapeAttrs } from './util';\n\n/**\n * \n */\nregisterShape('area', 'smooth', {\n  draw(cfg: ShapeInfo, container: IGroup) {\n    const coordinate = this.coordinate;\n    const attrs = getShapeAttrs(cfg, false, true, this, getConstraint(coordinate));\n    const shape = container.addShape({\n      type: 'path',\n      attrs,\n      name: 'area',\n    });\n\n    return shape;\n  },\n  getMarker(markerCfg: ShapeMarkerCfg) {\n    const { color } = markerCfg;\n    return {\n      symbol: (x: number, y: number, r: number = 5.5) => {\n        return [['M', x - r, y - 4], ['L', x + r, y - 4], ['L', x + r, y + 4], ['L', x - r, y + 4], ['Z']];\n      },\n      style: {\n        r: 5,\n        fill: color,\n        fillOpacity: 1,\n      },\n    };\n  },\n});\n","import { IGroup } from '../../../dependents';\nimport { ShapeInfo, ShapeMarkerCfg } from '../../../interface';\n\nimport { registerShape } from '../base';\nimport { getConstraint, getShapeAttrs } from './util';\n\n/**  */\nregisterShape('area', 'smooth-line', {\n  draw(cfg: ShapeInfo, container: IGroup) {\n    const coordinate = this.coordinate;\n    const attrs = getShapeAttrs(cfg, true, true, this, getConstraint(coordinate));\n    const shape = container.addShape({\n      type: 'path',\n      attrs,\n      name: 'area',\n    });\n\n    return shape;\n  },\n  getMarker(markerCfg: ShapeMarkerCfg) {\n    const { color } = markerCfg;\n    return {\n      symbol: (x: number, y: number, r: number = 5.5) => {\n        return [['M', x - r, y - 4], ['L', x + r, y - 4], ['L', x + r, y + 4], ['L', x - r, y + 4], ['Z']];\n      },\n      style: {\n        r: 5,\n        stroke: color,\n        fill: null,\n      },\n    };\n  },\n});\n","import { IGroup } from '../../../dependents';\nimport { Point, ShapeInfo, ShapeMarkerCfg } from '../../../interface';\n\nimport { getArcPath } from '../../../util/graphics';\nimport { registerShape } from '../base';\nimport { getStyle } from '../util/get-style';\nimport { getCPath, getQPath } from './util';\n\nfunction getArcShapePath(from: Point, to: Point, center: Point) {\n  const sub = getQPath(to, center);\n  const path = [['M', from.x, from.y]];\n  path.push(sub);\n  return path;\n}\n\nfunction getArcShapeWeightPath(points: Point[], center: Point) {\n  const arc1 = getQPath(points[1], center);\n  const arc2 = getQPath(points[3], center);\n  const path = [['M', points[0].x, points[0].y]];\n  path.push(arc2);\n  path.push(['L', points[3].x, points[3].y]);\n  path.push(['L', points[2].x, points[2].y]);\n  path.push(arc1);\n  path.push(['L', points[1].x, points[1].y]);\n  path.push(['L', points[0].x, points[0].y]);\n  path.push(['Z']);\n  return path;\n}\n\n// \nregisterShape('edge', 'arc', {\n  draw(cfg: ShapeInfo, container: IGroup) {\n    const style = getStyle(cfg, true, false, 'lineWidth');\n\n    let points = cfg.points as Point[];\n    const type = points.length > 2 ? 'weight' : 'normal';\n    let path;\n    if (cfg.isInCircle) {\n      const center = { x: 0, y: 1 };\n      if (type === 'normal') {\n        path = getArcShapePath(points[0], points[1], center);\n      } else {\n        style.fill = style.stroke;\n        path = getArcShapeWeightPath(points, center);\n      }\n      path = this.parsePath(path);\n\n      return container.addShape('path', {\n        attrs: {\n          ...style,\n          path,\n        },\n      });\n    } else {\n      if (type === 'normal') {\n        points = this.parsePoints(points);\n        path = getArcPath(\n          (points[1].x + points[0].x) / 2,\n          points[0].y,\n          Math.abs(points[1].x - points[0].x) / 2,\n          Math.PI,\n          Math.PI * 2\n        );\n        return container.addShape('path', {\n          attrs: {\n            ...style,\n            path,\n          },\n        });\n      } else {\n        const c1 = getCPath(points[1], points[3]);\n        const c2 = getCPath(points[2], points[0]);\n\n        path = [\n          ['M', points[0].x, points[0].y],\n          ['L', points[1].x, points[1].y],\n          c1,\n          ['L', points[3].x, points[3].y],\n          ['L', points[2].x, points[2].y],\n          c2,\n          ['Z'],\n        ];\n        path = this.parsePath(path);\n        style.fill = style.stroke;\n\n        return container.addShape('path', {\n          attrs: {\n            ...style,\n            path,\n          },\n        });\n      }\n    }\n  },\n  getMarker(markerCfg: ShapeMarkerCfg) {\n    return {\n      symbol: 'circle',\n      style: {\n        r: 4.5,\n        fill: markerCfg.color,\n      },\n    };\n  },\n});\n","import { IGroup } from '../../../dependents';\nimport { Point, ShapeInfo, ShapeMarkerCfg } from '../../../interface';\n\nimport { registerShape } from '../base';\nimport { getStyle } from '../util/get-style';\nimport { getCPath } from './util';\n\nfunction getSmoothPath(from: Point, to: Point) {\n  const sub = getCPath(from, to);\n  const path = [['M', from.x, from.y]];\n\n  path.push(sub);\n  return path;\n}\n\nregisterShape('edge', 'smooth', {\n  draw(cfg: ShapeInfo, container: IGroup) {\n    const style = getStyle(cfg, true, false, 'lineWidth');\n    const points = cfg.points;\n    const path = this.parsePath(getSmoothPath(points[0] as Point, points[1] as Point));\n    return container.addShape('path', {\n      attrs: {\n        ...style,\n        path,\n      },\n    });\n  },\n  getMarker(markerCfg: ShapeMarkerCfg) {\n    return {\n      symbol: 'circle',\n      style: {\n        r: 4.5,\n        fill: markerCfg.color,\n      },\n    };\n  },\n});\n","import { each } from '@antv/util';\nimport { IGroup } from '../../../dependents';\nimport { Point, ShapeInfo, ShapeMarkerCfg } from '../../../interface';\n\nimport { registerShape } from '../base';\nimport { getStyle } from '../util/get-style';\n\nconst CORNER_PERCENT = 1 / 3;\n\nfunction getVHVPath(from: Point, to: Point) {\n  const points = [];\n  points.push({\n    x: from.x,\n    y: from.y * (1 - CORNER_PERCENT) + to.y * CORNER_PERCENT,\n  });\n  points.push({\n    x: to.x,\n    y: from.y * (1 - CORNER_PERCENT) + to.y * CORNER_PERCENT,\n  });\n  points.push(to);\n\n  const path = [['M', from.x, from.y]];\n  each(points, (point) => {\n    path.push(['L', point.x, point.y]);\n  });\n\n  return path;\n}\n\nregisterShape('edge', 'vhv', {\n  draw(cfg: ShapeInfo, container: IGroup) {\n    const style = getStyle(cfg, true, false, 'lineWidth');\n    const points = cfg.points;\n    const path = this.parsePath(getVHVPath(points[0] as Point, points[1] as Point));\n    return container.addShape('path', {\n      attrs: {\n        ...style,\n        path,\n      },\n    });\n  },\n  getMarker(markerCfg: ShapeMarkerCfg) {\n    return {\n      symbol: 'circle',\n      style: {\n        r: 4.5,\n        fill: markerCfg.color,\n      },\n    };\n  },\n});\n","import { isArray, isNil } from '@antv/util';\nimport { IGroup, PathCommand } from '../../../dependents';\nimport { Point, ShapeInfo, ShapeMarkerCfg, ShapePoint } from '../../../interface';\n\nimport { registerShape } from '../base';\nimport { getStyle } from '../util/get-style';\n\nfunction parseValue(value: number[]) {\n  const array = !isArray(value) ? [value] : value;\n\n  const min = array[0]; // \n  const max = array[array.length - 1]; // \n  const min1 = array.length > 1 ? array[1] : min;\n  const max1 = array.length > 3 ? array[3] : max;\n  const median = array.length > 2 ? array[2] : min1;\n\n  return {\n    min, // \n    max, // \n    min1,\n    max1,\n    median,\n  };\n}\n\nfunction getBoxPoints(x: number | number[], y: number | number[], size: number): Point[] {\n  const halfSize = size / 2;\n  let pointsArray;\n  if (isArray(y)) {\n    // 2\n    const { min, max, median, min1, max1 } = parseValue(y);\n    const minX = (x as number) - halfSize;\n    const maxX = (x as number) + halfSize;\n    pointsArray = [\n      [minX, max],\n      [maxX, max],\n      [x as number, max],\n      [x as number, max1],\n      [minX, min1],\n      [minX, max1],\n      [maxX, max1],\n      [maxX, min1],\n      [x as number, min1],\n      [x as number, min],\n      [minX, min],\n      [maxX, min],\n      [minX, median],\n      [maxX, median],\n    ];\n  } else {\n    // \n    y = isNil(y) ? 0.5 : y;\n    const { min, max, median, min1, max1 } = parseValue(x as number[]);\n    const minY = y - halfSize;\n    const maxY = y + halfSize;\n    pointsArray = [\n      [min, minY],\n      [min, maxY],\n      [min, y],\n      [min1, y],\n      [min1, minY],\n      [min1, maxY],\n      [max1, maxY],\n      [max1, minY],\n      [max1, y],\n      [max, y],\n      [max, minY],\n      [max, maxY],\n      [median, minY],\n      [median, maxY],\n    ];\n  }\n\n  return pointsArray.map((arr) => {\n    return {\n      x: arr[0],\n      y: arr[1],\n    };\n  });\n}\n\nfunction getBoxPath(points): PathCommand[] {\n  return [\n    ['M', points[0].x, points[0].y],\n    ['L', points[1].x, points[1].y],\n    ['M', points[2].x, points[2].y],\n    ['L', points[3].x, points[3].y],\n    ['M', points[4].x, points[4].y],\n    ['L', points[5].x, points[5].y],\n    ['L', points[6].x, points[6].y],\n    ['L', points[7].x, points[7].y],\n    ['L', points[4].x, points[4].y], //  z\n    ['Z'],\n    ['M', points[8].x, points[8].y],\n    ['L', points[9].x, points[9].y],\n    ['M', points[10].x, points[10].y],\n    ['L', points[11].x, points[11].y],\n    ['M', points[12].x, points[12].y],\n    ['L', points[13].x, points[13].y],\n  ];\n}\n\n// box shape\nregisterShape('schema', 'box', {\n  getPoints(shapePoint: ShapePoint) {\n    const { x, y, size } = shapePoint;\n    return getBoxPoints(x as number, y as number[], size);\n  },\n  draw(cfg: ShapeInfo, container: IGroup) {\n    const style = getStyle(cfg, true, false);\n    const path = this.parsePath(getBoxPath(cfg.points));\n    const shape = container.addShape('path', {\n      attrs: {\n        ...style,\n        path,\n        name: 'schema',\n      },\n    });\n\n    return shape;\n  },\n  getMarker(markerCfg: ShapeMarkerCfg) {\n    const { color } = markerCfg;\n    return {\n      symbol(x: number, y: number, r: number) {\n        const yValues = [y - 6, y - 3, y, y + 3, y + 6];\n        const points = getBoxPoints(x, yValues, r);\n        return [\n          ['M', points[0].x + 1, points[0].y],\n          ['L', points[1].x - 1, points[1].y],\n          ['M', points[2].x, points[2].y],\n          ['L', points[3].x, points[3].y],\n          ['M', points[4].x, points[4].y],\n          ['L', points[5].x, points[5].y],\n          ['L', points[6].x, points[6].y],\n          ['L', points[7].x, points[7].y],\n          ['L', points[4].x, points[4].y],\n          ['Z'],\n          ['M', points[8].x, points[8].y],\n          ['L', points[9].x, points[9].y],\n          ['M', points[10].x + 1, points[10].y],\n          ['L', points[11].x - 1, points[11].y],\n          ['M', points[12].x, points[12].y],\n          ['L', points[13].x, points[13].y],\n        ];\n      },\n      style: {\n        r: 6,\n        lineWidth: 1,\n        stroke: color,\n      },\n    };\n  },\n});\n","import { isArray } from '@antv/util';\nimport { IGroup, PathCommand } from '../../../dependents';\nimport { Point, ShapeInfo, ShapeMarkerCfg, ShapePoint } from '../../../interface';\n\nimport { padEnd } from '../../../util/helper';\nimport { registerShape } from '../base';\nimport { getStyle } from '../util/get-style';\n\nfunction getCandleYValues(value: number | number[]) {\n  const array = !isArray(value) ? [value] : value;\n  // \n  const sorted = array.sort((a, b) => b - a);\n  return padEnd(sorted, 4, sorted[sorted.length - 1]);\n}\n\n// get candle shape's key points\nfunction getCandlePoints(x: number, y: number[], size: number): Point[] {\n  const yValues = getCandleYValues(y);\n  return [\n    { x, y: yValues[0] },\n    { x, y: yValues[1] },\n    { x: x - size / 2, y: yValues[2] },\n    { x: x - size / 2, y: yValues[1] },\n    { x: x + size / 2, y: yValues[1] },\n    { x: x + size / 2, y: yValues[2] },\n    { x, y: yValues[2] },\n    { x, y: yValues[3] },\n  ];\n}\n\nfunction getCandlePath(points): PathCommand[] {\n  return [\n    ['M', points[0].x, points[0].y],\n    ['L', points[1].x, points[1].y],\n    ['M', points[2].x, points[2].y],\n    ['L', points[3].x, points[3].y],\n    ['L', points[4].x, points[4].y],\n    ['L', points[5].x, points[5].y],\n    ['Z'],\n    ['M', points[6].x, points[6].y],\n    ['L', points[7].x, points[7].y],\n  ];\n}\n\n// k line shape\nregisterShape('schema', 'candle', {\n  getPoints(shapePoint: ShapePoint) {\n    const { x, y, size } = shapePoint;\n    return getCandlePoints(x as number, y as number[], size);\n  },\n  draw(cfg: ShapeInfo, container: IGroup) {\n    const style = getStyle(cfg, true, true);\n    const path = this.parsePath(getCandlePath(cfg.points));\n    const shape = container.addShape('path', {\n      attrs: {\n        ...style,\n        path,\n        name: 'schema',\n      },\n    });\n\n    return shape;\n  },\n  getMarker(markerCfg: ShapeMarkerCfg) {\n    const { color } = markerCfg;\n    return {\n      symbol(x: number, y: number, r: number) {\n        const yValues = [y + 7.5, y + 3, y - 3, y - 7.5];\n        const points = getCandlePoints(x, yValues, r);\n        return [\n          ['M', points[0].x, points[0].y],\n          ['L', points[1].x, points[1].y],\n          ['M', points[2].x, points[2].y],\n          ['L', points[3].x, points[3].y],\n          ['L', points[4].x, points[4].y],\n          ['L', points[5].x, points[5].y],\n          ['Z'],\n          ['M', points[6].x, points[6].y],\n          ['L', points[7].x, points[7].y],\n        ];\n      },\n      style: {\n        lineWidth: 1,\n        stroke: color,\n        fill: color,\n        r: 6,\n      },\n    };\n  },\n});\n","import { isEmpty, clamp } from '@antv/util';\nimport { IGroup } from '../../../dependents';\nimport { ShapeInfo, ShapeMarkerCfg } from '../../../interface';\n\nimport { registerShape } from '../base';\nimport { getStyle } from '../util/get-style';\n\nfunction getRectAttrs(points: any[], size: number) {\n  const width = Math.abs(points[0].x - points[2].x);\n  const height = Math.abs(points[0].y - points[2].y);\n\n  let len = Math.min(width, height);\n  if (size) {\n    len = clamp(size, 0, Math.min(width, height));\n  }\n  len = len / 2;\n  const centerX = (points[0].x + points[2].x) / 2;\n  const centerY = (points[0].y + points[2].y) / 2;\n\n  return {\n    x: centerX - len,\n    y: centerY - len,\n    width: len * 2,\n    height: len * 2,\n  };\n}\n\nregisterShape('polygon', 'square', {\n  draw(cfg: ShapeInfo, container: IGroup) {\n    if (!isEmpty(cfg.points)) {\n      const shapeAttrs = getStyle(cfg, true, true);\n      const points = this.parsePoints(cfg.points); // \n      return container.addShape('rect', {\n        attrs: {\n          ...shapeAttrs,\n          ...getRectAttrs(points, cfg.size), //  rect \n        },\n        name: 'polygon',\n      });\n    }\n  },\n  getMarker(markerCfg: ShapeMarkerCfg) {\n    const { color } = markerCfg;\n    return {\n      symbol: 'square',\n      style: {\n        r: 4,\n        fill: color,\n      },\n    };\n  },\n});\n","import { IGroup } from '../../../dependents';\nimport { Point, ShapeInfo, ShapeMarkerCfg, ShapePoint } from '../../../interface';\n\nimport { registerShape } from '../base';\nimport { getStyle } from '../util/get-style';\nimport { getFunnelPath, getRectPoints } from './util';\n\n/**  */\nregisterShape('interval', 'funnel', {\n  getPoints(shapePoint: ShapePoint) {\n    shapePoint.size = shapePoint.size * 2; //  size \n    return getRectPoints(shapePoint);\n  },\n  draw(cfg: ShapeInfo, container: IGroup) {\n    const style = getStyle(cfg, false, true);\n    const path = this.parsePath(getFunnelPath(cfg.points as Point[], cfg.nextPoints as Point[], false));\n    const shape = container.addShape('path', {\n      attrs: {\n        ...style,\n        path,\n      },\n      name: 'interval',\n    });\n    return shape;\n  },\n  getMarker(markerCfg: ShapeMarkerCfg) {\n    const { color } = markerCfg;\n    return {\n      symbol: 'square',\n      style: {\n        r: 4,\n        fill: color,\n      },\n    };\n  },\n});\n","import { IGroup } from '../../../dependents';\nimport { Point, ShapeInfo, ShapeMarkerCfg } from '../../../interface';\n\nimport { registerShape } from '../base';\nimport { BACKGROUND_SHAPE } from '../constant';\nimport { getBackgroundRectStyle, getStyle } from '../util/get-style';\nimport { getBackgroundRectPath, getRectPath } from './util';\n\n/**  */\nregisterShape('interval', 'hollow-rect', {\n  draw(cfg: ShapeInfo, container: IGroup) {\n    const style = getStyle(cfg, true, false);\n    let group = container;\n    const backgroundCfg = cfg?.background;\n    if (backgroundCfg) {\n      group = container.addGroup();\n      const backgroundStyle = getBackgroundRectStyle(cfg);\n      const backgroundPath = getBackgroundRectPath(cfg, this.parsePoints(cfg.points) as Point[], this.coordinate);\n      group.addShape('path', {\n        attrs: {\n          ...backgroundStyle,\n          path: backgroundPath,\n        },\n        zIndex: -1,\n        name: BACKGROUND_SHAPE,\n      });\n    }\n\n    const path = this.parsePath(getRectPath(cfg.points as Point[]));\n    const shape = group.addShape('path', {\n      attrs: {\n        ...style,\n        path,\n      },\n      name: 'interval',\n    });\n\n    return backgroundCfg ? group : shape;\n  },\n  getMarker(markerCfg: ShapeMarkerCfg) {\n    const { color, isInPolar } = markerCfg;\n    if (isInPolar) {\n      return {\n        symbol: 'circle',\n        style: {\n          r: 4.5,\n          stroke: color,\n          fill: null,\n        },\n      };\n    }\n\n    return {\n      symbol: 'square',\n      style: {\n        r: 4,\n        stroke: color,\n        fill: null,\n      },\n    };\n  },\n});\n","import { isArray } from '@antv/util';\nimport { IGroup } from '../../../dependents';\nimport { Point, ShapeInfo, ShapeMarkerCfg, ShapePoint } from '../../../interface';\n\nimport { registerShape } from '../base';\nimport { getStyle } from '../util/get-style';\nimport { getRectPath } from './util';\nimport { omit } from '../../../util/helper';\n\n//  Line \nfunction getLinePoints(pointInfo: ShapePoint): Point[] {\n  const { x, y, y0 } = pointInfo;\n\n  if (isArray(y)) {\n    return y.map((yItem, idx) => {\n      return {\n        x: isArray(x) ? x[idx] : x,\n        y: yItem,\n      };\n    });\n  }\n\n  //  y0 \n  return [\n    { x: x as number, y: y0 },\n    { x: x as number, y },\n  ];\n}\n\nregisterShape('interval', 'line', {\n  getPoints(shapePoint: ShapePoint) {\n    return getLinePoints(shapePoint);\n  },\n  draw(cfg: ShapeInfo, container: IGroup) {\n    const style = getStyle(cfg, true, false, 'lineWidth');\n    const newStyle = omit({ ...style }, ['fill']);\n    const path = this.parsePath(getRectPath(cfg.points as Point[], false));\n    const shape = container.addShape('path', {\n      attrs: {\n        ...newStyle,\n        path,\n      },\n      name: 'interval',\n    });\n\n    return shape;\n  },\n  getMarker(markerCfg: ShapeMarkerCfg) {\n    const { color } = markerCfg;\n    return {\n      symbol: (x: number, y: number, r: number) => {\n        return [\n          ['M', x, y - r],\n          ['L', x, y + r],\n        ];\n      },\n      style: {\n        r: 5,\n        stroke: color,\n      },\n    };\n  },\n});\n","import { IGroup } from '../../../dependents';\nimport { Point, ShapeInfo, ShapeMarkerCfg, ShapePoint } from '../../../interface';\n\nimport { registerShape } from '../base';\nimport { getStyle } from '../util/get-style';\nimport { getFunnelPath, getRectPoints } from './util';\n\n/**  */\nregisterShape('interval', 'pyramid', {\n  getPoints(shapePoint: ShapePoint) {\n    shapePoint.size = shapePoint.size * 2; //  size \n    return getRectPoints(shapePoint);\n  },\n  draw(cfg: ShapeInfo, container: IGroup) {\n    const style = getStyle(cfg, false, true);\n    const path = this.parsePath(getFunnelPath(cfg.points as Point[], cfg.nextPoints as Point[], true));\n    const shape = container.addShape('path', {\n      attrs: {\n        ...style,\n        path,\n      },\n      name: 'interval',\n    });\n\n    return shape;\n  },\n  getMarker(markerCfg: ShapeMarkerCfg) {\n    const { color } = markerCfg;\n    return {\n      symbol: 'square',\n      style: {\n        r: 4,\n        fill: color,\n      },\n    };\n  },\n});\n","import { isArray } from '@antv/util';\nimport { IGroup } from '../../../dependents';\nimport { Point, ShapeInfo, ShapeMarkerCfg, ShapePoint } from '../../../interface';\n\nimport { registerShape } from '../base';\nimport { getStyle } from '../util/get-style';\n\n//  tick shape  6 \nfunction getTickPoints(pointInfo: ShapePoint): Point[] {\n  const { x, y, y0, size } = pointInfo;\n  let yMin;\n  let yMax;\n  if (isArray(y)) {\n    [yMin, yMax] = y;\n  } else {\n    yMin = y0;\n    yMax = y;\n  }\n\n  const xMax = (x as number) + size / 2;\n  const xMin = (x as number) - size / 2;\n\n  // tick \n  // 4 - 1 - 5\n  //     |\n  // 2 - 0 - 3\n  return [\n    { x: x as number, y: yMin },\n    { x: x as number, y: yMax },\n    { x: xMin, y: yMin },\n    { x: xMax, y: yMin },\n    { x: xMin, y: yMax },\n    { x: xMax, y: yMax },\n  ];\n}\n\n//  tick  path\nfunction getTickPath(points: Point[]) {\n  return [\n    ['M', points[0].x, points[0].y],\n    ['L', points[1].x, points[1].y],\n    ['M', points[2].x, points[2].y],\n    ['L', points[3].x, points[3].y],\n    ['M', points[4].x, points[4].y],\n    ['L', points[5].x, points[5].y],\n  ];\n}\n\n/** I  error bar chart */\nregisterShape('interval', 'tick', {\n  getPoints(shapePoint: ShapePoint) {\n    return getTickPoints(shapePoint);\n  },\n  draw(cfg: ShapeInfo, container: IGroup) {\n    const style = getStyle(cfg, true, false);\n    const path = this.parsePath(getTickPath(cfg.points as Point[]));\n    const shape = container.addShape('path', {\n      attrs: {\n        ...style,\n        path,\n      },\n      name: 'interval',\n    });\n\n    return shape;\n  },\n  getMarker(markerCfg: ShapeMarkerCfg) {\n    const { color } = markerCfg;\n    return {\n      symbol: (x: number, y: number, r: number) => {\n        return [\n          ['M', x - r / 2, y - r],\n          ['L', x + r / 2, y - r],\n          ['M', x, y - r],\n          ['L', x, y + r],\n          ['M', x - r / 2, y + r],\n          ['L', x + r / 2, y + r],\n        ];\n      },\n      style: {\n        r: 5,\n        stroke: color,\n      },\n    };\n  },\n});\n","import { each } from '@antv/util';\nimport { IGroup } from '../../../dependents';\nimport { Point, ShapeInfo, ShapeMarkerCfg } from '../../../interface';\n\nimport { registerShape } from '../base';\nimport { getPathPoints } from '../util/get-path-points';\nimport { getStyle } from '../util/get-style';\nimport { getLineMarker } from './util';\n\nconst interpolateCallback = (point: Point, nextPoint: Point, shapeType: string) => {\n  const x = point.x as number;\n  const y = point.y as number;\n  const nextX = nextPoint.x as number;\n  const nextY = nextPoint.y as number;\n  let result;\n\n  switch (shapeType) {\n    case 'hv':\n      result = [{ x: nextX, y }];\n      break;\n    case 'vh':\n      result = [{ x, y: nextY }];\n      break;\n    case 'hvh':\n      const middleX = (nextX + x) / 2;\n      result = [\n        { x: middleX, y },\n        { x: middleX, y: nextY },\n      ];\n      break;\n    case 'vhv':\n      const middleY = (y + nextY) / 2;\n      result = [\n        { x, y: middleY },\n        { x: nextX, y: middleY },\n      ];\n      break;\n    default:\n      break;\n  }\n\n  return result;\n};\n\nfunction getInterpolatePoints(points: Point[], shapeType: string) {\n  let result = [];\n  each(points, (point: Point, index) => {\n    const nextPoint = points[index + 1];\n    result.push(point);\n    if (nextPoint) {\n      const interpolatePoint = interpolateCallback(point, nextPoint, shapeType);\n      result = result.concat(interpolatePoint);\n    }\n  });\n  return result;\n}\n\n// pathnull\nfunction getInterpolatePath(points: Point[]) {\n  return points.map((point, index) => {\n    return index === 0 ? ['M', point.x, point.y] : ['L', point.x, point.y];\n  });\n}\n\n// \nfunction getInterpolateShapeAttrs(cfg: ShapeInfo, shapeType: string) {\n  const points = getPathPoints(cfg.points, cfg.connectNulls, cfg.showSinglePoint); //  connectNulls  points\n  let path = [];\n  each(points, (eachLinePoints) => {\n    const interpolatePoints = getInterpolatePoints(eachLinePoints, shapeType);\n    path = path.concat(getInterpolatePath(interpolatePoints));\n  });\n\n  return {\n    ...getStyle(cfg, true, false, 'lineWidth'),\n    path,\n  };\n}\n\n// step line\neach(['hv', 'vh', 'hvh', 'vhv'], (shapeType) => {\n  registerShape('line', shapeType, {\n    draw(cfg: ShapeInfo, container: IGroup) {\n      const attrs = getInterpolateShapeAttrs(cfg, shapeType);\n      const shape = container.addShape({\n        type: 'path',\n        attrs,\n        name: 'line',\n      });\n\n      return shape;\n    },\n    getMarker(markerCfg: ShapeMarkerCfg) {\n      return getLineMarker(markerCfg, shapeType);\n    },\n  });\n});\n","import { each } from '@antv/util';\nimport { IGroup } from '../../../dependents';\nimport { ShapeInfo, ShapeMarkerCfg } from '../../../interface';\n\nimport { MarkerSymbols } from '../../../util/marker';\nimport { registerShape } from '../base';\nimport { drawPoints, HOLLOW_SHAPES } from './util';\n\n//  hollowShape\neach(HOLLOW_SHAPES, (shapeName: string) => {\n  registerShape('point', shapeName, {\n    draw(cfg: ShapeInfo, container: IGroup) {\n      return drawPoints(this, cfg, container, shapeName, true);\n    },\n    getMarker(markerCfg: ShapeMarkerCfg) {\n      const { color } = markerCfg;\n      return {\n        symbol: MarkerSymbols[shapeName],\n        style: {\n          r: 4.5,\n          stroke: color,\n          fill: null,\n        },\n      };\n    },\n  });\n});\n","import { IGroup } from '../../../dependents';\nimport { ShapeInfo, ShapeMarkerCfg } from '../../../interface';\n\nimport { registerShape } from '../base';\nimport { getStyle } from '../util/get-style';\n\nregisterShape('point', 'image', {\n  draw(cfg: ShapeInfo, container: IGroup) {\n    const { r: size } = getStyle(cfg, false, false, 'r');\n    const points = this.parsePoints(cfg.points);\n    let pointPosition = points[0];\n    if (cfg.isStack) {\n      pointPosition = points[1];\n    } else if (points.length > 1) {\n      const group = container.addGroup();\n      for (const point of points) {\n        group.addShape('image', {\n          attrs: {\n            x: (point.x as number) - size / 2,\n            y: (point.y as number) - size,\n            width: size,\n            height: size,\n            img: cfg.shape[1],\n          },\n        });\n      }\n\n      return group;\n    }\n\n    return container.addShape('image', {\n      attrs: {\n        x: (pointPosition.x as number) - size / 2,\n        y: (pointPosition.y as number) - size,\n        width: size,\n        height: size,\n        img: cfg.shape[1],\n      },\n    });\n  },\n  getMarker(markerCfg: ShapeMarkerCfg) {\n    const { color } = markerCfg;\n    return {\n      symbol: 'circle',\n      style: {\n        r: 4.5,\n        fill: color,\n      },\n    };\n  },\n});\n","import { each } from '@antv/util';\nimport { IGroup } from '../../../dependents';\nimport { ShapeInfo, ShapeMarkerCfg } from '../../../interface';\n\nimport { MarkerSymbols } from '../../../util/marker';\nimport { registerShape } from '../base';\nimport { drawPoints, SHAPES } from './util';\n\n//  SHAPES \neach(SHAPES, (shapeName: string) => {\n  registerShape('point', shapeName, {\n    draw(cfg: ShapeInfo, container: IGroup) {\n      return drawPoints(this, cfg, container, shapeName, false);\n    },\n    getMarker(markerCfg: ShapeMarkerCfg) {\n      const { color } = markerCfg;\n      return {\n        symbol: MarkerSymbols[shapeName] || shapeName,\n        style: {\n          r: 4.5,\n          fill: color,\n        },\n      };\n    },\n  });\n});\n","import { IGroup } from '../../../dependents';\nimport { ShapeInfo, ShapeMarkerCfg } from '../../../interface';\nimport { registerShape } from '../base';\nimport { getSmoothViolinPath } from '../util/get-path-points';\nimport { getStyle } from '../util/get-style';\n\n/**\n * \n */\nregisterShape('violin', 'smooth', {\n  draw(cfg: ShapeInfo, container: IGroup) {\n    const attrs = getStyle(cfg, true, true);\n    const path = this.parsePath(getSmoothViolinPath(cfg.points));\n    return container.addShape('path', {\n      attrs: {\n        ...attrs,\n        path,\n      },\n    });\n  },\n  getMarker(markerCfg: ShapeMarkerCfg) {\n    const { color } = markerCfg;\n    return {\n      symbol: 'circle',\n      style: {\n        stroke: null,\n        r: 4,\n        fill: color,\n      },\n    };\n  },\n});\n","import { IGroup, Point } from '../../../dependents';\nimport { ShapeInfo, ShapeMarkerCfg } from '../../../interface';\nimport { registerShape } from '../base';\nimport { getSmoothViolinPath, getViolinPath } from '../util/get-path-points';\nimport { getStyle } from '../util/get-style';\n\n/**\n * \n */\nregisterShape('violin', 'hollow', {\n  draw(cfg: ShapeInfo, container: IGroup) {\n    const attrs = getStyle(cfg, true, false);\n    const path = this.parsePath(getViolinPath(cfg.points));\n    return container.addShape('path', {\n      attrs: {\n        ...attrs,\n        path,\n      },\n    });\n  },\n  getMarker(markerCfg: ShapeMarkerCfg) {\n    const { color } = markerCfg;\n    return {\n      symbol: 'circle',\n      style: {\n        r: 4,\n        fill: null,\n        stroke: color,\n      },\n    };\n  },\n});\n\n/**\n * \n */\nregisterShape('violin', 'hollow-smooth', {\n  draw(cfg: ShapeInfo, container: IGroup) {\n    const attrs = getStyle(cfg, true, false);\n    const path = this.parsePath(getSmoothViolinPath(cfg.points));\n    return container.addShape('path', {\n      attrs: {\n        ...attrs,\n        path,\n      },\n    });\n  },\n  getMarker(markerCfg: ShapeMarkerCfg) {\n    const { color } = markerCfg;\n    return {\n      symbol: 'circle',\n      style: {\n        r: 4,\n        fill: null,\n        stroke: color,\n      },\n    };\n  },\n});\n","import { get, deepMix, isArray } from '@antv/util';\nimport { Writeable } from '../../util/types';\nimport { MappingDatum, Point } from '../../interface';\nimport GeometryLabel from './base';\nimport { LabelCfg, LabelItem, LabelPointCfg, TextAlign } from './interface';\n\n/**\n *  label\n */\nexport default class IntervalLabel extends GeometryLabel {\n  /**\n   *  interval label  value \n   * @param labelCfg\n   */\n  private getLabelValueDir(mappingData: MappingDatum) {\n    // points  x/y  transpose \n    const dim = 'y';\n    const { points } = mappingData;\n\n    return points[0][dim] <= points[2][dim] ? 1 : -1;\n  }\n\n  /**\n   *  interval  label \n   * @param labelCfg\n   * @param index\n   * @param total\n   */\n  protected getLabelOffsetPoint(labelCfg: LabelCfg, index: number, total: number, position?: string) {\n    let point = super.getLabelOffsetPoint(labelCfg, index, total);\n    const coordinate = this.getCoordinate();\n    const transposed = coordinate.isTransposed;\n    const dim = transposed ? 'x' : 'y';\n    const dir = this.getLabelValueDir(labelCfg.mappingData);\n    point = { ...point, [dim]: point[dim] * dir };\n\n    if (coordinate.isReflect('x')) {\n      point = {\n        ...point,\n        x: point.x * -1,\n      };\n    }\n    if (coordinate.isReflect('y')) {\n      point = {\n        ...point,\n        y: point.y * -1,\n      };\n    }\n\n    return point;\n  }\n\n  /**\n   *  interval label \n   * @param labelCfg\n   */\n  protected getThemedLabelCfg(labelCfg: LabelCfg) {\n    const geometry = this.geometry;\n    const defaultLabelCfg = this.getDefaultLabelCfg();\n    const { theme } = geometry;\n\n    //  interval label position  middle offset  0\n    return deepMix({}, defaultLabelCfg, theme.labels, labelCfg.position === 'middle' ? { offset: 0 } : {}, labelCfg);\n  }\n\n  protected setLabelPosition(\n    labelPointCfg: Writeable<LabelPointCfg>,\n    mappingData: MappingDatum,\n    index: number,\n    position: string\n  ) {\n    const coordinate = this.getCoordinate();\n    const transposed = coordinate.isTransposed;\n    const shapePoints = mappingData.points as Point[];\n    const point0 = coordinate.convert(shapePoints[0]);\n    const point2 = coordinate.convert(shapePoints[2]);\n    const dir = this.getLabelValueDir(mappingData);\n\n    let top;\n    let right;\n    let bottom;\n    let left;\n\n    const shape = isArray(mappingData.shape) ? mappingData.shape[0] : mappingData.shape;\n    if (shape === 'funnel' || shape === 'pyramid') {\n      // \n      const nextPoints = get(mappingData, 'nextPoints');\n      const points = get(mappingData, 'points');\n      if (nextPoints) {\n        // \n        const p0 = coordinate.convert(points[0] as Point);\n        const p1 = coordinate.convert(points[1] as Point);\n        const nextP0 = coordinate.convert(nextPoints[0] as Point);\n        const nextP1 = coordinate.convert(nextPoints[1] as Point);\n\n        // TODO: \n        if (transposed) {\n          top = Math.min(nextP0.y, p0.y);\n          bottom = Math.max(nextP0.y, p0.y);\n          right = (p1.x + nextP1.x) / 2;\n          left = (p0.x + nextP0.x) / 2;\n        } else {\n          top = Math.min((p1.y + nextP1.y) / 2, (p0.y + nextP0.y) / 2);\n          bottom = Math.max((p1.y + nextP1.y) / 2, (p0.y + nextP0.y) / 2);\n          right = nextP1.x;\n          left = p0.x;\n        }\n      } else {\n        top = Math.min(point2.y, point0.y);\n        bottom = Math.max(point2.y, point0.y);\n        right = point2.x;\n        left = point0.x;\n      }\n    } else {\n      top = Math.min(point2.y, point0.y);\n      bottom = Math.max(point2.y, point0.y);\n      right = point2.x;\n      left = point0.x;\n    }\n\n    switch (position) {\n      case 'right':\n        labelPointCfg.x = right;\n        labelPointCfg.y = (top + bottom) / 2;\n        labelPointCfg.textAlign = get(labelPointCfg, 'textAlign', dir > 0 ? 'left' : 'right');\n        break;\n      case 'left':\n        labelPointCfg.x = left;\n        labelPointCfg.y = (top + bottom) / 2;\n        labelPointCfg.textAlign = get(labelPointCfg, 'textAlign', dir > 0 ? 'left' : 'right');\n        break;\n      case 'bottom':\n        if (transposed) {\n          labelPointCfg.x = (right + left) / 2;\n        }\n        labelPointCfg.y = bottom;\n        labelPointCfg.textAlign = get(labelPointCfg, 'textAlign', 'center');\n        labelPointCfg.textBaseline = get(labelPointCfg, 'textBaseline', dir > 0 ? 'bottom' : 'top');\n        break;\n      case 'middle':\n        if (transposed) {\n          labelPointCfg.x = (right + left) / 2;\n        }\n        labelPointCfg.y = (top + bottom) / 2;\n        labelPointCfg.textAlign = get(labelPointCfg, 'textAlign', 'center');\n        labelPointCfg.textBaseline = get(labelPointCfg, 'textBaseline', 'middle');\n        break;\n      case 'top':\n        if (transposed) {\n          labelPointCfg.x = (right + left) / 2;\n        }\n        labelPointCfg.y = top;\n        labelPointCfg.textAlign = get(labelPointCfg, 'textAlign', 'center');\n        labelPointCfg.textBaseline = get(labelPointCfg, 'textBaseline', dir > 0 ? 'bottom' : 'top');\n        break;\n      default:\n        break;\n    }\n  }\n}\n","import { each, get, isArray, map, isNumber, isString } from '@antv/util';\nimport { MappingDatum, Point } from '../../interface';\nimport { getDistanceToCenter } from '../../util/coordinate';\nimport { getAngleByPoint } from '../../util/coordinate';\nimport GeometryLabel from './base';\nimport { LabelCfg, LabelItem, PolarLabelItem, LabelPointCfg, Writeable } from './interface';\n\nconst HALF_PI = Math.PI / 2;\n\n/**\n *  label\n */\nexport default class PolarLabel extends GeometryLabel {\n  /**\n   * @override\n   * @desc  label offset\n   * polar & theta coordinate supportstringtype, should transform to number\n   */\n  protected getLabelOffset(offset: number | string): number {\n    const coordinate = this.getCoordinate();\n    let actualOffset = 0;\n    if (isNumber(offset)) {\n      actualOffset = offset;\n    } else if (isString(offset) && offset.indexOf('%') !== -1) {\n      let r = coordinate.getRadius();\n      if (coordinate.innerRadius > 0) {\n        r = r * (1 - coordinate.innerRadius);\n      }\n      actualOffset = parseFloat(offset) * 0.01 * r;\n    }\n\n    return actualOffset;\n  }\n\n  /**\n   * @override\n   *  labelItems,  percent\n   * @param mapppingArray\n   */\n  public getLabelItems(mapppingArray: MappingDatum[]): PolarLabelItem[] {\n    const items = super.getLabelItems(mapppingArray);\n    const yScale = this.geometry.getYScale();\n\n    return map(items, (item) => {\n      if (item && yScale) {\n        const percent = yScale.scale(get(item.data, yScale.field));\n        return { ...item, percent };\n      }\n      return item;\n    });\n  }\n  /**\n   * @override\n   * \n   * @param point\n   */\n  protected getLabelAlign(point: LabelItem) {\n    const coordinate = this.getCoordinate();\n    let align;\n    if (point.labelEmit) {\n      align = point.angle <= Math.PI / 2 && point.angle >= -Math.PI / 2 ? 'left' : 'right';\n    } else if (!coordinate.isTransposed) {\n      align = 'center';\n    } else {\n      const center = coordinate.getCenter();\n      const offset = point.offset;\n      if (Math.abs(point.x - center.x) < 1) {\n        align = 'center';\n      } else if (point.angle > Math.PI || point.angle <= 0) {\n        align = offset > 0 ? 'left' : 'right';\n      } else {\n        align = offset > 0 ? 'right' : 'left';\n      }\n    }\n    return align;\n  }\n\n  /**\n   * @override\n   *  label \n   * @param labelCfg\n   * @param mappingData\n   * @param index\n   */\n  protected getLabelPoint(labelCfg: LabelCfg, mappingData: MappingDatum, index: number): LabelPointCfg {\n    let factor = 1;\n    let arcPoint;\n    const content = labelCfg.content[index];\n    if (this.isToMiddle(mappingData)) {\n      arcPoint = this.getMiddlePoint(mappingData.points as Point[]);\n    } else {\n      if (labelCfg.content.length === 1 && index === 0) {\n        index = 1;\n      } else if (index === 0) {\n        factor = -1;\n      }\n      arcPoint = this.getArcPoint(mappingData, index);\n    }\n\n    const offset = labelCfg.offset * factor;\n    const middleAngle = this.getPointAngle(arcPoint);\n    const isLabelEmit = labelCfg.labelEmit;\n    const labelPositionCfg: Writeable<LabelPointCfg> = this.getCirclePoint(middleAngle, offset, arcPoint, isLabelEmit);\n    if (labelPositionCfg.r === 0) {\n      // \n      labelPositionCfg.content = '';\n    } else {\n      labelPositionCfg.content = content;\n      labelPositionCfg.angle = middleAngle;\n      labelPositionCfg.color = mappingData.color;\n    }\n\n    labelPositionCfg.rotate = labelCfg.autoRotate\n      ? this.getLabelRotate(middleAngle, offset, isLabelEmit)\n      : labelCfg.rotate;\n    labelPositionCfg.start = {\n      x: arcPoint.x,\n      y: arcPoint.y,\n    };\n    return labelPositionCfg;\n  }\n\n  /**\n   * \n   */\n  protected getArcPoint(mappingData: MappingDatum, index: number = 0): Point {\n    if (!isArray(mappingData.x) && !isArray(mappingData.y)) {\n      return {\n        x: mappingData.x,\n        y: mappingData.y,\n      };\n    }\n\n    return {\n      x: isArray(mappingData.x) ? mappingData.x[index] : mappingData.x,\n      y: isArray(mappingData.y) ? mappingData.y[index] : mappingData.y,\n    };\n  }\n\n  /**\n   * \n   * @param point\n   */\n  protected getPointAngle(point: Point): number {\n    return getAngleByPoint(this.getCoordinate(), point);\n  }\n\n  /**\n   * \n   * @param angle\n   * @param offset\n   * @param point\n   * @param isLabelEmit\n   */\n  protected getCirclePoint(angle: number, offset: number, point: Point, isLabelEmit: boolean) {\n    const coordinate = this.getCoordinate();\n    const center = coordinate.getCenter();\n    let r = getDistanceToCenter(coordinate, point);\n    if (r === 0) {\n      return {\n        ...center,\n        r,\n      };\n    }\n\n    let labelAngle = angle;\n    if (coordinate.isTransposed && r > offset && !isLabelEmit) {\n      const appendAngle = Math.asin(offset / (2 * r));\n      labelAngle = angle + appendAngle * 2;\n    } else {\n      r = r + offset;\n    }\n\n    return {\n      x: center.x + r * Math.cos(labelAngle),\n      y: center.y + r * Math.sin(labelAngle),\n      r,\n    };\n  }\n\n  /**\n   *  label \n   * @param angle\n   * @param offset\n   * @param isLabelEmit\n   */\n  protected getLabelRotate(angle: number, offset: number, isLabelEmit: boolean) {\n    let rotate = angle + HALF_PI;\n    if (isLabelEmit) {\n      rotate -= HALF_PI;\n    }\n    if (rotate) {\n      if (rotate > HALF_PI) {\n        rotate = rotate - Math.PI;\n      } else if (rotate < -HALF_PI) {\n        rotate = rotate + Math.PI;\n      }\n    }\n    return rotate;\n  }\n\n  // \n  private getMiddlePoint(points: Point[]) {\n    const coordinate = this.getCoordinate();\n    const count = points.length;\n    let middlePoint = {\n      x: 0,\n      y: 0,\n    };\n    each(points, (point: Point) => {\n      middlePoint.x += point.x;\n      middlePoint.y += point.y;\n    });\n    middlePoint.x /= count;\n    middlePoint.y /= count;\n\n    middlePoint = coordinate.convert(middlePoint);\n    return middlePoint;\n  }\n\n  // \n  private isToMiddle(mappingData: MappingDatum) {\n    return (mappingData.x as number[]).length > 2;\n  }\n}\n","import { deepMix, get, isArray } from '@antv/util';\nimport { getAngleByPoint } from '../../util/coordinate';\nimport { polarToCartesian } from '../../util/graphics';\nimport { LabelItem } from './interface';\nimport PolarLabel from './polar';\n\n/**\n *  label\n */\nexport default class PieLabel extends PolarLabel {\n  public defaultLayout = 'distribute';\n\n  protected getDefaultLabelCfg(offset?: number, position?: string) {\n    const cfg = super.getDefaultLabelCfg(offset, position);\n    return deepMix({}, cfg, get(this.geometry.theme, 'pieLabels', {}));\n  }\n\n  /** @override */\n  protected getLabelOffset(offset: string | number): number {\n    return super.getLabelOffset(offset) || 0;\n  }\n\n  protected getLabelRotate(angle: number, offset: number, isLabelLimit: boolean) {\n    let rotate;\n    if (offset < 0) {\n      rotate = angle;\n      if (rotate > Math.PI / 2) {\n        rotate = rotate - Math.PI;\n      }\n      if (rotate < -Math.PI / 2) {\n        rotate = rotate + Math.PI;\n      }\n    }\n    return rotate;\n  }\n\n  protected getLabelAlign(point: LabelItem) {\n    const coordinate = this.getCoordinate();\n    const center = coordinate.getCenter();\n\n    let align;\n    if (point.angle <= Math.PI / 2 && point.x >= center.x) {\n      align = 'left';\n    } else {\n      align = 'right';\n    }\n    if (point.offset <= 0) {\n      if (align === 'right') {\n        align = 'left';\n      } else {\n        align = 'right';\n      }\n    }\n    return align;\n  }\n\n  protected getArcPoint(point) {\n    return point;\n  }\n\n  protected getPointAngle(point) {\n    const coordinate = this.getCoordinate();\n    const startPoint = {\n      x: isArray(point.x) ? point.x[0] : point.x,\n      y: point.y[0],\n    };\n    const endPoint = {\n      x: isArray(point.x) ? point.x[1] : point.x,\n      y: point.y[1],\n    };\n    let angle;\n    const startAngle = getAngleByPoint(coordinate, startPoint);\n    if (point.points && point.points[0].y === point.points[1].y) {\n      angle = startAngle;\n    } else {\n      let endAngle = getAngleByPoint(coordinate, endPoint);\n      if (startAngle >= endAngle) {\n        // 100% pie slice\n        endAngle = endAngle + Math.PI * 2;\n      }\n      angle = startAngle + (endAngle - startAngle) / 2;\n    }\n    return angle;\n  }\n\n  /** @override */\n  protected getCirclePoint(angle: number, offset: number) {\n    const coordinate = this.getCoordinate();\n    const center = coordinate.getCenter();\n    const r = coordinate.getRadius() + offset;\n    return {\n      ...polarToCartesian(center.x, center.y, r, angle),\n      angle,\n      r,\n    };\n  }\n}\n","import { PolarLabelItem } from '../../interface';\n\n/**\n * \n */\nexport function antiCollision(\n  items: PolarLabelItem[],\n  labelHeight: number,\n  plotRange: { minY: number; maxY: number; minX: number; maxX: number }\n) {\n  const labels = items.filter((item) => !item.invisible);\n\n  // sorted by y, mutable\n  labels.sort((a, b) => a.y - b.y);\n  // adjust y position of labels to avoid overlapping\n  let overlapping = true;\n  const startY = plotRange.minY;\n  const endY = plotRange.maxY;\n  let totalHeight = Math.abs(startY - endY);\n  let i;\n\n  let maxY = 0;\n  let minY = Number.MIN_VALUE;\n  const boxes = labels.map((label) => {\n    if (label.y > maxY) {\n      maxY = label.y;\n    }\n    if (label.y < minY) {\n      minY = label.y;\n    }\n    return {\n      content: label.content,\n      size: labelHeight,\n      targets: [label.y - startY],\n      pos: null,\n    };\n  });\n\n  minY -= startY;\n  if (maxY - startY > totalHeight) {\n    totalHeight = maxY - startY;\n  }\n\n  while (overlapping) {\n    /* eslint no-loop-func: 0 */\n    boxes.forEach((box) => {\n      const target = (Math.min.apply(minY, box.targets) + Math.max.apply(minY, box.targets)) / 2;\n      box.pos = Math.min(Math.max(minY, target - box.size / 2), totalHeight - box.size);\n      box.pos = Math.max(0, box.pos);\n    });\n\n    // detect overlapping and join boxes\n    overlapping = false;\n    i = boxes.length;\n    while (i--) {\n      if (i > 0) {\n        const previousBox = boxes[i - 1];\n        const box = boxes[i];\n        if (previousBox.pos + previousBox.size > box.pos) {\n          // overlapping\n          previousBox.size += box.size;\n          previousBox.targets = previousBox.targets.concat(box.targets);\n\n          // overflow, shift up\n          if (previousBox.pos + previousBox.size > totalHeight) {\n            previousBox.pos = totalHeight - previousBox.size;\n          }\n          boxes.splice(i, 1); // removing box\n          overlapping = true;\n        }\n      }\n    }\n  }\n\n  i = 0;\n  // step 4: normalize y and adjust x\n  boxes.forEach((b) => {\n    let posInCompositeBox = startY + labelHeight / 2; // middle of the label\n    b.targets.forEach(() => {\n      labels[i].y = b.pos + posInCompositeBox;\n      posInCompositeBox += labelHeight;\n      i++;\n    });\n  });\n}\n","import { each } from '@antv/util';\nimport { BBox, IGroup, IShape } from '../../../dependents';\nimport { LabelItem } from '../interface';\n\nconst MAX_TIMES = 100;\n\n/** @ignore */\ninterface Bitmap {\n  [key: number]: {\n    [key: number]: boolean;\n  };\n}\n\n/** @ignore */\ninterface GreedyCfg {\n  readonly xGap?: number;\n  readonly yGap?: number;\n}\n\n/**\n * @ignore\n * Greedy \n */\nclass Greedy {\n  public readonly xGap: number;\n  /** optimizing for text overlapping detection: use a min text height as gap */\n  public readonly yGap: number;\n\n  private bitmap: Bitmap = {};\n\n  constructor(cfg: GreedyCfg = {}) {\n    const { xGap = 1, yGap = 8 } = cfg;\n    this.xGap = xGap;\n    this.yGap = yGap;\n  }\n\n  public hasGap(bbox: BBox): boolean {\n    let hasGap = true;\n    const bitmap = this.bitmap;\n    const minX = Math.round(bbox.minX);\n    const maxX = Math.round(bbox.maxX);\n    const minY = Math.round(bbox.minY);\n    const maxY = Math.round(bbox.maxY);\n    for (let i = minX; i <= maxX; i += 1) {\n      if (!bitmap[i]) {\n        bitmap[i] = {};\n        continue;\n      }\n      if (i === minX || i === maxX) {\n        for (let j = minY; j <= maxY; j++) {\n          if (bitmap[i][j]) {\n            hasGap = false;\n            break;\n          }\n        }\n      } else {\n        if (bitmap[i][minY] || bitmap[i][maxY]) {\n          hasGap = false;\n          break;\n        }\n      }\n    }\n    return hasGap;\n  }\n\n  public fillGap(bbox: BBox): void {\n    const bitmap = this.bitmap;\n    const minX = Math.round(bbox.minX);\n    const maxX = Math.round(bbox.maxX);\n    const minY = Math.round(bbox.minY);\n    const maxY = Math.round(bbox.maxY);\n    // filling grid\n    for (let i = minX; i <= maxX; i += 1) {\n      if (!bitmap[i]) {\n        bitmap[i] = {};\n      }\n    }\n    for (let i = minX; i <= maxX; i += this.xGap) {\n      for (let j = minY; j <= maxY; j += this.yGap) {\n        bitmap[i][j] = true;\n      }\n      bitmap[i][maxY] = true;\n    }\n\n    // filling y edges\n    if (this.yGap !== 1) {\n      for (let i = minY; i <= maxY; i += 1) {\n        bitmap[minX][i] = true;\n        bitmap[maxX][i] = true;\n      }\n    }\n\n    // filling x edges\n    if (this.xGap !== 1) {\n      for (let i = minX; i <= maxX; i += 1) {\n        bitmap[i][minY] = true;\n        bitmap[i][maxY] = true;\n      }\n    }\n  }\n\n  public destroy(): void {\n    this.bitmap = {};\n  }\n}\n\nfunction spiralFill(label: IShape, greedy: Greedy, maxTimes: number = MAX_TIMES) {\n  const dt = -1;\n  const { x, y } = label.attr();\n  const bbox = label.getCanvasBBox();\n  const maxDelta = Math.sqrt(bbox.width * bbox.width + bbox.height * bbox.height);\n  let dxdy;\n  let t = -dt;\n  let dx = 0;\n  let dy = 0;\n  const f = (param: number) => {\n    const nt = param * 0.1;\n    return [nt * Math.cos(nt), nt * Math.sin(nt)];\n  };\n\n  if (greedy.hasGap(bbox)) {\n    greedy.fillGap(bbox);\n    return true;\n  }\n  let canFill = false;\n  let times = 0;\n  const accessedCache = {};\n  while (Math.min(Math.abs(dx), Math.abs(dy)) < maxDelta && times < maxTimes) {\n    dxdy = f((t += dt));\n    dx = ~~dxdy[0];\n    dy = ~~dxdy[1];\n    if ((!dx && !dy) || accessedCache[`${dx}-${dy}`]) {\n      continue;\n    }\n    label.attr({ x: x + dx, y: y + dy });\n    if (dx + dy < 0) {\n      label.attr('textAlign', 'right');\n    }\n    times++;\n    if (greedy.hasGap(label.getCanvasBBox())) {\n      greedy.fillGap(label.getCanvasBBox());\n      canFill = true;\n      accessedCache[`${dx}-${dy}`] = true;\n      break;\n    }\n  }\n  return canFill;\n}\n\n/*\n *  label\n *                5\n *        ------------------\n *        |    1   |   0   |\n *    8   4   7\n *        |    2   |   3   |\n *        \n *                 6\n */\nfunction adjustLabelPosition(label: IShape, x: number, y: number, index: number) {\n  const { width, height } = label.getCanvasBBox();\n  const attrs = {\n    x,\n    y,\n    textAlign: 'center',\n  };\n  switch (index) {\n    case 0:\n      attrs.y -= height + 1;\n      attrs.x += 1;\n      attrs.textAlign = 'left';\n      break;\n    case 1:\n      attrs.y -= height + 1;\n      attrs.x -= 1;\n      attrs.textAlign = 'right';\n      break;\n    case 2:\n      attrs.y += height + 1;\n      attrs.x -= 1;\n      attrs.textAlign = 'right';\n      break;\n    case 3:\n      attrs.y += height + 1;\n      attrs.x += 1;\n      attrs.textAlign = 'left';\n      break;\n    case 5:\n      attrs.y -= height * 2 + 2;\n      break;\n    case 6:\n      attrs.y += height * 2 + 2;\n      break;\n    case 7:\n      attrs.x += width + 1;\n      attrs.textAlign = 'left';\n      break;\n    case 8:\n      attrs.x -= width + 1;\n      attrs.textAlign = 'right';\n      break;\n    default:\n      break;\n  }\n  label.attr(attrs);\n  return label.getCanvasBBox();\n}\n\n/**\n * @ignore\n * label  label  label \n *  'overlap'  label \n * @param labels  label \n */\nexport function fixedOverlap(items: LabelItem[], labels: IGroup[], shapes: IShape[] | IGroup[], region: BBox) {\n  const greedy = new Greedy();\n  each(labels, (label: IGroup) => {\n    const labelShape = label.find((shape) => shape.get('type') === 'text') as IShape;\n    if (!spiralFill(labelShape, greedy)) {\n      label.remove(true);\n    }\n  });\n  greedy.destroy();\n}\n\n/**\n * @ignore\n * label  label   label  label **** label\n * @param labels  label \n */\nexport function overlap(items: LabelItem[], labels: IGroup[], shapes: IShape[] | IGroup[], region: BBox) {\n  const greedy = new Greedy();\n  each(labels, (label: IGroup) => {\n    const labelShape = label.find((shape) => shape.get('type') === 'text') as IShape;\n    const { x, y } = labelShape.attr();\n    let canFill = false;\n    for (let i = 0; i <= 8; i++) {\n      const bbox = adjustLabelPosition(labelShape, x, y, i);\n      if (greedy.hasGap(bbox)) {\n        greedy.fillGap(bbox);\n        canFill = true;\n        break;\n      }\n    }\n    if (!canFill) {\n      label.remove(true);\n    }\n  });\n\n  greedy.destroy();\n}\n","import { isNumber } from '@antv/util';\nimport { Point } from '../dependents';\n\ntype Vec2 = [number, number];\n\ntype Item = {\n  x: number;\n  y: number;\n  width: number;\n  height: number;\n  rotation?: number;\n  visible?: boolean;\n};\n/**\n * \n */\ntype Projection = { min: number; max: number };\n\nfunction dot(a, b) {\n  return (a[0] || 0) * (b[0] || 0) + (a[1] || 0) * (b[1] || 0) + (a[2] || 0) * (b[2] || 0);\n}\n\n/**\n * @private\n * 1. \n */\nfunction getAxes(points: Point[] /**  */): Vec2[] {\n  //   , \n  if (points.length > 4) {\n    return [];\n  }\n  // \n  const vector = (start: Point, end: Point): Vec2 => {\n    return [end.x - start.x, end.y - start.y];\n  };\n\n  //   2 : A -> B, B -> C\n  const AB = vector(points[0], points[1]);\n  const BC = vector(points[1], points[2]);\n\n  return [AB, BC];\n}\n\n/**\n * @private\n * \n * \n */\nfunction rotateAtPoint(point: Point, deg = 0, origin = { x: 0, y: 0 }): Point {\n  const { x, y } = point;\n  return {\n    x: (x - origin.x) * Math.cos(-deg) + (y - origin.y) * Math.sin(-deg) + origin.x,\n    y: (origin.x - x) * Math.sin(-deg) + (y - origin.y) * Math.cos(-deg) + origin.y,\n  };\n}\n\n/**\n * @private\n * \n *\n * @param {Object} box\n */\nfunction getRectPoints(box: Item): Point[] {\n  const points = [\n    { x: box.x, y: box.y },\n    { x: box.x + box.width, y: box.y },\n    { x: box.x + box.width, y: box.y + box.height },\n    { x: box.x, y: box.y + box.height },\n  ];\n\n  const rotation = box.rotation;\n  if (rotation) {\n    return [\n      rotateAtPoint(points[0], rotation, points[0]),\n      rotateAtPoint(points[1], rotation, points[0]),\n      rotateAtPoint(points[2], rotation, points[0]),\n      rotateAtPoint(points[3], rotation, points[0]),\n    ];\n  }\n\n  return points;\n}\n\n/**\n * @private\n * 2. \n *\n * \n * 1 x1 * x2 + y1 * y2\n */\nfunction getProjection(points: Point[] /**  */, axis: Vec2): Projection {\n  // \n  if (points.length > 4) {\n    return { min: 0, max: 0 };\n  }\n\n  const scalars = [];\n  points.forEach((point) => {\n    scalars.push(dot([point.x, point.y], axis));\n  });\n\n  return { min: Math.min(...scalars), max: Math.max(...scalars) };\n}\n\nfunction isProjectionOverlap(projection1: Projection, projection2: Projection): boolean {\n  return projection1.max > projection2.min && projection1.min < projection2.max;\n}\n\nfunction isValidNumber(d: number) {\n  return typeof d === 'number' && !Number.isNaN(d) && d !== Infinity && d !== -Infinity;\n}\n\nfunction isValidBox(box: Item) {\n  return ['x', 'y', 'width', 'height'].every(attr => isValidNumber(box[attr]))\n}\n\n/**\n * \n */\nexport function isIntersectRect(box1: Item, box2: Item, margin: number = 0): boolean {\n  return !(\n    box2.x > box1.x + box1.width + margin ||\n    box2.x + box2.width < box1.x - margin ||\n    box2.y > box1.y + box1.height + margin ||\n    box2.y + box2.height < box1.y - margin\n  );\n}\n\n/**\n * detect whether two shape is intersected, useful when shape is been rotated\n * , \n *\n * - : \n */\nexport function intersect(box1: Item, box2: Item, margin: number = 0) {\n  //  box  box\n  if (!isValidBox(box1) || !isValidBox(box2)) return false;\n\n  // \n  if (!box1.rotation && !box2.rotation) {\n    return isIntersectRect(box1, box2, margin);\n  }\n\n  //  4 \n  const rect1Points = getRectPoints(box1);\n  const rect2Points = getRectPoints(box2);\n\n  // \n  const axes = getAxes(rect1Points).concat(getAxes(rect2Points));\n\n  for (let i = 0; i < axes.length; i++) {\n    const axis = axes[i];\n    const projection1 = getProjection(rect1Points, axis);\n    const projection2 = getProjection(rect2Points, axis);\n\n    // \n    if (!isProjectionOverlap(projection1, projection2)) {\n      return false;\n    }\n  }\n\n  return true;\n}\n","import { isFunction } from '@antv/util';\n\nclass MyWorker {\n  queue: any[] = [];\n  worker: Worker;\n\n  constructor(url) {\n    this.worker = new Worker(url);\n    this.worker.onmessage = (e: MessageEvent) => {\n      this.queue.shift()?.resolve(e);\n    };\n    this.worker.onmessageerror = (e: MessageEvent) => {\n      console.warn('[AntV G2] Web worker is not available');\n      this.queue.shift()?.reject(e);\n    };\n  }\n\n  post(params, onError?: () => any): Promise<MessageEvent> {\n    return new Promise((resolve, reject) => {\n      this.queue.push({ resolve, reject });\n      try {\n        this.worker.postMessage(params);\n      } catch (e) {\n        console.warn('[AntV G2] Web worker is not available');\n        isFunction(onError) && onError();\n      }\n    });\n  }\n\n  destroy() {\n    this.worker.terminate();\n  }\n}\n\nexport function createWorker(f: any) {\n  if (typeof window === 'undefined') return;\n\n  let blob;\n  try {\n    blob = new Blob([f.toString()], { type: 'application/javascript' });\n  } catch (e) {\n    // @ts-ignore\n    blob = new window.BlobBuilder();\n    blob.append(f.toString());\n    blob = blob.getBlob();\n  }\n\n  return new MyWorker(URL.createObjectURL(blob));\n}\n","let ctx: CanvasRenderingContext2D;\n\n/**\n *  canvas context\n */\nexport function getCanvasContext() {\n  if (!ctx) {\n    ctx = document.createElement('canvas').getContext('2d');\n  }\n\n  return ctx;\n}\n","const onmessage = function (e) {\n  type Item = {\n    x: number;\n    y: number;\n    width: number;\n    height: number;\n    rotation?: number;\n    visible?: boolean;\n  };\n\n  // Copy from src/util/collision-detect.ts\n  function generateUtils() {\n    type Vec2 = [number, number];\n\n    type Point = { x: number; y: number };\n\n    /**\n     * \n     */\n    type Projection = { min: number; max: number };\n\n    function dot(a, b) {\n      return (a[0] || 0) * (b[0] || 0) + (a[1] || 0) * (b[1] || 0) + (a[2] || 0) * (b[2] || 0);\n    }\n    /**\n     * 1. \n     */\n    function getAxes(points: Point[] /**  */): Vec2[] {\n      //   , \n      if (points.length > 4) {\n        return [];\n      }\n      // \n      const vector = (start: Point, end: Point): Vec2 => {\n        return [end.x - start.x, end.y - start.y];\n      };\n\n      //   2 : A -> B, B -> C\n      const AB = vector(points[0], points[1]);\n      const BC = vector(points[1], points[2]);\n\n      return [AB, BC];\n    }\n\n    /**\n     * \n     * \n     */\n    function rotateAtPoint(point: Point, deg = 0, origin = { x: 0, y: 0 }): Point {\n      const { x, y } = point;\n      return {\n        x: (x - origin.x) * Math.cos(-deg) + (y - origin.y) * Math.sin(-deg) + origin.x,\n        y: (origin.x - x) * Math.sin(-deg) + (y - origin.y) * Math.cos(-deg) + origin.y,\n      };\n    }\n\n    /**\n     * @private\n     * \n     *\n     * @param {Object} box\n     */\n    function getRectPoints(box: Item): Point[] {\n      const points = [\n        { x: box.x, y: box.y },\n        { x: box.x + box.width, y: box.y },\n        { x: box.x + box.width, y: box.y + box.height },\n        { x: box.x, y: box.y + box.height },\n      ];\n\n      const rotation = box.rotation;\n      if (rotation) {\n        return [\n          rotateAtPoint(points[0], rotation, points[0]),\n          rotateAtPoint(points[1], rotation, points[0]),\n          rotateAtPoint(points[2], rotation, points[0]),\n          rotateAtPoint(points[3], rotation, points[0]),\n        ];\n      }\n\n      return points;\n    }\n\n    /**\n     * 2. \n     *\n     * \n     * 1 x1 * x2 + y1 * y2\n     */\n    function getProjection(points: Point[] /**  */, axis: Vec2): Projection {\n      // \n      if (points.length > 4) {\n        return { min: 0, max: 0 };\n      }\n\n      const scalars = [];\n      points.forEach((point) => {\n        scalars.push(dot([point.x, point.y], axis));\n      });\n\n      return { min: Math.min.apply(null, scalars), max: Math.max.apply(null, scalars) };\n    }\n\n    function isProjectionOverlap(projection1: Projection, projection2: Projection): boolean {\n      return projection1.max > projection2.min && projection1.min < projection2.max;\n    }\n\n    function isValidNumber(d: number) {\n      return typeof d === 'number' && !Number.isNaN(d) && d !== Infinity && d !== -Infinity;\n    }\n\n    function isValidBox(box: Item) {\n      return ['x', 'y', 'width', 'height'].every(attr => isValidNumber(box[attr]))\n    }\n\n    function isIntersectRect(box1: Item, box2: Item, margin: number = 0): boolean {\n      return !(\n        box2.x > box1.x + box1.width + margin ||\n        box2.x + box2.width < box1.x - margin ||\n        box2.y > box1.y + box1.height + margin ||\n        box2.y + box2.height < box1.y - margin\n      );\n    }\n    function intersect(box1: Item, box2: Item, margin: number = 0) {\n      if (!isValidBox(box1) || !isValidBox(box2)) return false;\n\n      // Quick detect, if rotation is null or zero.\n      if (!box1.rotation && !box2.rotation) {\n        return isIntersectRect(box1, box2, margin);\n      }\n\n      //  4 \n      const rect1Points = getRectPoints(box1);\n      const rect2Points = getRectPoints(box2);\n\n      // \n      const axes = getAxes(rect1Points).concat(getAxes(rect2Points));\n\n      for (let i = 0; i < axes.length; i++) {\n        const axis = axes[i];\n        const projection1 = getProjection(rect1Points, axis);\n        const projection2 = getProjection(rect2Points, axis);\n\n        if (!isProjectionOverlap(projection1, projection2)) return false;\n      }\n\n      return true;\n    }\n    return { intersect }\n  }\n  const { intersect } = generateUtils();\n\n  // Label layouts.\n  function hideOverlap(items: Item[]) {\n    const boxes = items.slice();\n    for (let i = 0; i < boxes.length; i++) {\n      const box1 = boxes[i];\n      if (box1.visible) {\n        for (let j = i + 1; j < boxes.length; j++) {\n          const box2 = boxes[j];\n          if (box1 !== box2 && box2.visible) {\n            if (intersect(box1, box2)) {\n              box2.visible = false;\n            }\n          }\n        }\n      }\n    }\n    return boxes;\n  }\n\n  const methods = {\n    'hide-overlap': hideOverlap,\n  }\n\n  // Main\n  try {\n    const eventData = JSON.parse(e.data);\n    if (!eventData || !eventData.type || !methods[eventData.type]) return;\n\n    const { type, items } = eventData;\n    const result = methods[type](items);\n    self.postMessage(result);\n  } catch (e) {\n    throw e;\n  }\n}\n\nconst code = `\n   self.onmessage = ${onmessage.toString()}\n`\nexport { code };\n","import { get, each } from '@antv/util';\nimport { BBox, IGroup, IShape } from '../../../dependents';\nimport { intersect } from '../../../util/collision-detect';\nimport { LabelItem } from '../interface';\nimport { getLabelBackgroundInfo } from '../util';\nimport { createWorker } from '../util/createWorker';\nimport { code as layoutCode } from './worker/hide-overlap';\n\ntype Item = {\n  x: number;\n  y: number;\n  width: number;\n  height: number;\n  rotation?: number;\n  visible?: boolean;\n};\n\nconst layout = (items: Item[]): Item[] => {\n  const boxes = items.slice();\n  for (let i = 0; i < boxes.length; i++) {\n    const box1 = boxes[i];\n    if (box1.visible) {\n      for (let j = i + 1; j < boxes.length; j++) {\n        const box2 = boxes[j];\n        if (box1 !== box2 && box2.visible) {\n          if (intersect(box1, box2)) {\n            box2.visible = false;\n          }\n        }\n      }\n    }\n  }\n  return boxes;\n};\n\nconst cache: Map<string, any> = new Map();\nconst worker = createWorker(layoutCode);\n\n/**\n * label  label  label \n *  'overlap'  label \n * @param labels  label \n */\nexport async function hideOverlap(\n  labelItems: LabelItem[],\n  labels: IGroup[],\n  shapes: IShape[] | IGroup[],\n  region: BBox\n) {\n  const boxes = labels.map((d, idx) => ({\n    ...getLabelBackgroundInfo(d, labelItems[idx], get(labelItems[idx], 'background.padding')),\n    visible: true,\n  }));\n  const memoKey = JSON.stringify(boxes);\n  const cb = (items: Item[]) => {\n    cache.set(memoKey, items);\n    each(items, ({ visible }, idx) => {\n      const labelShape = labels[idx];\n      if (visible) {\n        labelShape?.show();\n      } else {\n        labelShape?.hide();\n      }\n    });\n    return items;\n  };\n  if (cache.get(memoKey)) {\n    cb(cache.get(memoKey));\n  } else if (worker) {\n    // Do layout in worker.\n    try {\n      const params = JSON.stringify({ type: 'hide-overlap', items: boxes });\n      const res = await worker.post(params, () => cb(layout(boxes)));\n      cb(Array.isArray(res.data) ? res.data : []);\n    } catch (e) {\n      console.error(e);\n      cb(layout(boxes));\n    }\n  } else {\n    // Normal layout in main thread.\n    cb(layout(boxes));\n  }\n}\n","import { groupBy, keys, map } from '@antv/util';\nimport { IElement, IGroup, IShape, BBox } from '../../../../dependents';\nimport Geometry from '../../../base';\nimport Element from '../../../element';\nimport { LabelItem } from '../../interface';\nimport { findLabelTextShape } from '../../util';\n\n/**\n * point-adjust-position layout \n */\nexport interface PointAdjustPositionLayoutCfg {\n  offset?: number;\n}\n\n/**\n * ( xField ) Label ...\n * @param geometry\n * @param labels\n */\nfunction sortLabels(geometry: Geometry, labels: IGroup[]) {\n  const yField = geometry.getXYFields()[1];\n  const result: IGroup[] = [];\n  const sortedLabels = labels.sort((left, right) => left.get('data')[yField] - left.get('data')[yField]);\n\n  if (sortedLabels.length > 0) {\n    result.push(sortedLabels.shift());\n  }\n  if (sortedLabels.length > 0) {\n    result.push(sortedLabels.pop());\n  }\n  result.push(...sortedLabels);\n\n  return result;\n}\n\nfunction hasSome(dones: IGroup[], current: IGroup, compare: (left: IGroup, right: IGroup) => boolean): boolean {\n  return dones.some((done) => compare(done, current));\n}\n\n/**\n * \n */\nfunction getOverlapArea(a: BBox, b: BBox, margin = 0) {\n  const xOverlap = Math.max(\n    0,\n    Math.min(a.x + a.width + margin, b.x + b.width + margin) - Math.max(a.x - margin, b.x - margin)\n  );\n  const yOverlap = Math.max(\n    0,\n    Math.min(a.y + a.height + margin, b.y + b.height + margin) - Math.max(a.y - margin, b.y - margin)\n  );\n\n  return xOverlap * yOverlap;\n}\n\n/**\n *  Label \n * @param dones\n * @param current\n */\nfunction checkShapeOverlap(dones: IGroup[], current: IGroup): boolean {\n  return hasSome(dones, current, (left, right) => {\n    const leftText = findLabelTextShape(left);\n    const rightText = findLabelTextShape(right);\n\n    return getOverlapArea(leftText.getCanvasBBox(), rightText.getCanvasBBox(), 2) > 0;\n  });\n}\n/**\n *  point geometry \n * @param items\n * @param labels\n * @param shapes\n * @param region\n * @param cfg\n */\nexport function pointAdjustPosition(\n  items: LabelItem[],\n  labels: IGroup[],\n  shapes: IShape[] | IGroup[],\n  region: BBox,\n  cfg: PointAdjustPositionLayoutCfg\n): void {\n  if (shapes.length === 0) {\n    return;\n  }\n\n  const element: Element = shapes[0]?.get('element');\n  const geometry: Geometry = element?.geometry;\n  if (!geometry || geometry.type !== 'point') {\n    return;\n  }\n  const [xField, yField] = geometry.getXYFields();\n  const groupedLabels = groupBy(labels, (label) => label.get('data')[xField]);\n  const dones: IGroup[] = [];\n  const offset = (cfg && cfg.offset) || items[0]?.offset || 12;\n\n  map(keys(groupedLabels).reverse(), (xValue) => {\n    const sortedCollections = sortLabels(geometry, groupedLabels[xValue]);\n    while (sortedCollections.length) {\n      const current = sortedCollections.shift();\n      const textShape = findLabelTextShape(current);\n      if (\n        hasSome(\n          dones,\n          current,\n          (left, right) =>\n            left.get('data')[xField] === right.get('data')[xField] &&\n            left.get('data')[yField] === right.get('data')[yField]\n        )\n      ) {\n        // \n        textShape.set('visible', false);\n        continue;\n      }\n      const upFail = checkShapeOverlap(dones, current);\n      let downFail: boolean = false;\n      if (upFail) {\n        textShape.attr('y', textShape.attr('y') + 2 * offset);\n        downFail = checkShapeOverlap(dones, current);\n      }\n      if (downFail) {\n        textShape.set('visible', false);\n        continue;\n      }\n      dones.push(current);\n    }\n  });\n}\n","import { groupBy, keys, map } from '@antv/util';\nimport { IGroup, IShape, BBox } from '../../../../dependents';\nimport Geometry from '../../../base';\nimport Element from '../../../element';\nimport { LabelItem } from '../../interface';\nimport { findLabelTextShape } from '../../util';\n\n/**\n * point-adjust-position layout \n */\nexport interface PointAdjustPositionLayoutCfg {\n  offset?: number;\n}\n\n/**\n * ( xField ) Label ...\n * @param geometry\n * @param labels\n */\nfunction sortLabels(geometry: Geometry, labels: IGroup[]) {\n  const yField = geometry.getXYFields()[1];\n  const result: IGroup[] = [];\n  const sortedLabels = labels.sort((left, right) => left.get('data')[yField] - left.get('data')[yField]);\n\n  if (sortedLabels.length > 0) {\n    result.push(sortedLabels.shift());\n  }\n  if (sortedLabels.length > 0) {\n    result.push(sortedLabels.pop());\n  }\n  result.push(...sortedLabels);\n\n  return result;\n}\n\nfunction hasSome(dones: IGroup[], current: IGroup, compare: (left: IGroup, right: IGroup) => boolean): boolean {\n  return dones.some((done) => compare(done, current));\n}\n\n/**\n * \n */\nfunction getOverlapArea(a: BBox, b: BBox, margin = 0) {\n  const xOverlap = Math.max(\n    0,\n    Math.min(a.x + a.width + margin, b.x + b.width + margin) - Math.max(a.x - margin, b.x - margin)\n  );\n  const yOverlap = Math.max(\n    0,\n    Math.min(a.y + a.height + margin, b.y + b.height + margin) - Math.max(a.y - margin, b.y - margin)\n  );\n\n  return xOverlap * yOverlap;\n}\n\n/**\n *  Label \n * @param dones\n * @param current\n */\nfunction checkShapeOverlap(dones: IGroup[], current: IGroup): boolean {\n  return hasSome(dones, current, (left, right) => {\n    const leftText = findLabelTextShape(left);\n    const rightText = findLabelTextShape(right);\n\n    return getOverlapArea(leftText.getCanvasBBox(), rightText.getCanvasBBox(), 2) > 0;\n  });\n}\n/**\n *  point geometry \n * @param items\n * @param labels\n * @param shapes\n * @param region\n * @param cfg\n */\nexport function pathAdjustPosition(\n  items: LabelItem[],\n  labels: IGroup[],\n  shapes: IShape[] | IGroup[],\n  region: BBox,\n  cfg: PointAdjustPositionLayoutCfg\n): void {\n  if (shapes.length === 0) {\n    return;\n  }\n\n  const element: Element = shapes[0]?.get('element');\n  const geometry: Geometry = element?.geometry;\n  if (!geometry || ['path', 'line', 'area'].indexOf(geometry.type) < 0) {\n    return;\n  }\n  const [xField, yField] = geometry.getXYFields();\n  const groupedLabels = groupBy(labels, (label) => label.get('data')[xField]);\n  const dones: IGroup[] = [];\n  const offset = (cfg && cfg.offset) || items[0]?.offset || 12;\n\n  map(keys(groupedLabels).reverse(), (xValue) => {\n    const sortedCollections = sortLabels(geometry, groupedLabels[xValue]);\n    while (sortedCollections.length) {\n      const current = sortedCollections.shift();\n      const textShape = findLabelTextShape(current);\n      if (\n        hasSome(\n          dones,\n          current,\n          (left, right) =>\n            left.get('data')[xField] === right.get('data')[xField] &&\n            left.get('data')[yField] === right.get('data')[yField]\n        )\n      ) {\n        // \n        textShape.set('visible', false);\n        continue;\n      }\n      const upFail = checkShapeOverlap(dones, current);\n      let downFail: boolean = false;\n      if (upFail) {\n        textShape.attr('y', textShape.attr('y') + 2 * offset);\n        downFail = checkShapeOverlap(dones, current);\n      }\n      if (downFail) {\n        textShape.set('visible', false);\n        continue;\n      }\n      dones.push(current);\n    }\n  });\n}\n","import { ext } from '@antv/matrix-util';\nimport { Coordinate, IGroup, IShape } from '../../dependents';\nimport { GAnimateCfg, Point } from '../../interface';\n\n/**\n * @ignore\n * \n * @param shape \n * @param vector \n * @param direct \n */\nexport function transformShape(shape: IShape | IGroup, vector: [number, number], direct: string): number[] {\n  let scaledMatrix;\n\n  const [x, y] = vector;\n  shape.applyToMatrix([x, y, 1]);\n  if (direct === 'x') {\n    shape.setMatrix(\n      ext.transform(shape.getMatrix(), [\n        ['t', -x, -y],\n        ['s', 0.01, 1],\n        ['t', x, y],\n      ])\n    );\n    scaledMatrix = ext.transform(shape.getMatrix(), [\n      ['t', -x, -y],\n      ['s', 100, 1],\n      ['t', x, y],\n    ]);\n  } else if (direct === 'y') {\n    shape.setMatrix(\n      ext.transform(shape.getMatrix(), [\n        ['t', -x, -y],\n        ['s', 1, 0.01],\n        ['t', x, y],\n      ])\n    );\n    scaledMatrix = ext.transform(shape.getMatrix(), [\n      ['t', -x, -y],\n      ['s', 1, 100],\n      ['t', x, y],\n    ]);\n  } else if (direct === 'xy') {\n    shape.setMatrix(\n      ext.transform(shape.getMatrix(), [\n        ['t', -x, -y],\n        ['s', 0.01, 0.01],\n        ['t', x, y],\n      ])\n    );\n    scaledMatrix = ext.transform(shape.getMatrix(), [\n      ['t', -x, -y],\n      ['s', 100, 100],\n      ['t', x, y],\n    ]);\n  }\n  return scaledMatrix;\n}\n\n/**\n * \n * @param element \n * @param animateCfg \n * @param coordinate \n * @param yMinPoint y \n * @param type \n */\nexport function doScaleAnimate(\n  element: IGroup | IShape,\n  animateCfg: GAnimateCfg,\n  coordinate: Coordinate,\n  yMinPoint: Point,\n  type: string\n) {\n  const { start, end } = coordinate;\n  const width = coordinate.getWidth();\n  const height = coordinate.getHeight();\n  let x: number;\n  let y: number;\n\n  if (type === 'y') {\n    x = start.x + width / 2;\n    y = yMinPoint.y < start.y ? yMinPoint.y : start.y;\n  } else if (type === 'x') {\n    x = yMinPoint.x > start.x ? yMinPoint.x : start.x;\n    y = start.y + height / 2;\n  } else if (type === 'xy') {\n    if (coordinate.isPolar) {\n      x = coordinate.getCenter().x;\n      y = coordinate.getCenter().y;\n    } else {\n      x = (start.x + end.x) / 2;\n      y = (start.y + end.y) / 2;\n    }\n  }\n\n  const endMatrix = transformShape(element, [x, y], type);\n  element.animate(\n    {\n      matrix: endMatrix,\n    },\n    animateCfg\n  );\n}\n","import { getArcParams } from '@antv/g-canvas';\nimport { isNumberEqual, isEqual } from '@antv/util';\n\nimport { IShape, PathCommand } from '../../dependents';\nimport { GAnimateCfg } from '../../interface';\nimport { AnimateExtraCfg } from '../interface';\n\nimport { getArcPath, getSectorPath } from '../../util/graphics';\n\nfunction getAngle(startPoint: number[], arcPath: PathCommand) {\n  let { startAngle, endAngle } = getArcParams(startPoint, arcPath);\n\n  if (!isNumberEqual(startAngle, -Math.PI * 0.5) && startAngle < -Math.PI * 0.5) {\n    startAngle += Math.PI * 2;\n  }\n  if (!isNumberEqual(endAngle, -Math.PI * 0.5) && endAngle < -Math.PI * 0.5) {\n    endAngle += Math.PI * 2;\n  }\n\n  if (arcPath[5] === 0) {\n    //  startAngle  endAngle  G2 \n    [startAngle, endAngle] = [endAngle, startAngle];\n  }\n\n  if (isNumberEqual(startAngle, Math.PI * 1.5)) {\n    startAngle = Math.PI * -0.5;\n  }\n\n  //  startAngle, endAngle  endAngle = Math.PI * 1.5 \n  if (isNumberEqual(endAngle, Math.PI * -0.5) && !isNumberEqual(startAngle, endAngle)) {\n    endAngle = Math.PI * 1.5;\n  }\n\n  return {\n    startAngle,\n    endAngle,\n  };\n}\n\nfunction getArcStartPoint(path: PathCommand) {\n  let startPoint;\n  if (path[0] === 'M' || path[0] === 'L') {\n    startPoint = [path[1], path[2]];\n  } else if (path[0] === 'a' || path[0] === 'A' || path[0] === 'C') {\n    startPoint = [path[path.length - 2], path[path.length - 1]];\n  }\n\n  return startPoint;\n}\n\n/**\n * path \n * 1.  path M, L, A, L, Z\n * 2.  path M, M, A, A, M, Z\n * 3.  path M, A, L, A, L, Z\n * 4.  path M, A, A, M, A, A, M, Z\n * 5. radial-line,  path,  M, A, A, Z\n * 6. radial-line,  path M, A, A, A, A, Z\n * @param path theta  path \n */\nexport function getArcInfo(path: PathCommand[]) {\n  let startAngle;\n  let endAngle;\n\n  const arcPaths = path.filter((command) => {\n    return command[0] === 'A' || command[0] === 'a';\n  });\n\n  if (arcPaths.length === 0) {\n    return {\n      startAngle: 0,\n      endAngle: 0,\n      radius: 0,\n      innerRadius: 0,\n    };\n  }\n\n  const firstArcPathCommand = arcPaths[0];\n  const lastArcPathCommand = arcPaths.length > 1 ? arcPaths[1] : arcPaths[0];\n  const firstIndex = path.indexOf(firstArcPathCommand);\n  const lastIndex = path.indexOf(lastArcPathCommand);\n  const firstStartPoint = getArcStartPoint(path[firstIndex - 1]);\n  const lastStartPoint = getArcStartPoint(path[lastIndex - 1]);\n\n  const { startAngle: firstStartAngle, endAngle: firstEndAngle } = getAngle(firstStartPoint, firstArcPathCommand);\n  const { startAngle: lastStartAngle, endAngle: lastEndAngle } = getAngle(lastStartPoint, lastArcPathCommand);\n\n  if (isNumberEqual(firstStartAngle, lastStartAngle) && isNumberEqual(firstEndAngle, lastEndAngle)) {\n    startAngle = firstStartAngle;\n    endAngle = firstEndAngle;\n  } else {\n    startAngle = Math.min(firstStartAngle, lastStartAngle);\n    endAngle = Math.max(firstEndAngle, lastEndAngle);\n  }\n\n  let radius = firstArcPathCommand[1];\n  let innerRadius = arcPaths[arcPaths.length - 1][1];\n  if (radius < innerRadius) {\n    [radius, innerRadius] = [innerRadius, radius];\n  } else if (radius === innerRadius) {\n    innerRadius = 0;\n  }\n\n  return {\n    startAngle,\n    endAngle,\n    radius,\n    innerRadius,\n  };\n}\n\n/**\n * @ignore\n * \n * @param shape \n * @param animateCfg\n * @param cfg\n */\nexport function sectorPathUpdate(shape: IShape, animateCfg: GAnimateCfg, cfg: AnimateExtraCfg) {\n  const { toAttrs, coordinate } = cfg;\n  const path = (toAttrs as { path: PathCommand[] }).path || [];\n  const pathCommands = path.map((command) => command[0]);\n\n  if (path.length < 1) return;\n\n  const { startAngle: curStartAngle, endAngle: curEndAngle, radius, innerRadius } = getArcInfo(path);\n  const { startAngle: preStartAngle, endAngle: preEndAngle } = getArcInfo(shape.attr('path'));\n\n  const center = coordinate.getCenter();\n  const diffStartAngle = curStartAngle - preStartAngle;\n  const diffEndAngle = curEndAngle - preEndAngle;\n  //  diff  attrs\n  if (diffStartAngle === 0 && diffEndAngle === 0) {\n    shape.attr('path', path);\n    return;\n  }\n\n  shape.animate(\n    (ratio) => {\n      const onFrameStartAngle = preStartAngle + ratio * diffStartAngle;\n      const onFrameEndAngle = preEndAngle + ratio * diffEndAngle;\n      return {\n        ...toAttrs,\n        path:\n          // hack,  /examples/bar/basic/demo/radial-line.ts \n          isEqual(pathCommands, ['M', 'A', 'A', 'Z'])\n            ? getArcPath(center.x, center.y, radius, onFrameStartAngle, onFrameEndAngle)\n            : getSectorPath(center.x, center.y, radius, onFrameStartAngle, onFrameEndAngle, innerRadius),\n      };\n    },\n    {\n      ...animateCfg,\n      callback: () => {\n        //  path  setState() \n        shape.attr('path', path);\n      },\n    }\n  );\n}\n","import { ext } from '@antv/matrix-util';\nimport { each } from '@antv/util';\nimport { IGroup, IShape } from '../../dependents';\nimport { GAnimateCfg } from '../../interface';\nimport { AnimateExtraCfg } from '../interface';\n\nfunction doShapeZoom(shape: IShape | IGroup, animateCfg: GAnimateCfg, type: 'zoomIn' | 'zoomOut') {\n  if (shape.isGroup()) {\n    each((shape as IGroup).getChildren(), (child) => {\n      doShapeZoom(child, animateCfg, type);\n    });\n  } else {\n    const bbox = shape.getBBox();\n    const x = (bbox.minX + bbox.maxX) / 2;\n    const y = (bbox.minY + bbox.maxY) / 2;\n    shape.applyToMatrix([x, y, 1]);\n\n    if (type === 'zoomIn') {\n      // \n      const matrix = ext.transform(shape.getMatrix(), [\n        ['t', -x, -y],\n        ['s', 0.01, 0.01],\n        ['t', x, y],\n      ]);\n      shape.setMatrix(matrix);\n      shape.animate(\n        {\n          matrix: ext.transform(shape.getMatrix(), [\n            ['t', -x, -y],\n            ['s', 100, 100],\n            ['t', x, y],\n          ]),\n        },\n        animateCfg\n      );\n    } else {\n      shape.animate(\n        {\n          matrix: ext.transform(shape.getMatrix(), [\n            ['t', -x, -y],\n            ['s', 0.01, 0.01],\n            ['t', x, y],\n          ]),\n        },\n        {\n          ...animateCfg,\n          callback: () => {\n            shape.remove(true);\n          },\n        }\n      );\n    }\n  }\n}\n\n/**\n * @ignore\n *  shape \n * shape \n * @param shape \n * @param animateCfg \n * @param cfg \n */\nexport function zoomIn(shape: IShape | IGroup, animateCfg: GAnimateCfg, cfg: AnimateExtraCfg) {\n  doShapeZoom(shape, animateCfg, 'zoomIn');\n}\n\n/**\n * @ignore\n *  shape \n * shape \n * @param shape \n * @param animateCfg \n * @param cfg \n */\nexport function zoomOut(shape: IShape | IGroup, animateCfg: GAnimateCfg, cfg: AnimateExtraCfg) {\n  doShapeZoom(shape, animateCfg, 'zoomOut');\n}\n","import { DIRECTION } from '../constant';\nimport { Point } from '../dependents';\nimport { FacetTitle } from '../interface';\n\n/**\n * @ignore\n *  facet title \n */\nexport function getFactTitleConfig(direction: DIRECTION): FacetTitle {\n  if ([DIRECTION.TOP, DIRECTION.BOTTOM].includes(direction)) {\n    return {\n      offsetX: 0,\n      offsetY: direction === DIRECTION.TOP ? -8 : 8,\n      style: {\n        textAlign: 'center',\n        textBaseline: direction === DIRECTION.TOP ? 'bottom' : 'top',\n      },\n    };\n  }\n\n  if ([DIRECTION.LEFT, DIRECTION.RIGHT].includes(direction)) {\n    return {\n      offsetX: direction === DIRECTION.LEFT ? -8 : 8,\n      offsetY: 0,\n      style: {\n        textAlign: direction === DIRECTION.LEFT ? 'right' : 'left',\n        textBaseline: 'middle',\n        rotate: Math.PI / 2, // \n      },\n    };\n  }\n\n  return {};\n}\n\n/**\n * @ignore\n *   \n * @param center\n * @param r\n * @param angle\n */\nexport function getAnglePoint(center: Point, r: number, angle: number): Point {\n  return {\n    x: center.x + r * Math.cos(angle),\n    y: center.y + r * Math.sin(angle),\n  };\n}\n","import { deepMix, each, filter, get } from '@antv/util';\nimport { AxisCfg, CircleCfg, CircleData, Datum } from '../interface';\n\nimport View from '../chart/view';\nimport { DIRECTION } from '../constant';\nimport { getAnglePoint, getFactTitleConfig } from '../util/facet';\nimport { Facet } from './facet';\n\n/**\n * @ignore\n * \n */\nexport default class Circle extends Facet<CircleCfg, CircleData> {\n  protected getDefaultCfg() {\n    return deepMix({}, super.getDefaultCfg(), {\n      type: 'circle',\n      showTitle: true,\n      title: super.getDefaultTitleCfg(),\n    });\n  }\n\n  public render() {\n    super.render();\n\n    if (this.cfg.showTitle) {\n      this.renderTitle();\n    }\n  }\n\n  /**\n   *  region\n   * @param count\n   * @param index\n   */\n  protected getRegion(count: number, index: number) {\n    const r = 1 / 2; // \n    // \n    const center = { x: 0.5, y: 0.5 };\n    // \n    const avgAngle = (Math.PI * 2) / count;\n\n    // \n    const angle = (-1 * Math.PI) / 2 + avgAngle * index;\n    // TODO \n    const facetR = r / (1 + 1 / Math.sin(avgAngle / 2));\n    // \n    const middle = getAnglePoint(center, r - facetR, angle);\n    const startAngle = (Math.PI * 5) / 4; // \n    const endAngle = (Math.PI * 1) / 4; // \n\n    return {\n      start: getAnglePoint(middle, facetR, startAngle),\n      end: getAnglePoint(middle, facetR, endAngle),\n    };\n  }\n\n  protected afterEachView(view: View, facet: CircleData) {\n    this.processAxis(view, facet);\n  }\n\n  protected beforeEachView(view: View, facet: CircleData) {}\n\n  protected generateFacets(data: Datum[]): CircleData[] {\n    const { fields, type } = this.cfg;\n    const [field] = fields;\n    if (!field) {\n      throw new Error('No `fields` specified!');\n    }\n\n    const values = this.getFieldValues(data, field);\n    const count = values.length;\n\n    const rst = [];\n    values.forEach((value: any, index: number) => {\n      const conditions = [{ field, value, values }];\n      const facetData = filter(data, this.getFacetDataFilter(conditions));\n\n      const facet: CircleData = {\n        type,\n        data: facetData,\n        region: this.getRegion(count, index),\n\n        columnValue: value,\n        columnField: field,\n        columnIndex: index,\n        columnValuesLength: count,\n\n        rowValue: null,\n        rowField: null,\n        rowIndex: 0,\n        rowValuesLength: 1,\n      };\n      rst.push(facet);\n    });\n    return rst;\n  }\n\n  protected getXAxisOption(x: string, axes: any, option: AxisCfg, facet: CircleData): object {\n    // \n    return option;\n  }\n\n  /**\n   *  y title \n   * @param y\n   * @param axes\n   * @param option\n   * @param facet\n   */\n  protected getYAxisOption(y: string, axes: any, option: AxisCfg, facet: CircleData): object {\n    // \n    return option;\n  }\n\n  /**\n   * facet title\n   */\n  private renderTitle() {\n    each(this.facets, (facet: CircleData) => {\n      const { columnValue, view } = facet;\n      const formatter = get(this.cfg.title, 'formatter');\n\n      const config = deepMix(\n        {\n          position: ['50%', '0%'] as [string, string],\n          content: formatter ? formatter(columnValue) : columnValue,\n        },\n        getFactTitleConfig(DIRECTION.TOP),\n        this.cfg.title\n      );\n\n      view.annotation().text(config);\n    });\n  }\n}\n","import { deepMix, each, filter, get } from '@antv/util';\nimport { DIRECTION } from '../constant';\nimport { AxisCfg, Datum, ListCfg, ListData } from '../interface';\n\nimport View from '../chart/view';\nimport { getFactTitleConfig } from '../util/facet';\nimport { Facet } from './facet';\n\n/**\n * @ignore\n * \n */\nexport default class List extends Facet<ListCfg, ListData> {\n  protected getDefaultCfg() {\n    return deepMix({}, super.getDefaultCfg(), {\n      type: 'list',\n      cols: null, // \n      showTitle: true,\n      title: super.getDefaultTitleCfg(),\n    });\n  }\n\n  public render() {\n    super.render();\n\n    if (this.cfg.showTitle) {\n      this.renderTitle();\n    }\n  }\n\n  protected afterEachView(view: View, facet: ListData) {\n    this.processAxis(view, facet);\n  }\n\n  protected beforeEachView(view: View, facet: ListData) {}\n\n  protected generateFacets(data: Datum[]): ListData[] {\n    const { fields } = this.cfg;\n    let { cols } = this.cfg;\n\n    const [columnField] = fields;\n    if (!columnField) {\n      throw new Error('No `fields` specified!');\n    }\n\n    const colValues = this.getFieldValues(data, columnField);\n\n    const count = colValues.length;\n    cols = cols || count; // \n\n    // \n    const rows = this.getPageCount(count, cols);\n    const rst = [];\n\n    colValues.forEach((val, index) => {\n      //  index \n      const { row, col } = this.getRowCol(index, cols);\n\n      const conditions = [{ field: columnField, value: val, values: colValues }];\n\n      const facetData = filter(data, this.getFacetDataFilter(conditions));\n\n      const facet: ListData = {\n        type: this.cfg.type,\n        data: facetData,\n        region: this.getRegion(rows, cols, col, row),\n\n        columnValue: val,\n        rowValue: val,\n        columnField,\n        rowField: null,\n        columnIndex: col,\n        rowIndex: row,\n        columnValuesLength: cols,\n        rowValuesLength: rows,\n\n        total: count,\n      };\n\n      rst.push(facet);\n    });\n\n    return rst;\n  }\n\n  /**\n   *  x title \n   * @param x\n   * @param axes\n   * @param option\n   * @param facet\n   */\n  protected getXAxisOption(x: string, axes: any, option: AxisCfg, facet: ListData): object {\n    //  view \n    if (\n      facet.rowIndex !== facet.rowValuesLength - 1 &&\n      facet.columnValuesLength * facet.rowIndex + facet.columnIndex + 1 + facet.columnValuesLength <= facet.total\n    ) {\n      return {\n        ...option,\n        label: null,\n        title: null,\n      };\n    }\n    return option;\n  }\n\n  /**\n   *  y title \n   * @param y\n   * @param axes\n   * @param option\n   * @param facet\n   */\n  protected getYAxisOption(y: string, axes: any, option: AxisCfg, facet: ListData): object {\n    if (facet.columnIndex !== 0) {\n      return {\n        ...option,\n        title: null,\n        label: null,\n      };\n    }\n    return option;\n  }\n\n  /**\n   * facet title\n   */\n  private renderTitle() {\n    each(this.facets, (facet: ListData) => {\n      const { columnValue, view } = facet;\n      const formatter = get(this.cfg.title, 'formatter');\n\n      const config = deepMix(\n        {\n          position: ['50%', '0%'] as [string, string],\n          content: formatter ? formatter(columnValue) : columnValue,\n        },\n        getFactTitleConfig(DIRECTION.TOP),\n        this.cfg.title\n      );\n\n      view.annotation().text(config);\n    });\n  }\n\n  /**\n   * \n   * @param total\n   * @param pageSize\n   */\n  private getPageCount(total: number, pageSize: number): number {\n    return Math.floor((total + pageSize - 1) / pageSize);\n  }\n\n  /**\n   * \n   * @param index\n   * @param pageSize\n   */\n  private getRowCol(index: number, pageSize: number) {\n    const row = Math.floor(index / pageSize);\n    const col = index % pageSize;\n\n    return { row, col };\n  }\n}\n","import { deepMix, each, get } from '@antv/util';\nimport { DIRECTION } from '../constant';\nimport { AxisCfg, Datum, MatrixCfg, MatrixData } from '../interface';\n\nimport View from '../chart/view';\nimport { getFactTitleConfig } from '../util/facet';\nimport { Facet } from './facet';\n\n/**\n * @ignore\n * \n */\nexport default class Matrix extends Facet<MatrixCfg, MatrixData> {\n  protected getDefaultCfg() {\n    return deepMix({}, super.getDefaultCfg(), {\n      type: 'matrix',\n      showTitle: false,\n      columnTitle: {\n        ...super.getDefaultTitleCfg(),\n      },\n      rowTitle: {\n        ...super.getDefaultTitleCfg(),\n      },\n    });\n  }\n\n  public render() {\n    super.render();\n\n    if (this.cfg.showTitle) {\n      this.renderTitle();\n    }\n  }\n\n  protected afterEachView(view: View, facet: MatrixData) {\n    this.processAxis(view, facet);\n  }\n\n  protected beforeEachView(view: View, facet: MatrixData) {}\n\n  protected generateFacets(data: Datum[]): MatrixData[] {\n    const { fields, type } = this.cfg;\n\n    // \n    const rowValuesLength = fields.length;\n    const columnValuesLength = rowValuesLength;\n\n    const rst = [];\n    for (let i = 0; i < columnValuesLength; i++) {\n      const columnField = fields[i];\n      for (let j = 0; j < rowValuesLength; j++) {\n        const rowField = fields[j];\n\n        const facet: MatrixData = {\n          type,\n          data,\n          region: this.getRegion(rowValuesLength, columnValuesLength, i, j),\n\n          columnValue: columnField,\n          rowValue: rowField,\n          columnField,\n          rowField,\n          columnIndex: i,\n          rowIndex: j,\n          columnValuesLength,\n          rowValuesLength,\n        };\n        rst.push(facet);\n      }\n    }\n    return rst;\n  }\n\n  /**\n   *  x title \n   * @param x\n   * @param axes\n   * @param option\n   * @param facet\n   */\n  protected getXAxisOption(x: string, axes: any, option: AxisCfg, facet: MatrixData): object {\n    // \n    if (facet.rowIndex !== facet.rowValuesLength - 1) {\n      return {\n        ...option,\n        label: null,\n        title: null,\n      };\n    }\n    return option;\n  }\n\n  /**\n   *  y title \n   * @param y\n   * @param axes\n   * @param option\n   * @param facet\n   */\n  protected getYAxisOption(y: string, axes: any, option: AxisCfg, facet: MatrixData): object {\n    // \n    if (facet.columnIndex !== 0) {\n      return {\n        ...option,\n        title: null,\n        label: null,\n      };\n    }\n    return option;\n  }\n\n  /**\n   * facet title\n   */\n  private renderTitle() {\n    each(this.facets, (facet: MatrixData, facetIndex: number) => {\n      const { columnIndex, rowIndex, columnValuesLength, rowValuesLength, columnValue, rowValue, view } = facet;\n\n      // top\n      if (rowIndex === 0) {\n        const formatter = get(this.cfg.columnTitle, 'formatter');\n        const config = deepMix(\n          {\n            position: ['50%', '0%'] as [string, string],\n            content: formatter ? formatter(columnValue) : columnValue,\n          },\n          getFactTitleConfig(DIRECTION.TOP),\n          this.cfg.columnTitle\n        );\n\n        view.annotation().text(config);\n      }\n      // right\n      if (columnIndex === columnValuesLength - 1) {\n        const formatter = get(this.cfg.rowTitle, 'formatter');\n        const config = deepMix(\n          {\n            position: ['100%', '50%'] as [string, string],\n            content: formatter ? formatter(rowValue) : rowValue,\n          },\n          getFactTitleConfig(DIRECTION.RIGHT),\n          this.cfg.rowTitle\n        );\n\n        view.annotation().text(config);\n      }\n    });\n  }\n}\n","import { deepMix, each, filter, get } from '@antv/util';\nimport { DIRECTION } from '../constant';\nimport { AxisCfg, Datum, MirrorCfg, MirrorData } from '../interface';\n\nimport View from '../chart/view';\nimport { getFactTitleConfig } from '../util/facet';\nimport { Facet } from './facet';\n\n/**\n * @ignore\n * \n */\nexport default class Mirror extends Facet<MirrorCfg, MirrorData> {\n  protected getDefaultCfg() {\n    return deepMix({}, super.getDefaultCfg(), {\n      type: 'mirror',\n      showTitle: true,\n      title: super.getDefaultTitleCfg(),\n      transpose: false,\n    });\n  }\n\n  public render() {\n    super.render();\n\n    if (this.cfg.showTitle) {\n      this.renderTitle();\n    }\n  }\n\n  protected beforeEachView(view: View, facet: MirrorData) {\n    // \n    if (this.cfg.transpose) {\n      if (facet.columnIndex % 2 === 0) {\n        view.coordinate().transpose().reflect('x');\n      } else {\n        view.coordinate().transpose();\n      }\n    } else {\n      if (facet.rowIndex % 2 !== 0) {\n        view.coordinate().reflect('y');\n      }\n    }\n  }\n\n  protected afterEachView(view: View, facet: MirrorData) {\n    this.processAxis(view, facet);\n  }\n\n  protected generateFacets(data: Datum[]): MirrorData[] {\n    const [f] = this.cfg.fields;\n\n    const rst = [];\n    let columnValuesLength = 1;\n    let rowValuesLength = 1;\n\n    let columnValues: string[] = [''];\n    let rowValues: string[] = [''];\n\n    let columnField;\n    let rowField;\n\n    if (this.cfg.transpose) {\n      columnField = f;\n      columnValues = this.getFieldValues(data, columnField).slice(0, 2); // \n      columnValuesLength = columnValues.length;\n    } else {\n      rowField = f;\n      rowValues = this.getFieldValues(data, rowField).slice(0, 2); // \n      rowValuesLength = rowValues.length;\n    }\n\n    // \n    columnValues.forEach((xVal, xIndex) => {\n      rowValues.forEach((yVal, yIndex) => {\n        const conditions = [\n          { field: columnField, value: xVal, values: columnValues },\n          { field: rowField, value: yVal, values: rowValues },\n        ];\n\n        const facetData = filter(data, this.getFacetDataFilter(conditions));\n\n        const facet: MirrorData = {\n          type: this.cfg.type,\n          data: facetData,\n          region: this.getRegion(rowValuesLength, columnValuesLength, xIndex, yIndex),\n\n          columnValue: xVal,\n          rowValue: yVal,\n          columnField,\n          rowField,\n          columnIndex: xIndex,\n          rowIndex: yIndex,\n          columnValuesLength,\n          rowValuesLength,\n        };\n        rst.push(facet);\n      });\n    });\n\n    return rst;\n  }\n\n  /**\n   *  x title \n   * @param x\n   * @param axes\n   * @param option\n   * @param facet\n   */\n  protected getXAxisOption(x: string, axes: any, option: AxisCfg, facet: MirrorData): object {\n    // \n    //  view \n    if (facet.columnIndex === 1 || facet.rowIndex === 1) {\n      return {\n        ...option,\n        label: null,\n        title: null,\n      };\n    }\n\n    return option;\n  }\n\n  /**\n   *  y title \n   * @param y\n   * @param axes\n   * @param option\n   * @param facet\n   */\n  protected getYAxisOption(y: string, axes: any, option: AxisCfg, facet: MirrorData): object {\n    // do nothing\n    return option;\n  }\n\n  private renderTitle() {\n    each(this.facets, (facet: MirrorData, facetIndex: number) => {\n      const { columnValue, rowValue, view } = facet;\n      const formatter = get(this.cfg.title, 'formatter');\n\n      if (this.cfg.transpose) {\n        const config = deepMix(\n          {\n            position: ['50%', '0%'] as [string, string],\n            content: formatter ? formatter(columnValue) : columnValue,\n          },\n          getFactTitleConfig(DIRECTION.TOP),\n          this.cfg.title\n        );\n\n        view.annotation().text(config);\n      } else {\n        const config = deepMix(\n          {\n            position: ['100%', '50%'] as [string, string],\n            content: formatter ? formatter(rowValue) : rowValue,\n          },\n          getFactTitleConfig(DIRECTION.RIGHT),\n          this.cfg.title\n        );\n\n        view.annotation().text(config);\n      }\n    });\n  }\n}\n","import { deepMix, each, filter, get } from '@antv/util';\nimport { DIRECTION } from '../constant';\nimport { AxisCfg, Datum, RectCfg, RectData } from '../interface';\n\nimport View from '../chart/view';\nimport { getFactTitleConfig } from '../util/facet';\nimport { Facet } from './facet';\n\n/**\n * @ignore\n * \n */\nexport default class Rect extends Facet<RectCfg, RectData> {\n  protected afterEachView(view: View, facet: RectData) {\n    this.processAxis(view, facet);\n  }\n\n  protected beforeEachView(view: View, facet: RectData) {\n    // do nothing\n  }\n\n  protected getDefaultCfg() {\n    return deepMix({}, super.getDefaultCfg(), {\n      type: 'rect',\n      columnTitle: {\n        ...super.getDefaultTitleCfg(),\n      },\n      rowTitle: {\n        ...super.getDefaultTitleCfg(),\n      },\n    });\n  }\n\n  public render() {\n    super.render();\n\n    if (this.cfg.showTitle) {\n      this.renderTitle();\n    }\n  }\n\n  /**\n   * \n   * @param data\n   */\n  protected generateFacets(data: Datum[]): RectData[] {\n    const [columnField, rowField] = this.cfg.fields;\n\n    const rst = [];\n    let columnValuesLength = 1;\n    let rowValuesLength = 1;\n\n    let columnValues: string[] = [''];\n    let rowValues: string[] = [''];\n\n    if (columnField) {\n      columnValues = this.getFieldValues(data, columnField);\n      columnValuesLength = columnValues.length;\n    }\n    if (rowField) {\n      rowValues = this.getFieldValues(data, rowField);\n      rowValuesLength = rowValues.length;\n    }\n\n    // \n    columnValues.forEach((xVal, xIndex) => {\n      rowValues.forEach((yVal, yIndex) => {\n        const conditions = [\n          { field: columnField, value: xVal, values: columnValues },\n          { field: rowField, value: yVal, values: rowValues },\n        ];\n        const facetData = filter(data, this.getFacetDataFilter(conditions));\n\n        const facet: RectData = {\n          type: this.cfg.type,\n          data: facetData,\n          region: this.getRegion(rowValuesLength, columnValuesLength, xIndex, yIndex),\n\n          columnValue: xVal,\n          rowValue: yVal,\n          columnField,\n          rowField,\n          columnIndex: xIndex,\n          rowIndex: yIndex,\n          columnValuesLength,\n          rowValuesLength,\n        };\n        rst.push(facet);\n      });\n    });\n\n    return rst;\n  }\n\n  private renderTitle(): void {\n    each(this.facets, (facet: RectData, facetIndex: number) => {\n      const { columnIndex, rowIndex, columnValuesLength, columnValue, rowValue, view } = facet;\n\n      // top\n      if (rowIndex === 0) {\n        const formatter = get(this.cfg.columnTitle, 'formatter');\n        const config = deepMix(\n          {\n            position: ['50%', '0%'] as [string, string],\n            content: formatter ? formatter(columnValue) : columnValue,\n          },\n          getFactTitleConfig(DIRECTION.TOP),\n          this.cfg.columnTitle\n        );\n\n        view.annotation().text(config);\n      }\n      // right\n      if (columnIndex === columnValuesLength - 1) {\n        const formatter = get(this.cfg.rowTitle, 'formatter');\n        const config = deepMix(\n          {\n            position: ['100%', '50%'] as [string, string],\n            content: formatter ? formatter(rowValue) : rowValue,\n          },\n          getFactTitleConfig(DIRECTION.RIGHT),\n          this.cfg.rowTitle\n        );\n\n        view.annotation().text(config);\n      }\n    });\n  }\n\n  /**\n   *  x title \n   * @param x\n   * @param axes\n   * @param option\n   * @param facet\n   */\n  protected getXAxisOption(x: string, axes: any, option: AxisCfg, facet: RectData): object {\n    // \n    if (facet.rowIndex !== facet.rowValuesLength - 1) {\n      return {\n        ...option,\n        title: null,\n        label: null,\n      };\n    } else if (facet.columnIndex !== Math.floor((facet.columnValuesLength - 1) / 2)) {\n      // \n      return {\n        ...option,\n        title: null,\n      };\n    }\n    return option;\n  }\n\n  /**\n   *  y title \n   * @param y\n   * @param axes\n   * @param option\n   * @param facet\n   */\n  protected getYAxisOption(y: string, axes: any, option: AxisCfg, facet: RectData): object {\n    if (facet.columnIndex !== 0) {\n      return {\n        ...option,\n        title: null,\n        label: null,\n      };\n    } else if (facet.rowIndex !== Math.floor((facet.rowValuesLength - 1) / 2)) {\n      return {\n        ...option,\n        title: null,\n      };\n    }\n    return option;\n  }\n}\n","/**\n * Create By Bruce Too\n * On 2020-02-10\n */\nimport { assign, deepMix, each, get } from '@antv/util';\nimport View from '../chart/view';\nimport { DIRECTION, VIEW_LIFE_CIRCLE } from '../constant';\nimport { AxisCfg, Condition, Datum, TreeCfg, TreeData } from '../interface';\nimport { getFactTitleConfig } from '../util/facet';\nimport { Facet } from './facet';\n\n/**\n * @ignore\n * Tree Facet\n */\nexport default class Tree extends Facet<TreeCfg, TreeData> {\n  protected afterEachView(view: View, facet: TreeData) {\n    this.processAxis(view, facet);\n  }\n\n  protected beforeEachView(view: View, facet: TreeData) {}\n\n  public init() {\n    super.init();\n    this.view.on(VIEW_LIFE_CIRCLE.AFTER_RENDER, this.afterChartRender);\n  }\n\n  protected getDefaultCfg() {\n    return deepMix({}, super.getDefaultCfg(), {\n      type: 'tree',\n      line: {\n        style: {\n          lineWidth: 1,\n          stroke: '#ddd',\n        },\n        smooth: false,\n      },\n      showTitle: true,\n      title: super.getDefaultTitleCfg(),\n    });\n  }\n\n  protected generateFacets(data: Datum[]): TreeData[] {\n    const fields = this.cfg.fields;\n    if (!fields.length) {\n      throw new Error('Please specify for the fields for rootFacet!');\n    }\n    const rst = [];\n    const rootFacet: TreeData = {\n      type: this.cfg.type,\n      data,\n      region: null,\n      rowValuesLength: this.getRows(),\n      columnValuesLength: 1,\n      rowIndex: 0,\n      columnIndex: 0,\n      rowField: '',\n      columnField: '',\n      rowValue: '',\n      columnValue: '',\n    };\n    rst.push(rootFacet);\n    rootFacet.children = this.getChildFacets(data, 1, rst);\n    this.setRegion(rst);\n    return rst;\n  }\n\n  private setRegion(facets: TreeData[]) {\n    this.forceColIndex(facets);\n    facets.forEach((facet) => {\n      // @ts-ignore \n      facet.region = this.getRegion(facet.rowValuesLength, facet.columnValuesLength, facet.columnIndex, facet.rowIndex);\n    });\n  }\n\n  protected getRegion(rows: number, cols: number, xIndex: number, yIndex: number) {\n    const xWidth = 1 / cols; // x\n    const yWidth = 1 / rows; // y\n\n    const start = {\n      x: xWidth * xIndex,\n      y: yWidth * yIndex,\n    };\n\n    const end = {\n      x: start.x + xWidth,\n      y: start.y + (yWidth * 2) / 3, // 1/3\n    };\n    return {\n      start,\n      end,\n    };\n  }\n\n  private forceColIndex(facets: TreeData[]) {\n    const leafs: TreeData[] = [];\n    let index = 0;\n    facets.forEach((facet) => {\n      if (this.isLeaf(facet)) {\n        leafs.push(facet);\n        // @ts-ignore \n        facet.columnIndex = index;\n        index++;\n      }\n    });\n\n    leafs.forEach((facet) => {\n      // @ts-ignore\n      facet.columnValuesLength = leafs.length;\n    });\n    const maxLevel = this.cfg.fields.length;\n    for (let i = maxLevel - 1; i >= 0; i--) {\n      const levelFacets = this.getFacetsByLevel(facets, i);\n      // var yIndex = maxLevel - i;\n      for (const facet of levelFacets) {\n        if (!this.isLeaf(facet)) {\n          facet.originColIndex = facet.columnIndex;\n          // @ts-ignore\n          facet.columnIndex = this.getRegionIndex(facet.children);\n          // @ts-ignore\n          facet.columnValuesLength = leafs.length;\n        }\n      }\n    }\n  }\n\n  // get facet use level\n  private getFacetsByLevel(facets: TreeData[], level: number) {\n    const rst: TreeData[] = [];\n    facets.forEach((facet) => {\n      if (facet.rowIndex === level) {\n        rst.push(facet);\n      }\n    });\n    return rst;\n  }\n\n  // if the facet has children , make it's column index in the middle of it's children\n  private getRegionIndex(children: TreeData[]) {\n    const first = children[0];\n    const last = children[children.length - 1];\n    return (last.columnIndex - first.columnIndex) / 2 + first.columnIndex;\n  }\n\n  // is  a leaf without children\n  private isLeaf(facet: TreeData) {\n    return !facet.children || !facet.children.length;\n  }\n\n  private getRows() {\n    return this.cfg.fields.length + 1;\n  }\n\n  // get child\n  private getChildFacets(data: Datum[], level: number, arr: TreeData[]) {\n    // [ 'grade', 'class' ]\n    const fields = this.cfg.fields;\n    const length = fields.length;\n    if (length < level) {\n      return;\n    }\n    const rst = [];\n    // get fist level except root node\n    const field = fields[level - 1];\n    // get field value\n    const values = this.getFieldValues(data, field);\n    values.forEach((value, index) => {\n      const conditions = [{ field, value, values } as Condition];\n      const subData = data.filter(this.getFacetDataFilter(conditions));\n      if (subData.length) {\n        const facet: TreeData = {\n          type: this.cfg.type,\n          data: subData,\n          region: null,\n          columnValue: value,\n          rowValue: '',\n          columnField: field,\n          rowField: '',\n          columnIndex: index,\n          rowValuesLength: this.getRows(),\n          columnValuesLength: 1,\n          rowIndex: level,\n          children: this.getChildFacets(subData, level + 1, arr),\n        };\n        rst.push(facet);\n        arr.push(facet);\n      }\n    });\n    return rst;\n  }\n\n  public render() {\n    super.render();\n    if (this.cfg.showTitle) {\n      this.renderTitle();\n    }\n  }\n\n  private afterChartRender = () => {\n    if (this.facets && this.cfg.line) {\n      this.container.clear();\n      this.drawLines(this.facets);\n    }\n  };\n\n  private renderTitle() {\n    each(this.facets, (facet: TreeData) => {\n      const { columnValue, view } = facet;\n      const formatter = get(this.cfg.title, 'formatter');\n\n      const config = deepMix(\n        {\n          position: ['50%', '0%'] as [string, string],\n          content: formatter ? formatter(columnValue) : columnValue,\n        },\n        getFactTitleConfig(DIRECTION.TOP),\n        this.cfg.title\n      );\n\n      view.annotation().text(config);\n    });\n  }\n\n  private drawLines(facets: TreeData[]) {\n    facets.forEach((facet) => {\n      if (!this.isLeaf(facet)) {\n        const children = facet.children;\n        this.addFacetLines(facet, children);\n      }\n    });\n  }\n\n  // add lines with it's children\n  private addFacetLines(facet: TreeData, children: TreeData[]) {\n    const view = facet.view;\n    const region = view.coordinateBBox;\n    // top, right, bottom, left\n    const start = {\n      x: region.x + region.width / 2,\n      y: region.y + region.height,\n    };\n\n    children.forEach((subFacet) => {\n      const subRegion = subFacet.view.coordinateBBox;\n      const end = {\n        x: subRegion.bl.x + (subRegion.tr.x - subRegion.bl.x) / 2,\n        y: subRegion.tr.y,\n      };\n\n      const middle1 = {\n        x: start.x,\n        y: start.y + (end.y - start.y) / 2,\n      };\n      const middle2 = {\n        x: end.x,\n        y: middle1.y,\n      };\n      this.drawLine([start, middle1, middle2, end]);\n    });\n  }\n\n  private getPath(points) {\n    const path = [];\n    const smooth = this.cfg.line.smooth;\n    if (smooth) {\n      path.push(['M', points[0].x, points[0].y]);\n      path.push(['C', points[1].x, points[1].y, points[2].x, points[2].y, points[3].x, points[3].y]);\n    } else {\n      points.forEach((point, index) => {\n        if (index === 0) {\n          path.push(['M', point.x, point.y]);\n        } else {\n          path.push(['L', point.x, point.y]);\n        }\n      });\n    }\n\n    return path;\n  }\n\n  // draw line width points\n  private drawLine(points) {\n    const path = this.getPath(points);\n    const line = this.cfg.line.style;\n    this.container.addShape('path', {\n      attrs: assign(\n        {\n          // @ts-ignore\n          path,\n        },\n        line\n      ),\n    });\n  }\n\n  protected getXAxisOption(x: string, axes: any, option: AxisCfg, facet: TreeData): object {\n    if (facet.rowIndex !== facet.rowValuesLength - 1) {\n      return {\n        ...option,\n        title: null,\n        label: null,\n      };\n    }\n    return option;\n  }\n\n  protected getYAxisOption(y: string, axes: any, option: AxisCfg, facet: TreeData): object {\n    if (facet.originColIndex !== 0 && facet.columnIndex !== 0) {\n      return {\n        ...option,\n        title: null,\n        label: null,\n      };\n    }\n    return option;\n  }\n}\n","import { reduce, isNumber } from '@antv/util';\n\n/**\n * \n * @param array\n */\nexport function getMedian(array: number[]) {\n  const arr = [...array];\n  // \n  arr.sort((a: number, b: number) => {\n    return a - b;\n  });\n\n  const len = arr.length;\n\n  // median\n  // 0\n  if (len === 0) {\n    return 0;\n  }\n\n  // \n  if (len % 2 === 1) {\n    return arr[(len - 1) / 2];\n  }\n\n  // \n  return (arr[len / 2] + arr[len / 2 - 1]) / 2;\n}\n\n/**\n * \n * @param array\n */\nexport function getMean(array: number[]) {\n  const sum = reduce(\n    array,\n    (r: number, num: number) => {\n      return (r += isNaN(num) || !isNumber(num) ? 0 : num);\n    },\n    0\n  );\n\n  return array.length === 0 ? 0 : sum / array.length;\n}\n","import { getMedian, getMean } from './stat';\nimport { Scale } from '../dependents';\n\n/**\n * parse the value position\n * @param val\n * @param scale\n */\nexport function getNormalizedValue(val: number | string, scale: Scale) {\n  if (!scale) {\n    return null;\n  }\n  let scaled: number;\n\n  switch (val) {\n    case 'start':\n      return 0;\n    case 'center':\n      return 0.5;\n    case 'end':\n      return 1;\n    case 'median': {\n      scaled = scale.isCategory ? getMedian(scale.values.map((_, idx: number) => idx)) : getMedian(scale.values);\n      break;\n    }\n    case 'mean': {\n      scaled = scale.isCategory ? (scale.values.length - 1) / 2 : getMean(scale.values);\n      break;\n    }\n    case 'min':\n      scaled = scale.isCategory ? 0 : scale[val];\n      break;\n    case 'max':\n      scaled = scale.isCategory ? scale.values.length - 1 : scale[val];\n      break;\n    default:\n      scaled = val as number;\n      break;\n  }\n\n  return scale.scale(scaled);\n}\n","import {\n  contains,\n  deepMix,\n  each,\n  get,\n  isArray,\n  isFunction,\n  isNil,\n  isString,\n  keys,\n  upperFirst,\n  find,\n  includes,\n} from '@antv/util';\nimport { Annotation as AnnotationComponent, IElement, IGroup } from '../../dependents';\nimport {\n  AnnotationBaseOption as BaseOption,\n  AnnotationPosition as Position,\n  ArcOption,\n  ComponentOption,\n  ShapeAnnotationOption,\n  Data,\n  DataMarkerOption,\n  DataRegionOption,\n  Datum,\n  HtmlAnnotationOption,\n  ImageOption,\n  LineOption,\n  Point,\n  RegionFilterOption,\n  RegionOption,\n  RegionPositionBaseOption,\n  TextOption,\n} from '../../interface';\n\nimport { DEFAULT_ANIMATE_CFG } from '../../animate/';\nimport { COMPONENT_TYPE, DIRECTION, GEOMETRY_LIFE_CIRCLE, LAYER, VIEW_LIFE_CIRCLE } from '../../constant';\n\nimport Geometry from '../../geometry/base';\nimport Element from '../../geometry/element';\nimport { getAngleByPoint, getDistanceToCenter } from '../../util/coordinate';\nimport { omit } from '../../util/helper';\nimport { getNormalizedValue } from '../../util/annotation';\nimport View from '../view';\nimport { Controller } from './base';\nimport { Scale } from '@antv/attr';\n\n/**  */\nconst ANNOTATIONS_AFTER_RENDER = ['regionFilter', 'shape'];\n\n/**\n * Annotation controller, :\n * 1.  Annotation: linetextarc ...\n * 2. : initlayoutrendercleardestroy\n */\nexport default class Annotation extends Controller<BaseOption[]> {\n  private foregroundContainer: IGroup;\n  private backgroundContainer: IGroup;\n\n  /*  cache object :  */\n  private cache = new Map<BaseOption, ComponentOption>();\n\n  constructor(view: View) {\n    super(view);\n\n    this.foregroundContainer = this.view.getLayer(LAYER.FORE).addGroup();\n    this.backgroundContainer = this.view.getLayer(LAYER.BG).addGroup();\n\n    this.option = [];\n  }\n\n  public get name(): string {\n    return 'annotation';\n  }\n\n  public init() { }\n\n  /**\n   *  annotation  render  layout \n   */\n  public layout() {\n    this.update();\n  }\n\n  //  Annotation  layout() \n  public render() { }\n\n  /**\n   * \n   */\n  public update() {\n    // 1.   Geometry \n    this.onAfterRender(() => {\n      const updated = new Map<BaseOption, ComponentOption>();\n      //  regionFilter/shape \n      each(this.option, (option: BaseOption) => {\n        if (includes(ANNOTATIONS_AFTER_RENDER, option.type)) {\n          const co = this.updateOrCreate(option);\n          // \n          if (co) {\n            updated.set(this.getCacheKey(option), co);\n          }\n        }\n      });\n\n      //  cache\n      // \n      this.cache = this.syncCache(updated);\n    });\n\n    // 2.  regionFilter\n    const updateCache = new Map<BaseOption, ComponentOption>();\n    each(this.option, (option: BaseOption) => {\n      if (!includes(ANNOTATIONS_AFTER_RENDER, option.type)) {\n        const co = this.updateOrCreate(option);\n        // \n        if (co) {\n          updateCache.set(this.getCacheKey(option), co);\n        }\n      }\n    });\n    this.cache = this.syncCache(updateCache);\n  }\n\n  /**\n   * \n   * @param includeOption  option \n   */\n  public clear(includeOption = false) {\n    super.clear();\n\n    this.clearComponents();\n    this.foregroundContainer.clear();\n    this.backgroundContainer.clear();\n\n    // clear all option\n    if (includeOption) {\n      this.option = [];\n    }\n  }\n\n  public destroy() {\n    this.clear(true);\n\n    this.foregroundContainer.remove(true);\n    this.backgroundContainer.remove(true);\n  }\n\n  /**\n   * \n   */\n  public getComponents(): ComponentOption[] {\n    const co = [];\n\n    this.cache.forEach((value: ComponentOption) => {\n      co.push(value);\n    });\n\n    return co;\n  }\n\n  /**\n   * \n   */\n  private clearComponents() {\n    this.getComponents().forEach((co) => {\n      co.component.destroy();\n    });\n\n    this.cache.clear();\n  }\n\n  /**\n   * region filter \n   * @param doWhat\n   */\n  private onAfterRender(doWhat: () => void) {\n    let done = false;\n    if (this.view.getOptions().animate) {\n      this.view.geometries.forEach((g: Geometry) => {\n        //  geometry \n        if (g.animateOption) {\n          g.once(GEOMETRY_LIFE_CIRCLE.AFTER_DRAW_ANIMATE, () => {\n          doWhat();\n          });\n          done = true;\n        }\n      });\n    }\n\n    if (!done) {\n      this.view.getRootView().once(VIEW_LIFE_CIRCLE.AFTER_RENDER, () => {\n        doWhat();\n      });\n    }\n  }\n\n  private createAnnotation(option: BaseOption) {\n    const { type } = option;\n\n    const Ctor = AnnotationComponent[upperFirst(type)];\n    if (Ctor) {\n      const theme = this.getAnnotationTheme(type);\n      const cfg = this.getAnnotationCfg(type, option, theme);\n      // \n      if (!cfg) {\n        return null;\n      }\n      const annotation = new Ctor(cfg);\n\n      return {\n        component: annotation,\n        layer: this.isTop(cfg) ? LAYER.FORE : LAYER.BG,\n        direction: DIRECTION.NONE,\n        type: COMPONENT_TYPE.ANNOTATION,\n        extra: option,\n      };\n    }\n  }\n\n  // APIs for creating annotation component\n  public annotation(option: any) {\n    this.option.push(option);\n  }\n\n  /**\n   *  Arc\n   * @param option\n   * @returns AnnotationController\n   */\n  public arc(option: ArcOption) {\n    this.annotation({\n      type: 'arc',\n      ...option,\n    });\n\n    return this;\n  }\n\n  /**\n   *  image\n   * @param option\n   * @returns AnnotationController\n   */\n  public image(option: ImageOption) {\n    this.annotation({\n      type: 'image',\n      ...option,\n    });\n\n    return this;\n  }\n\n  /**\n   *  Line\n   * @param option\n   * @returns AnnotationController\n   */\n  public line(option: LineOption) {\n    this.annotation({\n      type: 'line',\n      ...option,\n    });\n\n    return this;\n  }\n\n  /**\n   *  Region\n   * @param option\n   * @returns AnnotationController\n   */\n  public region(option: RegionOption) {\n    this.annotation({\n      type: 'region',\n      ...option,\n    });\n\n    return this;\n  }\n\n  /**\n   *  Text\n   * @param option\n   * @returns AnnotationController\n   */\n  public text(option: TextOption) {\n    this.annotation({\n      type: 'text',\n      ...option,\n    });\n\n    return this;\n  }\n\n  /**\n   *  DataMarker\n   * @param option\n   * @returns AnnotationController\n   */\n  public dataMarker(option: DataMarkerOption) {\n    this.annotation({\n      type: 'dataMarker',\n      ...option,\n    });\n\n    return this;\n  }\n\n  /**\n   *  DataRegion\n   * @param option\n   * @returns AnnotationController\n   */\n  public dataRegion(option: DataRegionOption) {\n    this.annotation({\n      type: 'dataRegion',\n      ...option,\n    });\n  }\n\n  /**\n   *  RegionFilter\n   * @param option\n   * @returns AnnotationController\n   */\n  public regionFilter(option: RegionFilterOption) {\n    this.annotation({\n      type: 'regionFilter',\n      ...option,\n    });\n  }\n\n  /**\n   *  ShapeAnnotation\n   * @param option\n   */\n  public shape(option: ShapeAnnotationOption) {\n    this.annotation({\n      type: 'shape',\n      ...option,\n    });\n  }\n\n  /**\n   *  HtmlAnnotation\n   * @param option\n   */\n  public html(option: HtmlAnnotationOption) {\n    this.annotation({\n      type: 'html',\n      ...option,\n    });\n  }\n  // end API\n\n  /**\n   * parse the point position to [x, y]\n   * @param p Position\n   * @returns { x, y }\n   */\n  private parsePosition(\n    p:\n      | [string | number, string | number]\n      | Datum\n      | ((xScale: Scale, yScale: Scale) => [string | number, string | number] | number | Datum)\n  ): Point {\n    const xScale = this.view.getXScale();\n    //  object\n    const yScales = this.view.getScalesByDim('y');\n\n    const position: Position = isFunction(p) ? p.call(null, xScale, yScales) : p;\n\n    let x = 0;\n    let y = 0;\n\n    //  [24, 24] \n    if (isArray(position)) {\n      const [xPos, yPos] = position;\n      //  ['50%', '50%'] \n      // fix:  'xxx5%xxx'  https://github.com/antvis/f2/issues/590\n      // @ts-ignore\n      if (isString(xPos) && xPos.indexOf('%') !== -1 && !isNaN(xPos.slice(0, -1))) {\n        return this.parsePercentPosition(position as [string, string]);\n      }\n\n      x = getNormalizedValue(xPos, xScale);\n      y = getNormalizedValue(yPos, Object.values(yScales)[0]);\n    } else if (!isNil(position)) {\n      //  object \n      for (const key of keys(position)) {\n        const value = position[key];\n        if (key === xScale.field) {\n          x = getNormalizedValue(value, xScale);\n        }\n        if (yScales[key]) {\n          y = getNormalizedValue(value, yScales[key]);\n        }\n      }\n    }\n\n    if (isNaN(x) || isNaN(y)) {\n      return null;\n    }\n\n    return this.view.getCoordinate().convert({ x, y });\n  }\n\n  /**\n   * parse all the points between start and end\n   * @param start\n   * @param end\n   * @return Point[]\n   */\n  private getRegionPoints(start: Position | Data, end: Position | Data): Point[] {\n    const xScale = this.view.getXScale();\n    const yScales = this.view.getScalesByDim('y');\n    const yScale = Object.values(yScales)[0];\n    const xField = xScale.field;\n    const viewData = this.view.getData();\n    const startXValue = isArray(start) ? start[0] : start[xField];\n    const endXValue = isArray(end) ? end[0] : end[xField];\n    const arr = [];\n\n    let startIndex;\n    each(viewData, (item, idx) => {\n      if (item[xField] === startXValue) {\n        startIndex = idx;\n      }\n      if (idx >= startIndex) {\n        const point = this.parsePosition([item[xField], item[yScale.field]]);\n        if (point) {\n          arr.push(point);\n        }\n      }\n      if (item[xField] === endXValue) {\n        return false;\n      }\n    });\n\n    return arr;\n  }\n\n  /**\n   * parse percent position\n   * @param position\n   */\n  private parsePercentPosition(position: [string, string]): Point {\n    const xPercent = parseFloat(position[0]) / 100;\n    const yPercent = parseFloat(position[1]) / 100;\n    const coordinate = this.view.getCoordinate();\n    const { start, end } = coordinate;\n\n    const topLeft = {\n      x: Math.min(start.x, end.x),\n      y: Math.min(start.y, end.y),\n    };\n    const x = coordinate.getWidth() * xPercent + topLeft.x;\n    const y = coordinate.getHeight() * yPercent + topLeft.y;\n    return { x, y };\n  }\n\n  /**\n   * get coordinate bbox\n   */\n  private getCoordinateBBox() {\n    const coordinate = this.view.getCoordinate();\n    const { start, end } = coordinate;\n\n    const width = coordinate.getWidth();\n    const height = coordinate.getHeight();\n    const topLeft = {\n      x: Math.min(start.x, end.x),\n      y: Math.min(start.y, end.y),\n    };\n\n    return {\n      x: topLeft.x,\n      y: topLeft.y,\n      minX: topLeft.x,\n      minY: topLeft.y,\n      maxX: topLeft.x + width,\n      maxY: topLeft.y + height,\n      width,\n      height,\n    };\n  }\n\n  /**\n   * get annotation component config by different type\n   * @param type\n   * @param option \n   * @param theme\n   */\n  private getAnnotationCfg(type: string, option: any, theme: object): object | null {\n    const coordinate = this.view.getCoordinate();\n    const canvas = this.view.getCanvas();\n    let o = {};\n\n    if (isNil(option)) {\n      return null;\n    }\n    const { start, end, position } = option;\n    const sp = this.parsePosition(start);\n    const ep = this.parsePosition(end);\n    const textPoint = this.parsePosition(position);\n    if (['arc', 'image', 'line', 'region', 'regionFilter'].includes(type) && (!sp || !ep)) {\n      return null;\n    } else if (['text', 'dataMarker', 'html'].includes(type) && !textPoint) {\n      return null;\n    }\n\n    if (type === 'arc') {\n      const { start, end, ...rest } = option as ArcOption;\n      const startAngle = getAngleByPoint(coordinate, sp);\n      let endAngle = getAngleByPoint(coordinate, ep);\n      if (startAngle > endAngle) {\n        endAngle = Math.PI * 2 + endAngle;\n      }\n\n      o = {\n        ...rest,\n        center: coordinate.getCenter(),\n        radius: getDistanceToCenter(coordinate, sp),\n        startAngle,\n        endAngle,\n      };\n    } else if (type === 'image') {\n      const { start, end, ...rest } = option as ImageOption;\n      o = {\n        ...rest,\n        start: sp,\n        end: ep,\n        src: option.src,\n      };\n    } else if (type === 'line') {\n      const { start, end, ...rest } = option as LineOption;\n      o = {\n        ...rest,\n        start: sp,\n        end: ep,\n        text: get(option, 'text', null),\n      };\n    } else if (type === 'region') {\n      const { start, end, ...rest } = option as RegionPositionBaseOption;\n      o = {\n        ...rest,\n        start: sp,\n        end: ep,\n      };\n    } else if (type === 'text') {\n      const filteredData = this.view.getData();\n      const { position, content, ...rest } = option as TextOption;\n      let textContent = content;\n      if (isFunction(content)) {\n        textContent = content(filteredData);\n      }\n      o = {\n        ...textPoint,\n        ...rest,\n        content: textContent,\n      };\n    } else if (type === 'dataMarker') {\n      const { position, point, line, text, autoAdjust, direction, ...rest } = option as DataMarkerOption;\n      o = {\n        ...rest,\n        ...textPoint,\n        coordinateBBox: this.getCoordinateBBox(),\n        point,\n        line,\n        text,\n        autoAdjust,\n        direction,\n      };\n    } else if (type === 'dataRegion') {\n      const { start, end, region, text, lineLength, ...rest } = option as DataRegionOption;\n      o = {\n        ...rest,\n        points: this.getRegionPoints(start, end),\n        region,\n        text,\n        lineLength,\n      };\n    } else if (type === 'regionFilter') {\n      const { start, end, apply, color, ...rest } = option as RegionFilterOption;\n      const geometries: Geometry[] = this.view.geometries;\n      const shapes = [];\n      const addShapes = (item?: IElement) => {\n        if (!item) {\n          return;\n        }\n        if (item.isGroup()) {\n          (item as IGroup).getChildren().forEach((child) => addShapes(child));\n        } else {\n          shapes.push(item);\n        }\n      };\n      each(geometries, (geom: Geometry) => {\n        if (apply) {\n          if (contains(apply, geom.type)) {\n            each(geom.elements, (elem: Element) => {\n              addShapes(elem.shape);\n            });\n          }\n        } else {\n          each(geom.elements, (elem: Element) => {\n            addShapes(elem.shape);\n          });\n        }\n      });\n      o = {\n        ...rest,\n        color,\n        shapes,\n        start: sp,\n        end: ep,\n      };\n    } else if (type === 'shape') {\n      const { render, ...restOptions } = option as ShapeAnnotationOption;\n      const wrappedRender = (container: IGroup) => {\n        if (isFunction(option.render)) {\n          return render(container, this.view, { parsePosition: this.parsePosition.bind(this) });\n        }\n      };\n      o = {\n        ...restOptions,\n        render: wrappedRender,\n      };\n    } else if (type === 'html') {\n      const { html, position, ...restOptions } = option as HtmlAnnotationOption;\n      const wrappedHtml = (container: HTMLElement) => {\n        if (isFunction(html)) {\n          return html(container, this.view);\n        }\n        return html;\n      };\n      o = {\n        ...restOptions,\n        ...textPoint,\n        // html  parent\n        parent: canvas.get('el').parentNode,\n        html: wrappedHtml,\n      };\n    }\n    // \n    const cfg = deepMix({}, theme, {\n      ...o,\n      top: option.top,\n      style: option.style,\n      offsetX: option.offsetX,\n      offsetY: option.offsetY,\n    });\n    if (type !== 'html') {\n      // html  G container\n      cfg.container = this.getComponentContainer(cfg);\n    }\n    cfg.animate = this.view.getOptions().animate && cfg.animate && get(option, 'animate', cfg.animate); //  view \n    cfg.animateOption = deepMix({}, DEFAULT_ANIMATE_CFG, cfg.animateOption, option.animateOption);\n\n    return cfg;\n  }\n\n  /**\n   * is annotation render on top\n   * @param option\n   * @return whethe on top\n   */\n  private isTop(option: any): boolean {\n    return get(option, 'top', true);\n  }\n\n  /**\n   * get the container by option.top\n   * default is on top\n   * @param option\n   * @returns the container\n   */\n  private getComponentContainer(option: any) {\n    return this.isTop(option) ? this.foregroundContainer : this.backgroundContainer;\n  }\n\n  private getAnnotationTheme(type: string) {\n    return get(this.view.getTheme(), ['components', 'annotation', type], {});\n  }\n\n  /**\n   *  annotation\n   * @param option\n   */\n  private updateOrCreate(option: BaseOption) {\n    // \n    let co = this.cache.get(this.getCacheKey(option));\n\n    // \n    if (co) {\n      const { type } = option;\n      const theme = this.getAnnotationTheme(type);\n      const cfg = this.getAnnotationCfg(type, option, theme);\n\n      // \n      if (cfg) {\n        omit(cfg, ['container']);\n      }\n      co.component.update({ ...(cfg || {}), visible: !!cfg });\n      //  regionFilter/shape render\n      if (includes(ANNOTATIONS_AFTER_RENDER, option.type)) {\n        co.component.render();\n      }\n    } else {\n      // \n      co = this.createAnnotation(option);\n      if (co) {\n        co.component.init();\n        // NoteregionFilter/shape regionFilter/shape  Geometry  Shape view render \n        //  render \n        if (includes(ANNOTATIONS_AFTER_RENDER, option.type)) {\n          co.component.render();\n        }\n      }\n    }\n    return co;\n  }\n\n  /**\n   * \n   * @param updated \n   */\n  private syncCache(updated: Map<BaseOption, ComponentOption>) {\n    const newCache = new Map(this.cache); // clone \n\n    //  update  cache\n    updated.forEach((co: ComponentOption, key: BaseOption) => {\n      newCache.set(key, co);\n    });\n\n    //  options \n    newCache.forEach((co: ComponentOption, key: BaseOption) => {\n      // option \n      if (\n        !find(this.option, (option: BaseOption) => {\n          return key === this.getCacheKey(option);\n        })\n      ) {\n        co.component.destroy();\n        newCache.delete(key);\n      }\n    });\n\n    return newCache;\n  }\n\n  /**\n   *  key\n   * @param option\n   */\n  private getCacheKey(option: BaseOption) {\n    //  id id string option  key\n    return option;\n    //  id \n    // const id = get(option, 'id');\n    // return id ? id : option;\n  }\n}\n","import { deepMix, get, map } from '@antv/util';\nimport { DIRECTION } from '../constant';\nimport { Coordinate, Scale, Tick } from '../dependents';\n\n/**\n * @ignore\n * get the grid theme by type, will mix the common cfg of axis\n * @param theme\n * @param direction\n * @returns theme object\n */\nexport function getGridThemeCfg(theme: object, direction: DIRECTION | 'common'): object {\n  const axisTheme = deepMix(\n    {},\n    get(theme, ['components', 'axis', 'common']),\n    get(theme, ['components', 'axis', direction])\n  );\n  return get(axisTheme, ['grid'], {});\n}\n\n/**\n * @ignore\n * get axis grid items\n * @param coordinate\n * @param scale\n * @param dim\n * @return items\n */\nexport function getLineGridItems(coordinate: Coordinate, scale: Scale, dim: string, alignTick?: boolean) {\n  const items = [];\n  const ticks = scale.getTicks();\n  if (coordinate.isPolar) {\n    //  ticks\n    ticks.push({\n      value: 1,\n      text: '',\n      tickValue: '',\n    });\n  }\n  ticks.reduce((preTick: Tick, currentTick: Tick, currentIndex) => {\n    const currentValue = currentTick.value;\n    if (alignTick) {\n      items.push({\n        points: [\n          coordinate.convert(dim === 'y' ? { x: 0, y: currentValue } : { x: currentValue, y: 0 }),\n          coordinate.convert(dim === 'y' ? { x: 1, y: currentValue } : { x: currentValue, y: 1 }),\n        ],\n      });\n    } else {\n      if (currentIndex) {\n        const preValue = preTick.value;\n        const middleValue = (preValue + currentValue) / 2;\n        items.push({\n          points: [\n            coordinate.convert(dim === 'y' ? { x: 0, y: middleValue } : { x: middleValue, y: 0 }),\n            coordinate.convert(dim === 'y' ? { x: 1, y: middleValue } : { x: middleValue, y: 1 }),\n          ],\n        });\n      }\n    }\n    return currentTick;\n  }, ticks[0]);\n  return items;\n}\n\n/**\n * @ignore\n * get\n * @param coordinate\n * @param xScale\n * @param yScale\n * @param dim\n * @returns items\n */\nexport function getCircleGridItems(\n  coordinate: Coordinate,\n  xScale: Scale,\n  yScale: Scale,\n  alignTick: boolean,\n  dim: string\n) {\n  const count = xScale.values.length;\n  const items = [];\n  const ticks = yScale.getTicks();\n\n  ticks.reduce((preTick: Tick, currentTick: Tick) => {\n    const preValue = preTick ? preTick.value : currentTick.value; // \n    const currentValue = currentTick.value;\n    const middleValue = (preValue + currentValue) / 2;\n    if (dim === 'x') {\n      //  x \n      items.push({\n        points: [\n          coordinate.convert({\n            x: alignTick ? currentValue : middleValue,\n            y: 0,\n          }),\n          coordinate.convert({\n            x: alignTick ? currentValue : middleValue,\n            y: 1,\n          }),\n        ],\n      });\n    } else {\n      items.push({\n        points: map(Array(count + 1), (__: any, idx: number) => {\n          return coordinate.convert({\n            x: idx / count,\n            y: alignTick ? currentValue : middleValue,\n          });\n        }),\n      });\n    }\n\n    return currentTick;\n  }, ticks[0]);\n  return items;\n}\n\n/**\n * @ignore\n * show grid or not\n * @param axisTheme\n * @param axisOption\n */\nexport function showGrid(axisTheme: any, axisOption: any): boolean {\n  const userGrid = get(axisOption, 'grid');\n  if (userGrid === null) {\n    return false;\n  }\n\n  const themeGrid = get(axisTheme, 'grid');\n\n  return !(userGrid === undefined && themeGrid === null);\n}\n","import { deepMix, each, get, isUndefined } from '@antv/util';\nimport { DIRECTION, COMPONENT_TYPE, LAYER } from '../../constant';\nimport { CircleAxis, CircleGrid, IGroup, LineAxis, LineGrid, Scale } from '../../dependents';\nimport { AxisCfg, AxisOption, ComponentOption } from '../../interface';\n\nimport { DEFAULT_ANIMATE_CFG } from '../../animate/';\n\nimport {\n  getAxisDirection,\n  getAxisFactorByRegion,\n  getAxisRegion,\n  getAxisThemeCfg,\n  getAxisTitleOptions,\n  getAxisTitleText,\n  getCircleAxisCenterRadius,\n  isVertical,\n} from '../../util/axis';\nimport { getAxisOption } from '../../util/axis';\nimport { getCircleGridItems, getGridThemeCfg, getLineGridItems, showGrid } from '../../util/grid';\nimport { omit } from '../../util/helper';\nimport View from '../view';\nimport { Controller } from './base';\n\ntype Option = Record<string, AxisOption> | boolean;\n\ntype Cache = Map<string, ComponentOption>;\n\n// update \nconst OMIT_CFG = ['container'];\n\n// \nconst AXIS_DEFAULT_ANIMATE_CFG = {\n  ...DEFAULT_ANIMATE_CFG,\n  appear: null,\n};\n\n/**\n * @ignore\n * G2 Axis controller, will:\n *  - create component\n *    - axis\n *    - grid\n *  - life circle\n */\nexport default class Axis extends Controller<Option> {\n  /** the draw group of axis */\n  private axisContainer: IGroup;\n  private axisForeContainer: IGroup;\n  private gridContainer: IGroup;\n  private gridForeContainer: IGroup;\n\n  /**  object  */\n  private cache: Cache = new Map<string, ComponentOption>();\n\n  constructor(view: View) {\n    super(view);\n\n    //  gridContainer grid  axis \n    this.gridContainer = this.view.getLayer(LAYER.BG).addGroup();\n    this.gridForeContainer = this.view.getLayer(LAYER.FORE).addGroup();\n    this.axisContainer = this.view.getLayer(LAYER.BG).addGroup();\n    this.axisForeContainer = this.view.getLayer(LAYER.FORE).addGroup();\n  }\n\n  public get name(): string {\n    return 'axis';\n  }\n\n  public init() {}\n\n  public render() {\n    this.update();\n  }\n\n  /**\n   * \n   */\n  public layout() {\n    const coordinate = this.view.getCoordinate();\n\n    each(this.getComponents(), (co: ComponentOption) => {\n      const { component, direction, type, extra } = co;\n      const { dim, scale, alignTick } = extra;\n\n      let updated;\n\n      if (type === COMPONENT_TYPE.AXIS) {\n        if (coordinate.isPolar) {\n          if (dim === 'x') {\n            updated = coordinate.isTransposed\n              ? getAxisRegion(coordinate, direction)\n              : getCircleAxisCenterRadius(coordinate);\n          } else if (dim === 'y') {\n            updated = coordinate.isTransposed\n              ? getCircleAxisCenterRadius(coordinate)\n              : getAxisRegion(coordinate, direction);\n          }\n        } else {\n          updated = getAxisRegion(coordinate, direction);\n        }\n      } else if (type === COMPONENT_TYPE.GRID) {\n        if (coordinate.isPolar) {\n          let items;\n          if (coordinate.isTransposed) {\n            items =\n              dim === 'x'\n                ? getCircleGridItems(coordinate, this.view.getYScales()[0], scale, alignTick, dim)\n                : getLineGridItems(coordinate, scale, dim, alignTick);\n          } else {\n            items =\n              dim === 'x'\n                ? getLineGridItems(coordinate, scale, dim, alignTick)\n                : getCircleGridItems(coordinate, this.view.getXScale(), scale, alignTick, dim);\n          }\n          updated = {\n            items,\n            // coordinate center \n            center: this.view.getCoordinate().getCenter(),\n          };\n        } else {\n          updated = { items: getLineGridItems(coordinate, scale, dim, alignTick) };\n        }\n      }\n      component.update(updated);\n    });\n  }\n\n  /**\n   *  axis \n   */\n  public update() {\n    this.option = this.view.getOptions().axes;\n\n    const updatedCache = new Map<string, ComponentOption>();\n\n    this.updateXAxes(updatedCache);\n    this.updateYAxes(updatedCache);\n\n    // \n    // \n    const newCache = new Map<string, ComponentOption>();\n\n    this.cache.forEach((co: ComponentOption, key: string) => {\n      if (updatedCache.has(key)) {\n        newCache.set(key, co);\n      } else {\n        // \n        co.component.destroy();\n      }\n    });\n\n    // \n    this.cache = newCache;\n  }\n\n  public clear() {\n    super.clear();\n\n    this.cache.clear();\n    this.gridContainer.clear();\n    this.gridForeContainer.clear();\n    this.axisContainer.clear();\n    this.axisForeContainer.clear();\n  }\n\n  public destroy() {\n    super.destroy();\n\n    this.gridContainer.remove(true);\n    this.gridForeContainer.remove(true);\n    this.axisContainer.remove(true);\n    this.axisForeContainer.remove(true);\n  }\n\n  /**\n   * @override\n   */\n  public getComponents(): ComponentOption[] {\n    const co = [];\n\n    this.cache.forEach((value: ComponentOption) => {\n      co.push(value);\n    });\n\n    return co;\n  }\n\n  /**\n   *  x axis\n   * @param updatedCache\n   */\n  private updateXAxes(updatedCache: Cache) {\n    // x axis\n    const scale = this.view.getXScale();\n\n    if (!scale || scale.isIdentity) {\n      return;\n    }\n\n    const xAxisOption = getAxisOption(this.option, scale.field);\n    if (xAxisOption === false) {\n      return;\n    }\n\n    const direction = getAxisDirection(xAxisOption, DIRECTION.BOTTOM);\n    const layer = LAYER.BG;\n    const dim = 'x';\n\n    const coordinate = this.view.getCoordinate();\n\n    const axisId = this.getId('axis', scale.field);\n    const gridId = this.getId('grid', scale.field);\n\n    if (coordinate.isRect) {\n      // 1. do axis update\n      let axis = this.cache.get(axisId);\n      // \n      if (axis) {\n        const cfg = this.getLineAxisCfg(scale, xAxisOption, direction);\n        omit(cfg, OMIT_CFG);\n        axis.component.update(cfg);\n        updatedCache.set(axisId, axis);\n      } else {\n        // \n        axis = this.createLineAxis(scale, xAxisOption, layer, direction, dim);\n        this.cache.set(axisId, axis);\n        updatedCache.set(axisId, axis);\n      }\n\n      // 2. do grid update\n      let grid = this.cache.get(gridId);\n      // \n      if (grid) {\n        const cfg = this.getLineGridCfg(scale, xAxisOption, direction, dim);\n        omit(cfg, OMIT_CFG);\n        grid.component.update(cfg);\n        updatedCache.set(gridId, grid);\n      } else {\n        // \n        grid = this.createLineGrid(scale, xAxisOption, layer, direction, dim);\n        if (grid) {\n          this.cache.set(gridId, grid);\n          updatedCache.set(gridId, grid);\n        }\n      }\n    } else if (coordinate.isPolar) {\n      // 1. do axis update\n      let axis = this.cache.get(axisId);\n      // \n      if (axis) {\n        const cfg = coordinate.isTransposed\n          ? this.getLineAxisCfg(scale, xAxisOption, DIRECTION.RADIUS)\n          : this.getCircleAxisCfg(scale, xAxisOption, direction);\n\n        omit(cfg, OMIT_CFG);\n        axis.component.update(cfg);\n        updatedCache.set(axisId, axis);\n      } else {\n        // \n        if (coordinate.isTransposed) {\n          if (isUndefined(xAxisOption)) {\n            // \n            return;\n          } else {\n            //  chart.axis(true)/chart.axis('x', true)\n            //  x \n            axis = this.createLineAxis(scale, xAxisOption, layer, DIRECTION.RADIUS, dim);\n          }\n        } else {\n          axis = this.createCircleAxis(scale, xAxisOption, layer, direction, dim);\n        }\n        this.cache.set(axisId, axis);\n        updatedCache.set(axisId, axis);\n      }\n\n      // 2. do grid update\n      let grid = this.cache.get(gridId);\n      // \n      if (grid) {\n        const cfg = coordinate.isTransposed\n          ? this.getCircleGridCfg(scale, xAxisOption, DIRECTION.RADIUS, dim)\n          : this.getLineGridCfg(scale, xAxisOption, DIRECTION.CIRCLE, dim);\n        omit(cfg, OMIT_CFG);\n        grid.component.update(cfg);\n        updatedCache.set(gridId, grid);\n      } else {\n        // \n        if (coordinate.isTransposed) {\n          if (isUndefined(xAxisOption)) {\n            return;\n          } else {\n            grid = this.createCircleGrid(scale, xAxisOption, layer, DIRECTION.RADIUS, dim);\n          }\n        } else {\n          // grid x \n          grid = this.createLineGrid(scale, xAxisOption, layer, DIRECTION.CIRCLE, dim);\n        }\n\n        if (grid) {\n          this.cache.set(gridId, grid);\n          updatedCache.set(gridId, grid);\n        }\n      }\n    } else {\n      // helix and other, do not draw axis\n    }\n  }\n\n  private updateYAxes(updatedCache: Cache) {\n    // y axes\n    const yScales = this.view.getYScales();\n\n    each(yScales, (scale: Scale, idx: number) => {\n      // @ts-ignore\n      if (!scale || scale.isIdentity) {\n        return;\n      }\n      const { field } = scale;\n      const yAxisOption = getAxisOption(this.option, field);\n\n      if (yAxisOption !== false) {\n        const layer = LAYER.BG;\n        const dim = 'y';\n        const axisId = this.getId('axis', field);\n        const gridId = this.getId('grid', field);\n\n        const coordinate = this.view.getCoordinate();\n\n        if (coordinate.isRect) {\n          const direction = getAxisDirection(yAxisOption, idx === 0 ? DIRECTION.LEFT : DIRECTION.RIGHT);\n\n          // 1. do axis update\n          let axis = this.cache.get(axisId);\n          // \n          if (axis) {\n            const cfg = this.getLineAxisCfg(scale, yAxisOption, direction);\n            omit(cfg, OMIT_CFG);\n            axis.component.update(cfg);\n            updatedCache.set(axisId, axis);\n          } else {\n            // \n            axis = this.createLineAxis(scale, yAxisOption, layer, direction, dim);\n            this.cache.set(axisId, axis);\n            updatedCache.set(axisId, axis);\n          }\n\n          // 2. do grid update\n          let grid = this.cache.get(gridId);\n          // \n          if (grid) {\n            const cfg = this.getLineGridCfg(scale, yAxisOption, direction, dim);\n            omit(cfg, OMIT_CFG);\n            grid.component.update(cfg);\n            updatedCache.set(gridId, grid);\n          } else {\n            // \n            grid = this.createLineGrid(scale, yAxisOption, layer, direction, dim);\n            if (grid) {\n              this.cache.set(gridId, grid);\n              updatedCache.set(gridId, grid);\n            }\n          }\n        } else if (coordinate.isPolar) {\n          // 1. do axis update\n          let axis = this.cache.get(axisId);\n          // \n          if (axis) {\n            const cfg = coordinate.isTransposed\n              ? this.getCircleAxisCfg(scale, yAxisOption, DIRECTION.CIRCLE)\n              : this.getLineAxisCfg(scale, yAxisOption, DIRECTION.RADIUS);\n\n            // @ts-ignore\n            omit(cfg, OMIT_CFG);\n            axis.component.update(cfg);\n            updatedCache.set(axisId, axis);\n          } else {\n            // \n            if (coordinate.isTransposed) {\n              if (isUndefined(yAxisOption)) {\n                return;\n              } else {\n                axis = this.createCircleAxis(scale, yAxisOption, layer, DIRECTION.CIRCLE, dim);\n              }\n            } else {\n              axis = this.createLineAxis(scale, yAxisOption, layer, DIRECTION.RADIUS, dim);\n            }\n\n            this.cache.set(axisId, axis);\n            updatedCache.set(axisId, axis);\n          }\n\n          // 2. do grid update\n          let grid = this.cache.get(gridId);\n          // \n          if (grid) {\n            const cfg = coordinate.isTransposed\n              ? this.getLineGridCfg(scale, yAxisOption, DIRECTION.CIRCLE, dim)\n              : this.getCircleGridCfg(scale, yAxisOption, DIRECTION.RADIUS, dim);\n            omit(cfg, OMIT_CFG);\n            grid.component.update(cfg);\n            updatedCache.set(gridId, grid);\n          } else {\n            // \n            if (coordinate.isTransposed) {\n              if (isUndefined(yAxisOption)) {\n                return;\n              } else {\n                grid = this.createLineGrid(scale, yAxisOption, layer, DIRECTION.CIRCLE, dim);\n              }\n            } else {\n              grid = this.createCircleGrid(scale, yAxisOption, layer, DIRECTION.RADIUS, dim);\n            }\n\n            if (grid) {\n              this.cache.set(gridId, grid);\n              updatedCache.set(gridId, grid);\n            }\n          }\n        } else {\n          // helix and other, do not draw axis\n        }\n      }\n    });\n  }\n\n  /**\n   *  line axis\n   * @param scale\n   * @param option\n   * @param layer\n   * @param direction\n   * @param dim\n   */\n  private createLineAxis(\n    scale: Scale,\n    option: AxisCfg,\n    layer: LAYER,\n    direction: DIRECTION,\n    dim: string\n  ): ComponentOption {\n    // axis\n    const axis = {\n      component: new LineAxis(this.getLineAxisCfg(scale, option, direction)),\n      layer,\n      direction: direction === DIRECTION.RADIUS ? DIRECTION.NONE : direction,\n      type: COMPONENT_TYPE.AXIS,\n      extra: { dim, scale },\n    };\n    axis.component.set('field', scale.field);\n    axis.component.init();\n\n    return axis;\n  }\n\n  private createLineGrid(\n    scale: Scale,\n    option: AxisCfg,\n    layer: LAYER,\n    direction: DIRECTION,\n    dim: string\n  ): ComponentOption {\n    const cfg = this.getLineGridCfg(scale, option, direction, dim);\n    if (cfg) {\n      const grid = {\n        component: new LineGrid(cfg),\n        layer,\n        direction: DIRECTION.NONE,\n        type: COMPONENT_TYPE.GRID,\n        extra: {\n          dim,\n          scale,\n          alignTick: get(cfg, 'alignTick', true),\n        },\n      };\n      grid.component.init();\n\n      return grid;\n    }\n  }\n\n  private createCircleAxis(\n    scale: Scale,\n    option: AxisCfg,\n    layer: LAYER,\n    direction: DIRECTION,\n    dim: string\n  ): ComponentOption {\n    const axis = {\n      component: new CircleAxis(this.getCircleAxisCfg(scale, option, direction)),\n      layer,\n      direction,\n      type: COMPONENT_TYPE.AXIS,\n      extra: { dim, scale },\n    };\n    axis.component.set('field', scale.field);\n\n    axis.component.init();\n\n    return axis;\n  }\n\n  private createCircleGrid(\n    scale: Scale,\n    option: AxisCfg,\n    layer: LAYER,\n    direction: DIRECTION,\n    dim: string\n  ): ComponentOption {\n    const cfg = this.getCircleGridCfg(scale, option, direction, dim);\n    if (cfg) {\n      const grid = {\n        component: new CircleGrid(cfg),\n        layer,\n        direction: DIRECTION.NONE,\n        type: COMPONENT_TYPE.GRID,\n        extra: {\n          dim,\n          scale,\n          alignTick: get(cfg, 'alignTick', true),\n        },\n      };\n\n      grid.component.init();\n      return grid;\n    }\n  }\n\n  /**\n   * generate line axis cfg\n   * @param scale\n   * @param axisOption\n   * @param direction\n   * @return line axis cfg\n   */\n  private getLineAxisCfg(scale: Scale, axisOption: AxisCfg, direction: DIRECTION) {\n    const container = get(axisOption, ['top']) ? this.axisForeContainer : this.axisContainer;\n    const coordinate = this.view.getCoordinate();\n    const region = getAxisRegion(coordinate, direction);\n    const titleText = getAxisTitleText(scale, axisOption);\n    const axisThemeCfg = getAxisThemeCfg(this.view.getTheme(), direction);\n    // the cfg order should be ensure\n    const optionWithTitle = get(axisOption, ['title'])\n      ? deepMix(\n          { title: { style: { text: titleText } } },\n          { title: getAxisTitleOptions(this.view.getTheme(), direction, axisOption.title) },\n          axisOption\n        )\n      : axisOption;\n\n    const cfg = deepMix(\n      {\n        container,\n        ...region,\n        ticks: scale.getTicks().map((tick) => ({ id: `${tick.tickValue}`, name: tick.text, value: tick.value })),\n        verticalFactor: coordinate.isPolar\n          ? getAxisFactorByRegion(region, coordinate.getCenter()) * -1\n          : getAxisFactorByRegion(region, coordinate.getCenter()),\n        theme: axisThemeCfg,\n      },\n      axisThemeCfg,\n      optionWithTitle\n    );\n    const { animate, animateOption } = this.getAnimateCfg(cfg);\n    cfg.animateOption = animateOption;\n    cfg.animate = animate;\n\n    //  verticalLimitLength\n    const isAxisVertical = isVertical(region);\n    // TODO: 1 / 3 \n    const verticalLimitLength = get(cfg, 'verticalLimitLength', isAxisVertical ? 1 / 3 : 1 / 2);\n    if (verticalLimitLength <= 1) {\n      // \n      const canvasWidth = this.view.getCanvas().get('width');\n      const canvasHeight = this.view.getCanvas().get('height');\n      cfg.verticalLimitLength = verticalLimitLength * (isAxisVertical ? canvasWidth : canvasHeight);\n    }\n\n    return cfg;\n  }\n\n  /**\n   * generate line grid cfg\n   * @param scale\n   * @param axisOption\n   * @param direction\n   * @param dim\n   * @return line grid cfg\n   */\n  private getLineGridCfg(scale: Scale, axisOption: AxisCfg, direction: DIRECTION, dim: string) {\n    if (!showGrid(getAxisThemeCfg(this.view.getTheme(), direction), axisOption)) {\n      return undefined;\n    }\n    const gridThemeCfg = getGridThemeCfg(this.view.getTheme(), direction);\n    // the cfg order should be ensure\n    // grid  axis \n    const gridCfg = deepMix(\n      {\n        container: get(axisOption, ['top']) ? this.gridForeContainer : this.gridContainer,\n      },\n      gridThemeCfg,\n      get(axisOption, 'grid'),\n      this.getAnimateCfg(axisOption)\n    );\n    gridCfg.items = getLineGridItems(this.view.getCoordinate(), scale, dim, get(gridCfg, 'alignTick', true));\n\n    return gridCfg;\n  }\n\n  /**\n   * generate circle axis cfg\n   * @param scale\n   * @param axisOption\n   * @param direction\n   * @return circle axis cfg\n   */\n  private getCircleAxisCfg(scale: Scale, axisOption: AxisCfg, direction: DIRECTION) {\n    const container = get(axisOption, ['top']) ? this.axisForeContainer : this.axisContainer;\n    const coordinate = this.view.getCoordinate();\n\n    const ticks = scale.getTicks().map((tick) => ({ id: `${tick.tickValue}`, name: tick.text, value: tick.value }));\n    if (!scale.isCategory && Math.abs(coordinate.endAngle - coordinate.startAngle) === Math.PI * 2) {\n      // x  cat \n      ticks.pop();\n    }\n\n    const titleText = getAxisTitleText(scale, axisOption);\n    const axisThemeCfg = getAxisThemeCfg(this.view.getTheme(), DIRECTION.CIRCLE);\n    // the cfg order should be ensure\n    const optionWithTitle = get(axisOption, ['title'])\n      ? deepMix(\n          { title: { style: { text: titleText } } },\n          { title: getAxisTitleOptions(this.view.getTheme(), direction, axisOption.title) },\n          axisOption\n        )\n      : axisOption;\n    const cfg = deepMix(\n      {\n        container,\n        ...getCircleAxisCenterRadius(this.view.getCoordinate()),\n        ticks,\n        verticalFactor: 1,\n        theme: axisThemeCfg,\n      },\n      axisThemeCfg,\n      optionWithTitle\n    );\n    const { animate, animateOption } = this.getAnimateCfg(cfg);\n    cfg.animate = animate;\n    cfg.animateOption = animateOption;\n\n    return cfg;\n  }\n\n  /**\n   * generate circle grid cfg\n   * @param scale\n   * @param axisOption\n   * @param direction\n   * @return circle grid cfg\n   */\n  private getCircleGridCfg(scale: Scale, axisOption: AxisCfg, direction: DIRECTION, dim: string) {\n    if (!showGrid(getAxisThemeCfg(this.view.getTheme(), direction), axisOption)) {\n      return undefined;\n    }\n\n    // the cfg order should be ensure\n    // grid  axis \n    const gridThemeCfg = getGridThemeCfg(this.view.getTheme(), DIRECTION.RADIUS);\n    const gridCfg = deepMix(\n      {\n        container: get(axisOption, ['top']) ? this.gridForeContainer : this.gridContainer,\n        center: this.view.getCoordinate().getCenter(),\n      },\n      gridThemeCfg,\n      get(axisOption, 'grid'),\n      this.getAnimateCfg(axisOption)\n    );\n    const alignTick = get(gridCfg, 'alignTick', true);\n    const verticalScale = dim === 'x' ? this.view.getYScales()[0] : this.view.getXScale();\n    gridCfg.items = getCircleGridItems(this.view.getCoordinate(), verticalScale, scale, alignTick, dim);\n    // the cfg order should be ensure\n    // grid  axis \n    return gridCfg;\n  }\n\n  private getId(name: string, key: string): string {\n    const coordinate = this.view.getCoordinate();\n    //  key\n    return `${name}-${key}-${coordinate.type}`;\n  }\n\n  private getAnimateCfg(cfg) {\n    return {\n      animate: this.view.getOptions().animate && get(cfg, 'animate'), //  view \n      animateOption:\n        cfg && cfg.animateOption ? deepMix({}, AXIS_DEFAULT_ANIMATE_CFG, cfg.animateOption) : AXIS_DEFAULT_ANIMATE_CFG,\n    };\n  }\n}\n","import { DIRECTION } from '../constant';\nimport { Coordinate } from '../dependents';\nimport { Position } from '../interface';\nimport { BBox } from './bbox';\n\n/**\n * @ignore\n *  bbox \n * @param parentBBox\n * @param bbox\n * @param direction\n */\nexport function directionToPosition(parentBBox: BBox, bbox: BBox, direction: DIRECTION): Position {\n  if (direction === DIRECTION.TOP) {\n    return [parentBBox.minX + parentBBox.width / 2 - bbox.width / 2, parentBBox.minY];\n  }\n  if (direction === DIRECTION.BOTTOM) {\n    return [parentBBox.minX + parentBBox.width / 2 - bbox.width / 2, parentBBox.maxY - bbox.height];\n  }\n  if (direction === DIRECTION.LEFT) {\n    return [parentBBox.minX, parentBBox.minY + parentBBox.height / 2 - bbox.height / 2];\n  }\n  if (direction === DIRECTION.RIGHT) {\n    return [parentBBox.maxX - bbox.width, parentBBox.minY + parentBBox.height / 2 - bbox.height / 2];\n  }\n\n  if (direction === DIRECTION.TOP_LEFT || direction === DIRECTION.LEFT_TOP) {\n    return [parentBBox.tl.x, parentBBox.tl.y];\n  }\n  if (direction === DIRECTION.TOP_RIGHT || direction === DIRECTION.RIGHT_TOP) {\n    return [parentBBox.tr.x - bbox.width, parentBBox.tr.y];\n  }\n  if (direction === DIRECTION.BOTTOM_LEFT || direction === DIRECTION.LEFT_BOTTOM) {\n    return [parentBBox.bl.x, parentBBox.bl.y - bbox.height];\n  }\n  if (direction === DIRECTION.BOTTOM_RIGHT || direction === DIRECTION.RIGHT_BOTTOM) {\n    return [parentBBox.br.x - bbox.width, parentBBox.br.y - bbox.height];\n  }\n\n  return [0, 0];\n}\n\n/**\n * get direction after coordinate transpose\n * @param direction\n * @param coordinate\n * @returns direction after transpose or not\n */\nfunction getTransposedDirection(direction: DIRECTION, coordinate: Coordinate): DIRECTION {\n  if (coordinate.isTransposed) {\n    switch (direction) {\n      case DIRECTION.BOTTOM:\n        return DIRECTION.LEFT;\n      case DIRECTION.LEFT:\n        return DIRECTION.BOTTOM;\n      case DIRECTION.RIGHT:\n        return DIRECTION.TOP;\n      case DIRECTION.TOP:\n        return DIRECTION.RIGHT;\n    }\n  }\n  return direction;\n}\n\nfunction reflectX(direct: DIRECTION): DIRECTION {\n  if (direct === DIRECTION.LEFT) {\n    return DIRECTION.RIGHT;\n  }\n\n  if (direct === DIRECTION.RIGHT) {\n    return DIRECTION.LEFT;\n  }\n\n  return direct;\n}\n\nfunction reflectY(direct: DIRECTION): DIRECTION {\n  if (direct === DIRECTION.TOP) {\n    return DIRECTION.BOTTOM;\n  }\n  if (direct === DIRECTION.BOTTOM) {\n    return DIRECTION.TOP;\n  }\n\n  return direct;\n}\n\n/**\n * get direction after coordinate.scale\n * @param direction\n * @param coordinate\n */\nfunction getScaleDirection(direction: DIRECTION, coordinate: Coordinate): DIRECTION {\n  const x = coordinate.matrix[0];\n  const y = coordinate.matrix[4];\n\n  let d = direction;\n  if (x < 0) {\n    d = reflectX(d);\n  }\n  if (y < 0) {\n    d = reflectY(d);\n  }\n  return d;\n}\n\n/**\n *\n * @param direction\n * @param coordinate\n */\nfunction getReflectDirection(direction: DIRECTION, coordinate: Coordinate): DIRECTION {\n  let d = direction;\n\n  if (coordinate.isReflect('x')) {\n    d = reflectX(d);\n  }\n  if (coordinate.isReflect('y')) {\n    d = reflectY(d);\n  }\n\n  return d;\n}\n\n/**\n * @ignore\n * get direction after coordinate translate\n * @param direction\n * @param coordinate\n */\nexport function getTranslateDirection(direction: DIRECTION, coordinate: Coordinate): DIRECTION {\n  let d = direction;\n  d = getTransposedDirection(d, coordinate);\n  d = getScaleDirection(d, coordinate);\n  d = getReflectDirection(d, coordinate);\n\n  return d;\n}\n","import { deepMix, each, find, get, head, isBoolean, last } from '@antv/util';\nimport { COMPONENT_MAX_VIEW_PERCENTAGE, COMPONENT_TYPE, DIRECTION, LAYER } from '../../constant';\nimport { Attribute, CategoryLegend, ContinuousLegend, GroupComponent, IGroup, Scale, Tick } from '../../dependents';\nimport { ComponentOption, LegendCfg, LegendOption, LooseObject, AllLegendsOptions, Padding } from '../../interface';\nimport { DEFAULT_ANIMATE_CFG } from '../../animate';\nimport Geometry from '../../geometry/base';\nimport { BBox } from '../../util/bbox';\nimport { directionToPosition } from '../../util/direction';\nimport { omit } from '../../util/helper';\nimport { getCustomLegendItems, getLegendItems, getLegendLayout, getLegendThemeCfg } from '../../util/legend';\nimport { getName } from '../../util/scale';\nimport View from '../view';\nimport { Controller } from './base';\n\ntype DoEach = (geometry: Geometry, attr: Attribute, scale: Scale) => void;\n\n/**\n *  legend \n * @param legends\n * @param field\n * @returns the option of one legend field\n */\nfunction getLegendOption(legends: AllLegendsOptions, field: string) {\n  if (isBoolean(legends)) {\n    return legends === false ? false : {};\n  }\n\n  return get(legends, [field], legends);\n}\n\nfunction getDirection(legendOption: any): DIRECTION {\n  return get(legendOption, 'position', DIRECTION.BOTTOM);\n}\n\n/**\n * @ignore\n * legend Controller\n */\nexport default class Legend extends Controller<AllLegendsOptions> {\n  /** the draw group of axis */\n  private container: IGroup;\n  /**  legend  bbox */\n  private layoutBBox: BBox;\n\n  constructor(view: View) {\n    super(view);\n\n    this.container = this.view.getLayer(LAYER.FORE).addGroup();\n  }\n\n  public get name(): string {\n    return 'legend';\n  }\n\n  public init() {}\n\n  /**\n   * render the legend component by legend options\n   */\n  public render() {\n    //  update \n    this.update();\n  }\n\n  /**\n   * layout legend\n   *  legend  direction  x, y\n   */\n  public layout() {\n    this.layoutBBox = this.view.viewBBox;\n\n    each(this.components, (co: ComponentOption) => {\n      const { component, direction } = co;\n      const layout = getLegendLayout(direction);\n      const maxWidthRatio = component.get('maxWidthRatio');\n      const maxHeightRatio = component.get('maxHeightRatio');\n\n      const maxSize = this.getCategoryLegendSizeCfg(layout, maxWidthRatio, maxHeightRatio);\n\n      const maxWidth = component.get('maxWidth');\n      const maxHeight = component.get('maxHeight');\n\n      //  maxSize layoutBBox x y\n      component.update({\n        maxWidth: Math.min(maxSize.maxWidth, maxWidth || 0),\n        maxHeight: Math.min(maxSize.maxHeight, maxHeight || 0),\n      });\n\n      const padding = component.get('padding') as Padding;\n\n      const bboxObject = component.getLayoutBBox(); //  widthheight \n      const bbox = new BBox(bboxObject.x, bboxObject.y, bboxObject.width, bboxObject.height).expand(padding);\n\n      const [x1, y1] = directionToPosition(this.view.viewBBox, bbox, direction);\n      const [x2, y2] = directionToPosition(this.layoutBBox, bbox, direction);\n\n      let x = 0;\n      let y = 0;\n\n      //  legend x y  coordinateBBox \n      if (direction.startsWith('top') || direction.startsWith('bottom')) {\n        x = x1;\n        y = y2;\n      } else {\n        x = x2;\n        y = y1;\n      }\n\n      // \n      component.setLocation({ x: x + padding[3], y: y + padding[0] });\n\n      this.layoutBBox = this.layoutBBox.cut(bbox, direction);\n    });\n  }\n\n  /**\n   * legend \n   */\n  public update() {\n    this.option = this.view.getOptions().legends;\n\n    //  legend\n    const updated: Record<string, true> = {};\n\n    const eachLegend = (geometry: Geometry, attr: Attribute, scale: Scale) => {\n      const id = this.getId(scale.field);\n\n      const existCo = this.getComponentById(id);\n\n      //  update\n      if (existCo) {\n        let cfg;\n        const legendOption = getLegendOption(this.option, scale.field);\n\n        // if the legend option is not false, means legend should be created.\n        if (legendOption !== false) {\n          if (get(legendOption, 'custom')) {\n            cfg = this.getCategoryCfg(geometry, attr, scale, legendOption, true);\n          } else {\n            if (scale.isLinear) {\n              // linear field, create continuous legend\n              cfg = this.getContinuousCfg(geometry, attr, scale, legendOption);\n            } else if (scale.isCategory) {\n              // category field, create category legend\n              cfg = this.getCategoryCfg(geometry, attr, scale, legendOption);\n            }\n          }\n        }\n\n        //  cfg  updated \n        if (cfg) {\n          // omit  container \n          omit(cfg, ['container']);\n\n          existCo.direction = getDirection(legendOption);\n\n          existCo.component.update(cfg);\n\n          // \n          updated[id] = true;\n        }\n      } else {\n        //  create\n        const legend = this.createFieldLegend(geometry, attr, scale);\n\n        if (legend) {\n          (legend.component as GroupComponent).init();\n          this.components.push(legend);\n\n          // \n          updated[id] = true;\n        }\n      }\n    };\n\n    // \n    if (get(this.option, 'custom')) {\n      const id = 'global-custom';\n      const existCo = this.getComponentById(id);\n      if (existCo) {\n        const customCfg = this.getCategoryCfg(undefined, undefined, undefined, this.option, true);\n        omit(customCfg, ['container']);\n        existCo.component.update(customCfg);\n\n        updated[id] = true;\n      } else {\n        const component = this.createCustomLegend(undefined, undefined, undefined, this.option as LegendCfg);\n        if (component) {\n          component.init();\n\n          const layer = LAYER.FORE;\n          const direction = getDirection(this.option);\n\n          this.components.push({\n            id,\n            component,\n            layer,\n            direction,\n            type: COMPONENT_TYPE.LEGEND,\n            extra: undefined,\n          });\n\n          // \n          updated[id] = true;\n        }\n      }\n    } else {\n      // \n      this.loopLegends(eachLegend);\n    }\n\n    // \n    // \n    const components = [];\n    each(this.getComponents(), (co: ComponentOption) => {\n      if (updated[co.id]) {\n        components.push(co);\n      } else {\n        co.component.destroy();\n      }\n    });\n\n    //  components\n    this.components = components;\n  }\n\n  public clear() {\n    super.clear();\n    this.container.clear();\n  }\n\n  public destroy() {\n    super.destroy();\n\n    this.container.remove(true);\n  }\n\n  /**\n   *  Geometry\n   */\n  private getGeometries(view: View): Geometry[] {\n    let geometries = view.geometries;\n\n    each(view.views, (v: View) => {\n      geometries = geometries.concat(this.getGeometries(v));\n    });\n\n    return geometries;\n  }\n\n  /**\n   *  Geometry legend \n   * @param doEach  loop \n   */\n  private loopLegends(doEach: DoEach) {\n    const isRootView = this.view.getRootView() === this.view;\n    //  view legend\n    if (!isRootView) {\n      return;\n    }\n\n    //  view  Geometry legend\n    const geometries = this.getGeometries(this.view);\n\n    const looped: Record<string, true> = {}; //  legend\n\n    each(geometries, (geometry: Geometry) => {\n      const attributes = geometry.getGroupAttributes();\n\n      each(attributes, (attr: Attribute) => {\n        const scale = attr.getScale(attr.type);\n        //  size(2) shape('circle')  legend\n        if (!scale || scale.type === 'identity' || looped[scale.field]) {\n          return;\n        }\n\n        doEach(geometry, attr, scale);\n\n        looped[scale.field] = true;\n      });\n    });\n  }\n\n  /**\n   *  legend\n   * @param geometry\n   * @param attr\n   * @param scale\n   */\n  private createFieldLegend(geometry: Geometry, attr: Attribute, scale: Scale): ComponentOption {\n    let component;\n\n    const legendOption = getLegendOption(this.option, scale.field);\n    const layer = LAYER.FORE;\n    const direction = getDirection(legendOption);\n\n    // if the legend option is not false, means legend should be created.\n    if (legendOption !== false) {\n      if (get(legendOption, 'custom')) {\n        component = this.createCustomLegend(geometry, attr, scale, legendOption);\n      } else {\n        if (scale.isLinear) {\n          // linear field, create continuous legend\n          component = this.createContinuousLegend(geometry, attr, scale, legendOption);\n        } else if (scale.isCategory) {\n          // category field, create category legend\n          component = this.createCategoryLegend(geometry, attr, scale, legendOption);\n        }\n      }\n    }\n\n    if (component) {\n      component.set('field', scale.field);\n\n      return {\n        id: this.getId(scale.field),\n        component,\n        layer,\n        direction,\n        type: COMPONENT_TYPE.LEGEND,\n        extra: { scale },\n      };\n    }\n  }\n\n  /**\n   *  category \n   * @param geometry\n   * @param attr\n   * @param scale\n   * @param legendOption\n   */\n  private createCustomLegend(geometry: Geometry, attr: Attribute, scale: Scale, legendOption: LegendCfg) {\n    //  \n    const cfg = this.getCategoryCfg(geometry, attr, scale, legendOption, true);\n    return new CategoryLegend(cfg);\n  }\n\n  /**\n   * \n   * @param geometry\n   * @param attr\n   * @param scale\n   * @param legendOption\n   */\n  private createContinuousLegend(geometry: Geometry, attr: Attribute, scale: Scale, legendOption: any) {\n    const cfg = this.getContinuousCfg(geometry, attr, scale, omit(legendOption, ['value']));\n    return new ContinuousLegend(cfg);\n  }\n\n  /**\n   * \n   * @param geometry\n   * @param attr\n   * @param scale\n   * @param legendOption\n   */\n  private createCategoryLegend(geometry: Geometry, attr: Attribute, scale: Scale, legendOption: any) {\n    const cfg = this.getCategoryCfg(geometry, attr, scale, legendOption);\n    return new CategoryLegend(cfg);\n  }\n\n  /**\n   * \n   * @param geometry\n   * @param attr\n   * @param scale\n   * @param legendOption\n   */\n  private getContinuousCfg(geometry: Geometry, attr: Attribute, scale: Scale, legendOption: any) {\n    const ticks = scale.getTicks();\n\n    const containMin = find(ticks, (tick: Tick) => tick.value === 0);\n    const containMax = find(ticks, (tick: Tick) => tick.value === 1);\n    const items = ticks.map((tick: Tick) => {\n      const { value, tickValue } = tick;\n      const attrValue = attr.mapping(scale.invert(value)).join('');\n\n      return {\n        value: tickValue,\n        attrValue,\n        color: attrValue,\n        scaleValue: value,\n      };\n    });\n\n    if (!containMin) {\n      items.push({\n        value: scale.min,\n        attrValue: attr.mapping(scale.invert(0)).join(''),\n        color: attr.mapping(scale.invert(0)).join(''),\n        scaleValue: 0,\n      });\n    }\n    if (!containMax) {\n      items.push({\n        value: scale.max,\n        attrValue: attr.mapping(scale.invert(1)).join(''),\n        color: attr.mapping(scale.invert(1)).join(''),\n        scaleValue: 1,\n      });\n    }\n\n    // \n    items.sort((a: any, b: any) => a.value - b.value);\n\n    //  attr \n    // size color \n    const attrLegendCfg: LooseObject = {\n      min: head(items).value,\n      max: last(items).value,\n      colors: [],\n      rail: {\n        type: attr.type,\n      },\n      track: {},\n    };\n\n    if (attr.type === 'size') {\n      attrLegendCfg.track = {\n        style: {\n          // size  color color \n          // @ts-ignore\n          fill: attr.type === 'size' ? this.view.getTheme().defaultColor : undefined,\n        },\n      };\n    }\n\n    if (attr.type === 'color') {\n      attrLegendCfg.colors = items.map((item) => item.attrValue);\n    }\n\n    const container = this.container;\n    // if position is not set, use top as default\n    const direction = getDirection(legendOption);\n\n    const layout = getLegendLayout(direction);\n\n    let title = get(legendOption, 'title');\n    if (title) {\n      title = deepMix(\n        {\n          text: getName(scale),\n        },\n        title\n      );\n    }\n\n    // \n    attrLegendCfg.container = container;\n    attrLegendCfg.layout = layout;\n    attrLegendCfg.title = title;\n    attrLegendCfg.animateOption = DEFAULT_ANIMATE_CFG;\n    // @ts-ignore\n    return this.mergeLegendCfg(attrLegendCfg, legendOption, 'continuous');\n  }\n\n  /**\n   * \n   * @param geometry\n   * @param attr\n   * @param scale\n   * @param custom\n   * @param legendOption\n   */\n  private getCategoryCfg(geometry: Geometry, attr: Attribute, scale: Scale, legendOption: any, custom?: boolean) {\n    const container = this.container;\n    // if position is not set, use top as default\n    const direction = get(legendOption, 'position', DIRECTION.BOTTOM);\n\n    const legendTheme = getLegendThemeCfg(this.view.getTheme(), direction);\n\n    // the default marker style\n    const themeMarker = get(legendTheme, ['marker']);\n    const userMarker = get(legendOption, 'marker');\n    const layout = getLegendLayout(direction);\n    const themePageNavigator = get(legendTheme, ['pageNavigator']);\n    const userPageNavigator = get(legendOption, 'pageNavigator');\n\n    const items = custom\n      ? getCustomLegendItems(themeMarker, userMarker, legendOption.items)\n      : getLegendItems(this.view, geometry, attr, themeMarker, userMarker);\n\n    let title = get(legendOption, 'title');\n    if (title) {\n      title = deepMix(\n        {\n          text: scale ? getName(scale) : '',\n        },\n        title\n      );\n    }\n    const maxWidthRatio = get(legendOption, 'maxWidthRatio');\n    const maxHeightRatio = get(legendOption, 'maxHeightRatio');\n\n    const baseCfg: LooseObject = this.getCategoryLegendSizeCfg(layout, maxWidthRatio, maxHeightRatio);\n    baseCfg.container = container;\n    baseCfg.layout = layout;\n    baseCfg.items = items;\n    baseCfg.title = title;\n    baseCfg.animateOption = DEFAULT_ANIMATE_CFG;\n    baseCfg.pageNavigator = deepMix({}, themePageNavigator, userPageNavigator);\n\n    const categoryCfg = this.mergeLegendCfg(baseCfg, legendOption, direction);\n    if (categoryCfg.reversed) {\n      // \n      categoryCfg.items.reverse();\n    }\n\n    const maxItemWidth = get(categoryCfg, 'maxItemWidth');\n    if (maxItemWidth && maxItemWidth <= 1) {\n      // \n      categoryCfg.maxItemWidth = this.view.viewBBox.width * maxItemWidth;\n    }\n\n    return categoryCfg;\n  }\n\n  /**\n   * get legend config, use option > suggestion > theme\n   * @param baseCfg\n   * @param legendOption\n   * @param direction\n   */\n  private mergeLegendCfg(baseCfg: object, legendOption: LegendOption, direction: DIRECTION) {\n    const position = direction.split('-')[0];\n    const themeObject = getLegendThemeCfg(this.view.getTheme(), position);\n\n    return deepMix({}, themeObject, baseCfg, legendOption);\n  }\n\n  /**\n   *  id\n   * @param key\n   */\n  private getId(key: string): string {\n    return `${this.name}-${key}`;\n  }\n\n  /**\n   *  id \n   * @param id\n   */\n  private getComponentById(id: string): ComponentOption {\n    return find(this.components, (co) => co.id === id);\n  }\n\n  private getCategoryLegendSizeCfg(\n    layout: 'horizontal' | 'vertical',\n    maxWidthRatio = COMPONENT_MAX_VIEW_PERCENTAGE,\n    maxHeightRatio = COMPONENT_MAX_VIEW_PERCENTAGE\n  ) {\n    const { width: vw, height: vh } = this.view.viewBBox;\n    //  legend  viewBBox \n    // const { width: cw, height: ch } = this.view.coordinateBBox;\n    return layout === 'vertical'\n      ? {\n          maxWidth: vw * maxWidthRatio,\n          maxHeight: vh,\n        }\n      : {\n          maxWidth: vw,\n          maxHeight: vh * maxHeightRatio,\n        };\n  }\n}\n","import { deepMix, get, isObject, size, clamp, isNil, noop, throttle, isEmpty, valuesOfKey } from '@antv/util';\nimport { COMPONENT_TYPE, DIRECTION, LAYER, VIEW_LIFE_CIRCLE } from '../../constant';\nimport { IGroup, Slider as SliderComponent } from '../../dependents';\nimport { ComponentOption, Datum, Padding } from '../../interface';\nimport { BBox } from '../../util/bbox';\nimport { directionToPosition } from '../../util/direction';\nimport { isBetween } from '../../util/helper';\nimport { Writeable } from '../../util/types';\nimport View from '../view';\nimport { Controller } from './base';\nimport { SliderOption, SliderCfg } from '../../interface';\n\n/**\n * @ignore\n * slider Controller\n */\nexport default class Slider extends Controller<SliderOption> {\n  private slider: ComponentOption;\n  private container: IGroup;\n\n  private width: number;\n  private start: number;\n  private end: number;\n\n  private onChangeFn: (evt: {}) => void = noop;\n\n  constructor(view: View) {\n    super(view);\n\n    this.container = this.view.getLayer(LAYER.FORE).addGroup();\n    this.onChangeFn = throttle(this.onValueChange, 20, {\n      leading: true,\n    }) as (evt: {}) => void;\n\n    this.width = 0;\n    this.view.on(VIEW_LIFE_CIRCLE.BEFORE_CHANGE_DATA, this.resetMeasure);\n    this.view.on(VIEW_LIFE_CIRCLE.BEFORE_CHANGE_SIZE, this.resetMeasure);\n  }\n\n  get name(): string {\n    return 'slider';\n  }\n\n  public destroy() {\n    super.destroy();\n    this.view.off(VIEW_LIFE_CIRCLE.BEFORE_CHANGE_DATA, this.resetMeasure);\n    this.view.off(VIEW_LIFE_CIRCLE.BEFORE_CHANGE_SIZE, this.resetMeasure);\n  }\n\n  /**\n   * \n   */\n  public init() {}\n\n  /**\n   * \n   */\n  public render() {\n    this.option = this.view.getOptions().slider;\n    const { start, end } = this.getSliderCfg();\n    if (isNil(this.start)) {\n      this.start = start;\n      this.end = end;\n    }\n\n    const { data: viewData } = this.view.getOptions();\n    if (this.option && !isEmpty(viewData)) {\n      if (this.slider) {\n        // exist, update\n        this.slider = this.updateSlider();\n      } else {\n        // not exist, create\n        this.slider = this.createSlider();\n        // \n        this.slider.component.on('sliderchange', this.onChangeFn);\n      }\n    } else {\n      if (this.slider) {\n        // exist, destroy\n        this.slider.component.destroy();\n        this.slider = undefined;\n      } else {\n        // do nothing\n      }\n    }\n  }\n\n  /**\n   * \n   */\n  public layout() {\n    if (this.option && !this.width) {\n      this.measureSlider();\n      setTimeout(() => {\n        //  view \n        if (!this.view.destroyed) {\n          this.changeViewData(this.start, this.end);\n        }\n      }, 0);\n    }\n    if (this.slider) {\n      const width = this.view.coordinateBBox.width;\n      //  layout bbox\n      const padding: Padding = this.slider.component.get('padding') as Padding;\n      const [paddingTop, paddingRight, paddingBottom, paddingLeft] = padding;\n      const bboxObject = this.slider.component.getLayoutBBox();\n      const bbox = new BBox(bboxObject.x, bboxObject.y, Math.min(bboxObject.width, width), bboxObject.height).expand(\n        padding\n      );\n      const { minText, maxText } = this.getMinMaxText(this.start, this.end);\n\n      const [x1, y1] = directionToPosition(this.view.viewBBox, bbox, DIRECTION.BOTTOM);\n      const [x2, y2] = directionToPosition(this.view.coordinateBBox, bbox, DIRECTION.BOTTOM);\n\n      //  bottom\n      this.slider.component.update({\n        ...this.getSliderCfg(),\n        x: x2 + paddingLeft,\n        y: y1 + paddingTop,\n        width: this.width,\n        start: this.start,\n        end: this.end,\n        minText,\n        maxText,\n      });\n\n      this.view.viewBBox = this.view.viewBBox.cut(bbox, DIRECTION.BOTTOM);\n    }\n  }\n\n  /**\n   * \n   */\n  public update() {\n    //  render \n    this.render();\n  }\n\n  /**\n   *  slider \n   */\n  private createSlider(): ComponentOption {\n    const cfg: any = this.getSliderCfg();\n    //  slider \n    const component = new SliderComponent({\n      container: this.container,\n      ...cfg,\n    });\n\n    component.init();\n\n    return {\n      component,\n      layer: LAYER.FORE,\n      direction: DIRECTION.BOTTOM,\n      type: COMPONENT_TYPE.SLIDER,\n    };\n  }\n\n  /**\n   * \n   */\n  private updateSlider() {\n    let cfg = this.getSliderCfg();\n    if (this.width) {\n      const { minText, maxText } = this.getMinMaxText(this.start, this.end);\n      cfg = { ...cfg, width: this.width, start: this.start, end: this.end, minText, maxText };\n    }\n\n    this.slider.component.update(cfg);\n\n    return this.slider;\n  }\n\n  /**\n   * \n   */\n  private measureSlider() {\n    const { width } = this.getSliderCfg();\n\n    this.width = width;\n  }\n\n  /**\n   * \n   */\n  private resetMeasure = () => {\n    this.clear();\n  };\n\n  /**\n   *  slider \n   */\n  private getSliderCfg() {\n    let cfg: Writeable<SliderCfg> & { x: number; y: number; width: number; minText: string; maxText: string } = {\n      height: 16,\n      start: 0,\n      end: 1,\n      minText: '',\n      maxText: '',\n      x: 0,\n      y: 0,\n      width: this.view.coordinateBBox.width,\n    };\n    if (isObject(this.option)) {\n      // \n      const trendCfg = {\n        data: this.getData(),\n        ...get(this.option, 'trendCfg', {}),\n      };\n\n      // \n      cfg = deepMix({}, cfg, this.getThemeOptions(), this.option);\n\n      // trendCfg \n      cfg = { ...cfg, trendCfg };\n    }\n\n    cfg.start = clamp(Math.min(isNil(cfg.start) ? 0 : cfg.start, isNil(cfg.end) ? 1 : cfg.end), 0, 1);\n    cfg.end = clamp(Math.max(isNil(cfg.start) ? 0 : cfg.start, isNil(cfg.end) ? 1 : cfg.end), 0, 1);\n\n    return cfg;\n  }\n\n  /**\n   *  view \n   */\n  private getData(): number[] {\n    const data = this.view.getOptions().data;\n    const [yScale] = this.view.getYScales();\n    const groupScales = this.view.getGroupScales();\n    if (groupScales.length) {\n      const { field, ticks } = groupScales[0];\n      return data.reduce((pre, cur) => {\n        if (cur[field] === ticks[0]) {\n          pre.push(cur[yScale.field] as number);\n        }\n        return pre;\n      }, []) as number[];\n    }\n\n    return data.map((datum) => datum[yScale.field] || 0);\n  }\n\n  /**\n   *  slider \n   */\n  private getThemeOptions() {\n    const theme = this.view.getTheme();\n    return get(theme, ['components', 'slider', 'common'], {});\n  }\n\n  /**\n   * \n   * @param v\n   */\n  private onValueChange = (v: any) => {\n    const [min, max] = v;\n\n    this.start = min;\n    this.end = max;\n\n    this.changeViewData(min, max);\n  };\n\n  /**\n   *  start/end  minText/maxText\n   * @param min\n   * @param max\n   */\n  private getMinMaxText(min: number, max: number) {\n    const data = this.view.getOptions().data;\n    const xScale = this.view.getXScale();\n    const isHorizontal = true;\n    let values = valuesOfKey(data, xScale.field);\n\n    //  xScale \n    if (xScale.isLinear) {\n      values = values.sort();\n    }\n\n    const xValues = isHorizontal ? values : values.reverse();\n    const dataSize = size(data);\n\n    if (!xScale || !dataSize) {\n      return {}; // fix: \n    }\n\n    const xTickCount = size(xValues);\n\n    const minIndex = Math.round(min * (xTickCount - 1));\n    const maxIndex = Math.round(max * (xTickCount - 1));\n\n    let minText = get(xValues, [minIndex]);\n    let maxText = get(xValues, [maxIndex]);\n\n    const formatter = this.getSliderCfg().formatter as SliderCfg['formatter'];\n    if (formatter) {\n      minText = formatter(minText, data[minIndex], minIndex);\n      maxText = formatter(maxText, data[maxIndex], maxIndex);\n    }\n\n    return {\n      minText,\n      maxText,\n    };\n  }\n\n  /**\n   *  view \n   * @param min\n   * @param max\n   */\n  private changeViewData(min: number, max: number) {\n    const data = this.view.getOptions().data;\n    const xScale = this.view.getXScale();\n    const dataSize = size(data);\n    if (!xScale || !dataSize) {\n      return;\n    }\n    const isHorizontal = true;\n    const values = valuesOfKey(data, xScale.field);\n\n    //  xScale \n    const xScaleValues = this.view.getXScale().isLinear ? values.sort((a, b) => Number(a) - Number(b)) : values;\n\n    const xValues = isHorizontal ? xScaleValues : xScaleValues.reverse();\n    const xTickCount = size(xValues);\n\n    const minIndex = Math.round(min * (xTickCount - 1));\n    const maxIndex = Math.round(max * (xTickCount - 1));\n\n    //  x \n    this.view.filter(xScale.field, (value: any, datum: Datum) => {\n      const idx: number = xValues.indexOf(value);\n      return idx > -1 ? isBetween(idx, minIndex, maxIndex) : true;\n    });\n    this.view.render(true);\n  }\n\n  /**\n   * \n   */\n  public getComponents() {\n    return this.slider ? [this.slider] : [];\n  }\n\n  /**\n   * \n   */\n  public clear() {\n    if (this.slider) {\n      this.slider.component.destroy();\n      this.slider = undefined;\n    }\n    this.width = 0;\n    this.start = undefined;\n    this.end = undefined;\n  }\n}\n","import { Controller } from './base';\nimport { IGroup, Scrollbar as ScrollbarComponent, Scale } from '../../dependents';\nimport { ScrollbarOption, ComponentOption, ScrollbarCfg, Data, ScaleOption, Padding } from '../../interface';\nimport View from '../view';\nimport { BBox } from '../../util/bbox';\nimport { directionToPosition } from '../../util/direction';\nimport { COMPONENT_TYPE, DIRECTION, LAYER, VIEW_LIFE_CIRCLE } from '../../constant';\nimport { isObject, clamp, size, throttle, noop, get, valuesOfKey, deepMix } from '@antv/util';\nimport { isBetween } from '../../util/helper';\n\nconst DEFAULT_PADDING: number = 0;\nconst DEFAULT_SIZE: number = 8;\nconst DEFAULT_CATEGORY_SIZE: number = 32;\nconst MIN_THUMB_LENGTH: number = 20;\n\nexport default class Scrollbar extends Controller<ScrollbarOption> {\n  private scrollbar: ComponentOption;\n  private container: IGroup;\n\n  private trackLen: number;\n  private thumbLen: number;\n  private cnt: number;\n  private step: number;\n  private ratio: number;\n  private data: Data;\n  private xScaleCfg: {\n    field: string;\n    values: string[];\n  };\n  private yScalesCfg: Scale[];\n\n  private onChangeFn: (evt: {}) => void = noop;\n\n  constructor(view: View) {\n    super(view);\n    this.container = this.view.getLayer(LAYER.FORE).addGroup();\n    this.onChangeFn = throttle(this.onValueChange, 20, {\n      leading: true,\n    }) as (evt: {}) => void;\n    this.trackLen = 0;\n    this.thumbLen = 0;\n    this.ratio = 0;\n\n    this.view.on(VIEW_LIFE_CIRCLE.BEFORE_CHANGE_DATA, this.resetMeasure);\n    this.view.on(VIEW_LIFE_CIRCLE.BEFORE_CHANGE_SIZE, this.resetMeasure);\n  }\n\n  get name(): string {\n    return 'scrollbar';\n  }\n\n  public destroy() {\n    super.destroy();\n    this.view.off(VIEW_LIFE_CIRCLE.BEFORE_CHANGE_DATA, this.resetMeasure);\n    this.view.off(VIEW_LIFE_CIRCLE.BEFORE_CHANGE_SIZE, this.resetMeasure);\n  }\n\n  public init() { }\n\n  /**\n   * \n   */\n  public render() {\n    this.option = this.view.getOptions().scrollbar;\n\n    if (this.option) {\n      if (this.scrollbar) {\n        // exist, update\n        this.scrollbar = this.updateScrollbar();\n      } else {\n        // not exist, create\n        this.scrollbar = this.createScrollbar();\n        this.scrollbar.component.on('scrollchange', this.onChangeFn);\n      }\n    } else {\n      if (this.scrollbar) {\n        // exist, destroy\n        this.scrollbar.component.destroy();\n        this.scrollbar = undefined;\n      }\n    }\n  }\n\n  /**\n   * \n   */\n  public layout() {\n    if (this.option && !this.trackLen) {\n      this.measureScrollbar();\n      setTimeout(() => {\n        if (!this.view.destroyed) {\n          this.changeViewData(this.getScrollRange(), true);\n        }\n      });\n    }\n    if (this.scrollbar) {\n      const width = this.view.coordinateBBox.width;\n      const padding: Padding = this.scrollbar.component.get('padding') as Padding;\n      const bboxObject = this.scrollbar.component.getLayoutBBox();\n      const bbox = new BBox(bboxObject.x, bboxObject.y, Math.min(bboxObject.width, width), bboxObject.height).expand(\n        padding\n      );\n      const cfg = this.getScrollbarComponentCfg();\n\n      let x: number;\n      let y: number;\n\n      if (cfg.isHorizontal) {\n        const [x1, y1] = directionToPosition(this.view.viewBBox, bbox, DIRECTION.BOTTOM);\n        const [x2, y2] = directionToPosition(this.view.coordinateBBox, bbox, DIRECTION.BOTTOM);\n        x = x2;\n        y = y1;\n      } else {\n        const [x1, y1] = directionToPosition(this.view.viewBBox, bbox, DIRECTION.RIGHT);\n        const [x2, y2] = directionToPosition(this.view.viewBBox, bbox, DIRECTION.RIGHT);\n        x = x2;\n        y = y1;\n      }\n\n      x += padding[3];\n      y += padding[0];\n\n      //  bottom\n      if (this.trackLen) {\n        this.scrollbar.component.update({\n          ...cfg,\n          x,\n          y,\n          trackLen: this.trackLen,\n          thumbLen: this.thumbLen,\n          thumbOffset: (this.trackLen - this.thumbLen) * this.ratio,\n        });\n      } else {\n        this.scrollbar.component.update({\n          ...cfg,\n          x,\n          y,\n        });\n      }\n\n      this.view.viewBBox = this.view.viewBBox.cut(bbox, cfg.isHorizontal ? DIRECTION.BOTTOM : DIRECTION.RIGHT);\n    }\n  }\n\n  /**\n   * \n   */\n  public update() {\n    //  render \n    this.render();\n  }\n\n  public getComponents() {\n    return this.scrollbar ? [this.scrollbar] : [];\n  }\n\n  public clear() {\n    if (this.scrollbar) {\n      this.scrollbar.component.destroy();\n      this.scrollbar = undefined;\n    }\n    this.trackLen = 0;\n    this.thumbLen = 0;\n    this.ratio = 0;\n    this.cnt = 0;\n    this.step = 0;\n    this.data = undefined;\n    this.xScaleCfg = undefined;\n    this.yScalesCfg = [];\n  }\n\n  /**   */\n  public setValue(ratio: number) {\n    this.onValueChange({ ratio });\n  }\n\n  /**   */\n  public getValue() {\n    return this.ratio;\n  }\n\n  /**\n   *  scrollbar \n   */\n  private getThemeOptions() {\n    const theme = this.view.getTheme();\n    return get(theme, ['components', 'scrollbar', 'common'], {});\n  }\n\n  /**\n   *  scrollbar \n   */\n  private getScrollbarTheme(style?: ScrollbarCfg['style']) {\n    const theme = get(this.view.getTheme(), ['components', 'scrollbar']);\n    const { thumbHighlightColor, ...restStyles } = style || {};\n    return {\n      default: deepMix({}, get(theme, ['default', 'style'], {}), restStyles),\n      hover: deepMix({}, get(theme, ['hover', 'style'], {}), { thumbColor: thumbHighlightColor }),\n    };\n  }\n\n  private resetMeasure = () => {\n    this.clear();\n  };\n\n  private onValueChange = ({ ratio }: { ratio: number }) => {\n    const { animate } = this.getValidScrollbarCfg();\n    this.ratio = clamp(ratio, 0, 1);\n    const originalAnimate = this.view.getOptions().animate;\n    if (!animate) {\n      this.view.animate(false);\n    }\n    this.changeViewData(this.getScrollRange(), true);\n    this.view.animate(originalAnimate);\n  };\n\n  private measureScrollbar(): void {\n    const xScale = this.view.getXScale();\n    const yScales = this.view.getYScales().slice();\n    this.data = this.getScrollbarData();\n    this.step = this.getStep();\n    this.cnt = this.getCnt();\n    const { trackLen, thumbLen } = this.getScrollbarComponentCfg();\n    this.trackLen = trackLen;\n    this.thumbLen = thumbLen;\n    this.xScaleCfg = {\n      field: xScale.field,\n      values: xScale.values || [],\n    };\n    this.yScalesCfg = yScales;\n  }\n\n  private getScrollRange(): [number, number] {\n    const startIdx: number = Math.floor((this.cnt - this.step) * clamp(this.ratio, 0, 1));\n    const endIdx: number = Math.min(startIdx + this.step - 1, this.cnt - 1);\n    return [startIdx, endIdx];\n  }\n\n  private changeViewData([startIdx, endIdx]: [number, number], render?: boolean): void {\n    const { type } = this.getValidScrollbarCfg();\n    const isHorizontal = type !== 'vertical';\n    const values = valuesOfKey(this.data, this.xScaleCfg.field);\n\n    //  xScale \n    const xScaleValues = this.view.getXScale().isLinear ? values.sort((a, b) => Number(a) - Number(b)) : values;\n\n    const xValues = isHorizontal ? xScaleValues : xScaleValues.reverse();\n    this.yScalesCfg.forEach((cfg) => {\n      this.view.scale(cfg.field, {\n        formatter: cfg.formatter,\n        type: cfg.type as ScaleOption['type'],\n        min: cfg.min,\n        max: cfg.max,\n        tickMethod: cfg.tickMethod\n      });\n    });\n    this.view.filter(this.xScaleCfg.field, (val) => {\n      const idx = xValues.indexOf(val);\n      return idx > -1 ? isBetween(idx, startIdx, endIdx) : true;\n    });\n    this.view.render(true);\n  }\n\n  private createScrollbar(): ComponentOption {\n    const { type } = this.getValidScrollbarCfg();\n    const isHorizontal = type !== 'vertical';\n    const component = new ScrollbarComponent({\n      container: this.container,\n      ...this.getScrollbarComponentCfg(),\n      x: 0,\n      y: 0,\n    });\n\n    component.init();\n\n    return {\n      component,\n      layer: LAYER.FORE,\n      direction: isHorizontal ? DIRECTION.BOTTOM : DIRECTION.RIGHT,\n      type: COMPONENT_TYPE.SCROLLBAR,\n    };\n  }\n\n  private updateScrollbar(): ComponentOption {\n    const config = this.getScrollbarComponentCfg();\n    const realConfig = this.trackLen\n      ? {\n        ...config,\n        trackLen: this.trackLen,\n        thumbLen: this.thumbLen,\n        thumbOffset: (this.trackLen - this.thumbLen) * this.ratio,\n      }\n      : { ...config };\n    this.scrollbar.component.update(realConfig);\n\n    return this.scrollbar;\n  }\n\n  private getStep() {\n    if (this.step) {\n      return this.step;\n    }\n    const { coordinateBBox } = this.view;\n    const { type, categorySize } = this.getValidScrollbarCfg();\n    const isHorizontal = type !== 'vertical';\n\n    return Math.floor((isHorizontal ? coordinateBBox.width : coordinateBBox.height) / categorySize);\n  }\n\n  private getCnt() {\n    if (this.cnt) {\n      return this.cnt;\n    }\n    const xScale = this.view.getXScale();\n    const data = this.getScrollbarData();\n    const values = valuesOfKey(data, xScale.field);\n    return size(values);\n  }\n\n  private getScrollbarComponentCfg() {\n    const { coordinateBBox, viewBBox } = this.view;\n    const { type, padding, width, height, style } = this.getValidScrollbarCfg();\n    const isHorizontal = type !== 'vertical';\n    const [paddingTop, paddingRight, paddingBottom, paddingLeft] = padding;\n    const position = isHorizontal\n      ? {\n        x: coordinateBBox.minX + paddingLeft,\n        y: viewBBox.maxY - height - paddingBottom,\n      }\n      : {\n        x: viewBBox.maxX - width - paddingRight,\n        y: coordinateBBox.minY + paddingTop,\n      };\n    const step = this.getStep();\n    const cnt = this.getCnt();\n    const trackLen = isHorizontal\n      ? coordinateBBox.width - paddingLeft - paddingRight\n      : coordinateBBox.height - paddingTop - paddingBottom;\n    const thumbLen = Math.max(trackLen * clamp(step / cnt, 0, 1), MIN_THUMB_LENGTH);\n\n    return {\n      ...this.getThemeOptions(),\n      x: position.x,\n      y: position.y,\n      size: isHorizontal ? height : width,\n      isHorizontal,\n      trackLen,\n      thumbLen,\n      thumbOffset: 0,\n      theme: this.getScrollbarTheme(style),\n    };\n  }\n\n  /**\n   * \n   */\n  private getValidScrollbarCfg(): Required<ScrollbarCfg> {\n    let cfg: Required<ScrollbarCfg> = {\n      type: 'horizontal',\n      categorySize: DEFAULT_CATEGORY_SIZE,\n      width: DEFAULT_SIZE,\n      height: DEFAULT_SIZE,\n      padding: [0, 0, 0, 0],\n      animate: true,\n      style: {},\n    };\n    if (isObject(this.option)) {\n      cfg = { ...cfg, ...this.option };\n    }\n    if (!isObject(this.option) || !this.option.padding) {\n      cfg.padding =\n        cfg.type === 'horizontal' ? [DEFAULT_PADDING, 0, DEFAULT_PADDING, 0] : [0, DEFAULT_PADDING, 0, DEFAULT_PADDING];\n    }\n\n    return cfg;\n  }\n\n  /**\n   * \n   */\n  private getScrollbarData(): Data {\n    const coordinate = this.view.getCoordinate();\n    const cfg = this.getValidScrollbarCfg();\n    let data = this.view.getOptions().data || [];\n    //  y \n    if (coordinate.isReflect('y') && cfg.type === 'vertical') {\n      data = [...data].reverse();\n    }\n\n    return data;\n  }\n}\n","import { each, head, isEqual, last, get, flatten, isArray, uniq, isNil } from '@antv/util';\nimport View from '../../chart/view';\nimport { findItemsFromViewRecurisive } from '../../util/tooltip';\nimport { IShape, Point, ShapeAttrs } from '../../dependents';\nimport Element from '../../geometry/element';\nimport { LooseObject, TooltipCfg } from '../../interface';\nimport { getAngle, getSectorPath } from '../../util/graphics';\nimport Action from './base';\n\nconst DEFAULT_REGION_PATH_STYLE = {\n  fill: '#CCD6EC',\n  opacity: 0.3,\n};\n\nexport function getItemsOfView(view: View, point: Point, tooltipCfg: TooltipCfg) {\n  let items = findItemsFromViewRecurisive(view, point, tooltipCfg);\n  if (items.length) {\n    // \n    items = flatten(items);\n    for (const itemArr of items) {\n      for (const item of itemArr) {\n        const { x, y } = item.mappingData;\n        item.x = isArray(x) ? x[x.length - 1] : x;\n        item.y = isArray(y) ? y[y.length - 1] : y;\n      }\n    }\n\n    const { shared } = tooltipCfg;\n    // shared: false  shape  view  Geometry shape\n    if (shared === false && items.length > 1) {\n      let snapItem = items[0];\n      let min = Math.abs(point.y - snapItem[0].y);\n      for (const aItem of items) {\n        const yDistance = Math.abs(point.y - aItem[0].y);\n        if (yDistance <= min) {\n          snapItem = aItem;\n          min = yDistance;\n        }\n      }\n      items = [snapItem];\n    }\n\n    return uniq(flatten(items));\n  }\n\n  return [];\n}\n\n/**\n *  Action.  interval  schema geometry\n * @ignore\n */\nclass ActiveRegion extends Action {\n  private items: any[];\n  private regionPath: IShape;\n  /**\n   * \n   * @param {ShapeAttrs} style region-path \n   * @param {number} appendRatio .  x  linear : 0.25, x  linear :  0\n   * @param {number} appendWidth  .  > appendRatio\n   */\n  public show(args?: { style: ShapeAttrs; appendRatio?: number; appendWidth?: number }) {\n    const view = this.context.view;\n    const ev = this.context.event;\n\n    const tooltipCfg = view.getController('tooltip').getTooltipCfg();\n    const tooltipItems = getItemsOfView(\n      view,\n      {\n        x: ev.x,\n        y: ev.y,\n      },\n      tooltipCfg\n    );\n\n    if (isEqual(tooltipItems, this.items)) {\n      // \n      return;\n    }\n    this.items = tooltipItems;\n    if (tooltipItems.length) {\n      const xField = view.getXScale().field;\n      const xValue = tooltipItems[0].data[xField];\n      //  x  elements\n      let elements: Element[] = [];\n      const geometries = view.geometries;\n      each(geometries, (geometry) => {\n        if (geometry.type === 'interval' || geometry.type === 'schema') {\n          const result = geometry.getElementsBy((ele) => {\n            const eleData = ele.getData();\n            return eleData[xField] === xValue;\n          });\n\n          elements = elements.concat(result);\n        }\n      });\n\n      //  bbox \n      if (elements.length) {\n        const coordinate = view.getCoordinate();\n\n        let firstBBox = elements[0].shape.getCanvasBBox();\n        let lastBBox = elements[0].shape.getCanvasBBox();\n        const groupBBox: LooseObject = firstBBox;\n\n        each(elements, (ele: Element) => {\n          const bbox = ele.shape.getCanvasBBox();\n          if (coordinate.isTransposed) {\n            if (bbox.minY < firstBBox.minY) {\n              firstBBox = bbox;\n            }\n            if (bbox.maxY > lastBBox.maxY) {\n              lastBBox = bbox;\n            }\n          } else {\n            if (bbox.minX < firstBBox.minX) {\n              firstBBox = bbox;\n            }\n            if (bbox.maxX > lastBBox.maxX) {\n              lastBBox = bbox;\n            }\n          }\n\n          groupBBox.x = Math.min(bbox.minX, groupBBox.minX);\n          groupBBox.y = Math.min(bbox.minY, groupBBox.minY);\n          groupBBox.width = Math.max(bbox.maxX, groupBBox.maxX) - groupBBox.x;\n          groupBBox.height = Math.max(bbox.maxY, groupBBox.maxY) - groupBBox.y;\n        });\n\n        const { backgroundGroup, coordinateBBox } = view;\n        let path;\n        if (coordinate.isRect) {\n          const xScale = view.getXScale();\n\n          let { appendRatio, appendWidth } = args || {};\n          if (isNil(appendWidth)) {\n            appendRatio = isNil(appendRatio) ? (xScale.isLinear ? 0 : 0.25) : appendRatio; //  x \n            appendWidth = coordinate.isTransposed ? appendRatio * lastBBox.height : appendRatio * firstBBox.width;\n          }\n\n          let minX: number;\n          let minY: number;\n          let width: number;\n          let height: number;\n          if (coordinate.isTransposed) {\n            minX = coordinateBBox.minX;\n            minY = Math.min(lastBBox.minY, firstBBox.minY) - appendWidth;\n            width = coordinateBBox.width;\n            height = groupBBox.height + appendWidth * 2;\n          } else {\n            minX = Math.min(firstBBox.minX, lastBBox.minX) - appendWidth;\n            //    minY\n            minY = coordinateBBox.minY;\n            width = groupBBox.width + appendWidth * 2;\n            height = coordinateBBox.height;\n          }\n\n          path = [\n            ['M', minX, minY],\n            ['L', minX + width, minY],\n            ['L', minX + width, minY + height],\n            ['L', minX, minY + height],\n            ['Z'],\n          ];\n        } else {\n          const firstElement = head(elements);\n          const lastElement = last(elements);\n          const { startAngle } = getAngle(firstElement.getModel(), coordinate);\n          const { endAngle } = getAngle(lastElement.getModel(), coordinate);\n          const center = coordinate.getCenter();\n          const radius = coordinate.getRadius();\n          const innterRadius = coordinate.innerRadius * radius;\n          path = getSectorPath(center.x, center.y, radius, startAngle, endAngle, innterRadius);\n        }\n\n        if (this.regionPath) {\n          this.regionPath.attr('path', path);\n          this.regionPath.show();\n        } else {\n          const style = get(args, 'style', DEFAULT_REGION_PATH_STYLE);\n          this.regionPath = backgroundGroup.addShape({\n            type: 'path',\n            name: 'active-region',\n            capture: false,\n            attrs: {\n              ...style,\n              path,\n            },\n          });\n        }\n      }\n    }\n  }\n  /**\n   * \n   */\n  public hide() {\n    if (this.regionPath) {\n      this.regionPath.hide();\n    }\n    // this.regionPath = null;\n    this.items = null;\n  }\n  /**\n   * \n   */\n  public destroy() {\n    this.hide();\n    if (this.regionPath) {\n      this.regionPath.remove(true);\n    }\n    super.destroy();\n  }\n}\n\nexport default ActiveRegion;\n","import { isEqual, get } from '@antv/util';\nimport { View } from '../../../../chart';\nimport { Point } from '../../../../interface';\nimport Action from '../../base';\nimport Tooltip from '../../../../chart/controller/tooltip';\n\n/**\n * Tooltip  Action\n * @ignore\n */\nclass TooltipAction extends Action {\n  private timeStamp: number = 0;\n  private location: Point;\n\n  /**\n   *  Tooltip\n   * @returns\n   */\n  public show() {\n    const context = this.context;\n    const ev = context.event;\n    const view = context.view;\n    const isTooltipLocked = view.isTooltipLocked();\n    if (isTooltipLocked) {\n      //  tooltip\n      return;\n    }\n    const lastTimeStamp = this.timeStamp;\n    const timeStamp = +new Date();\n\n    //  showDelay  16ms tooltip  enterable\n    const showDelay = get(context.view.getOptions(), 'tooltip.showDelay', 16);\n    if (timeStamp - lastTimeStamp > showDelay) {\n      const preLoc = this.location;\n      const curLoc = { x: ev.x, y: ev.y };\n      if (!preLoc || !isEqual(preLoc, curLoc)) {\n        this.showTooltip(view, curLoc);\n      }\n      this.timeStamp = timeStamp;\n      this.location = curLoc;\n    }\n  }\n\n  /**\n   *  Tooltip\n   * @returns\n   */\n  public hide() {\n    const view = this.context.view;\n\n    const tooltip = view.getController('tooltip');\n    const { clientX, clientY } = this.context.event;\n\n    //  enterable +  tooltip \n    if (tooltip.isCursorEntered({ x: clientX, y: clientY })) {\n      return;\n    }\n\n    //  tooltip \n    if (view.isTooltipLocked()) {\n      return;\n    }\n    this.hideTooltip(view);\n    this.location = null;\n  }\n\n  protected showTooltip(view: View, point: Point) {\n    // \n    view.showTooltip(point);\n  }\n\n  protected hideTooltip(view) {\n    view.hideTooltip();\n  }\n}\n\nexport default TooltipAction;\n","import { each } from '@antv/util';\nimport { View } from '../../../../chart';\nimport { Point } from '../../../../interface';\nimport { getSiblingPoint, getSilbings } from '../../util';\nimport TooltipAction from './geometry';\n\n/**\n *  view  view  tooltip \n * @ignore\n */\nclass SiblingTooltip extends TooltipAction {\n  /**\n   *  tooltip \n   * @param view\n   * @param point\n   */\n  protected showTooltip(view: View, point: Point) {\n    const siblings = getSilbings(view);\n    each(siblings, (sibling) => {\n      const siblingPoint = getSiblingPoint(view, sibling, point);\n      sibling.showTooltip(siblingPoint);\n    });\n  }\n  /**\n   *  tooltip\n   * @param view\n   */\n  protected hideTooltip(view) {\n    const siblings = getSilbings(view);\n    each(siblings, (sibling) => {\n      sibling.hideTooltip();\n    });\n  }\n}\n\nexport default SiblingTooltip;\n","import { isEqual, get, deepMix } from '@antv/util';\nimport { TOOLTIP_CSS_CONST } from '@antv/component';\nimport { Point } from '../../../../interface';\nimport Action from '../../base';\nimport { HtmlTooltip } from '../../../../dependents';\n\n/**\n *  Tooltip Action\n * @ignore\n */\nexport default class EllipsisText extends Action {\n  private timeStamp: number = 0;\n  private location: Point;\n  private tooltip;\n\n  public destroy() {\n    super.destroy();\n    this.tooltip && this.tooltip.destroy();\n  }\n\n  /**\n   *  Tooltip\n   * @returns\n   */\n  public show() {\n    const context = this.context;\n    const ev = context.event;\n    const lastTimeStamp = this.timeStamp;\n    const timeStamp = +new Date();\n\n    if (timeStamp - lastTimeStamp > 16) {\n      const preLoc = this.location;\n      const curLoc = { x: ev.x, y: ev.y };\n      if (!preLoc || !isEqual(preLoc, curLoc)) {\n        this.showTooltip(curLoc);\n      }\n      this.timeStamp = timeStamp;\n      this.location = curLoc;\n    }\n  }\n\n  /**\n   *  Tooltip\n   * @returns\n   */\n  public hide() {\n    this.hideTooltip();\n    this.location = null;\n  }\n\n  protected showTooltip(curLoc: Point) {\n    const context = this.context;\n    const ev = context.event;\n    const target = ev.target;\n\n    if (target && target.get('tip')) {\n      if (!this.tooltip) {\n        this.renderTooltip(); // \n      }\n      const tipContent = target.get('tip');\n      //  tooltip\n      this.tooltip.update({\n        title: tipContent,\n        ...curLoc,\n      });\n      this.tooltip.show();\n    }\n  }\n\n  protected hideTooltip() {\n    this.tooltip && this.tooltip.hide();\n  }\n\n  private renderTooltip() {\n    const view = this.context.view;\n    const canvas = view.canvas;\n\n    const region = {\n      start: { x: 0, y: 0 },\n      end: { x: canvas.get('width'), y: canvas.get('height') },\n    };\n\n    const theme = view.getTheme();\n    const tooltipStyles = get(theme, ['components', 'tooltip', 'domStyles'], {}); //  tooltip \n    const tooltip = new HtmlTooltip({\n      parent: canvas.get('el').parentNode,\n      region,\n      visible: false,\n      crosshairs: null,\n      domStyles: {\n        ...deepMix({}, tooltipStyles, {\n          // tooltip tip  50%\n          [TOOLTIP_CSS_CONST.CONTAINER_CLASS]: { 'max-width': '50%' },\n          [TOOLTIP_CSS_CONST.TITLE_CLASS]: { 'word-break': 'break-all' },\n        }),\n      },\n    });\n    tooltip.init();\n    tooltip.setCapture(false); // \n    this.tooltip = tooltip;\n  }\n}\n","import { each } from '@antv/util';\nimport Element from '../../../geometry/element/';\nimport Action from '../base';\nimport { getElementsByState } from '../util';\n\n/**\n *  Action \n * @abstract\n * @class\n * @ignore\n */\nabstract class StateBase extends Action {\n  /**\n   * \n   */\n  protected stateName: string = '';\n\n  /**\n   * \n   * @param enable \n   */\n  protected abstract setStateEnable(enable: boolean);\n\n  /**\n   * \n   * @param element  Element \n   */\n  protected hasState(element: Element): boolean {\n    return element.hasState(this.stateName);\n  }\n  /**\n   * \n   * @param enable \n   */\n  protected setElementState(element: Element, enable: boolean) {\n    // \n    element.setState(this.stateName, enable);\n  }\n\n  /**\n   * \n   */\n  public setState() {\n    this.setStateEnable(true);\n  }\n\n  /**\n   *  Element \n   */\n  public clear() {\n    const view = this.context.view;\n    this.clearViewState(view);\n  }\n\n  protected clearViewState(view) {\n    const elements = getElementsByState(view, this.stateName);\n    each(elements, (el: Element) => {\n      this.setElementState(el, false);\n    });\n  }\n}\n\nexport default StateBase;\n","import { each, isNil, get } from '@antv/util';\nimport { ListItem } from '../../../dependents';\nimport Element from '../../../geometry/element/';\nimport {\n  getCurrentElement,\n  getDelegationObject,\n  getElements,\n  getElementValue,\n  getScaleByField,\n  isElementChange,\n  isList,\n} from '../util';\nimport StateBase from './state-base';\n\nfunction getItem(shape) {\n  return get(shape.get('delegateObject'), 'item');\n}\n\n/**\n *  Action  Element \n * @class\n * @ignore\n */\nclass ElementState extends StateBase {\n  protected ignoreListItemStates = ['unchecked'];\n\n  // \n  private isItemIgnore(item: ListItem, list) {\n    const states = this.ignoreListItemStates;\n    const filtered = states.filter((state) => {\n      return list.hasState(item, state);\n    });\n    return !!filtered.length;\n  }\n\n  // \n  private setStateByComponent(component, item: ListItem, enable: boolean) {\n    const view = this.context.view;\n    const field = component.get('field');\n    const elements = getElements(view);\n    this.setElementsStateByItem(elements, field, item, enable);\n  }\n\n  //  element \n  protected setStateByElement(element: Element, enable: boolean) {\n    this.setElementState(element, enable);\n  }\n\n  /**  element  */\n  protected isMathItem(element: Element, field: string, item: ListItem) {\n    const view = this.context.view;\n    const scale = getScaleByField(view, field);\n    const value = getElementValue(element, field);\n    return !isNil(value) && item.name === scale.getText(value);\n  }\n\n  protected setElementsStateByItem(elements: Element[], field: string, item: ListItem, enable: boolean) {\n    each(elements, (el) => {\n      if (this.isMathItem(el, field, item)) {\n        el.setState(this.stateName, enable);\n      }\n    });\n  }\n\n  /**  */\n  protected setStateEnable(enable: boolean) {\n    const element = getCurrentElement(this.context);\n    if (element) {\n      //  element \n      if (isElementChange(this.context)) {\n        this.setStateByElement(element, enable);\n      }\n    } else {\n      // \n      const delegateObject = getDelegationObject(this.context);\n      // \n      if (isList(delegateObject)) {\n        const { item, component } = delegateObject;\n        if (item && component && !this.isItemIgnore(item, component)) {\n          const event = this.context.event.gEvent;\n          // \n          if (event && event.fromShape && event.toShape && getItem(event.fromShape) === getItem(event.toShape)) {\n            return;\n          }\n          this.setStateByComponent(component, item, enable);\n        }\n      }\n    }\n  }\n\n  /**\n   * \n   */\n  public toggle() {\n    const element = getCurrentElement(this.context);\n    if (element) {\n      const hasState = element.hasState(this.stateName);\n      this.setElementState(element, !hasState);\n    }\n  }\n\n  /**\n   * \n   */\n  public reset() {\n    this.setStateEnable(false);\n  }\n}\n\nexport default ElementState;\n","import StateAction from './state';\n\n/**\n *  active  Action active\n * @class\n * @ignore\n */\nclass ElementActive extends StateAction {\n  protected stateName: string = 'active';\n  /**\n   * Active Element\n   */\n  public active() {\n    this.setState();\n  }\n}\n\nexport default ElementActive;\n","import Action from '../base';\nimport { getCurrentElement, getElementValue, getElementsByField } from '../util';\nimport Element from '../../../geometry/element/';\nimport { deepMix, each, isFunction } from '@antv/util';\nimport { LooseObject } from '../../../interface';\nimport { IGroup, ShapeAttrs } from '../../../dependents';\n\ntype LinkActiveStyle = ShapeAttrs | ((style: ShapeAttrs, Element: Element) => ShapeAttrs);\n\n/**\n * Link Elements by color\n *\n * public element-link-by-color:link, element-link-by-color:unlink, element-link-by-color:clear\n */\nclass LinkByColor extends Action {\n  private linkGroup: IGroup;\n  private cache: LooseObject = {};\n  //  scale\n  private getColorScale(view, element) {\n    const colorAttr = element.geometry.getAttribute('color');\n    if (!colorAttr) {\n      return null;\n    }\n    const scale = view.getScaleByField(colorAttr.getFields()[0]);\n    return scale;\n  }\n  //  path\n  private getLinkPath(element: Element, nextElement: Element) {\n    const view = this.context.view;\n    const { isTransposed } = view.getCoordinate();\n    const bbox = element.shape.getCanvasBBox();\n    const nextBBox = nextElement.shape.getCanvasBBox();\n    const path = isTransposed\n      ? [\n          ['M', bbox.minX, bbox.minY],\n          ['L', nextBBox.minX, nextBBox.maxY],\n          ['L', nextBBox.maxX, nextBBox.maxY],\n          ['L', bbox.maxX, bbox.minY],\n          ['Z'],\n        ]\n      : [\n          ['M', bbox.maxX, bbox.minY],\n          ['L', nextBBox.minX, nextBBox.minY],\n          ['L', nextBBox.minX, nextBBox.maxY],\n          ['L', bbox.maxX, bbox.maxY],\n          ['Z'],\n        ];\n    return path;\n  }\n  // \n  private addLinkShape(group: IGroup, element: Element, nextElement: Element, activeStyle?: LinkActiveStyle) {\n    const style = {\n      opacity: 0.4,\n      fill: element.shape.attr('fill'),\n    };\n    group.addShape({\n      type: 'path',\n      attrs: {\n        ...deepMix({}, style, isFunction(activeStyle) ? activeStyle(style, element) : activeStyle),\n        path: this.getLinkPath(element, nextElement),\n      },\n    });\n  }\n  // \n  private linkByElement(element: Element, activeStyle?: LinkActiveStyle) {\n    const view = this.context.view;\n    const scale = this.getColorScale(view, element);\n    if (!scale) {\n      return;\n    }\n    const value = getElementValue(element, scale.field);\n    if (!this.cache[value]) {\n      const elements = getElementsByField(view, scale.field, value);\n      const linkGroup = this.linkGroup;\n      const group = linkGroup.addGroup();\n      this.cache[value] = group; // \n      const count = elements.length;\n      each(elements, (el, index) => {\n        if (index < count - 1) {\n          const nextEl = elements[index + 1];\n          this.addLinkShape(group, el, nextEl, activeStyle);\n        }\n      });\n    }\n  }\n  // \n  private removeLink(element) {\n    const scale = this.getColorScale(this.context.view, element);\n    if (!scale) {\n      return;\n    }\n    const value = getElementValue(element, scale.field);\n    if (this.cache[value]) {\n      this.cache[value].remove();\n      this.cache[value] = null;\n    }\n  }\n\n  /**\n   *  elements\n   *\n   * @usage\n   * registerInteraction('xxx', {\n   *   start: [\n   *    {\n   *      trigger: 'interval:mouseenter',\n   *      action: 'element-link-by-color:link',\n   *      arg: {\n   *        // style: { fill: 'red' }\n   *        style: (style, element) => ({ fill: 'red' })\n   *     },\n   *   },\n   *  ],\n   * });\n   */\n  public link(args?: { style: LinkActiveStyle }) {\n    const context = this.context;\n    if (!this.linkGroup) {\n      // \n      this.linkGroup = context.view.foregroundGroup.addGroup({\n        id: 'link-by-color-group',\n        capture: false,\n      });\n    }\n    const element = getCurrentElement(context);\n    if (element) {\n      this.linkByElement(element, args?.style);\n    }\n  }\n\n  /**\n   *  elements\n   */\n  public unlink() {\n    const element = getCurrentElement(this.context);\n    if (element) {\n      this.removeLink(element);\n    }\n  }\n\n  /**\n   * \n   */\n  public clear() {\n    if (this.linkGroup) {\n      this.linkGroup.clear();\n    }\n    this.cache = {};\n  }\n\n  /**\n   * \n   */\n  destroy() {\n    super.destroy();\n    if (this.linkGroup) {\n      this.linkGroup.remove();\n    }\n  }\n}\nexport default LinkByColor;\n","import { each } from '@antv/util';\nimport Element from '../../../geometry/element/';\nimport {\n  getElements,\n  getIntersectElements,\n  getMaskedElements,\n  getSiblingMaskElements,\n  getSilbings,\n  isInRecords,\n  isMask,\n} from '../util';\nimport StateBase from './state-base';\n\n/**\n * @ignore\n *  Action\n */\nclass ElementRangeState extends StateBase {\n  private startPoint = null;\n  private endPoint = null;\n  private isStarted: boolean = false;\n  /**\n   *  view  siblings false \n   */\n  protected effectSiblings = false;\n  /**\n   *  element \n   */\n  protected effectByRecord = false;\n  // \n  private getCurrentPoint() {\n    const event = this.context.event;\n    return {\n      x: event.x,\n      y: event.y,\n    };\n  }\n\n  /**\n   * \n   */\n  public start() {\n    this.clear(); // \n    this.startPoint = this.getCurrentPoint();\n    this.isStarted = true;\n  }\n\n  protected getIntersectElements() {\n    let elements = null;\n    if (isMask(this.context)) {\n      elements = getMaskedElements(this.context, 10);\n    } else {\n      const startPoint = this.startPoint;\n      const endPoint = this.isStarted ? this.getCurrentPoint() : this.endPoint;\n      // \n      if (!startPoint || !endPoint) {\n        return;\n      }\n      // \n      const box = {\n        minX: Math.min(startPoint.x, endPoint.x),\n        minY: Math.min(startPoint.y, endPoint.y),\n        maxX: Math.max(startPoint.x, endPoint.x),\n        maxY: Math.max(startPoint.y, endPoint.y),\n      };\n      // this.clear(); // \n      const view = this.context.view;\n      elements = getIntersectElements(view, box);\n    }\n    return elements;\n  }\n  /**\n   * \n   */\n  public setStateEnable(enable: boolean) {\n    if (this.effectSiblings && !this.effectByRecord) {\n      this.setSiblingsState(enable);\n    } else {\n      const allElements = getElements(this.context.view);\n      const elements = this.getIntersectElements();\n      if (elements && elements.length) {\n        if (this.effectByRecord) {\n          this.setSiblingsStateByRecord(elements, enable);\n        } else {\n          this.setElementsState(elements, enable, allElements);\n        }\n      } else {\n        this.clear();\n      }\n    }\n  }\n  //  element \n  private setSiblingsStateByRecord(elements, enable) {\n    const view = this.context.view;\n    const siblings = getSilbings(view);\n    const records = elements.map((el) => {\n      return el.getModel().data;\n    });\n    const xFiled = view.getXScale().field;\n    const yField = view.getYScales()[0].field;\n    each(siblings, (sibling) => {\n      const allElements = getElements(sibling);\n      const effectElements = allElements.filter((el) => {\n        const record = el.getModel().data;\n        return isInRecords(records, record, xFiled, yField);\n      });\n      this.setElementsState(effectElements, enable, allElements);\n    });\n  }\n\n  //  view \n  private setSiblingsState(enable: boolean) {\n    const view = this.context.view;\n    const siblings = getSilbings(view);\n    if (isMask(this.context)) {\n      //  mask \n      each(siblings, (sibling) => {\n        const allElements = getElements(sibling);\n        const effectElements = getSiblingMaskElements(this.context, sibling, 10);\n        if (effectElements && effectElements.length) {\n          this.setElementsState(effectElements, enable, allElements);\n        } else {\n          this.clearViewState(sibling);\n        }\n      });\n    }\n  }\n\n  protected setElementsState(elements: Element[], enable, allElements: Element[]) {\n    each(allElements, (el) => {\n      if (!elements.includes(el)) {\n        this.setElementState(el, false);\n      } else {\n        this.setElementState(el, enable);\n      }\n    });\n  }\n\n  /**\n   * \n   */\n  public end() {\n    this.isStarted = false;\n    this.endPoint = this.getCurrentPoint();\n  }\n\n  //  clear\n  public clear() {\n    const view = this.context.view;\n    //  siblings\n    if (this.effectSiblings) {\n      const siblings = getSilbings(view);\n      each(siblings, (sibling) => {\n        this.clearViewState(sibling);\n      });\n    } else {\n      this.clearViewState(view);\n    }\n  }\n}\n\nexport default ElementRangeState;\n","import ElementRangeState from './range-state';\n\n/**\n * @ignore\n *  Active  Action\n */\nclass ElementRangeActive extends ElementRangeState {\n  protected stateName: string = 'active';\n  /**\n   *  Active\n   */\n  public active() {\n    this.setState();\n  }\n}\n\nexport default ElementRangeActive;\n","import { getCurrentElement, isElementChange } from '../util';\nimport StateBase from './state-base';\n\n/**\n *  Action \n * @class\n * @ignore\n */\nclass ElementSingleState extends StateBase {\n  protected setStateEnable(enable: boolean) {\n    const element = getCurrentElement(this.context);\n    if (element) {\n      //  element  label  shape \n      if (!isElementChange(this.context)) {\n        return;\n      }\n      //  element \n      if (enable) {\n        this.clear();\n        this.setElementState(element, true);\n      } else if (this.hasState(element)) {\n        this.setElementState(element, false);\n      }\n    }\n  }\n\n  /**\n   * \n   */\n  public toggle() {\n    const element = getCurrentElement(this.context);\n    if (element) {\n      const hasState = this.hasState(element); // \n      if (!hasState) {\n        this.clear();\n      }\n      this.setElementState(element, !hasState);\n    }\n  }\n\n  /**\n   * \n   */\n  public reset() {\n    this.setStateEnable(false);\n  }\n}\n\nexport default ElementSingleState;\n","import ElementSingleState from './single-state';\n\n/**\n * @ignore\n *  Element Active  Action\n */\nclass ElementSingleActive extends ElementSingleState {\n  protected stateName: string = 'active';\n  /**\n   *  Element Active\n   */\n  public active() {\n    this.setState();\n  }\n}\n\nexport default ElementSingleActive;\n","import { each } from '@antv/util';\nimport { View } from '../../../chart';\nimport Element from '../../../geometry/element/';\nimport { getElements } from '../util';\n\nconst STATUS_UNACTIVE = 'inactive';\nconst STATUS_ACTIVE = 'active';\n\n/**\n * @ignore\n *  highlight \n * @param view View  Chart\n */\nexport function clearHighlight(view: View) {\n  const elements = getElements(view);\n  each(elements, (el) => {\n    if (el.hasState(STATUS_ACTIVE)) {\n      el.setState(STATUS_ACTIVE, false);\n    }\n    if (el.hasState(STATUS_UNACTIVE)) {\n      el.setState(STATUS_UNACTIVE, false);\n    }\n  });\n}\n\ntype MatchCallback = (el: Element) => boolean;\n\n/**\n * @ignore\n *  highlight\n * @param elements \n * @param callback \n * @param enable \n */\nexport function setHighlightBy(elements: Element[], callback: MatchCallback, enable: boolean) {\n  each(elements, (el) => {\n    //  active  unactive \n    if (callback(el)) {\n      if (el.hasState(STATUS_UNACTIVE)) {\n        el.setState(STATUS_UNACTIVE, false);\n      }\n      el.setState(STATUS_ACTIVE, enable);\n    } else {\n      if (el.hasState(STATUS_ACTIVE)) {\n        el.setState(STATUS_ACTIVE, false);\n      }\n      el.setState(STATUS_UNACTIVE, enable);\n    }\n  });\n}\n","import { each } from '@antv/util';\nimport { ListItem } from '../../../dependents';\nimport Element from '../../../geometry/element/';\nimport { getElements, getElementsByState } from '../util';\nimport { clearHighlight } from './highlight-util';\nimport StateAction from './state';\n\nimport { ELEMENT_STATE } from '../../../constant';\n\nexport const STATUS_UNACTIVE = ELEMENT_STATE.INACTIVE;\nexport const STATUS_ACTIVE = ELEMENT_STATE.ACTIVE;\nexport type Callback = (el) => boolean;\n\n/**\n * @ignore\n * highlight\n */\nclass ElementHighlight extends StateAction {\n  protected stateName: string = STATUS_ACTIVE;\n\n  //  highlight\n  protected setElementsStateByItem(elements: Element[], field: string, item: ListItem, enable: boolean) {\n    const callback = (el) => this.isMathItem(el, field, item);\n    this.setHighlightBy(elements, callback, enable);\n  }\n\n  //  highlight\n  protected setElementHighlight(el: Element, callback: Callback) {\n    if (callback(el)) {\n      if (el.hasState(STATUS_UNACTIVE)) {\n        el.setState(STATUS_UNACTIVE, false);\n      }\n      el.setState(STATUS_ACTIVE, true);\n    } else if (!el.hasState(STATUS_ACTIVE)) {\n      el.setState(STATUS_UNACTIVE, true);\n    }\n  }\n\n  protected setHighlightBy(elements: Element[], callback: Callback, enable: boolean) {\n    if (enable) {\n      //  highlight  element  active\n      //  active unactive\n      each(elements, (el) => {\n        this.setElementHighlight(el, callback);\n      });\n    } else {\n      //  highlight highlight\n      const activeElements = getElementsByState(this.context.view, STATUS_ACTIVE);\n      let allCancel = true;\n      //  activeElements  highlight\n      each(activeElements, (el) => {\n        if (!callback(el)) {\n          allCancel = false;\n          return false;\n        }\n      });\n      if (allCancel) {\n        //  activeunactive \n        this.clear();\n      } else {\n        //  highlight,  element  unactive\n        //  element \n        each(elements, (el) => {\n          if (callback(el)) {\n            if (el.hasState(STATUS_ACTIVE)) {\n              el.setState(STATUS_ACTIVE, false);\n            }\n            el.setState(STATUS_UNACTIVE, true);\n          }\n        });\n      }\n    }\n  }\n\n  //  highlight\n  protected setElementState(element: Element, enable: boolean) {\n    const view = this.context.view;\n    const elements = getElements(view);\n    this.setHighlightBy(elements, (el) => element === el, enable);\n  }\n\n  public highlight() {\n    this.setState();\n  }\n\n  //  active unactive \n  public clear() {\n    const view = this.context.view;\n    clearHighlight(view);\n  }\n}\n\nexport default ElementHighlight;\n","import Element from '../../../geometry/element/';\nimport { getElements, getElementValue } from '../util';\nimport Highlight from './highlight';\n\n/**\n * Highlight color\n * @ignore\n */\nclass HighlightColor extends Highlight {\n  protected setStateByElement(element: Element, enable: boolean) {\n    const view = this.context.view;\n    const colorAttr = element.geometry.getAttribute('color');\n    if (!colorAttr) {\n      return;\n    }\n    const scale = view.getScaleByField(colorAttr.getFields()[0]);\n    const value = getElementValue(element, scale.field);\n    const elements = getElements(view);\n    const highlightElements = elements.filter((el) => {\n      return getElementValue(el, scale.field) === value;\n    });\n    this.setHighlightBy(elements, (el) => highlightElements.includes(el), enable);\n  }\n}\n\nexport default HighlightColor;\n","import Element from '../../../geometry/element/';\nimport { getElements, getElementValue, getCurrentElement } from '../util';\nimport Highlight, { STATUS_ACTIVE, STATUS_UNACTIVE, Callback } from './highlight';\n\n/**\n * Highlight x\n * @ignore\n */\nclass HighlightX extends Highlight {\n  // \n  protected setElementHighlight(el: Element, callback: Callback) {\n    if (callback(el)) {\n      if (el.hasState(STATUS_UNACTIVE)) {\n        el.setState(STATUS_UNACTIVE, false);\n      }\n      el.setState(STATUS_ACTIVE, true);\n    } else {\n      el.setState(STATUS_UNACTIVE, true);\n      if (el.hasState(STATUS_ACTIVE)) {\n        el.setState(STATUS_ACTIVE, false);\n      }\n    }\n  }\n\n  protected setStateByElement(element: Element, enable: boolean) {\n    const view = this.context.view;\n    const scale = view.getXScale();\n    const value = getElementValue(element, scale.field);\n    const elements = getElements(view);\n    const highlightElements = elements.filter((el) => {\n      return getElementValue(el, scale.field) === value;\n    });\n    this.setHighlightBy(elements, (el) => highlightElements.includes(el), enable);\n  }\n\n  /**\n   * \n   */\n  public toggle() {\n    const element = getCurrentElement(this.context);\n    if (element) {\n      const hasState = element.hasState(this.stateName);\n      this.setStateByElement(element, !hasState);\n    }\n  }\n}\n\nexport default HighlightX;\n","import Element from '../../../geometry/element';\nimport { Event } from '../../../chart';\nimport { clearHighlight, setHighlightBy } from './highlight-util';\nimport ElementRangeState from './range-state';\n\nenum EVENTS {\n  BEFORE_HIGHLIGHT = 'element-range-highlight:beforehighlight',\n  AFTER_HIGHLIGHT = 'element-range-highlight:afterhighlight',\n  BEFORE_CLEAR = 'element-range-highlight:beforeclear',\n  AFTER_CLEAR = 'element-range-highlight:afterclear',\n}\n\nexport { EVENTS as ELEMENT_RANGE_HIGHLIGHT_EVENTS };\n\n/**\n * @ignore\n *  highlight  Action\n */\nclass ElementRangeHighlight extends ElementRangeState {\n  protected stateName: string = 'active';\n\n  //  active unactive \n  protected clearViewState(view) {\n    clearHighlight(view);\n  }\n\n  /**\n   *  highlight\n   */\n  public highlight() {\n    const { view, event } = this.context;\n    const elements = this.getIntersectElements();\n    const payload = { view, event, highlightElements: elements };\n    view.emit(EVENTS.BEFORE_HIGHLIGHT, Event.fromData(view, EVENTS.BEFORE_HIGHLIGHT, payload));\n    this.setState();\n    view.emit(EVENTS.AFTER_HIGHLIGHT, Event.fromData(view, EVENTS.AFTER_HIGHLIGHT, payload));\n  }\n\n  /**\n   * @overrider \n   */\n  public clear() {\n    const view = this.context.view;\n    view.emit(EVENTS.BEFORE_CLEAR, Event.fromData(view, EVENTS.BEFORE_CLEAR, {}));\n    super.clear();\n    view.emit(EVENTS.AFTER_CLEAR, Event.fromData(view, EVENTS.AFTER_CLEAR, {}));\n  }\n\n  protected setElementsState(elements: Element[], enable: boolean, allElements: Element[]) {\n    setHighlightBy(allElements, (el) => elements.indexOf(el) >= 0, enable);\n  }\n}\n\nexport default ElementRangeHighlight;\n","import Element from '../../../geometry/element/';\nimport { getElements } from '../util';\nimport { clearHighlight, setHighlightBy } from './highlight-util';\nimport ElementSingleState from './single-state';\n\n/**\n * @ignore\n *  Element Highlight  Action\n */\nclass ElementSingleHighlight extends ElementSingleState {\n  protected stateName: string = 'active';\n\n  /**\n   * Element Highlight\n   */\n  public highlight() {\n    this.setState();\n  }\n\n  protected setElementState(element: Element, enable: boolean) {\n    const view = this.context.view;\n    const elements = getElements(view);\n    setHighlightBy(elements, (el) => element === el, enable);\n  }\n\n  //  active unactive \n  public clear() {\n    const view = this.context.view;\n    clearHighlight(view);\n  }\n}\n\nexport default ElementSingleHighlight;\n","import ElementRangeState from './range-state';\n\n/**\n * @ignore\n *  Action\n */\nclass ElementRangeSelected extends ElementRangeState {\n  protected stateName: string = 'selected';\n  /**\n   * \n   */\n  public selected() {\n    this.setState();\n  }\n}\n\nexport default ElementRangeSelected;\n","import StateAction from './state';\n\n/**\n * @ignore\n *  Action\n * @class\n */\nclass ElementMultipleSelected extends StateAction {\n  protected stateName: string = 'selected';\n  /**\n   * \n   */\n  public selected() {\n    this.setState();\n  }\n}\n\nexport default ElementMultipleSelected;\n","import ElementSingleState from './single-state';\n\n/**\n * @ignore\n *  Action\n */\nclass ElementSingleSelected extends ElementSingleState {\n  protected stateName: string = 'selected';\n  /**\n   * \n   */\n  public selected() {\n    this.setState();\n  }\n}\n\nexport default ElementSingleSelected;\n","import { each } from '@antv/util';\nimport { IList, ListItem } from '../../../dependents';\nimport Element from '../../../geometry/element';\nimport { LooseObject } from '../../../interface';\nimport Action from '../base';\nimport { getComponents } from '../util';\nimport { getCurrentElement, getDelegationObject, getElementValue, isList, getScaleByField } from '../util';\n\n/** @ignore */\ninterface ListStateCfg {\n  componentNames: string[];\n}\n\n/**\n *  Action \n * @class\n * @ignore\n */\nclass ListState extends Action<ListStateCfg> {\n  protected stateName: string = '';\n  protected ignoreItemStates = [];\n\n  /**  */\n  protected getTriggerListInfo() {\n    const delegateObject = getDelegationObject(this.context);\n    let info: LooseObject = null;\n    if (isList(delegateObject)) {\n      info = {\n        item: delegateObject.item,\n        list: delegateObject.component,\n      };\n    }\n    return info;\n  }\n  //  Action \n  protected getAllowComponents() {\n    const view = this.context.view;\n    const components = getComponents(view);\n    const rst = [];\n    each(components, (component) => {\n      if (component.isList() && this.allowSetStateByElement(component)) {\n        rst.push(component);\n      }\n    });\n    return rst;\n  }\n\n  /**  */\n  protected hasState(list: IList, item: ListItem) {\n    return list.hasState(item, this.stateName);\n  }\n\n  /**  */\n  protected clearAllComponentsState() {\n    const components = this.getAllowComponents();\n    each(components, (component) => {\n      component.clearItemsState(this.stateName);\n    });\n  }\n\n  //  component  active scale \n  protected allowSetStateByElement(component): boolean {\n    const field = component.get('field');\n    if (!field) {\n      return false;\n    }\n    if (this.cfg && this.cfg.componentNames) {\n      const name = component.get('name');\n      //  component name\n      if (this.cfg.componentNames.indexOf(name) === -1) {\n        return false;\n      }\n    }\n    const view = this.context.view;\n    const scale = getScaleByField(view, field);\n    return scale && scale.isCategory;\n  }\n  // \n  private allowSetStateByItem(item: ListItem, list: IList) {\n    const ignoreStates = this.ignoreItemStates;\n    if (ignoreStates.length) {\n      const filterStates = ignoreStates.filter((state) => {\n        return list.hasState(item, state);\n      });\n      return filterStates.length === 0;\n    }\n    return true; // \n  }\n\n  //  item active\n  private setStateByElement(component, element: Element, enable: boolean) {\n    const field = component.get('field');\n    const view = this.context.view;\n    const scale = getScaleByField(view, field);\n    const value = getElementValue(element, field);\n    const text = scale.getText(value);\n    this.setItemsState(component, text, enable);\n  }\n\n  // \n  protected setStateEnable(enable: boolean) {\n    const element = getCurrentElement(this.context);\n    if (element) {\n      // trigger by element\n      const components = this.getAllowComponents();\n      each(components, (component) => {\n        this.setStateByElement(component, element, enable);\n      });\n    } else {\n      // \n      const delegateObject = getDelegationObject(this.context);\n      if (isList(delegateObject)) {\n        const { item, component } = delegateObject;\n        if (this.allowSetStateByElement(component) && this.allowSetStateByItem(item, component)) {\n          this.setItemState(component, item, enable);\n        }\n      }\n    }\n  }\n\n  //  item \n  protected setItemsState(list: IList, name: string, enable: boolean) {\n    const items = list.getItems();\n    each(items, (item) => {\n      if (item.name === name) {\n        this.setItemState(list, item, enable);\n      }\n    });\n  }\n\n  //  item \n  protected setItemState(list: IList, item: ListItem, enable: boolean) {\n    list.setItemState(item, this.stateName, enable);\n  }\n\n  /**\n   * \n   */\n  public setState() {\n    this.setStateEnable(true);\n  }\n\n  /**\n   * \n   */\n  public reset() {\n    this.setStateEnable(false);\n  }\n\n  /**\n   * \n   */\n  public toggle() {\n    const triggerInfo = this.getTriggerListInfo();\n    if (triggerInfo && triggerInfo.item) {\n      const { list, item } = triggerInfo;\n      const enable = this.hasState(list, item);\n      this.setItemState(list, item, !enable);\n    }\n  }\n\n  /**\n   * \n   */\n  public clear() {\n    const triggerInfo = this.getTriggerListInfo();\n    if (triggerInfo) {\n      triggerInfo.list.clearItemsState(this.stateName);\n    } else {\n      this.clearAllComponentsState();\n    }\n  }\n}\n\nexport default ListState;\n","import ListState from './list-state';\n\n/**\n *  Action\n * @class\n * @ignore\n */\nclass ListActive extends ListState {\n  protected stateName: string = 'active';\n  /**\n   * \n   */\n  public active() {\n    this.setState();\n  }\n}\n\nexport default ListActive;\n","import { IList } from '@antv/component';\nimport { each } from '@antv/util';\n\nconst STATUS_UNACTIVE = 'inactive';\nconst STATUS_ACTIVE = 'active';\n\n/**\n *  Highlight \n * @param list \n * @ignore\n */\nexport function clearList(list: IList) {\n  const items = list.getItems();\n  each(items, (item) => {\n    if (list.hasState(item, STATUS_ACTIVE)) {\n      list.setItemState(item, STATUS_ACTIVE, false);\n    }\n    if (list.hasState(item, STATUS_UNACTIVE)) {\n      list.setItemState(item, STATUS_UNACTIVE, false);\n    }\n  });\n}\n","import { each } from '@antv/util';\nimport { IList, ListItem } from '../../../dependents';\nimport { clearList } from './list-highlight-util';\nimport ListState from './list-state';\nconst STATUS_UNACTIVE = 'inactive';\nconst STATUS_ACTIVE = 'active';\ntype MatchCallback = (item: ListItem) => boolean;\n\n/**\n * highlight Action  active  inactive \n * @class\n * @ignore\n */\nclass ListHighlight extends ListState {\n  protected stateName: string = STATUS_ACTIVE;\n  protected ignoreItemStates = ['unchecked']; //  unchecked \n  //  item.name  highlight \n  protected setItemsState(list: IList, name: string, enable: boolean) {\n    this.setHighlightBy(list, (item) => item.name === name, enable);\n  }\n\n  //  item \n  protected setItemState(list: IList, item: ListItem, enable: boolean) {\n    const items = list.getItems();\n    this.setHighlightBy(list, (el) => el === item, enable);\n  }\n\n  //  highlight\n  private setHighlightBy(list: IList, callback: MatchCallback, enable: boolean) {\n    const items = list.getItems();\n    if (enable) {\n      //  highlight  Highlight \n      each(items, (item) => {\n        if (callback(item)) {\n          if (list.hasState(item, STATUS_UNACTIVE)) {\n            list.setItemState(item, STATUS_UNACTIVE, false);\n          }\n          list.setItemState(item, STATUS_ACTIVE, true);\n        } else if (!list.hasState(item, STATUS_ACTIVE)) {\n          list.setItemState(item, STATUS_UNACTIVE, true);\n        }\n      });\n    } else {\n      const activeItems = list.getItemsByState(STATUS_ACTIVE);\n      let allCancel = true;\n      //  activeItems \n      each(activeItems, (item) => {\n        if (!callback(item)) {\n          allCancel = false;\n          return false;\n        }\n      });\n      if (allCancel) {\n        this.clear();\n      } else {\n        //  highlight,  element  unactive\n        //  element \n        each(items, (item) => {\n          if (callback(item)) {\n            if (list.hasState(item, STATUS_ACTIVE)) {\n              list.setItemState(item, STATUS_ACTIVE, false);\n            }\n            list.setItemState(item, STATUS_UNACTIVE, true);\n          }\n        });\n      }\n    }\n  }\n\n  /**\n   * highlight \n   */\n  public highlight() {\n    this.setState();\n  }\n\n  //  active  unactive\n  public clear() {\n    const triggerInfo = this.getTriggerListInfo();\n    if (triggerInfo) {\n      clearList(triggerInfo.list);\n    } else {\n      //  component \n      const components = this.getAllowComponents();\n      each(components, (component) => {\n        component.clearItemsState(STATUS_ACTIVE);\n        component.clearItemsState(STATUS_UNACTIVE);\n      });\n    }\n  }\n}\n\nexport default ListHighlight;\n","import ListState from './list-state';\n\n/**\n *  Action\n * @ignore\n */\nclass ListSelected extends ListState {\n  protected stateName: string = 'selected';\n  public selected() {\n    this.setState();\n  }\n}\n\nexport default ListSelected;\n","import ListState from './list-state';\n\n/**\n *  Action\n * @ignore\n */\nclass ListUnchecked extends ListState {\n  protected stateName: string = 'unchecked';\n  /**\n   * \n   */\n  public unchecked() {\n    this.setState();\n  }\n}\n\nexport default ListUnchecked;\n","import { each, some } from '@antv/util';\nimport { IList, ListItem } from '../../../dependents';\nimport ListState from './list-state';\n\nconst STATUS_UNCHECKED = 'unchecked';\nconst STATUS_CHECKED = 'checked';\ntype MatchCallback = (item: ListItem) => boolean;\n\n/**\n * checked Action\n * \n * 1. toggle \n * 2. checked \n * 3. reset \n */\nclass ListChecked extends ListState {\n  protected stateName: string = STATUS_CHECKED;\n\n  //  item \n  protected setItemState(list: IList, item: ListItem, enable: boolean) {\n    this.setCheckedBy(list, (el) => el === item, enable);\n  }\n\n  //  checked\n  private setCheckedBy(list: IList, callback: MatchCallback, enable: boolean) {\n    const items = list.getItems();\n    if (enable) {\n      //  checked  checked \n      each(items, (item) => {\n        if (callback(item)) {\n          if (list.hasState(item, STATUS_UNCHECKED)) {\n            list.setItemState(item, STATUS_UNCHECKED, false);\n          }\n          list.setItemState(item, STATUS_CHECKED, true);\n        } else if (!list.hasState(item, STATUS_CHECKED)) {\n          list.setItemState(item, STATUS_UNCHECKED, true);\n        }\n      });\n    }\n  }\n\n  /**\n   * .\n   * 1.    item \n   * 2. \n   * @override\n   */\n  public toggle() {\n    const triggerInfo = this.getTriggerListInfo();\n    if (triggerInfo && triggerInfo.item) {\n      const { list, item } = triggerInfo;\n\n      //    unchecked status\n      const allChecked = !some(list.getItems(), (t) => list.hasState(t, STATUS_UNCHECKED));\n\n      //\n      if (allChecked || list.hasState(item, STATUS_UNCHECKED)) {\n        this.setItemState(list, item, true);\n      } else {\n        this.reset();\n      }\n    }\n  }\n\n  /**\n   * checked \n   */\n  public checked() {\n    this.setState();\n  }\n\n  /**\n   *  checked  unchecked\n   */\n  public reset() {\n    const components = this.getAllowComponents();\n    each(components, (component) => {\n      component.clearItemsState(STATUS_CHECKED);\n      component.clearItemsState(STATUS_UNCHECKED);\n    });\n  }\n}\n\nexport default ListChecked;\n","import ListState from './list-state';\n\nconst STATUS_UNCHECKED = 'unchecked';\n\nclass ListFocus extends ListState {\n  public toggle() {\n    const triggerInfo = this.getTriggerListInfo();\n    if (triggerInfo?.item) {\n      const { list, item: clickedItem } = triggerInfo;\n      const items = list.getItems();\n      const checkedItems = items.filter((t) => !list.hasState(t, STATUS_UNCHECKED));\n      const uncheckedItems = items.filter((t) => list.hasState(t, STATUS_UNCHECKED));\n      const checkedItem = checkedItems[0]\n      /**\n       * 1.  checked radio, clickItem \n       * 2. \n       *    2.1  item  clickItem\n       *    2.2  item\n       * 3.  2.2\n       */\n      if (items.length === checkedItems.length) {\n        for (const item of items) list.setItemState(item, STATUS_UNCHECKED, item.id !== clickedItem.id);\n      } else if (items.length - uncheckedItems.length === 1) {\n        if (checkedItem.id === clickedItem.id) {\n          for (const item of items) list.setItemState(item, STATUS_UNCHECKED, false);\n        } else {\n          for (const item of items) list.setItemState(item, STATUS_UNCHECKED, item.id !== clickedItem.id);\n        }\n      } else {\n        for (const item of items) list.setItemState(item, STATUS_UNCHECKED, item.id !== clickedItem.id);\n      }\n    }\n  }\n}\n\nexport default ListFocus;\n","import ListState from './list-state';\nimport { isEqual } from '@antv/util';\nimport { TOOLTIP_CSS_CONST } from '@antv/component';\nimport { HtmlTooltip } from '../../../dependents';\nimport { Point } from '../../../interface';\n\nconst STATUS_SHOW = 'showRadio';\nconst TIP_ID = 'legend-radio-tip';\n\nclass ListRadio extends ListState {\n  public show() {\n    const triggerInfo = this.getTriggerListInfo();\n    if (triggerInfo?.item) {\n      const { list, item } = triggerInfo;\n      list.setItemState(item, STATUS_SHOW, true);\n    }\n  }\n\n  public hide() {\n    const triggerInfo = this.getTriggerListInfo();\n    if (triggerInfo?.item) {\n      const { list, item } = triggerInfo;\n      list.setItemState(item, STATUS_SHOW, false);\n    }\n  }\n\n  private timeStamp: number = 0;\n  private location: Point;\n  private tooltip;\n\n  public destroy() {\n    super.destroy();\n    this.tooltip && this.tooltip.destroy();\n  }\n\n  /**\n   *  Tooltip ()\n   * @returns\n   */\n  public showTip() {\n    const context = this.context;\n    const ev = context.event;\n    const lastTimeStamp = this.timeStamp;\n    const timeStamp = +new Date();\n\n    const target = this.context.event.target;\n    if (timeStamp - lastTimeStamp > 16 && target.get('name') === 'legend-item-radio') {\n      const preLoc = this.location;\n      const curLoc = { x: ev.x, y: ev.y };\n      this.timeStamp = timeStamp;\n      this.location = curLoc;      \n      if (!preLoc || !isEqual(preLoc, curLoc)) {\n        this.showTooltip(curLoc);\n      }\n    }\n  }\n\n  /**\n   *  Tooltip\n   * @returns\n   */\n  public hideTip() {\n    this.hideTooltip();\n    this.location = null;\n  }\n\n  protected showTooltip(curLoc: Point) {\n    const context = this.context;\n    const ev = context.event;\n    const target = ev.target;\n\n    if (target && target.get('tip')) {\n      if (!this.tooltip) {\n        this.renderTooltip(); // \n      }\n      //  tooltip\n      const { x: offsetX, y: offsetY } = context.view.getCanvas().get('el').getBoundingClientRect();\n      this.tooltip.update({\n        title: target.get('tip'),\n        ...curLoc,\n        x: curLoc.x + offsetX,\n        y: curLoc.y + offsetY,\n      });\n      this.tooltip.show();\n    }\n  }\n\n  protected hideTooltip() {\n    this.tooltip && this.tooltip.hide();\n  }\n\n  private renderTooltip() {\n    const tooltipStyles = {\n      [TOOLTIP_CSS_CONST.CONTAINER_CLASS]: {\n        padding: '6px 8px',\n        transform: 'translate(-50%, -80%)',\n        background: 'rgba(0,0,0,0.75)',\n        color: '#fff',\n        'border-radius': '2px',\n        // \n        'z-index': 100,\n      },\n      [TOOLTIP_CSS_CONST.TITLE_CLASS]: {\n        'font-size': '12px',\n        'line-height': '14px',\n        'margin-bottom': 0,\n        'word-break': 'break-all',\n      }\n    };\n    if (document.getElementById(TIP_ID)) {\n      document.body.removeChild(document.getElementById(TIP_ID));\n    }\n    const tooltip = new HtmlTooltip({\n      parent: document.body,\n      // tooltip \n      region: null,\n      visible: false,\n      crosshairs: null,\n      domStyles: tooltipStyles,\n      containerId: TIP_ID,\n    });\n    tooltip.init();\n    tooltip.setCapture(false); // \n    this.tooltip = tooltip;\n  }\n}\n\nexport default ListRadio;\n","import { deepMix, each } from '@antv/util';\nimport Action from '../base';\nimport { LooseObject } from '../../../interface';\n\n/**\n * @ignore\n *  Action \n */\nabstract class MaskBase extends Action {\n  // mask \n  protected maskShape = null;\n  //  mask \n  protected points = [];\n  //  mask \n  protected starting = false;\n  // \n  protected moving = false;\n  protected preMovePoint = null;\n\n  protected shapeType = 'path';\n  // \n  protected getCurrentPoint() {\n    const event = this.context.event;\n    return {\n      x: event.x,\n      y: event.y,\n    };\n  }\n  //  mask \n  protected emitEvent(type) {\n    const eventName = `mask:${type}`;\n    const view = this.context.view;\n    const event = this.context.event;\n    view.emit(eventName, {\n      target: this.maskShape,\n      shape: this.maskShape,\n      points: this.points,\n      x: event.x,\n      y: event.y,\n    });\n  }\n\n  //  mask\n  private createMask() {\n    const view = this.context.view;\n    const maskAttrs = this.getMaskAttrs();\n    const maskShape = view.foregroundGroup.addShape({\n      type: this.shapeType,\n      name: 'mask',\n      draggable: true,\n      attrs: {\n        fill: '#C5D4EB',\n        opacity: 0.3,\n        ...maskAttrs,\n      },\n    });\n    return maskShape;\n  }\n\n  protected abstract getMaskAttrs(): LooseObject;\n\n  //  mask \n  protected getMaskPath() {\n    return [];\n  }\n\n  /**\n   * \n   */\n  public show() {\n    if (this.maskShape) {\n      this.maskShape.show();\n      this.emitEvent('show');\n    }\n  }\n\n  /**\n   * \n   */\n  public start(arg?: { maskStyle: LooseObject }) {\n    this.starting = true;\n    // \n    this.moving = false;\n    this.points = [this.getCurrentPoint()];\n    if (!this.maskShape) {\n      this.maskShape = this.createMask();\n      //  capture: falseresize \n      this.maskShape.set('capture', false);\n    }\n    this.updateMask(arg?.maskStyle);\n    this.emitEvent('start');\n  }\n\n  /**\n   * \n   */\n  public moveStart() {\n    this.moving = true;\n    this.preMovePoint = this.getCurrentPoint();\n  }\n  /**\n   *  mask\n   */\n  public move() {\n    if (!this.moving || !this.maskShape) {\n      return;\n    }\n    const currentPoint = this.getCurrentPoint();\n    const preMovePoint = this.preMovePoint;\n    const dx = currentPoint.x - preMovePoint.x;\n    const dy = currentPoint.y - preMovePoint.y;\n    const points = this.points;\n    each(points, (point) => {\n      point.x += dx;\n      point.y += dy;\n    });\n    this.updateMask();\n    this.emitEvent('change');\n    this.preMovePoint = currentPoint;\n  }\n\n  protected updateMask(maskStyle?: LooseObject) {\n    const attrs = deepMix({}, this.getMaskAttrs(), maskStyle);\n    this.maskShape.attr(attrs);\n  }\n\n  /**\n   * \n   */\n  public moveEnd() {\n    this.moving = false;\n    this.preMovePoint = null;\n  }\n\n  /**\n   * \n   */\n  public end() {\n    this.starting = false;\n    this.emitEvent('end');\n    if (this.maskShape) {\n      this.maskShape.set('capture', true);\n    }\n  }\n\n  /**\n   * \n   */\n  public hide() {\n    if (this.maskShape) {\n      this.maskShape.hide();\n      this.emitEvent('hide');\n    }\n  }\n\n  /**\n   * \n   */\n  public resize() {\n    // \n    if (this.starting && this.maskShape) {\n      this.points.push(this.getCurrentPoint());\n      this.updateMask();\n      this.emitEvent('change');\n    }\n  }\n\n  /**\n   * \n   */\n  public destroy() {\n    this.points = [];\n    if (this.maskShape) {\n      this.maskShape.remove();\n    }\n    this.maskShape = null;\n    this.preMovePoint = null;\n    super.destroy();\n  }\n}\n\nexport default MaskBase;\n","import { last } from '@antv/util';\nimport { distance } from '../util';\nimport MaskBase from './base';\n\n/**\n * @ignore\n *  Action\n */\nclass CircleMask extends MaskBase {\n  protected shapeType = 'circle';\n  protected getMaskAttrs() {\n    const points = this.points;\n    const currentPoint = last(this.points);\n    let r = 0;\n    let x = 0;\n    let y = 0;\n    if (points.length) {\n      const first = points[0];\n      r = distance(first, currentPoint) / 2;\n      x = (currentPoint.x + first.x) / 2;\n      y = (currentPoint.y + first.y) / 2;\n    }\n    return {\n      x,\n      y,\n      r,\n    };\n  }\n}\n\nexport default CircleMask;\n","import { head, last } from '@antv/util';\nimport { Region } from '../../../interface';\nimport MaskBase from './base';\n\n/**\n * @ignore\n *  Action\n */\nclass RectMask extends MaskBase {\n  protected shapeType = 'rect';\n  protected getRegion(): Region {\n    const points = this.points;\n    return {\n      start: head(points),\n      end: last(points),\n    };\n  }\n  // \n  protected getMaskAttrs() {\n    const { start, end } = this.getRegion();\n    const x = Math.min(start.x, end.x);\n    const y = Math.min(start.y, end.y);\n    const width = Math.abs(end.x - start.x);\n    const height = Math.abs(end.y - start.y);\n    return {\n      x,\n      y,\n      width,\n      height,\n    };\n  }\n}\n\nexport default RectMask;\n","import { clamp, head, last } from '@antv/util';\nimport { Region } from '../../../interface';\nimport RectMask from './rect';\n\nfunction clampPoint(point) {\n  point.x = clamp(point.x, 0, 1);\n  point.y = clamp(point.y, 0, 1);\n}\n\n/**\n * @ignore\n */\nclass DimRect extends RectMask {\n  protected dim = 'x';\n  protected inPlot = true;\n  protected getRegion(): Region {\n    let start = null;\n    let end = null;\n    const points = this.points;\n    const dim = this.dim;\n    const coord = this.context.view.getCoordinate();\n    const normalStart = coord.invert(head(points));\n    const normalEnd = coord.invert(last(points));\n    if (this.inPlot) {\n      //  0 - 1 \n      clampPoint(normalStart);\n      clampPoint(normalEnd);\n    }\n    if (dim === 'x') {\n      // x , y \n      start = coord.convert({\n        x: normalStart.x,\n        y: 0,\n      });\n      end = coord.convert({\n        x: normalEnd.x,\n        y: 1,\n      });\n    } else {\n      // y , x \n      start = coord.convert({\n        x: 0,\n        y: normalStart.y,\n      });\n      end = coord.convert({\n        x: 1,\n        y: normalEnd.y,\n      });\n    }\n    return {\n      start,\n      end,\n    };\n  }\n}\n\nexport default DimRect;\n","import { each } from '@antv/util';\nimport MaskBase from './base';\n\n/**\n * @ignore\n *  Path  Action\n */\nclass PathMask extends MaskBase {\n  //  mask \n  protected getMaskPath() {\n    const points = this.points;\n    const path = [];\n    if (points.length) {\n      each(points, (point, index) => {\n        if (index === 0) {\n          path.push(['M', point.x, point.y]);\n        } else {\n          path.push(['L', point.x, point.y]);\n        }\n      });\n      path.push(['L', points[0].x, points[0].y]);\n    }\n    return path;\n  }\n\n  protected getMaskAttrs() {\n    return {\n      path: this.getMaskPath(),\n    };\n  }\n\n  /**\n   * \n   */\n  public addPoint() {\n    this.resize();\n  }\n}\n\nexport default PathMask;\n","import { getSpline } from '../util';\nimport PathMask from './path';\n\n/**\n * Smooth path mask\n * @ignore\n */\nclass SmoothPathMask extends PathMask {\n  //  mask \n  protected getMaskPath() {\n    const points = this.points;\n    return getSpline(points, true);\n  }\n}\n\nexport default SmoothPathMask;\n","/**\n * @fileoverview https://www.w3school.com.cn/jsref/prop_style_cursor.asp\n * @author dxq613\n */\nimport Action from './base';\n\n/**\n *  Action\n * @ignore\n */\nclass CursorAction extends Action {\n  private setCursor(cursor) {\n    const view = this.context.view;\n    view.getCanvas().setCursor(cursor);\n  }\n\n  /**\n   * \n   */\n  public default() {\n    this.setCursor('default');\n  }\n\n  /**  */\n  public pointer() {\n    this.setCursor('pointer');\n  }\n  /**  */\n  public move() {\n    this.setCursor('move');\n  }\n  /**  */\n  public crosshair() {\n    this.setCursor('crosshair');\n  }\n  /**  */\n  public wait() {\n    this.setCursor('wait');\n  }\n\n  /**  */\n  public help() {\n    this.setCursor('help');\n  }\n\n  /**  */\n  public text() {\n    this.setCursor('text');\n  }\n\n  /**\n   * \n   */\n  public eResize() {\n    this.setCursor('e-resize');\n  }\n\n  /**\n   * \n   */\n  public wResize() {\n    this.setCursor('w-resize');\n  }\n\n  /**\n   * \n   */\n  public nResize() {\n    this.setCursor('n-resize');\n  }\n\n  /**\n   * \n   */\n  public sResize() {\n    this.setCursor('s-resize');\n  }\n  /**\n   *  \n   */\n  public neResize() {\n    this.setCursor('ne-resize');\n  }\n  /**\n   *  \n   */\n  public nwResize() {\n    this.setCursor('nw-resize');\n  }\n  /**\n   * \n   */\n  public seResize() {\n    this.setCursor('se-resize');\n  }\n  /**\n   * \n   */\n  public swResize() {\n    this.setCursor('sw-resize');\n  }\n\n  /**\n   * \n   */\n  public nsResize() {\n    this.setCursor('ns-resize');\n  }\n  /**\n   * \n   */\n  public ewResize() {\n    this.setCursor('ew-resize');\n  }\n  /**\n   * \n   */\n  public zoomIn() {\n    this.setCursor('zoom-in');\n  }\n  /**\n   * \n   */\n  public zoomOut() {\n    this.setCursor('zoom-out');\n  }\n}\n\nexport default CursorAction;\n","import { each } from '@antv/util';\nimport { View } from 'src/chart';\nimport Action from '../base';\nimport { getDelegationObject, getScaleByField, isList, isSlider } from '../util';\n\n/**\n * \n * @ignore\n */\nclass DataFilter extends Action {\n  private filterView(view: View, field, filter) {\n    //  scale \n    if (view.getScaleByField(field)) {\n      view.filter(field, filter);\n    }\n    if (view.views && view.views.length) {\n      each(view.views, (subView) => {\n        this.filterView(subView, field, filter);\n      });\n    }\n  }\n  /**\n   * \n   */\n  public filter() {\n    const delegateObject = getDelegationObject(this.context);\n    if (delegateObject) {\n      const view = this.context.view;\n      const { component } = delegateObject;\n      const field = component.get('field');\n      // \n      if (isList(delegateObject)) {\n        if (field) {\n          const unCheckedItems = component.getItemsByState('unchecked');\n          const scale = getScaleByField(view, field);\n          const names: string[] = unCheckedItems.map((item) => item.name);\n          if (names.length) {\n            this.filterView(view, field, (value) => {\n              const text = scale.getText(value);\n              return !names.includes(text);\n            });\n          } else {\n            this.filterView(view, field, null);\n          }\n          view.render(true);\n        }\n      } else if (isSlider(delegateObject)) {\n        const range = component.getValue();\n        const [min, max] = range;\n        this.filterView(view, field, (value) => {\n          return value >= min && value <= max;\n        });\n        view.render(true);\n      }\n    }\n  }\n}\n\nexport default DataFilter;\n","import { Point, Scale } from '../../../dependents';\nimport { FilterCondition, EventPayload } from '../../../interface';\nimport { View, Event } from '../../../chart';\nimport Action from '../base';\nimport { isMask } from '../util';\n\n//  scale\nfunction getFilter(scale: Scale, dim: string, point1: Point, point2: Point): FilterCondition {\n  let min = Math.min(point1[dim], point2[dim]);\n  let max = Math.max(point1[dim], point2[dim]);\n  const [rangeMin, rangeMax] = scale.range;\n  //  scale  range \n  if (min < rangeMin) {\n    min = rangeMin;\n  }\n  if (max > rangeMax) {\n    max = rangeMax;\n  }\n  //  view  null\n  if (min === rangeMax && max === rangeMax) {\n    return null;\n  }\n  const minValue = scale.invert(min);\n  const maxValue = scale.invert(max);\n  if (scale.isCategory) {\n    const minIndex = scale.values.indexOf(minValue);\n    const maxIndex = scale.values.indexOf(maxValue);\n    const arr = scale.values.slice(minIndex, maxIndex + 1);\n    return (value) => {\n      return arr.includes(value);\n    };\n  } else {\n    return (value) => {\n      return value >= minValue && value <= maxValue;\n    };\n  }\n}\n\n/** range-filter brush-filter, brush-x-filter, brush-y-filter */\nenum EVENTS {\n  FILTER = 'brush-filter-processing',\n  RESET = 'brush-filter-reset',\n  BEFORE_FILTER = 'brush-filter:beforefilter',\n  AFTER_FILTER = 'brush-filter:afterfilter',\n  BEFORE_RESET = 'brush-filter:beforereset',\n  AFTER_RESET = 'brush-filter:afterreset',\n}\n\nexport { EVENTS as BRUSH_FILTER_EVENTS };\n\n/**\n *  Action\n * @ignore\n */\nclass RangeFilter extends Action {\n  /**  dims */\n  protected cfgFields: ['dims'];\n  /**\n   * / x, y\n   */\n  protected dims: string[] = ['x', 'y'];\n  /**  */\n  protected startPoint: Point = null;\n\n  private isStarted: boolean = false;\n\n  // x,y \n  private hasDim(dim: string) {\n    return this.dims.includes(dim);\n  }\n\n  /**\n   * \n   */\n  public start() {\n    const context = this.context;\n    this.isStarted = true;\n    this.startPoint = context.getCurrentPoint();\n  }\n\n  /**\n   * \n   */\n  public filter() {\n    let startPoint;\n    let currentPoint;\n    if (isMask(this.context)) {\n      const maskShape = this.context.event.target;\n      const bbox = maskShape.getCanvasBBox();\n      startPoint = { x: bbox.x, y: bbox.y };\n      currentPoint = { x: bbox.maxX, y: bbox.maxY };\n    } else {\n      if (!this.isStarted) {\n        // \n        return;\n      }\n      startPoint = this.startPoint;\n      currentPoint = this.context.getCurrentPoint();\n    }\n    if (Math.abs(startPoint.x - currentPoint.x) < 5 || Math.abs(startPoint.x - currentPoint.y) < 5) {\n      // \n      return;\n    }\n    const { view, event } = this.context;\n    const payload = { view, event, dims: this.dims };\n    view.emit(EVENTS.BEFORE_FILTER, Event.fromData(view, EVENTS.BEFORE_FILTER, payload));\n\n    const coord = view.getCoordinate();\n    const normalCurrent = coord.invert(currentPoint);\n    const normalStart = coord.invert(startPoint);\n    //  x  filter\n    if (this.hasDim('x')) {\n      const xScale = view.getXScale();\n      const filter = getFilter(xScale, 'x', normalCurrent, normalStart);\n      this.filterView(view, xScale.field, filter);\n    }\n    //  y  filter\n    if (this.hasDim('y')) {\n      const yScale = view.getYScales()[0];\n      const filter = getFilter(yScale, 'y', normalCurrent, normalStart);\n      this.filterView(view, yScale.field, filter);\n    }\n    this.reRender(view, { source: EVENTS.FILTER });\n\n    view.emit(EVENTS.AFTER_FILTER, Event.fromData(view, EVENTS.AFTER_FILTER, payload));\n  }\n\n  /**\n   * \n   */\n  public end() {\n    this.isStarted = false;\n  }\n\n  /**\n   *  Action  x,y\n   */\n  public reset() {\n    const view = this.context.view;\n    view.emit(EVENTS.BEFORE_RESET, Event.fromData(view, EVENTS.BEFORE_RESET, {}));\n\n    this.isStarted = false;\n    if (this.hasDim('x')) {\n      const xScale = view.getXScale();\n      this.filterView(view, xScale.field, null); // \n    }\n    if (this.hasDim('y')) {\n      // y  yScale\n      const yScale = view.getYScales()[0];\n      this.filterView(view, yScale.field, null); // \n    }\n    this.reRender(view, { source: EVENTS.RESET });\n\n    view.emit(EVENTS.AFTER_RESET, Event.fromData(view, EVENTS.AFTER_RESET, {}));\n  }\n\n  /**\n   *  view \n   */\n  protected filterView(view: View, field: string, filter: FilterCondition) {\n    view.filter(field, filter);\n  }\n\n  /**\n   * \n   * @param view\n   */\n  protected reRender(view: View, payload?: EventPayload) {\n    view.render(true, payload);\n  }\n}\n\nexport default RangeFilter;\n","import { each } from '@antv/util';\nimport { View } from '../../../chart';\nimport { FilterCondition } from '../../../interface';\nimport RangeFilter from './range-filter';\n\nimport { getSilbings } from '../util';\n\n/**\n *  view  view  views \n * @ignore\n */\nclass SiblingFilter extends RangeFilter {\n  /**\n   *  view \n   * @param view\n   * @param field\n   * @param filter\n   */\n  protected filterView(view: View, field: string, filter: FilterCondition) {\n    const siblings = getSilbings(view);\n    each(siblings, (sibling) => {\n      sibling.filter(field, filter);\n    });\n  }\n\n  /**\n   * \n   * @param view\n   */\n  protected reRender(view: View) {\n    const siblings = getSilbings(view);\n    each(siblings, (sibling) => {\n      sibling.render(true);\n    });\n  }\n}\n\nexport default SiblingFilter;\n","import { each } from '@antv/util';\nimport Action from '../base';\nimport {\n  getDelegationObject,\n  getElements,\n  getElementValue,\n  getScaleByField,\n  isList,\n  isSlider,\n  isMask,\n  getMaskedElements,\n} from '../util';\n/**\n *  Action\n * @ignore\n */\nclass ElementFilter extends Action {\n  /**\n   * \n   */\n  public filter() {\n    const delegateObject = getDelegationObject(this.context);\n    const view = this.context.view;\n    const elements = getElements(view);\n    if (isMask(this.context)) {\n      const maskElements = getMaskedElements(this.context, 10);\n      if (maskElements) {\n        each(elements, (el) => {\n          if (maskElements.includes(el)) {\n            el.show();\n          } else {\n            el.hide();\n          }\n        });\n      }\n    } else if (delegateObject) {\n      const { component } = delegateObject;\n      const field = component.get('field');\n      // \n      if (isList(delegateObject)) {\n        if (field) {\n          const unCheckedItems = component.getItemsByState('unchecked');\n          const scale = getScaleByField(view, field);\n          const names = unCheckedItems.map((item) => item.name);\n          // \n          each(elements, (el) => {\n            const value = getElementValue(el, field);\n            const text = scale.getText(value);\n            if (names.indexOf(text) >= 0) {\n              el.hide();\n            } else {\n              el.show();\n            }\n          });\n        }\n      } else if (isSlider(delegateObject)) {\n        const range = component.getValue();\n        const [min, max] = range;\n        each(elements, (el) => {\n          const value = getElementValue(el, field);\n          if (value >= min && value <= max) {\n            el.show();\n          } else {\n            el.hide();\n          }\n        });\n      }\n    }\n  }\n  /**\n   * \n   */\n  public clear() {\n    const elements = getElements(this.context.view);\n    each(elements, (el) => {\n      el.show();\n    });\n  }\n\n  /**\n   *  data-filter \n   */\n  public reset() {\n    this.clear();\n  }\n}\n\nexport default ElementFilter;\n","import { each } from '@antv/util';\nimport Action from '../base';\nimport { getElements, getMaskedElements, getSiblingMaskElements, getSilbings, isInRecords, isMask } from '../util';\n\n/**\n * Sibling filter\n * @ignore\n */\nclass SiblingFilter extends Action {\n  protected byRecord = false;\n  /**\n   * \n   */\n  public filter() {\n    //  mask \n    if (isMask(this.context)) {\n      if (this.byRecord) {\n        this.filterByRecord();\n      } else {\n        this.filterByBBox();\n      }\n    }\n  }\n  // \n  private filterByRecord() {\n    const view = this.context.view;\n    const maskElements = getMaskedElements(this.context, 10);\n    if (!maskElements) {\n      return;\n    }\n    const xFiled = view.getXScale().field;\n    const yField = view.getYScales()[0].field;\n    const records = maskElements.map((el) => {\n      return el.getModel().data;\n    });\n    const siblings = getSilbings(view);\n    each(siblings, (sibling) => {\n      const elements = getElements(sibling);\n      each(elements, (el) => {\n        const record = el.getModel().data;\n        // records.includes(record) \n        if (isInRecords(records, record, xFiled, yField)) {\n          el.show();\n        } else {\n          el.hide();\n        }\n      });\n    });\n  }\n\n  // \n  private filterByBBox() {\n    const view = this.context.view;\n    const siblings = getSilbings(view);\n    each(siblings, (sibling) => {\n      const maskElements = getSiblingMaskElements(this.context, sibling, 10);\n      const elements = getElements(sibling);\n      if (maskElements) {\n        // mask  null\n        each(elements, (el) => {\n          if (maskElements.includes(el)) {\n            el.show();\n          } else {\n            el.hide();\n          }\n        });\n      }\n    });\n  }\n\n  /**\n   * \n   */\n  public reset() {\n    const siblings = getSilbings(this.context.view);\n    each(siblings, (sibling) => {\n      const elements = getElements(sibling);\n      each(elements, (el) => {\n        el.show();\n      });\n    });\n  }\n}\n\nexport default SiblingFilter;\n","import { LooseObject } from '../../../interface';\nimport { IGroup } from '@antv/g-base';\nimport { ext } from '@antv/matrix-util';\nimport { deepMix } from '@antv/util';\nimport { parsePadding } from '../../../util/padding';\nimport Action from '../base';\nconst PADDING_RIGHT = 10;\nconst PADDING_TOP = 5;\n\n/**\n * Button action\n * @ignore\n */\nclass ButtonAction extends Action {\n  private buttonGroup: IGroup = null;\n  private buttonCfg = {\n    name: 'button',\n    text: 'button',\n    textStyle: {\n      x: 0,\n      y: 0,\n      fontSize: 12,\n      fill: '#333333',\n      cursor: 'pointer',\n    },\n    padding: [8, 10],\n    style: {\n      fill: '#f7f7f7',\n      stroke: '#cccccc',\n      cursor: 'pointer',\n    },\n    activeStyle: {\n      fill: '#e6e6e6',\n    },\n  };\n  // mix \n  private getButtonCfg(): LooseObject {\n    return deepMix(this.buttonCfg, this.cfg);\n  }\n  //  Button  \n  private drawButton() {\n    const config = this.getButtonCfg();\n    const group = this.context.view.foregroundGroup.addGroup({\n      name: config.name,\n    });\n    // \n    const textShape = group.addShape({\n      type: 'text',\n      name: 'button-text',\n      attrs: {\n        text: config.text,\n        ...config.textStyle,\n      },\n    });\n    const textBBox = textShape.getBBox();\n    const padding = parsePadding(config.padding);\n    // \n    const buttonShape = group.addShape({\n      type: 'rect',\n      name: 'button-rect',\n      attrs: {\n        x: textBBox.x - padding[3],\n        y: textBBox.y - padding[0],\n        width: textBBox.width + padding[1] + padding[3],\n        height: textBBox.height + padding[0] + padding[2],\n        ...config.style,\n      },\n    });\n    buttonShape.toBack(); // \n    // active \n    group.on('mouseenter', () => {\n      buttonShape.attr(config.activeStyle);\n    });\n    group.on('mouseleave', () => {\n      buttonShape.attr(config.style);\n    });\n    this.buttonGroup = group;\n  }\n\n  // \n  private resetPosition() {\n    const view = this.context.view;\n    const coord = view.getCoordinate();\n    const point = coord.convert({ x: 1, y: 1 }); // \n    const buttonGroup = this.buttonGroup;\n    const bbox = buttonGroup.getBBox();\n    const matrix = ext.transform(null, [\n      ['t', point.x - bbox.width - PADDING_RIGHT, point.y + bbox.height + PADDING_TOP],\n    ]);\n    buttonGroup.setMatrix(matrix);\n  }\n\n  /**\n   * \n   */\n  public show() {\n    if (!this.buttonGroup) {\n      this.drawButton();\n    }\n    this.resetPosition();\n    this.buttonGroup.show();\n  }\n\n  /**\n   * \n   */\n  public hide() {\n    if (this.buttonGroup) {\n      this.buttonGroup.hide();\n    }\n  }\n\n  /**\n   * \n   */\n  public destroy() {\n    const buttonGroup = this.buttonGroup;\n    if (buttonGroup) {\n      buttonGroup.remove();\n    }\n    super.destroy();\n  }\n}\n\nexport default ButtonAction;\n","import { Point } from '../../../dependents';\nimport Action from '../base';\nimport { distance } from '../util';\n\nconst DISTANCE = 4; // \n\n/**\n * @ignore\n * View  Drag  Action\n */\nclass Drag extends Action {\n  // Action  \n  protected starting = false;\n  // \n  protected dragStart = false;\n  // \n  protected startPoint: Point;\n\n  /**\n   * \n   */\n  public start() {\n    this.starting = true;\n    this.startPoint = this.context.getCurrentPoint();\n  }\n\n  /**\n   * \n   */\n  public drag() {\n    if (!this.startPoint) {\n      return;\n    }\n    const current = this.context.getCurrentPoint();\n    const view = this.context.view;\n    const event = this.context.event;\n    if (!this.dragStart) {\n      if (distance(current, this.startPoint) > DISTANCE) {\n        view.emit('dragstart', {\n          target: event.target,\n          x: event.x,\n          y: event.y,\n        });\n        this.dragStart = true;\n      }\n    } else {\n      view.emit('drag', {\n        target: event.target,\n        x: event.x,\n        y: event.y,\n      });\n    }\n  }\n\n  /**\n   * \n   */\n  public end() {\n    if (this.dragStart) {\n      const view = this.context.view;\n      const event = this.context.event;\n      view.emit('dragend', {\n        target: event.target,\n        x: event.x,\n        y: event.y,\n      });\n    }\n    this.starting = false;\n    this.dragStart = false;\n  }\n}\n\nexport default Drag;\n","import { ext } from '@antv/matrix-util';\nimport { Action } from '..';\nimport { distance } from '../util';\n\nconst MIN_DISTANCE = 5;\n\n/**\n * @ignore\n * View  Action\n */\nclass Move extends Action {\n  private starting = false;\n  private isMoving = false;\n  // private cacheRange = null;\n  private startPoint = null;\n  private startMatrix = null;\n  /**\n   * \n   */\n  public start() {\n    this.starting = true;\n    this.startPoint = this.context.getCurrentPoint();\n    // \n    this.startMatrix = this.context.view.middleGroup.getMatrix();\n  }\n\n  /**\n   * \n   */\n  public move() {\n    if (!this.starting) {\n      return;\n    }\n    const startPoint = this.startPoint;\n    const currentPoint = this.context.getCurrentPoint();\n    const d = distance(startPoint, currentPoint);\n    if (d > MIN_DISTANCE && !this.isMoving) {\n      this.isMoving = true;\n    }\n    if (this.isMoving) {\n      const view = this.context.view;\n      const matrix = ext.transform(this.startMatrix, [\n        ['t', currentPoint.x - startPoint.x, currentPoint.y - startPoint.y],\n      ]);\n      view.backgroundGroup.setMatrix(matrix);\n      view.foregroundGroup.setMatrix(matrix);\n      view.middleGroup.setMatrix(matrix);\n    }\n  }\n\n  /**\n   * \n   */\n  public end() {\n    if (this.isMoving) {\n      this.isMoving = false;\n    }\n    this.startMatrix = null;\n    this.starting = false;\n    this.startPoint = null;\n  }\n\n  /**\n   * \n   */\n  public reset() {\n    this.starting = false;\n    this.startPoint = null;\n    this.isMoving = false;\n\n    const view = this.context.view;\n    view.backgroundGroup.resetMatrix();\n    view.foregroundGroup.resetMatrix();\n    view.middleGroup.resetMatrix();\n    this.isMoving = false;\n  }\n}\n\nexport default Move;\n","import { Action } from '..';\n\nconst DIM_X = 'x';\nconst DIM_Y = 'y';\n\n/**\n * Scale translate\n * @ignore\n */\nclass ScaleTranslate extends Action {\n  protected dims = [DIM_X, DIM_Y];\n  protected cfgFields = ['dims'];\n  protected cacheScaleDefs = {};\n\n  // \n  protected hasDim(dim) {\n    return this.dims.includes(dim);\n  }\n\n  protected getScale(dim) {\n    const view = this.context.view;\n    if (dim === 'x') {\n      return view.getXScale();\n    } else {\n      return view.getYScales()[0];\n    }\n  }\n\n  private resetDim(dim) {\n    const view = this.context.view;\n    if (this.hasDim(dim) && this.cacheScaleDefs[dim]) {\n      const scale = this.getScale(dim);\n      view.scale(scale.field, this.cacheScaleDefs[dim]);\n      this.cacheScaleDefs[dim] = null;\n    }\n  }\n\n  /**\n   * \n   */\n  public reset() {\n    this.resetDim(DIM_X);\n    this.resetDim(DIM_Y);\n    const view = this.context.view;\n    view.render(true);\n  }\n}\n\nexport default ScaleTranslate;\n","import { each } from '@antv/util';\nimport { Point } from '../../../dependents';\nimport TransformAction from './scale-transform';\n\n/**\n *  Scale  Action\n * @ignore\n */\nclass ScaleTranslate extends TransformAction {\n  protected startPoint: Point = null;\n  protected starting = false;\n  private startCache = {};\n  /**\n   * \n   */\n  public start() {\n    this.startPoint = this.context.getCurrentPoint();\n    this.starting = true;\n    const dims = this.dims;\n    each(dims, (dim) => {\n      const scale = this.getScale(dim);\n      const { min, max, values } = scale;\n      this.startCache[dim] = { min, max, values };\n    });\n  }\n\n  // \n  // private translateCategory(dim, scale, normalPoint) {\n  // }\n\n  /**\n   * \n   */\n  public end() {\n    this.startPoint = null;\n    this.starting = false;\n    this.startCache = {};\n  }\n\n  /**\n   * \n   */\n  public translate() {\n    if (!this.starting) {\n      return;\n    }\n    const startPoint = this.startPoint;\n    const coord = this.context.view.getCoordinate();\n    const currentPoint = this.context.getCurrentPoint();\n    const normalStart = coord.invert(startPoint);\n    const noramlCurrent = coord.invert(currentPoint);\n    const dx = noramlCurrent.x - normalStart.x;\n    const dy = noramlCurrent.y - normalStart.y;\n    const view = this.context.view;\n    const dims = this.dims;\n    each(dims, (dim) => {\n      this.translateDim(dim, { x: dx * -1, y: dy * -1 });\n    });\n    view.render(true);\n  }\n\n  // \n  private translateDim(dim, normalPoint) {\n    if (this.hasDim(dim)) {\n      const scale = this.getScale(dim);\n      if (scale.isLinear) {\n        this.translateLinear(dim, scale, normalPoint);\n      }\n      //  else { // \n      // this.translateCategory(dim, scale, normalPoint);\n      // }\n    }\n  }\n  // linear \n  private translateLinear(dim, scale, normalPoint) {\n    const view = this.context.view;\n    const { min, max } = this.startCache[dim];\n    const range = max - min;\n    const d = normalPoint[dim] * range;\n    // \n    if (!this.cacheScaleDefs[dim]) {\n      this.cacheScaleDefs[dim] = {\n        // @ts-ignore\n        nice: scale.nice,\n        min,\n        max,\n      };\n    }\n    view.scale(scale.field, {\n      // @ts-ignore\n      nice: false,\n      min: min + d,\n      max: max + d,\n    });\n  }\n\n  // \n  // private translateCategory(dim, scale, normalPoint) {\n  // }\n\n  /**\n   * \n   */\n  public reset() {\n    super.reset();\n    this.startPoint = null;\n    this.starting = false;\n  }\n}\n\nexport default ScaleTranslate;\n","import { each, throttle } from '@antv/util';\nimport TransformAction from './scale-transform';\n\n/**\n *  Scale  Action\n * @ignore\n */\nclass ScaleTranslate extends TransformAction {\n  private zoomRatio = 0.05;\n  /**\n   * \n   */\n  public zoomIn() {\n    this.zoom(this.zoomRatio);\n  }\n\n  private zoom(scale) {\n    const dims = this.dims;\n    each(dims, (dim) => {\n      this.zoomDim(dim, scale);\n    });\n    this.context.view.render(true);\n  }\n\n  /**\n   * \n   */\n  public zoomOut() {\n    this.zoom(-1 * this.zoomRatio);\n  }\n\n  // \n  private zoomDim(dim, dRatio) {\n    if (this.hasDim(dim)) {\n      const scale = this.getScale(dim);\n      if (scale.isLinear) {\n        this.zoomLinear(dim, scale, dRatio);\n      }\n      //  else { // \n      // this.zoomCategory(dim, scale, normalPoint);\n      // }\n    }\n  }\n  // linear \n  private zoomLinear(dim, scale, dRatio) {\n    const view = this.context.view;\n    // \n    if (!this.cacheScaleDefs[dim]) {\n      this.cacheScaleDefs[dim] = {\n        // @ts-ignore\n        nice: scale.nice,\n        min: scale.min,\n        max: scale.max,\n      };\n    }\n    // \n    const scaleDef = this.cacheScaleDefs[dim];\n    const range = scaleDef.max - scaleDef.min;\n    const { min, max } = scale;\n    const d = dRatio * range;\n    const toMin = min - d;\n    const toMax = max + d;\n    const curRange = toMax - toMin;\n    const scaled = curRange / range;\n    if (toMax > toMin && scaled < 100 && scaled > 0.01) {\n      view.scale(scale.field, {\n        // @ts-ignore\n        nice: false,\n        min: min - d,\n        max: max + d,\n      });\n    }\n  }\n\n  // \n  // private translateCategory(dim, scale, normalPoint) {\n  // }\n}\n\nexport default ScaleTranslate;\n","import { clamp, size, valuesOfKey } from '@antv/util';\nimport { COMPONENT_TYPE } from '../../../constant';\nimport { Action } from '..';\nimport { LooseObject } from '../../../interface';\n\nfunction isWheelDown(event: LooseObject) {\n  const wheelEvent = event.gEvent.originalEvent as WheelEvent;\n  return wheelEvent.deltaY > 0;\n}\n\nconst DEFAULT_WHEELDELTA = 1;\nclass MousewheelScroll extends Action {\n  public scroll(arg?) {\n    const { view, event } = this.context;\n\n    if (!view.getOptions().scrollbar) {\n      return;\n    }\n\n    const wheelDelta = arg?.wheelDelta || DEFAULT_WHEELDELTA;\n    const scrollbarController = view.getController('scrollbar');\n\n    const xScale = view.getXScale();\n    const data = view.getOptions().data;\n    const dataSize = size(valuesOfKey(data, xScale.field));\n    const step = size(xScale.values);\n\n    const currentRatio = scrollbarController.getValue();\n    const currentStart = Math.floor((dataSize - step) * currentRatio);\n\n    const nextStart = currentStart + (isWheelDown(event) ? wheelDelta : -wheelDelta);\n    const correction = wheelDelta / (dataSize - step) / 10000;\n    const nextRatio = clamp(nextStart / (dataSize - step) + correction, 0, 1);\n    scrollbarController.setValue(nextRatio);\n  }\n}\n\nexport default MousewheelScroll;\n","import { TOOLTIP_CSS_CONST } from '@antv/component';\nimport { deepMix } from '@antv/util';\nimport { HtmlTooltip } from '../../../../dependents';\nimport Action from '../../base';\nimport { getDelegationObject } from '../../util';\nimport cx from 'classnames';\n\nconst AXIS_DESCRIPTION_TOOLTIP = 'aixs-description-tooltip';\n\nclass AxisDescription extends Action {\n  private tooltip;\n\n  public show() {\n    const context = this.context;\n    const { axis } = getDelegationObject(context);\n    const { description, text, descriptionTooltipStyle } = axis.cfg.title;\n    const { x, y } = context.event;\n    if (!this.tooltip) {\n      this.renderTooltip();\n    }\n    this.tooltip.update({\n      title: text || '',\n      customContent: () => {\n        return `\n          <div class=\"${TOOLTIP_CSS_CONST.CONTAINER_CLASS}\" style={${descriptionTooltipStyle}}>\n            <div class=\"${TOOLTIP_CSS_CONST.TITLE_CLASS}\">\n              ${description}\n            </div>\n          </div>\n        `;\n      },\n      x,\n      y,\n    });\n    this.tooltip.show();\n  }\n\n  public destroy() {\n    super.destroy();\n    this.tooltip && this.tooltip.destroy();\n  }\n\n  public hide() {\n    this.tooltip && this.tooltip.hide();\n  }\n\n  public renderTooltip() {\n    const view = this.context.view;\n    const canvas = view.canvas;\n    const region = {\n      start: { x: 0, y: 0 },\n      end: { x: canvas.get('width'), y: canvas.get('height') },\n    };\n    const tooltip = new HtmlTooltip({\n      parent: canvas.get('el').parentNode,\n      region,\n      visible: false,\n      containerId: AXIS_DESCRIPTION_TOOLTIP,\n      domStyles: {\n        ...deepMix(\n          {},\n          {\n            // tooltip tip  50%\n            [TOOLTIP_CSS_CONST.CONTAINER_CLASS]: {\n              'max-width': '50%',\n              padding: '10px',\n              'line-height': '15px',\n              'font-size': '12px',\n              color: 'rgba(0, 0, 0, .65)',\n            },\n            [TOOLTIP_CSS_CONST.TITLE_CLASS]: {\n              'word-break': 'break-all',\n              'margin-bottom': '3px',\n            },\n          }\n        ),\n      },\n    });\n    tooltip.init();\n    tooltip.setCapture(false);\n    this.tooltip = tooltip;\n  }\n}\nexport default AxisDescription;\n","import { isObject, each, find, get } from '@antv/util';\n\nimport { BBox, IGroup, IShape } from '../../../../dependents';\nimport { LabelItem } from '../../interface';\n\nimport { polarToCartesian } from '../../../../util/graphics';\nimport { IElement } from '@antv/g-base';\n\n/** label textline 4px */\nconst MARGIN = 4;\n\nfunction antiCollision(labelShapes, labels, lineHeight, plotRange, center, isRight) {\n  // adjust y position of labels to avoid overlapping\n  let overlapping = true;\n  const start = plotRange.start;\n  const end = plotRange.end;\n  const startY = Math.min(start.y, end.y);\n  let totalHeight = Math.abs(start.y - end.y);\n  let i;\n\n  let maxY = 0;\n  let minY = Number.MIN_VALUE;\n  const boxes = labels.map((label) => {\n    if (label.y > maxY) {\n      maxY = label.y;\n    }\n    if (label.y < minY) {\n      minY = label.y;\n    }\n    return {\n      size: lineHeight,\n      targets: [label.y - startY],\n    };\n  });\n  minY -= startY;\n  if (maxY - startY > totalHeight) {\n    totalHeight = maxY - startY;\n  }\n\n  while (overlapping) {\n    /* eslint no-loop-func: 0 */\n    boxes.forEach((box) => {\n      const target = (Math.min.apply(minY, box.targets) + Math.max.apply(minY, box.targets)) / 2;\n      box.pos = Math.min(Math.max(minY, target - box.size / 2), totalHeight - box.size);\n      // box.pos = Math.max(0, target - box.size / 2);\n    });\n\n    // detect overlapping and join boxes\n    overlapping = false;\n    i = boxes.length;\n    while (i--) {\n      if (i > 0) {\n        const previousBox = boxes[i - 1];\n        const box = boxes[i];\n        if (previousBox.pos + previousBox.size > box.pos) {\n          // overlapping\n          previousBox.size += box.size;\n          previousBox.targets = previousBox.targets.concat(box.targets);\n\n          // overflow, shift up\n          if (previousBox.pos + previousBox.size > totalHeight) {\n            previousBox.pos = totalHeight - previousBox.size;\n          }\n          boxes.splice(i, 1); // removing box\n          overlapping = true;\n        }\n      }\n    }\n  }\n\n  i = 0;\n  // step 4: normalize y and adjust x\n  boxes.forEach((b) => {\n    let posInCompositeBox = startY + lineHeight / 2; // middle of the label\n    b.targets.forEach(() => {\n      labels[i].y = b.pos + posInCompositeBox;\n      posInCompositeBox += lineHeight;\n      i++;\n    });\n  });\n\n  const labelsMap = {};\n  for (const labelShape of labelShapes) {\n    labelsMap[labelShape.get('id')] = labelShape;\n  }\n\n  // (x - cx)^2 + (y - cy)^2 = totalR^2\n  labels.forEach((label) => {\n    const rPow2 = label.r * label.r;\n    const dyPow2 = Math.pow(Math.abs(label.y - center.y), 2);\n    if (rPow2 < dyPow2) {\n      label.x = center.x;\n    } else {\n      const dx = Math.sqrt(rPow2 - dyPow2);\n      if (!isRight) {\n        // left\n        label.x = center.x - dx;\n      } else {\n        // right\n        label.x = center.x + dx;\n      }\n    }\n\n    // adjust labelShape\n    const labelShape = labelsMap[label.id];\n    labelShape.attr('x', label.x);\n    labelShape.attr('y', label.y);\n\n    // because group could not effect text-shape, should set text-shape position manually\n    const textShape = find(labelShape.getChildren(), (ele) => ele.get('type') === 'text') as IElement;\n    // @ts-ignore\n    if (textShape) {\n      textShape.attr('y', label.y);\n      textShape.attr('x', label.x);\n    }\n  });\n}\n\nexport function distribute(items: LabelItem[], labels: IGroup[], shapes: IShape[] | IGroup[], region: BBox) {\n  if (!items.length || !labels.length) {\n    return;\n  }\n  const offset = items[0] ? items[0].offset : 0;\n  const coordinate = labels[0].get('coordinate');\n  const radius = coordinate.getRadius();\n  const center = coordinate.getCenter();\n\n  if (offset > 0) {\n    // const lineHeight = get(this.geometry.theme, ['pieLabels', 'labelHeight'], 14);\n    const lineHeight = 14; // TODO\n    const totalR = radius + offset;\n    const totalHeight = totalR * 2 + lineHeight * 2;\n    const plotRange = {\n      start: coordinate.start,\n      end: coordinate.end,\n    };\n\n    // step 1: separate labels\n    const halves = [\n      [], // left\n      [], // right\n    ];\n    items.forEach((labelItem) => {\n      if (!labelItem) {\n        return;\n      }\n      if (labelItem.textAlign === 'right') {\n        // left\n        halves[0].push(labelItem);\n      } else {\n        // right or center will be put on the right side\n        halves[1].push(labelItem);\n      }\n    });\n\n    halves.forEach((half, index) => {\n      // step 2: reduce labels\n      const maxLabelsCountForOneSide = totalHeight / lineHeight;\n      if (half.length > maxLabelsCountForOneSide) {\n        half.sort((a, b) => {\n          // sort by percentage DESC\n          return b['..percent'] - a['..percent'];\n        });\n        half.splice(maxLabelsCountForOneSide, half.length - maxLabelsCountForOneSide);\n      }\n\n      // step 3: distribute position (x and y)\n      half.sort((a, b) => {\n        // sort by y ASC\n        return a.y - b.y;\n      });\n\n      antiCollision(labels, half, lineHeight, plotRange, center, index);\n    });\n  }\n\n  //  labelLine\n  each(items, (item) => {\n    if (item && item.labelLine) {\n      const distance = item.offset;\n      const angle = item.angle;\n      // \n      const startPoint = polarToCartesian(center.x, center.y, radius, angle);\n      const innerPoint = polarToCartesian(center.x, center.y, radius + distance / 2, angle);\n      const itemX = item.x + get(item, 'offsetX', 0);\n      const itemY = item.y + get(item, 'offsetY', 0);\n      const endPoint = {\n        x: itemX - Math.cos(angle) * MARGIN,\n        y: itemY - Math.sin(angle) * MARGIN,\n      };\n      if (!isObject(item.labelLine)) {\n        // labelLine: true\n        item.labelLine = {};\n      }\n      item.labelLine.path = [\n        `M ${startPoint.x}`,\n        `${startPoint.y} Q${innerPoint.x}`,\n        `${innerPoint.y} ${endPoint.x}`,\n        endPoint.y,\n      ].join(',');\n    }\n  });\n}\n","import { each } from '@antv/util';\nimport { BBox, IGroup, IShape } from '../../../dependents';\nimport { LabelItem } from '../interface';\n\n/**\n * @ignore\n *  label  bbox  label  shape  bbox \n */\nexport function limitInShape(items: LabelItem[], labels: IGroup[], shapes: IShape[] | IGroup[], region: BBox) {\n  each(labels, (label, index) => {\n    const labelBBox = label.getCanvasBBox(); // \n    const shapeBBox = shapes[index].getBBox();\n    if (\n      labelBBox.minX < shapeBBox.minX ||\n      labelBBox.minY < shapeBBox.minY ||\n      labelBBox.maxX > shapeBBox.maxX ||\n      labelBBox.maxY > shapeBBox.maxY\n    ) {\n      label.remove(true); // \n    }\n  });\n}\n","import { each } from '@antv/util';\nimport { BBox, IGroup, IShape } from '../../../dependents';\nimport { translate } from '../../../util/transform';\nimport { LabelItem } from '../interface';\n\n/**\n * @ignore\n *  label  label \n * @param labels\n * @param cfg\n */\nexport function limitInCanvas(items: LabelItem[], labels: IGroup[], shapes: IShape[] | IGroup[], region: BBox) {\n  each(labels, (label: IGroup) => {\n    const { minX: regionMinX, minY: regionMinY, maxX: regionMaxX, maxY: regionMaxY } = region;\n    const { minX, minY, maxX, maxY, x, y, width, height } = label.getCanvasBBox();\n\n    let finalX = x;\n    let finalY = y;\n    if (minX < regionMinX || maxX < regionMinX) {\n      // \n      finalX = regionMinX;\n    }\n    if (minY < regionMinY || maxY < regionMinY) {\n      // \n      finalY = regionMinY;\n    }\n\n    if (minX > regionMaxX) {\n      // \n      finalX = regionMaxX - width;\n    } else if (maxX > regionMaxX) {\n      // \n      finalX = finalX - (maxX - regionMaxX);\n    }\n\n    if (minY > regionMaxY) {\n      // \n      finalY = regionMaxY - height;\n    } else if (maxY > regionMaxY) {\n      // \n      finalY = finalY - (maxY - regionMaxY);\n    }\n\n    if (finalX !== x || finalY !== y) {\n      translate(label, finalX - x, finalY - y);\n    }\n  });\n}\n","import { each, pick } from '@antv/util';\nimport { BBox, IGroup, IShape } from '../../../dependents';\nimport { getCoordinateBBox } from '../../../util/coordinate';\nimport { getEllipsisText } from '../../../util/text';\nimport { translate } from '../../../util/transform';\nimport { LabelItem } from '../interface';\n\n/** limitInPlot layout  */\nexport interface LimitInPlotLayoutCfg {\n  /**  Plot  */\n  direction?: ('top' | 'right' | 'bottom' | 'left')[];\n  /**  margin */\n  margin?: number;\n  /**  translate ; ellipsis  text  */\n  action?: 'hide' | 'translate' | 'ellipsis';\n}\n\n/**\n * @ignore\n *  label  Plot  Plot  label \n * @param labels\n * @param cfg\n */\nexport function limitInPlot(\n  items: LabelItem[],\n  labels: IGroup[],\n  shapes: IShape[] | IGroup[],\n  region: BBox,\n  cfg?: LimitInPlotLayoutCfg\n) {\n  if (labels.length <= 0) {\n    return;\n  }\n  const direction = cfg?.direction || ['top', 'right', 'bottom', 'left'];\n  const action = cfg?.action || 'translate';\n  const margin = cfg?.margin || 0;\n  const coordinate = labels[0].get('coordinate');\n  if (!coordinate) {\n    return;\n  }\n  const {\n    minX: regionMinX,\n    minY: regionMinY,\n    maxX: regionMaxX,\n    maxY: regionMaxY,\n  } = getCoordinateBBox(coordinate, margin);\n\n  each(labels, (label: IGroup) => {\n    const { minX, minY, maxX, maxY, x, y, width, height } = label.getCanvasBBox();\n\n    let finalX = x;\n    let finalY = y;\n    if (direction.indexOf('left') >= 0 && (minX < regionMinX || maxX < regionMinX)) {\n      // \n      finalX = regionMinX;\n    }\n    if (direction.indexOf('top') >= 0 && (minY < regionMinY || maxY < regionMinY)) {\n      // \n      finalY = regionMinY;\n    }\n\n    if (direction.indexOf('right') >= 0) {\n      if (minX > regionMaxX) {\n        // \n        finalX = regionMaxX - width;\n      } else if (maxX > regionMaxX) {\n        // \n        finalX = finalX - (maxX - regionMaxX);\n      }\n    }\n\n    if (direction.indexOf('bottom') >= 0) {\n      if (minY > regionMaxY) {\n        // \n        finalY = regionMaxY - height;\n      } else if (maxY > regionMaxY) {\n        // \n        finalY = finalY - (maxY - regionMaxY);\n      }\n    }\n\n    if (finalX !== x || finalY !== y) {\n      const translateX = finalX - x;\n      if (action === 'translate') {\n        translate(label, translateX, finalY - y);\n      } else if (action === 'ellipsis') {\n        const textShapes = label.findAll((shape) => shape.get('type') === 'text');\n        textShapes.forEach((textShape) => {\n          const style = pick(textShape.attr(), ['fontSize', 'fontFamily', 'fontWeight', 'fontStyle', 'fontVariant']);\n          const textBox = textShape.getCanvasBBox();\n          const text = getEllipsisText(textShape.attr('text'), textBox.width - Math.abs(translateX), style);\n          textShape.attr('text', text);\n        });\n      } else {\n        label.hide();\n      }\n    }\n  });\n}\n","import { Coordinate } from '@antv/coord';\nimport { BBox, IGroup, IShape, IElement } from '@antv/g-base';\nimport { isObject, each, get, groupBy, isNil, filter } from '@antv/util';\nimport { polarToCartesian } from '../../../../util/graphics';\nimport { PolarLabelItem } from '../../interface';\nimport { antiCollision } from './util';\n\n/** label textline 4px */\nconst MARGIN = 4;\n\n/**\n *  labelline\n * @param item PolarLabelItem\n */\nfunction drawLabelline(item: any /** PolarLabelItem */, coordinate: Coordinate) {\n  /**  */\n  const center = coordinate.getCenter();\n  /**  */\n  const radius = coordinate.getRadius();\n\n  if (item && item.labelLine) {\n    const { angle, offset: labelOffset } = item;\n    // \n    const startPoint = polarToCartesian(center.x, center.y, radius, angle);\n    const itemX = item.x + get(item, 'offsetX', 0) * (Math.cos(angle) > 0 ? 1 : -1);\n    const itemY = item.y + get(item, 'offsetY', 0) * (Math.sin(angle) > 0 ? 1 : -1);\n\n    const endPoint = {\n      x: itemX - Math.cos(angle) * MARGIN,\n      y: itemY - Math.sin(angle) * MARGIN,\n    };\n\n    const smoothConnector = item.labelLine.smooth;\n    const path = [];\n    const dx = endPoint.x - center.x;\n    const dy = endPoint.y - center.y;\n    let endAngle = Math.atan(dy / dx);\n    //  & \n    if (dx < 0) {\n      endAngle += Math.PI;\n    }\n\n    //  smooth, undefined  smooth\n    if (smoothConnector === false) {\n      if (!isObject(item.labelLine)) {\n        // labelLine: true\n        item.labelLine = {};\n      }\n\n      // 0 , 1 \n      let sweepFlag = 0;\n\n      // \n      if ((angle < 0 && angle > -Math.PI / 2) || angle > Math.PI * 1.5) {\n        if (endPoint.y > startPoint.y) {\n          sweepFlag = 1;\n        }\n      }\n\n      // \n      if (angle >= 0 && angle < Math.PI / 2) {\n        if (endPoint.y > startPoint.y) {\n          sweepFlag = 1;\n        }\n      }\n\n      // \n      if (angle >= Math.PI / 2 && angle < Math.PI) {\n        if (startPoint.y > endPoint.y) {\n          sweepFlag = 1;\n        }\n      }\n\n      // \n      if (angle < -Math.PI / 2 || (angle >= Math.PI && angle < Math.PI * 1.5)) {\n        if (startPoint.y > endPoint.y) {\n          sweepFlag = 1;\n        }\n      }\n\n      const distance = labelOffset / 2 > 4 ? 4 : Math.max(labelOffset / 2 - 1, 0);\n      const breakPoint = polarToCartesian(center.x, center.y, radius + distance, angle);\n      // \n      const breakPoint3 = polarToCartesian(center.x, center.y, radius + labelOffset / 2, endAngle);\n\n      /**\n       * @example\n       * M 100 100 L100 90 A 50 50 0 0 0 150 50\n       *  (100, 100),  (100, 90),  (50, 50)  (150, 50);\n       * A  4  large-arc-flag,  180 : 0 1 \n       *  5 : \n       */\n      // \n      const largeArcFlag = 0;\n      // step1: \n      path.push(`M ${startPoint.x} ${startPoint.y}`);\n      // step2: \n      path.push(`L ${breakPoint.x} ${breakPoint.y}`);\n      // step3:   \n      path.push(`A ${center.x} ${center.y} 0 ${largeArcFlag} ${sweepFlag} ${breakPoint3.x} ${breakPoint3.y}`);\n      // step4: \n      path.push(`L ${endPoint.x} ${endPoint.y}`);\n    } else {\n      const breakPoint = polarToCartesian(\n        center.x,\n        center.y,\n        radius + (labelOffset / 2 > 4 ? 4 : Math.max(labelOffset / 2 - 1, 0)),\n        angle\n      );\n      // G2 \n      // path.push('Q', `${breakPoint.x}`, `${breakPoint.y}`, `${endPoint.x}`, `${endPoint.y}`);\n      const xSign = startPoint.x < center.x ? 1 : -1;\n      // step1: \n      path.push(`M ${endPoint.x} ${endPoint.y}`);\n      const slope1 = (startPoint.y - center.y) / (startPoint.x - center.x);\n      const slope2 = (endPoint.y - center.y) / (endPoint.x - center.x);\n      if (Math.abs(slope1 - slope2) > Math.pow(Math.E, -16)) {\n        // step2:  curve line ( & , , )\n        path.push(\n          ...[\n            'C',\n            endPoint.x + xSign * 4,\n            endPoint.y,\n            2 * breakPoint.x - startPoint.x,\n            2 * breakPoint.y - startPoint.y,\n            startPoint.x,\n            startPoint.y,\n          ]\n        );\n      }\n      // step3: \n      path.push(`L ${startPoint.x} ${startPoint.y}`);\n    }\n    item.labelLine.path = path.join(' ');\n  }\n}\n\n/**\n *  outer-label ,  type = pie  label offset > 0 \n */\nexport function pieOuterLabelLayout(\n  originalItems: PolarLabelItem[],\n  labels: IGroup[],\n  shapes: IShape[] | IGroup[],\n  region: BBox\n) {\n  const items = filter(originalItems, (item) => !isNil(item));\n  /**  */\n  const coordinate = labels[0] && labels[0].get('coordinate');\n  if (!coordinate) {\n    return;\n  }\n\n  /**  */\n  const center = coordinate.getCenter();\n  /**  */\n  const radius = coordinate.getRadius();\n  /** label shapes */\n  const labelsMap: Record<string /** id */, IGroup> = {};\n  for (const labelShape of labels) {\n    labelsMap[labelShape.get('id')] = labelShape;\n  }\n\n  // note labelHeight  label \n  const labelHeight: number = get(items[0], 'labelHeight', 14);\n  const labelOffset: number = get(items[0], 'offset', 0);\n\n  if (labelOffset <= 0) {\n    return;\n  }\n\n  const LEFT_HALF_KEY = 'left';\n  const RIGHT_HALF_KEY = 'right';\n  // step 1: separate labels\n  const separateLabels = groupBy(items, (item) => (item.x < center.x ? LEFT_HALF_KEY : RIGHT_HALF_KEY));\n\n  const { start, end } = coordinate;\n  // step2: calculate totalHeight\n  const totalHeight = Math.min((radius + labelOffset + labelHeight) * 2, coordinate.getHeight());\n  const totalR = totalHeight / 2;\n\n  /** labels () */\n  const labelsContainerRange = {\n    minX: start.x,\n    maxX: end.x,\n    minY: center.y - totalR,\n    maxY: center.y + totalR,\n  };\n\n  // step 3: antiCollision\n  each(separateLabels, (half, key) => {\n    const maxLabelsCountForOneSide = Math.floor(totalHeight / labelHeight);\n    if (half.length > maxLabelsCountForOneSide) {\n      half.sort((a, b) => {\n        // sort by percentage DESC\n        return b.percent - a.percent;\n      });\n\n      each(half, (labelItem: PolarLabelItem, idx) => {\n        if (idx + 1 > maxLabelsCountForOneSide) {\n          labelsMap[labelItem.id].set('visible', false);\n          labelItem.invisible = true;\n        }\n      });\n    }\n    antiCollision(half, labelHeight, labelsContainerRange);\n  });\n\n  each(separateLabels, (half: PolarLabelItem[], key: string) => {\n    each(half, (item: PolarLabelItem) => {\n      const isRight = key === RIGHT_HALF_KEY;\n      const labelShape = labelsMap[item.id];\n\n      // because group could not effect content-shape, should set content-shape position manually\n      const content = labelShape.getChildByIndex(0) as IElement;\n\n      // textShape \n      if (content) {\n        const r = radius + labelOffset;\n        // (x - cx)^2 + (y - cy)^2 = totalR^2\n        const dy = item.y - center.y;\n\n        const rPow2 = Math.pow(r, 2);\n        const dyPow2 = Math.pow(dy, 2);\n        const dxPow2 = rPow2 - dyPow2 > 0 ? rPow2 - dyPow2 : 0;\n        const dx = Math.sqrt(dxPow2);\n\n        const dx_offset = Math.abs(Math.cos(item.angle) * r);\n        if (!isRight) {\n          // left\n          item.x = center.x - Math.max(dx, dx_offset);\n        } else {\n          // right\n          item.x = center.x + Math.max(dx, dx_offset);\n        }\n      }\n\n      // adjust labelShape\n      if (content) {\n        content.attr('y', item.y);\n        content.attr('x', item.x);\n      }\n\n      drawLabelline(item, coordinate);\n    });\n  });\n}\n","import { IGroup, IShape } from '../../../dependents';\nimport { BBox } from '../../../util/bbox';\nimport { isContrastColorWhite } from '../../../util/color';\nimport Element from '../../element';\nimport { LabelItem } from '../interface';\n\nexport function adjustColor(items: LabelItem[], labels: IGroup[], shapes: IShape[] | IGroup[]) {\n  if (shapes.length === 0) {\n    return;\n  }\n  const element: Element = shapes[0].get('element');\n  const theme = element.geometry.theme;\n  const { fillColorLight, fillColorDark } = theme.labels || {};\n\n  shapes.forEach((shape: IShape | IGroup, index: number) => {\n    const label = labels[index];\n    const textShape = label.find((el) => el.get('type') === 'text');\n    const shapeBBox = BBox.fromObject(shape.getBBox());\n    const textBBox = BBox.fromObject(textShape.getCanvasBBox());\n    const overflow = !shapeBBox.contains(textBBox);\n\n    const bgColor = shape.attr('fill');\n    const fillWhite = isContrastColorWhite(bgColor);\n\n    if (!overflow) {\n      if (fillWhite) {\n        if (fillColorLight) {\n          textShape.attr('fill', fillColorLight);\n        }\n      } else {\n        if (fillColorDark) {\n          textShape.attr('fill', fillColorDark);\n        }\n      }\n    } else {\n      //  overflowLabel \n      textShape.attr(theme.overflowLabels.style);\n    }\n  });\n}\n","import { IElement, IGroup, IShape } from '../../../../dependents';\nimport { BBox } from '../../../../util/bbox';\nimport Geometry from '../../../base';\nimport Element from '../../../element';\nimport { LabelItem } from '../../interface';\nimport { findLabelTextShape } from '../../util';\n\nfunction shouldInShapeSingle(geometry: Geometry, label: IGroup, shape: IElement): boolean {\n  const coordinate = geometry.coordinate;\n  const textShape = findLabelTextShape(label);\n  const textBBox = BBox.fromObject(textShape.getCanvasBBox());\n  const shapeBBox = BBox.fromObject(shape.getBBox());\n\n  return coordinate.isTransposed ? shapeBBox.height >= textBBox.height : shapeBBox.width >= textBBox.width;\n}\n\nfunction shouldInShape(geometry: Geometry, labels: IGroup[], shapes: IShape[] | IGroup[]): boolean {\n  const isStack = !!geometry.getAdjust('stack');\n\n  return (\n    isStack ||\n    labels.every((label: IGroup, index: number) => {\n      const shape = shapes[index];\n      return shouldInShapeSingle(geometry, label, shape);\n    })\n  );\n}\n\nfunction moveInShape(geometry: Geometry, label: IGroup, shape: IElement): void {\n  const coordinate = geometry.coordinate;\n  const shapeBBox = BBox.fromObject(shape.getBBox());\n  const textShape = findLabelTextShape(label);\n\n  if (coordinate.isTransposed) {\n    // \n    textShape.attr({\n      x: shapeBBox.minX + shapeBBox.width / 2,\n      textAlign: 'center',\n    });\n  } else {\n    // \n    textShape.attr({\n      y: shapeBBox.minY + shapeBBox.height / 2,\n      textBaseline: 'middle',\n    });\n  }\n}\n\n/**\n *  interval geometry \n * @param items\n * @param labels\n * @param shapes\n */\nexport function intervalAdjustPosition(items: LabelItem[], labels: IGroup[], shapes: IShape[] | IGroup[]) {\n  if (shapes.length === 0) {\n    return;\n  }\n  const element: Element = shapes[0]?.get('element');\n  const geometry: Geometry = element?.geometry;\n  if (!geometry || geometry.type !== 'interval') {\n    return;\n  }\n\n  const inShape = shouldInShape(geometry, labels, shapes);\n  if (inShape) {\n    shapes.forEach((shape: IShape | IGroup, index: number) => {\n      const label = labels[index];\n      moveInShape(geometry, label, shape);\n    });\n  }\n}\n","import { IGroup, IShape } from '../../../../dependents';\nimport { each, groupBy, uniq, map, size, filter } from '@antv/util';\nimport Geometry from '../../../base';\nimport Element from '../../../element';\nimport { LabelItem } from '../../interface';\nimport { checkShapeOverlap } from '../../util';\n\nfunction filterLabel(labels: IShape[] | IGroup[]) {\n  const MAX_CNT = 500; //  500 \n  const filteredLabels = [];\n  const pages = Math.max(Math.floor(labels.length / MAX_CNT), 1);\n  each(labels, (label, idx) => {\n    if (idx % pages === 0) {\n      filteredLabels.push(label);\n    } else {\n      label.set('visible', false);\n    }\n  });\n\n  return filteredLabels;\n}\n\n/**\n *  interval geometry \n * @param items\n * @param labels\n * @param shapes\n */\nexport function intervalHideOverlap(items: LabelItem[], labels: IGroup[], shapes: IShape[] | IGroup[]) {\n  if (shapes.length === 0) {\n    return;\n  }\n  const element: Element = shapes[0]?.get('element');\n  const geometry: Geometry = element?.geometry;\n  if (!geometry || geometry.type !== 'interval') {\n    return;\n  }\n\n  const filteredLabels = filterLabel(labels);\n  const [xField] = geometry.getXYFields();\n  const dones: IShape[] = [];\n  const todo: IShape[] = [];\n  const groupedLabels = groupBy(filteredLabels, (label) => label.get('data')[xField]);\n  const xValues = uniq(map(filteredLabels, (label: IShape) => label.get('data')[xField]));\n  let xValue;\n\n  filteredLabels.forEach((label) => {\n    label.set('visible', true);\n  });\n\n  const addCurrentGroup = (curItems: IShape[]) => {\n    if (curItems) {\n      if (curItems.length) {\n        // \n        todo.push(curItems.pop());\n      }\n      todo.push(...curItems);\n    }\n  };\n\n  if (size(xValues) > 0) {\n    // \n    xValue = xValues.shift();\n    addCurrentGroup(groupedLabels[xValue]);\n  }\n  if (size(xValues) > 0) {\n    // \n    xValue = xValues.pop();\n    addCurrentGroup(groupedLabels[xValue]);\n  }\n  each(xValues.reverse(), (val) => {\n    // \n    addCurrentGroup(groupedLabels[val]);\n  });\n\n  while (todo.length > 0) {\n    const cur = todo.shift();\n    if (cur.get('visible')) {\n      if (checkShapeOverlap(cur, dones)) {\n        cur.set('visible', false);\n      } else {\n        dones.push(cur);\n      }\n    }\n  }\n}\n","import { BBox, IGroup, IShape } from '@antv/g-base';\nimport { each, get, isNil, deepMix, groupBy } from '@antv/util';\nimport { polarToCartesian } from '../../../../util/graphics';\nimport { LabelItem, PolarLabelItem } from '../../interface';\nimport { antiCollision } from './util';\nimport { translate } from '../../../../util/transform';\nimport { Coordinate } from '@antv/coord';\n\n/** ,  */\nconst INFLECTION_OFFSET = 4;\n/** , distance between label and edge: offsetX */\nconst LABEL_OFFSET_X = 4;\n/**  */\nconst LABEL_TEXT_LINE_OFFSET = 4;\n\nfunction drawLabelline(item: PolarLabelItem, coordinate: Coordinate, inRight: boolean) {\n  /**  */\n  const center = coordinate.getCenter();\n  /**  */\n  const radius = coordinate.getRadius();\n  const startPoint = {\n    x: item.x - (inRight ? LABEL_TEXT_LINE_OFFSET : -LABEL_TEXT_LINE_OFFSET),\n    y: item.y,\n  };\n  const inflectionPoint = polarToCartesian(center.x, center.y, radius + INFLECTION_OFFSET, item.angle);\n  const p1 = { x: startPoint.x, y: startPoint.y };\n  const p2 = { x: inflectionPoint.x, y: inflectionPoint.y };\n\n  const endPoint = polarToCartesian(center.x, center.y, radius, item.angle);\n  let path = '';\n\n  // \n  if (startPoint.y !== inflectionPoint.y) {\n    const offset = inRight ? 4 : -4;\n    p1.y = startPoint.y;\n\n    /**  */\n    if (item.angle < 0 && item.angle >= -Math.PI / 2) {\n      p1.x = Math.max(inflectionPoint.x, startPoint.x - offset);\n      if (startPoint.y < inflectionPoint.y) {\n        p2.y = p1.y;\n      } else {\n        p2.y = inflectionPoint.y;\n        p2.x = Math.max(p2.x, p1.x - offset);\n      }\n    }\n    /**   */\n    if (item.angle > 0 && item.angle < Math.PI / 2) {\n      p1.x = Math.max(inflectionPoint.x, startPoint.x - offset);\n      if (startPoint.y > inflectionPoint.y) {\n        p2.y = p1.y;\n      } else {\n        p2.y = inflectionPoint.y;\n        p2.x = Math.max(p2.x, p1.x - offset);\n      }\n    }\n    /**   */\n    if (item.angle > Math.PI / 2) {\n      p1.x = Math.min(inflectionPoint.x, startPoint.x - offset);\n      if (startPoint.y > inflectionPoint.y) {\n        p2.y = p1.y;\n      } else {\n        p2.y = inflectionPoint.y;\n        p2.x = Math.min(p2.x, p1.x - offset);\n      }\n    }\n    /**   */\n    if (item.angle < -Math.PI / 2) {\n      p1.x = Math.min(inflectionPoint.x, startPoint.x - offset);\n      if (startPoint.y < inflectionPoint.y) {\n        p2.y = p1.y;\n      } else {\n        p2.y = inflectionPoint.y;\n        p2.x = Math.min(p2.x, p1.x - offset);\n      }\n    }\n  }\n\n  path = [\n    `M ${startPoint.x},${startPoint.y}`,\n    `L ${p1.x},${p1.y}`,\n    `L ${p2.x},${p2.y}`,\n    `L ${inflectionPoint.x},${inflectionPoint.y}`,\n    `L ${endPoint.x},${endPoint.y}`,\n  ].join(' ');\n  item.labelLine = deepMix({}, item.labelLine, { path });\n}\n\n/**\n *  spider ,  pie-spider \n * region  labelsRenderer ()\n */\nexport function pieSpiderLabelLayout(items: LabelItem[], labels: IGroup[], shapes: IShape[] | IGroup[], region: BBox) {\n  /**  */\n  const coordinate = labels[0] && labels[0].get('coordinate');\n  if (!coordinate) {\n    return;\n  }\n\n  /**  */\n  const center = coordinate.getCenter();\n  /**  */\n  const radius = coordinate.getRadius();\n  /** label shapes */\n  const labelsMap: Record<string /** id */, IGroup> = {};\n  for (const labelShape of labels) {\n    labelsMap[labelShape.get('id')] = labelShape;\n  }\n\n  const labelHeight: number = get(items[0], 'labelHeight', 14);\n  const labelOffset: number = Math.max(get(items[0], 'offset', 0), INFLECTION_OFFSET);\n\n  // step 1: adjust items to spider\n  each(items, (item) => {\n    if (!item) return;\n    const label = get(labelsMap, [item.id]);\n    if (!label) return;\n\n    const inRight = item.x > center.x || (item.x === center.x && item.y > center.y);\n    const offsetX = !isNil(item.offsetX) ? item.offsetX : LABEL_OFFSET_X;\n    const inflectionPoint = polarToCartesian(center.x, center.y, radius + INFLECTION_OFFSET, item.angle);\n\n    const totalOffset = labelOffset + offsetX;\n    item.x = center.x + (inRight ? 1 : -1) * (radius + totalOffset);\n    item.y = inflectionPoint.y;\n  });\n\n  const { start, end } = coordinate;\n  const LEFT_HALF_KEY = 'left';\n  const RIGHT_HALF_KEY = 'right';\n  // step 1: separate labels\n  const separateLabels = groupBy(items, (item) => (item.x < center.x ? LEFT_HALF_KEY : RIGHT_HALF_KEY));\n\n  // step2: calculate totalHeight\n  let totalHeight = (radius + labelOffset) * 2 + labelHeight;\n\n  each(separateLabels, (half: PolarLabelItem[]) => {\n    const halfHeight = half.length * labelHeight;\n    if (halfHeight > totalHeight) {\n      totalHeight = Math.min(halfHeight, Math.abs(start.y - end.y));\n    }\n  });\n\n  /** labels () */\n  const labelsContainerRange = {\n    minX: start.x,\n    maxX: end.x,\n    minY: center.y - totalHeight / 2,\n    maxY: center.y + totalHeight / 2,\n  };\n\n  // step 3: antiCollision\n  each(separateLabels, (half, key) => {\n    const maxLabelsCountForOneSide = totalHeight / labelHeight;\n    if (half.length > maxLabelsCountForOneSide) {\n      half.sort((a, b) => {\n        // sort by percentage DESC\n        return b.percent - a.percent;\n      });\n\n      each(half, (labelItem: PolarLabelItem, idx) => {\n        if (idx > maxLabelsCountForOneSide) {\n          labelsMap[labelItem.id].set('visible', false);\n          labelItem.invisible = true;\n        }\n      });\n    }\n    antiCollision(half, labelHeight, labelsContainerRange);\n  });\n\n  const startY = labelsContainerRange.minY;\n  const endY = labelsContainerRange.maxY;\n\n  // step4: applyTo labels and adjust labelLines\n  each(separateLabels, (half, key) => {\n    const inRight = key === RIGHT_HALF_KEY;\n\n    each(half, (item) => {\n      const label: IGroup = get(labelsMap, item && [item.id]);\n      if (!label) {\n        return;\n      }\n      // out of range, hidden\n      if (item.y < startY || item.y > endY) {\n        label.set('visible', false);\n        return;\n      }\n\n      const labelContent = label.getChildByIndex(0);\n      const box = labelContent.getCanvasBBox();\n      const originalPos = { x: inRight ? box.x : box.maxX, y: box.y + box.height / 2 /** vertical-align: middle */ };\n\n      translate(labelContent as any, item.x - originalPos.x /**  pos.x  item.x */, item.y - originalPos.y);\n\n      // adjust labelLines\n      if (item.labelLine) {\n        drawLabelline(item, coordinate, inRight);\n      }\n    });\n  });\n}\n","import { isNil } from '@antv/util';\nimport { IGroup, IShape } from '../../dependents';\nimport { GAnimateCfg } from '../../interface';\nimport { AnimateExtraCfg } from '../interface';\n\n/**\n * @ignore\n *  shape \n * \n * @param shape \n * @param animateCfg \n * @param cfg \n */\nexport function fadeIn(shape: IShape | IGroup, animateCfg: GAnimateCfg, cfg: AnimateExtraCfg) {\n  const endState = {\n    fillOpacity: isNil(shape.attr('fillOpacity')) ? 1 : shape.attr('fillOpacity'),\n    strokeOpacity: isNil(shape.attr('strokeOpacity')) ? 1 : shape.attr('strokeOpacity'),\n    opacity: isNil(shape.attr('opacity')) ? 1 : shape.attr('opacity'),\n  };\n  shape.attr({\n    fillOpacity: 0,\n    strokeOpacity: 0,\n    opacity: 0,\n  });\n  shape.animate(endState, animateCfg);\n}\n\n/**\n * @ignore\n *  shape \n * \n * @param shape \n * @param animateCfg \n * @param cfg \n */\nexport function fadeOut(shape: IShape | IGroup, animateCfg: GAnimateCfg, cfg: AnimateExtraCfg) {\n  const endState = {\n    fillOpacity: 0,\n    strokeOpacity: 0,\n    opacity: 0,\n  };\n  const { easing, duration, delay } = animateCfg;\n  shape.animate(\n    endState,\n    duration,\n    easing,\n    () => {\n      shape.remove(true);\n    },\n    delay\n  );\n}\n","import { IGroup, IShape } from '../../dependents';\nimport { GAnimateCfg } from '../../interface';\nimport { AnimateExtraCfg } from '../interface';\n\nimport { doScaleAnimate } from './util';\n\n/**\n * @ignore\n * \n * x \n * @param element \n * @param animateCfg \n * @param cfg \n */\nexport function growInX(element: IShape | IGroup, animateCfg: GAnimateCfg, cfg: AnimateExtraCfg) {\n  const { coordinate, minYPoint } = cfg;\n  doScaleAnimate(element, animateCfg, coordinate, minYPoint, 'x');\n}\n\n/**\n * @ignore\n * \n * y \n * @param element \n * @param animateCfg \n * @param cfg \n */\nexport function growInY(element: IShape | IGroup, animateCfg: GAnimateCfg, cfg: AnimateExtraCfg) {\n  const { coordinate, minYPoint } = cfg;\n  doScaleAnimate(element, animateCfg, coordinate, minYPoint, 'y');\n}\n\n/**\n * @ignore\n * \n * \n * @param element \n * @param animateCfg \n * @param cfg \n */\nexport function growInXY(element: IShape | IGroup, animateCfg: GAnimateCfg, cfg: AnimateExtraCfg) {\n  const { coordinate, minYPoint } = cfg;\n  doScaleAnimate(element, animateCfg, coordinate, minYPoint, 'xy');\n}\n","import { ext } from '@antv/matrix-util';\nimport { IGroup, IShape } from '../../dependents';\nimport { GAnimateCfg, Point } from '../../interface';\nimport { AnimateExtraCfg } from '../interface';\n\n/**\n * @ignore\n *  x \n * @param shape\n * @param animateCfg\n * @param shapeModel\n */\nexport function scaleInX(shape: IShape | IGroup, animateCfg: GAnimateCfg, cfg: AnimateExtraCfg) {\n  const box = shape.getBBox();\n  const { mappingData } = shape.get('origin');\n  const points = mappingData.points as Point[];\n  // x \n  const x = points[0].y - points[1].y > 0 ? box.maxX : box.minX;\n  const y = (box.minY + box.maxY) / 2;\n\n  shape.applyToMatrix([x, y, 1]);\n\n  const matrix = ext.transform(shape.getMatrix(), [\n    ['t', -x, -y],\n    ['s', 0.01, 1],\n    ['t', x, y],\n  ]);\n  shape.setMatrix(matrix);\n\n  shape.animate(\n    {\n      matrix: ext.transform(shape.getMatrix(), [\n        ['t', -x, -y],\n        ['s', 100, 1],\n        ['t', x, y],\n      ]),\n    },\n    animateCfg\n  );\n}\n\n/**\n * @ignore\n *  y \n * @param shape\n * @param animateCfg\n * @param shapeModel\n */\nexport function scaleInY(shape: IShape | IGroup, animateCfg: GAnimateCfg, cfg: AnimateExtraCfg) {\n  const box = shape.getBBox();\n  const { mappingData } = shape.get('origin');\n  const x = (box.minX + box.maxX) / 2;\n  const points = mappingData.points as Point[];\n  //  shape \n  const y = points[0].y - points[1].y <= 0 ? box.maxY : box.minY;\n\n  shape.applyToMatrix([x, y, 1]);\n  const matrix = ext.transform(shape.getMatrix(), [\n    ['t', -x, -y],\n    ['s', 1, 0.01],\n    ['t', x, y],\n  ]);\n  shape.setMatrix(matrix);\n\n  shape.animate(\n    {\n      matrix: ext.transform(shape.getMatrix(), [\n        ['t', -x, -y],\n        ['s', 1, 100],\n        ['t', x, y],\n      ]),\n    },\n    animateCfg\n  );\n}\n","import { IGroup, IShape } from '../../dependents';\nimport { GAnimateCfg } from '../../interface';\nimport { getCoordinateClipCfg } from '../../util/coordinate';\nimport { AnimateExtraCfg } from '../interface';\n\n/**\n * @ignore\n * \n * \n * @todo \n * @param element \n * @param animateCfg \n * @param cfg \n */\nexport function waveIn(element: IShape | IGroup, animateCfg: GAnimateCfg, cfg: AnimateExtraCfg) {\n  const { type, startState, endState } = getCoordinateClipCfg(cfg.coordinate, 20); // \n  const clipShape = element.setClip({\n    type,\n    attrs: startState,\n  }) as IShape; //  shape \n\n  //    toAttrs \n  if (cfg.toAttrs) {\n    element.attr(cfg.toAttrs);\n  }\n\n  // \n  clipShape.animate(endState, {\n    ...animateCfg,\n    callback: () => {\n      if (element && !element.get('destroyed')) {\n        element.set('clipShape', null);\n      }\n      clipShape.remove(true); // \n    },\n  });\n}\n","import { IShape } from '../../dependents';\nimport { GAnimateCfg } from '../../interface';\nimport { AnimateExtraCfg } from '../interface';\n\n/**\n * @ignore\n * \n * @param shape \n * @param animateCfg\n * @param cfg\n */\nexport function positionUpdate(shape: IShape, animateCfg: GAnimateCfg, cfg: AnimateExtraCfg) {\n  const { toAttrs } = cfg;\n  // @ts-ignore\n  const x = toAttrs.x;\n  // @ts-ignore\n  const y = toAttrs.y;\n\n  // @ts-ignore\n  delete toAttrs.x;\n  // @ts-ignore\n  delete toAttrs.y;\n\n  shape.attr(toAttrs);\n\n  shape.animate(\n    {\n      x,\n      y,\n    },\n    animateCfg\n  );\n}\n","import { IShape } from '../../dependents';\nimport { GAnimateCfg } from '../../interface';\nimport { AnimateExtraCfg } from '../interface';\n\n/**\n * @ignore\n * \n * path \n * @param element \n * @param animateCfg \n * @param cfg \n */\nexport function pathIn(element: IShape, animateCfg: GAnimateCfg, cfg: AnimateExtraCfg) {\n  // @ts-ignore\n  const length = element.getTotalLength();\n  // \n  element.attr('lineDash', [length]);\n  element.animate((ratio: number) => {\n    return {\n      // \n      lineDashOffset: (1 - ratio) * length,\n    };\n  }, animateCfg);\n}\n","/**\n * Simplified from https://github.com/zertosh/invariant.\n */\n\nexport enum LEVEL {\n  ERROR = 'error',\n  WARN = 'warn',\n  INFO = 'log',\n}\n\nconst BRAND = 'AntV/G2Plot';\n\n/**\n * \n * @param format\n * @param args\n */\nfunction getMessage(format: string, ...args: any[]): string {\n  let argIndex = 0;\n  return `${BRAND}: ${format.replace(/%s/g, (): string => `${args[argIndex++]}`)}`;\n}\n\n/**\n * invariant error\n * @param condition\n * @param format\n * @param args\n */\nexport function invariant(condition: boolean, format: string, ...args: any[]): void {\n  if (!condition) {\n    const error = new Error(getMessage(format, ...args));\n    error.name = BRAND;\n    // error.framesToPop = 1; // we don't care about invariant's own frame\n    throw error;\n  }\n}\n\n/**\n * \n * @param level\n * @param condition\n * @param format\n * @param args\n */\nexport function log(level: LEVEL, condition: boolean, format, ...args: any[]): void {\n  if (!condition) {\n    console[level](getMessage(format, ...args));\n  }\n}\n","/**\n *  lodash.pick \n * @param obj\n * @param keys\n */\nexport function pick(obj: any, keys: string[]): object {\n  const r = {};\n\n  if (obj !== null && typeof obj === 'object') {\n    keys.forEach((key: string) => {\n      const v = obj[key];\n      if (v !== undefined) {\n        r[key] = v;\n      }\n    });\n  }\n  return r;\n}\n","import { filter, get, isNumber } from '@antv/util';\nimport { Data, Datum, Meta, Options } from '../types';\nimport { Node, NodeLinkData } from '../types/relation-data';\nimport { LEVEL, log } from './invariant';\nimport { pick } from './pick';\n\n/**\n * \n * @param data\n * @param field\n */\nexport function adjustYMetaByZero(data: Data, field: string): Meta {\n  if (!data) return {};\n  // \n  const numberData = data.filter((datum: Datum) => {\n    const v = get(datum, [field]);\n    return isNumber(v) && !isNaN(v);\n  });\n\n  const gtZero = numberData.every((datum: Datum) => get(datum, [field]) >= 0);\n  const ltZero = numberData.every((datum: Datum) => get(datum, [field]) <= 0);\n\n  //  { min: 0, max: undefined }  update({ max: 0 })  { min: 0, max: 0 }\n  if (gtZero) {\n    return { min: 0 };\n  }\n  if (ltZero) {\n    return { max: 0 };\n  }\n  return {};\n}\n\n/**\n * \n * @param data\n * @param sourceField\n * @param targetField\n * @param weightField\n * @param rawFields \n */\nexport function transformDataToNodeLinkData(\n  data: Data,\n  sourceField: string,\n  targetField: string,\n  weightField: string,\n  rawFields: string[] = []\n): NodeLinkData {\n  if (!Array.isArray(data)) {\n    return {\n      nodes: [],\n      links: [],\n    };\n  }\n\n  //   const nodes = [];\n  const links = [];\n  // \n  const nodesMap: Record<string, Node> = {};\n  let nodesIndex = -1;\n  //  chord layout \n  data.forEach((datum: Datum) => {\n    const source = datum[sourceField];\n    const target = datum[targetField];\n    const weight = datum[weightField];\n\n    const rawData = pick(datum, rawFields);\n\n    // source node\n    if (!nodesMap[source]) {\n      nodesMap[source] = {\n        id: ++nodesIndex,\n        name: source,\n        ...rawData,\n      };\n    }\n    if (!nodesMap[target]) {\n      nodesMap[target] = {\n        id: ++nodesIndex,\n        name: target,\n        ...rawData,\n      };\n    }\n    // links\n    links.push({\n      source: nodesMap[source].id,\n      target: nodesMap[target].id,\n      // sourceName: source,\n      // targetName: target,\n      value: weight,\n      ...rawData,\n    });\n  });\n  return {\n    //  id \n    nodes: Object.values(nodesMap).sort((a, b) => a.id - b.id),\n    links,\n  };\n}\n\n/**\n * (   NaN null)\n * @param data\n * @param angleField\n */\nexport function processIllegalData(data: Options['data'], field: string) {\n  const processData = filter(data, (d) => {\n    const v = d[field];\n    return v === null || (typeof v === 'number' && !isNaN(v));\n  });\n\n  // \n  log(LEVEL.WARN, processData.length === data.length, 'illegal data existed in chart data.');\n\n  return processData;\n}\n","const MAX_MIX_LEVEL = 5; // \n\nconst toString = {}.toString;\n\n// \nconst isType = (value: any, type: string): boolean => toString.call(value) === '[object ' + type + ']';\n\nconst isArray = (value: any): value is Array<any> => {\n  return isType(value, 'Array');\n};\n\nconst isObjectLike = (value: any): value is object => {\n  /**\n   * isObjectLike({}) => true\n   * isObjectLike([1, 2, 3]) => true\n   * isObjectLike(Function) => false\n   */\n  return typeof value === 'object' && value !== null;\n};\n\nconst isPlainObject = (value: any): value is object => {\n  /**\n   * isObjectLike(new Foo) => false\n   * isObjectLike([1, 2, 3]) => false\n   * isObjectLike({ x: 0, y: 0 }) => true\n   */\n  if (!isObjectLike(value) || !isType(value, 'Object')) {\n    return false;\n  }\n  let proto = value;\n  while (Object.getPrototypeOf(proto) !== null) {\n    proto = Object.getPrototypeOf(proto);\n  }\n  return Object.getPrototypeOf(value) === proto;\n};\n\n/***\n * @param {any} dist\n * @param {any} src\n * @param {number} level \n * @param {number} maxLevel \n */\nconst deep = (dist, src, level?, maxLevel?) => {\n  level = level || 0;\n  maxLevel = maxLevel || MAX_MIX_LEVEL;\n  for (const key in src) {\n    if (Object.prototype.hasOwnProperty.call(src, key)) {\n      const value = src[key];\n      if (!value) {\n        // null  undefined \n        dist[key] = value;\n      } else {\n        if (isPlainObject(value)) {\n          if (!isPlainObject(dist[key])) {\n            dist[key] = {};\n          }\n          if (level < maxLevel) {\n            deep(dist[key], value, level + 1, maxLevel);\n          } else {\n            // \n            dist[key] = src[key];\n          }\n        } else if (isArray(value)) {\n          dist[key] = [];\n          dist[key] = dist[key].concat(value);\n        } else {\n          dist[key] = value;\n        }\n      }\n    }\n  }\n};\n\n/**\n * deepAssign  deepMix\n *  deepAssign  null undefined  source\n *  __tests__/unit/utils/deep-assign-spec.ts\n */\nexport const deepAssign = (rst: any, ...args: any[]) => {\n  for (let i = 0; i < args.length; i += 1) {\n    deep(rst, args[i]);\n  }\n  return rst;\n};\n","let ctx: CanvasRenderingContext2D;\n\n/**\n *  canvas context\n */\nexport function getCanvasContext() {\n  if (!ctx) {\n    ctx = document.createElement('canvas').getContext('2d');\n  }\n\n  return ctx;\n}\n","import { Size } from '../types';\n\n/**\n * get the element's bounding size\n * @param ele dom element\n * @returns the element width and height\n */\nexport function getContainerSize(ele: HTMLElement): Size {\n  if (!ele) {\n    return { width: 0, height: 0 };\n  }\n  const style = getComputedStyle(ele);\n\n  return {\n    width:\n      (ele.clientWidth || parseInt(style.width, 10)) -\n      parseInt(style.paddingLeft, 10) -\n      parseInt(style.paddingRight, 10),\n    height:\n      (ele.clientHeight || parseInt(style.height, 10)) -\n      parseInt(style.paddingTop, 10) -\n      parseInt(style.paddingBottom, 10),\n  };\n}\n","type FlowFunction<P> = (param: P) => P;\n\n/**\n *  lodash.flow \n * @param flows\n */\nexport function flow<P>(...flows: FlowFunction<P>[]): FlowFunction<P> {\n  return (param: P) => {\n    return flows.reduce((result: P, f: FlowFunction<P>) => {\n      return f(result);\n    }, param);\n  };\n}\n","import { Element, Geometry, View } from '@antv/g2';\nimport { get, reduce } from '@antv/util';\n\n/**\n *  View  type  geometry\n * @param view\n * @param type\n */\nexport function findGeometry(view: View, type: string): Geometry {\n  return view.geometries.find((g: Geometry) => g.type === type);\n}\n\n/**\n *  View   elements\n */\nexport function getAllElements(view: View): Element[] {\n  return reduce(\n    view.geometries,\n    (r: Element[], geometry: Geometry) => {\n      return r.concat(geometry.elements);\n    },\n    []\n  );\n}\n\n/**\n *  View   elements,  View  View\n */\nexport function getAllElementsRecursively(view: View): Element[] {\n  if (get(view, ['views', 'length'], 0) <= 0) {\n    return getAllElements(view);\n  }\n\n  return reduce(\n    view.views,\n    (ele: Element[], subView: View) => {\n      return ele.concat(getAllElementsRecursively(subView));\n    },\n    getAllElements(view)\n  );\n}\n\n/**\n *  View   geometries,  View  View\n */\nexport function getAllGeometriesRecursively(view: View): Geometry[] {\n  if (get(view, ['views', 'length'], 0) <= 0) {\n    return view.geometries;\n  }\n\n  return reduce(\n    view.views,\n    (ele: Geometry[], subView: View) => {\n      return ele.concat(subView.geometries);\n    },\n    view.geometries\n  );\n}\n","import { isType } from '@antv/util';\n/**\n *  v1 label formatter\n * @param labelOptions\n */\nexport function transformLabel(labelOptions: any) {\n  if (!isType(labelOptions, 'Object')) {\n    return labelOptions;\n  }\n  const label = { ...labelOptions };\n  if (label.formatter && !label.content) {\n    label.content = label.formatter;\n  }\n  return label;\n}\n","import { isString, memoize, values } from '@antv/util';\nimport { getCanvasContext } from './context';\n\n/**\n * \n * @param text \n * @param font \n */\nexport const measureTextWidth = memoize(\n  (text: string, font: any = {}): number => {\n    const { fontSize, fontFamily = 'sans-serif', fontWeight, fontStyle, fontVariant } = font;\n    const ctx = getCanvasContext();\n    // @see https://developer.mozilla.org/zh-CN/docs/Web/CSS/font\n    ctx.font = [fontStyle, fontWeight, fontVariant, `${fontSize}px`, fontFamily].join(' ');\n    const metrics = ctx.measureText(isString(text) ? text : '');\n    return metrics.width;\n  },\n  (text: string, font = {}) => [text, ...values(font)].join('')\n);\n","/**\n * \n * @param v\n */\nexport function isRealNumber(v: any) {\n  return typeof v === 'number' && !isNaN(v);\n}\n\n/**\n * @ignore\n * Determines whether between is\n * @param value\n * @param start\n * @param end\n * @returns true if between\n */\nexport function isBetween(value: number, start: number, end: number): boolean {\n  const min = Math.min(start, end);\n  const max = Math.max(start, end);\n\n  return value >= min && value <= max;\n}\n","import { Types } from '@antv/g2';\nimport { isArray, isNumber } from '@antv/util';\n\n/**\n *  padding \n * @param padding\n */\nexport function normalPadding(padding: number | number[] | 'auto'): [number, number, number, number] {\n  if (isNumber(padding)) {\n    return [padding, padding, padding, padding];\n  }\n  if (isArray(padding)) {\n    const length = padding.length;\n\n    if (length === 1) {\n      return [padding[0], padding[0], padding[0], padding[0]];\n    }\n    if (length === 2) {\n      return [padding[0], padding[1], padding[0], padding[1]];\n    }\n    if (length === 3) {\n      return [padding[0], padding[1], padding[2], padding[1]];\n    }\n    if (length === 4) {\n      return padding as [number, number, number, number];\n    }\n  }\n\n  return [0, 0, 0, 0];\n}\n\n/**\n *  appendPadding\n */\nexport function getAdjustAppendPadding(padding: Types.ViewAppendPadding, position = 'bottom', append = 25) {\n  const currentAppendPadding = normalPadding(padding);\n\n  const PADDING = [\n    position.startsWith('top') ? append : 0,\n    position.startsWith('right') ? append : 0,\n    position.startsWith('bottom') ? append : 0,\n    position.startsWith('left') ? append : 0,\n  ];\n  return [\n    currentAppendPadding[0] + PADDING[0],\n    currentAppendPadding[1] + PADDING[1],\n    currentAppendPadding[2] + PADDING[2],\n    currentAppendPadding[3] + PADDING[3],\n  ];\n}\n\n/**\n *  padding  appendPadding  padding\n * @param array\n */\nexport function resolveAllPadding(paddings: Types.ViewPadding[]) {\n  //  padding  normal\n  const normalPaddings = paddings.map((item) => normalPadding(item));\n  let finalPadding = [0, 0, 0, 0];\n  if (normalPaddings.length > 0) {\n    finalPadding = finalPadding.map((item, index) => {\n      //  padding \n      normalPaddings.forEach((d, i) => {\n        item += normalPaddings[i][index];\n      });\n      return item;\n    });\n  }\n  return finalPadding;\n}\n","/**\n * @desc simple kebabCase like lodash\n *\n * kebabCase('fooBar'); => 'foo-bar'\n */\nexport function kebabCase(word: string) {\n  if (!word) {\n    return word;\n  }\n  const result = word.match(/(([A-Z]{0,1}[a-z]*[^A-Z])|([A-Z]{1}))/g);\n  return result.map((s: string) => s.toLowerCase()).join('-');\n}\n","import { IGroup, View } from '@antv/g2';\nimport { each, get, isFunction, isNumber, isString } from '@antv/util';\nimport { Datum, ShapeStyle, Statistic, StatisticText } from '../types';\nimport { kebabCase } from './kebab-case';\nimport { pick } from './pick';\n\n/**\n * @desc  html-statistic  style  ( canvas  shapeStyle  css)\n *\n * @param width\n * @param style\n */\nexport function adapteStyle(style?: StatisticText['style']): object {\n  const styleObject = {\n    overflow: 'hidden',\n    'white-space': 'nowrap',\n    'text-overflow': 'ellipsis',\n    display: 'flex',\n    justifyContent: 'center',\n    alignItems: 'center',\n  };\n\n  const shapeStyleKeys = [\n    'stroke',\n    'lineWidth',\n    'shadowColor',\n    'strokeOpacity',\n    'shadowBlur',\n    'shadowOffsetX',\n    'shadowOffsetY',\n    'fill',\n  ];\n\n  //  shapeStyle   start\n  if (get(style, 'fill')) {\n    styleObject['color'] = style['fill'];\n  }\n  const {\n    shadowColor,\n    shadowBlur = 0,\n    shadowOffsetX = 0,\n    shadowOffsetY = 0,\n  } = pick(style, shapeStyleKeys) as ShapeStyle;\n  styleObject['text-shadow'] = `${[shadowColor, `${shadowOffsetX}px`, `${shadowOffsetY}px`, `${shadowBlur}px`].join(\n    ' '\n  )}`;\n\n  const { stroke, lineWidth = 0 } = pick(style, shapeStyleKeys) as ShapeStyle;\n  styleObject['-webkit-text-stroke'] = `${[`${lineWidth}px`, stroke].join(' ')}`;\n  //  shapeStyle   end\n\n  each(style, (v, k) => {\n    //   shapeStyle  fontSize \n    if (['fontSize'].includes(k) && isNumber(v)) {\n      styleObject[kebabCase(k)] = `${v}px`;\n    } else if (k && !shapeStyleKeys.includes(k)) {\n      styleObject[kebabCase(k)] = `${v}`;\n    }\n  });\n\n  return styleObject;\n}\n\n/**\n * @desc  html-statistic \n *\n * - \n */\nexport function setStatisticContainerStyle(container: HTMLElement, style: Partial<CSSStyleDeclaration>) {\n  container.style['pointer-events'] = 'none';\n  each(style, (v, k) => {\n    if (k && v) {\n      container.style[k] = v;\n    }\n  });\n}\n\n/**\n *  html-annotation position  [50%, 50%]\n * @param chart\n * @param options\n * @param meta \n * @param {optional} datum \n */\nexport const renderStatistic = (chart: View, options: { statistic: Statistic; plotType: string }, datum?: Datum) => {\n  const { statistic, plotType } = options;\n  const { title: titleOpt, content: contentOpt } = statistic;\n\n  [titleOpt, contentOpt].forEach((option, idx) => {\n    if (!option) {\n      return;\n    }\n    let transform = '';\n    if (idx === 0) {\n      transform = contentOpt ? 'translate(-50%, -100%)' : 'translate(-50%, -50%)';\n    } else {\n      transform = titleOpt ? 'translate(-50%, 0)' : 'translate(-50%, -50%)';\n    }\n    const style = isFunction(option.style) ? option.style(datum) : option.style;\n\n    chart.annotation().html({\n      position: ['50%', '50%'],\n      html: (container, view) => {\n        const coordinate = view.getCoordinate();\n        let containerW = 0;\n        if (plotType === 'pie' || plotType === 'ring-progress') {\n          containerW = coordinate.getRadius() * coordinate.innerRadius * 2;\n        } else if (plotType === 'liquid') {\n          const liquidShape = get(view.geometries, [0, 'elements', 0, 'shape']);\n          if (liquidShape) {\n            // \n            const path = (liquidShape as IGroup).find((t) => t.get('name') === 'wrap');\n            const { width } = path.getCanvasBBox();\n            containerW = width;\n          }\n        } else if (!containerW) {\n          // \n          containerW = coordinate.getWidth();\n        }\n        setStatisticContainerStyle(container, {\n          width: `${containerW}px`,\n          transform,\n          // user's style setting has high priority\n          ...adapteStyle(style),\n        });\n\n        const filteredData = view.getData();\n        if (option.customHtml) {\n          return option.customHtml(container, view, datum, filteredData);\n        }\n\n        let text = option.content;\n        if (option.formatter) {\n          text = option.formatter(datum, filteredData);\n        }\n        // todo G2  & G2  number\n        return text ? (isString(text) ? text : `${text}`) : '<div></div>';\n      },\n      // @ts-ignore\n      key: `${idx === 0 ? 'top' : 'bottom'}-statistic`,\n      ...pick(option, ['offsetX', 'offsetY', 'rotate', 'style', 'formatter']) /**  */,\n    });\n  });\n};\n\n/**\n *  html-annotation for gauge ( plot),  position  [50%, 100%]\n * @param chart\n * @param options\n * @param meta \n * @param {optional} datum \n */\nexport const renderGaugeStatistic = (chart: View, options: { statistic: Statistic }, datum?: Datum) => {\n  const { statistic } = options;\n  const { title: titleOpt, content: contentOpt } = statistic;\n\n  [titleOpt, contentOpt].forEach((option) => {\n    if (!option) {\n      return;\n    }\n    const style = isFunction(option.style) ? option.style(datum) : option.style;\n    chart.annotation().html({\n      position: ['50%', '100%'],\n      html: (container, view) => {\n        const coordinate = view.getCoordinate();\n        // \n        const polarCoord = view.views[0].getCoordinate();\n        const polarCenter = polarCoord.getCenter();\n        const polarRadius = polarCoord.getRadius();\n        const polarMaxY = Math.max(Math.sin(polarCoord.startAngle), Math.sin(polarCoord.endAngle)) * polarRadius;\n        const offsetY = polarCenter.y + polarMaxY - coordinate.y.start - parseFloat(get(style, 'fontSize', 0));\n\n        const containerWidth = coordinate.getRadius() * coordinate.innerRadius * 2;\n        setStatisticContainerStyle(container, {\n          width: `${containerWidth}px`,\n          transform: `translate(-50%, ${offsetY}px)`,\n          // user's style setting has high priority\n          ...adapteStyle(style),\n        });\n\n        const filteredData = view.getData();\n        if (option.customHtml) {\n          return option.customHtml(container, view, datum, filteredData);\n        }\n\n        let text = option.content;\n        if (option.formatter) {\n          text = option.formatter(datum, filteredData);\n        }\n\n        // todo G2  & G2  number\n        return text ? (isString(text) ? text : `${text}`) : '<div></div>';\n      },\n      ...pick(option, ['offsetX', 'offsetY', 'rotate', 'style', 'formatter']) /**  */,\n    });\n  });\n};\n","import { reduce } from '@antv/util';\n/**\n * \n * template('hello, {name}', { name: 'AntV' }); // hello, AntV\n * @param string\n * @param options\n */\nexport function template(source: string, data?: object): string {\n  if (!data) {\n    return source;\n  }\n  return reduce(\n    // @ts-ignore\n    data,\n    (r: string, v: string, k: string) => r.replace(new RegExp(`{\\\\s*${k}\\\\s*}`, 'g'), v),\n    source\n  );\n}\n","import { Geometry, Types, View } from '@antv/g2';\nimport { each, isFunction } from '@antv/util';\nimport { Options } from '../types';\nimport { Animation } from '../types/animation';\n\n/**\n *  Chart  id  View\n * @param chart\n * @param id\n */\nexport function findViewById(chart: View, id: string): View {\n  return chart.views.find((view: View) => view.id === id);\n}\n\n/**\n *  view  views\n * @param view  view\n * @returns  views\n * @ignore\n */\nexport function getViews(view: View): View[] {\n  const parent = view.parent;\n  return parent ? parent.views : [];\n}\n\n/**\n *  view  views\n * @param view  view\n * @returns  views\n * @ignore\n */\nexport function getSiblingViews(view: View): View[] {\n  return getViews(view).filter((sub) => sub !== view);\n}\n\n/**\n *  Geometries \n * @param view View\n * @param animation \n */\nexport function addViewAnimation(\n  view: View,\n  animation: Options['animation'],\n  geometries: Geometry<Types.ShapePoint>[] = view.geometries\n) {\n  //  view \n  if (typeof animation === 'boolean') {\n    view.animate(animation);\n  } else {\n    view.animate(true);\n  }\n\n  //  Geometry \n  each(geometries, (g: Geometry) => {\n    let animationCfg;\n    if (isFunction(animation)) {\n      animationCfg = animation(g.type || g.shapeType, g) || true;\n    } else {\n      animationCfg = animation;\n    }\n\n    g.animate(animationCfg as Animation);\n  });\n}\n","import { PatternCfg } from '../../types/pattern';\n\n/**\n * \n */\nexport function getPixelRatio(): number {\n  return typeof window === 'object' ? window?.devicePixelRatio : 2;\n}\n\n/**\n *  cavnas\n */\nexport function initCanvas(width: number, height: number = width): HTMLCanvasElement {\n  const canvas = document.createElement('canvas');\n\n  const pixelRatio = getPixelRatio();\n  // \n  canvas.width = width * pixelRatio;\n  canvas.height = height * pixelRatio;\n  // \n  canvas.style.width = `${width}px`;\n  canvas.style.height = `${height}px`;\n\n  const ctx = canvas.getContext('2d');\n  ctx.scale(pixelRatio, pixelRatio);\n\n  return canvas;\n}\n\n/**\n * \n *\n * @param context\n * @param cfg\n * @param width\n * @param height\n */\nexport function drawBackground(\n  context: CanvasRenderingContext2D,\n  cfg: PatternCfg,\n  width: number,\n  height: number = width\n) {\n  const { backgroundColor, opacity } = cfg;\n\n  context.globalAlpha = opacity;\n  context.fillStyle = backgroundColor;\n\n  context.beginPath();\n  context.fillRect(0, 0, width, height);\n  context.closePath();\n}\n\n/**\n * \n *\n * @param size \n * @param padding \n * @param isStagger \n * @reutrn \n */\nexport function getUnitPatternSize(size: number, padding: number, isStagger: boolean): number {\n  // , unitSize \n  const unitSize = size + padding;\n  return isStagger ? unitSize * 2 : unitSize;\n}\n\n/**\n * \n *\n * @param unitSize \n * @param isStagger \n * @reutrn  x,y \n */\nexport function getSymbolsPosition(unitSize: number, isStagger: boolean): number[][] {\n  // ,  dot\n  const symbolsPos = isStagger\n    ? [\n        [unitSize * (1 / 4), unitSize * (1 / 4)],\n        [unitSize * (3 / 4), unitSize * (3 / 4)],\n      ]\n    : [[unitSize * (1 / 2), unitSize * (1 / 2)]];\n  return symbolsPos;\n}\n\n/**\n *  pattern , \n *\n * @param pattern \n * @param dpr  \n * @param rotation \n */\nexport function transformMatrix(dpr: number, rotation: number) {\n  const radian = (rotation * Math.PI) / 180;\n  const matrix = {\n    a: Math.cos(radian) * (1 / dpr),\n    b: Math.sin(radian) * (1 / dpr),\n    c: -Math.sin(radian) * (1 / dpr),\n    d: Math.cos(radian) * (1 / dpr),\n    e: 0,\n    f: 0,\n  };\n  return matrix;\n}\n","import { DotPatternCfg } from '../../types/pattern';\nimport { deepAssign } from '../../utils';\nimport {\n  drawBackground,\n  getPixelRatio,\n  getSymbolsPosition,\n  getUnitPatternSize,\n  initCanvas,\n  transformMatrix,\n} from './util';\n\n/**\n * dotPattern\n */\nexport const defaultDotPatternCfg = {\n  size: 6,\n  padding: 2,\n  backgroundColor: 'transparent',\n  opacity: 1,\n  rotation: 0,\n  fill: '#fff',\n  fillOpacity: 0.5,\n  stroke: 'transparent',\n  lineWidth: 0,\n  isStagger: true,\n};\n\n/**\n * \n *\n * @param context\n * @param cfg\n * @param x x\n * @param y y\n */\nexport function drawDot(context: CanvasRenderingContext2D, cfg: DotPatternCfg, x: number, y: number) {\n  const { size, fill, lineWidth, stroke, fillOpacity } = cfg;\n\n  context.beginPath();\n  context.globalAlpha = fillOpacity;\n  context.fillStyle = fill;\n  context.strokeStyle = stroke;\n  context.lineWidth = lineWidth;\n  context.arc(x, y, size / 2, 0, 2 * Math.PI, false);\n  context.fill();\n  if (lineWidth) {\n    context.stroke();\n  }\n  context.closePath();\n}\n\n/**\n *  dot pattern HTMLCanvasElement\n *\n * @param cfg\n * @returns HTMLCanvasElement\n */\nexport function createDotPattern(cfg?: DotPatternCfg): CanvasPattern {\n  const dotCfg = deepAssign({}, defaultDotPatternCfg, cfg);\n\n  const { size, padding, isStagger, rotation } = dotCfg;\n\n  //  dots\n  const unitSize = getUnitPatternSize(size, padding, isStagger);\n  const dots = getSymbolsPosition(unitSize, isStagger);\n\n  //  patternCanvas\n  const canvas = initCanvas(unitSize, unitSize);\n  const ctx = canvas.getContext('2d');\n\n  //  backgrounddots\n  drawBackground(ctx, dotCfg, unitSize);\n  for (const [x, y] of dots) {\n    drawDot(ctx, dotCfg, x, y);\n  }\n\n  const pattern = ctx.createPattern(canvas, 'repeat');\n\n  if (pattern) {\n    const dpr = getPixelRatio();\n    const matrix = transformMatrix(dpr, rotation);\n    pattern.setTransform(matrix);\n  }\n\n  return pattern;\n}\n","import { LinePatternCfg } from '../../types/pattern';\nimport { deepAssign } from '../../utils';\nimport { drawBackground, getPixelRatio, initCanvas, transformMatrix } from './util';\n\n/**\n * linePattern  \n */\nexport const defaultLinePatternCfg = {\n  rotation: 45,\n  spacing: 5,\n  opacity: 1,\n  backgroundColor: 'transparent',\n  strokeOpacity: 0.5,\n  stroke: '#fff',\n  lineWidth: 2,\n};\n\n/**\n * line\n *\n * @param context canvasContext\n * @param cfg linePattern \n * @param d  path  d\n */\nexport function drawLine(context: CanvasRenderingContext2D, cfg: LinePatternCfg, d: string) {\n  const { stroke, lineWidth, strokeOpacity } = cfg;\n  const path = new Path2D(d);\n\n  context.globalAlpha = strokeOpacity;\n  context.lineCap = 'square';\n  context.strokeStyle = lineWidth ? stroke : 'transparent';\n  context.lineWidth = lineWidth;\n  context.stroke(path);\n}\n\n/**\n *  linePattern\n */\nexport function createLinePattern(cfg?: LinePatternCfg): CanvasPattern {\n  const lineCfg = deepAssign({}, defaultLinePatternCfg, cfg);\n\n  const { spacing, rotation, lineWidth } = lineCfg;\n\n  //  pattern  path  d\n  const width = spacing + lineWidth || 1;\n  const height = spacing + lineWidth || 1;\n  const d = `\n            M 0 0 L ${width} 0\n            M 0 ${height} L ${width} ${height}\n            `;\n\n  //  patternCanvas\n  const canvas = initCanvas(width, height);\n  const ctx = canvas.getContext('2d');\n\n  //  backgroundline\n  drawBackground(ctx, lineCfg, width, height);\n  drawLine(ctx, lineCfg, d);\n\n  const pattern = ctx.createPattern(canvas, 'repeat');\n\n  if (pattern) {\n    const dpr = getPixelRatio();\n    const matrix = transformMatrix(dpr, rotation);\n    pattern.setTransform(matrix);\n  }\n\n  //  Pattern \n  return pattern;\n}\n","import { SquarePatternCfg } from '../../types/pattern';\nimport { deepAssign } from '../../utils';\nimport {\n  drawBackground,\n  getPixelRatio,\n  getSymbolsPosition,\n  getUnitPatternSize,\n  initCanvas,\n  transformMatrix,\n} from './util';\n\n/**\n * squarePattern  \n */\nexport const defaultSquarePatternCfg = {\n  size: 6,\n  padding: 1,\n  isStagger: true,\n  backgroundColor: 'transparent',\n  opacity: 1,\n  rotation: 0,\n  fill: '#fff',\n  fillOpacity: 0.5,\n  stroke: 'transparent',\n  lineWidth: 0,\n};\n\n/**\n * square\n *\n * @param context canvasContext\n * @param cfg squarePattern \n * @param xy square\n */\nexport function drawSquare(context: CanvasRenderingContext2D, cfg: SquarePatternCfg, x: number, y: number) {\n  const { stroke, size, fill, lineWidth, fillOpacity } = cfg;\n\n  context.globalAlpha = fillOpacity;\n  context.strokeStyle = stroke;\n  context.lineWidth = lineWidth;\n  context.fillStyle = fill;\n  // xy\n  context.strokeRect(x - size / 2, y - size / 2, size, size);\n  context.fillRect(x - size / 2, y - size / 2, size, size);\n}\n\n/**\n *  squarePattern\n */\nexport function createSquarePattern(cfg?: SquarePatternCfg): CanvasPattern {\n  const squareCfg = deepAssign({}, defaultSquarePatternCfg, cfg);\n\n  const { size, padding, isStagger, rotation } = squareCfg;\n\n  //  squares\n  const unitSize = getUnitPatternSize(size, padding, isStagger);\n  const squares = getSymbolsPosition(unitSize, isStagger); //  dots \n\n  //  patternCanvas\n  const canvas = initCanvas(unitSize, unitSize);\n  const ctx = canvas.getContext('2d');\n\n  //  backgroundsquares\n  drawBackground(ctx, squareCfg, unitSize);\n  for (const [x, y] of squares) {\n    drawSquare(ctx, squareCfg, x, y);\n  }\n\n  const pattern = ctx.createPattern(canvas, 'repeat');\n\n  if (pattern) {\n    const dpr = getPixelRatio();\n    const matrix = transformMatrix(dpr, rotation);\n    pattern.setTransform(matrix);\n  }\n\n  return pattern;\n}\n","import { DotPatternCfg, LinePatternCfg, SquarePatternCfg } from '../../types/pattern';\nimport { createDotPattern } from './dot';\nimport { createLinePattern } from './line';\nimport { createSquarePattern } from './square';\n\nexport type PatternOption =\n  | {\n      type: 'dot';\n      cfg?: DotPatternCfg;\n    }\n  | {\n      type: 'line';\n      cfg?: LinePatternCfg;\n    }\n  | {\n      type: 'square';\n      cfg?: SquarePatternCfg;\n    };\n\n/**\n *  CanvasPattern \n * @param options\n * @returns\n */\nexport function getCanvasPattern(options: PatternOption): CanvasPattern | undefined {\n  const { type, cfg } = options;\n\n  let pattern;\n\n  switch (type) {\n    case 'dot':\n      pattern = createDotPattern(cfg);\n      break;\n    case 'line':\n      pattern = createLinePattern(cfg);\n      break;\n    case 'square':\n      pattern = createSquarePattern(cfg);\n      break;\n    default:\n      break;\n  }\n\n  return pattern;\n}\n","import { Util } from '@antv/g2';\nimport { get } from '@antv/util';\nimport { Params } from '../core/adaptor';\nimport { Datum, Options, StyleAttr } from '../types';\nimport { deepAssign } from '../utils';\nimport { getCanvasPattern } from '../utils/pattern';\n\n/**\n *  Pattern  options colorField/seriesField/stackField \n */\ntype OptionsRequiredInPattern = Omit<Options, 'data'>;\n\n/**\n * Pattern \n *   view \n *\n * @param key key of style property\n * @returns\n */\nexport function pattern(key: string) {\n  return <O extends OptionsRequiredInPattern = OptionsRequiredInPattern>(params: Params<O>): Params<O> => {\n    const { options, chart } = params;\n    const { pattern: patternOption } = options;\n\n    //  pattern \n    if (!patternOption) {\n      return params;\n    }\n\n    /** ~~~~~~~  ~~~~~~~ */\n\n    const style: StyleAttr = (datum?: Datum, ...args: any[]) => {\n      const { defaultColor } = chart.getTheme();\n      let color = defaultColor;\n\n      const colorAttribute = chart.geometries?.[0]?.getAttribute('color');\n      if (colorAttribute) {\n        const colorField = colorAttribute.getFields()[0];\n        const seriesValue = get(datum, colorField);\n        color = Util.getMappingValue(colorAttribute, seriesValue, colorAttribute.values?.[0] || defaultColor);\n      }\n\n      let pattern: CanvasPattern = patternOption as CanvasPattern;\n\n      // 1.  patternOption `(datum: Datum, color: string) => CanvasPattern`\n      if (typeof patternOption === 'function') {\n        pattern = patternOption.call(this, datum, color);\n      }\n\n      // 2.  pattern  CanvasPattern fill\n      if (pattern instanceof CanvasPattern === false) {\n        //  createPattern(PatternStyle)  CanvasPattern\n        pattern = getCanvasPattern(deepAssign({}, { cfg: { backgroundColor: color } }, pattern));\n      }\n\n      const styleOption = options[key] as StyleAttr;\n\n      return {\n        ...(typeof styleOption === 'function' ? styleOption.call(this, datum, ...args) : styleOption || {}),\n        fill: pattern || color,\n      };\n    };\n\n    return deepAssign({}, params, { options: { [key]: style } });\n  };\n}\n","import { Geometry, Types } from '@antv/g2';\nimport { each, isNil, isObject } from '@antv/util';\nimport { AXIS_META_CONFIG_KEYS } from '../constant';\nimport { Params } from '../core/adaptor';\nimport { Options } from '../types';\nimport { Axis } from '../types/axis';\nimport { Transformations } from '../types/coordinate';\nimport { Interaction } from '../types/interaction';\nimport { addViewAnimation, deepAssign, pick } from '../utils';\n\n/**\n *  legend ,  colorField  seriesField \n * @param params\n */\nexport function legend<O extends Pick<Options, 'legend'> & { colorField?: string; seriesField?: string }>(\n  params: Params<O>\n): Params<O> {\n  const { chart, options } = params;\n  const { legend, colorField, seriesField } = options;\n\n  if (legend === false) {\n    chart.legend(false);\n  } else if (colorField || seriesField) {\n    chart.legend(colorField || seriesField, legend);\n  }\n\n  return params;\n}\n\n/**\n *  tooltip \n * @param params\n */\nexport function tooltip<O extends Pick<Options, 'tooltip'>>(params: Params<O>): Params<O> {\n  const { chart, options } = params;\n  const { tooltip } = options;\n\n  if (tooltip !== undefined) {\n    chart.tooltip(tooltip);\n  }\n\n  return params;\n}\n\n/**\n * Interaction \n * @param params\n */\nexport function interaction<O extends Pick<Options, 'interactions'>>(params: Params<O>): Params<O> {\n  const { chart, options } = params;\n  const { interactions } = options;\n\n  each(interactions, (i: Interaction) => {\n    if (i.enable === false) {\n      chart.removeInteraction(i.type);\n    } else {\n      chart.interaction(i.type, i.cfg || {});\n    }\n  });\n\n  return params;\n}\n\n/**\n * \n * @param params\n */\nexport function animation<O extends Pick<Options, 'animation'>>(params: Params<O>): Params<O> {\n  const { chart, options } = params;\n  const { animation } = options;\n\n  //  Geometry \n  addViewAnimation(chart, animation);\n\n  return params;\n}\n\n/**\n * \n * @param params\n */\nexport function theme<O extends Pick<Options, 'theme'>>(params: Params<O>): Params<O> {\n  const { chart, options } = params;\n  const { theme } = options;\n\n  // \n  if (theme) {\n    chart.theme(theme);\n  }\n  return params;\n}\n\n/**\n *  state \n * @param params\n */\nexport function state<O extends Options>(params: Params<O>): Params<O> {\n  const { chart, options } = params;\n  const { state } = options;\n\n  if (state) {\n    each(chart.geometries, (geometry: Geometry) => {\n      geometry.state(state);\n    });\n  }\n\n  return params;\n}\n\n/**\n *  adaptor\n * @param params\n */\nexport function slider(params: Params<Options>): Params<Options> {\n  const { chart, options } = params;\n  const { slider } = options;\n\n  chart.option('slider', slider);\n\n  return params;\n}\n\n/**\n *  adaptor\n * @param params\n */\nexport function scrollbar(params: Params<Options>): Params<Options> {\n  const { chart, options } = params;\n  const { scrollbar } = options;\n\n  chart.option('scrollbar', scrollbar);\n\n  return params;\n}\n\n/**\n * scale  adaptor\n * @param axes\n */\nexport function scale(axes: Record<string, Axis>, meta?: Options['meta']) {\n  return function <O extends Pick<Options, 'meta'>>(params: Params<O>): Params<O> {\n    const { chart, options } = params;\n\n    // 1.  scale \n    let scales: Record<string, any> = {};\n    each(axes, (axis: Axis, field: string) => {\n      scales[field] = pick(axis, AXIS_META_CONFIG_KEYS);\n    });\n\n    // 2. meta  scale \n    scales = deepAssign({}, meta, options.meta, scales);\n\n    chart.scale(scales);\n\n    return params;\n  };\n}\n\n/**\n * annotation \n * @param params\n */\nexport function annotation(annotationOptions?: Options['annotations']) {\n  return function <O extends Pick<Options, 'annotations'>>(params: Params<O>): Params<O> {\n    const { chart, options } = params;\n\n    const annotationController = chart.getController('annotation');\n\n    /**  annotation */\n    each([...(options.annotations || []), ...(annotationOptions || [])], (annotationOption) => {\n      // @ts-ignore\n      annotationController.annotation(annotationOption);\n    });\n\n    return params;\n  };\n}\n\n/**\n *  limitInPlot\n * @param params\n */\nexport function limitInPlot(params: Params<Options>): Params<Options> {\n  const { chart, options } = params;\n  const { yAxis, limitInPlot } = options;\n\n  let value = limitInPlot;\n\n  //  limitInPlot yAxis  min/max  limitInPlot\n  if (isObject(yAxis) && isNil(limitInPlot)) {\n    if (Object.values(pick(yAxis, ['min', 'max', 'minLimit', 'maxLimit'])).some((value) => !isNil(value))) {\n      value = true;\n    } else {\n      value = false;\n    }\n  }\n  chart.limitInPlot = value;\n\n  return params;\n}\n\n/**\n * \n */\nexport function transformations(coordinateType: Types.CoordinateOption['type'] = 'rect') {\n  return (params: Params<Options & { coordinate: Transformations }>) => {\n    const { chart, options } = params;\n    const { coordinate } = options;\n\n    const actions: Types.CoordinateActions[] = Array.from(coordinate || [])\n      .map((cfg) => {\n        if (cfg.type === 'reflectX') return ['reflect', 'x'] as Types.CoordinateActions;\n        if (cfg.type === 'reflectY') return ['reflect', 'y'] as Types.CoordinateActions;\n        if (cfg.type === 'transpose') return ['transpose'] as Types.CoordinateActions;\n\n        return null;\n      })\n      .filter((d) => !!d);\n\n    if (actions.length !== 0) {\n      chart.coordinate({ type: coordinateType, actions });\n    }\n\n    return params;\n  };\n}\n\nexport { pattern } from './pattern';\n","import { each } from '@antv/util';\n/**\n * @file ...\n */\nexport const GLOBAL = {\n  /**  */\n  locale: 'en-US',\n};\n\n/**\n * \n * @param key\n * @param value\n */\nexport function setGlobal(datum: Record<string, any>): void {\n  each(datum, (v, k) => (GLOBAL[k] = v));\n}\n","import { get } from '@antv/util';\nimport { Locale } from '../types/locale';\nimport { template } from '../utils';\nimport { GLOBAL } from './global';\n\nconst LocaleMap = {};\n\n/**\n * register a locale\n * @param locale\n * @param localeObj\n */\nexport function registerLocale(locale: string, localeObj: Locale) {\n  LocaleMap[locale] = localeObj;\n}\n\n/**\n * get locale of specific language\n * @param lang\n * @returns\n */\nexport function getLocale(locale: string) {\n  return {\n    get: (key: string | string[], obj?: Record<string, any>) => {\n      return template(\n        get(LocaleMap[locale], key) || get(LocaleMap[GLOBAL.locale], key) || get(LocaleMap['en-US'], key) || key,\n        obj\n      );\n    },\n  };\n}\n","import { get } from '@antv/util';\nimport { Tooltip, TooltipMapping } from '../types/tooltip';\n\n/**\n *  tooltip \n * @param tooltip\n * @param defaultFields\n */\nexport function getTooltipMapping(tooltip: Tooltip, defaultFields: string[]): TooltipMapping {\n  if (tooltip === false) {\n    return {\n      fields: false, //  tooltip\n    };\n  }\n\n  let fields = get(tooltip, 'fields');\n  const formatter = get(tooltip, 'formatter');\n\n  if (formatter && !fields) {\n    fields = defaultFields;\n  }\n\n  return {\n    fields,\n    formatter,\n  };\n}\n","import { isEmpty, isFunction, isNumber, isObject, isString, uniq } from '@antv/util';\nimport { Params } from '../../core/adaptor';\nimport { ColorAttr, Datum, Options, RawFields, ShapeAttr, SizeAttr, StyleAttr, TooltipAttr } from '../../types';\nimport { Label } from '../../types/label';\nimport { State } from '../../types/state';\nimport { transformLabel } from '../../utils';\n\n/**\n * \n */\nexport type MappingOptions = {\n  /** color  */\n  readonly color?: ColorAttr;\n  /** shape  */\n  readonly shape?: ShapeAttr;\n  /** ,  */\n  readonly size?: SizeAttr;\n  /**  */\n  readonly style?: StyleAttr;\n  /** tooltip  */\n  readonly tooltip?: TooltipAttr;\n};\n\n/**\n * \n * // TODO  adjust  field  styleFieldlabelField \n */\nexport type Geometry = {\n  /** geometry , 'line' | 'interval' | 'point' | 'area' | 'polygon' */\n  readonly type?: string;\n  /** x  */\n  readonly xField?: string;\n  /** y  */\n  readonly yField?: string;\n  /**  */\n  readonly colorField?: string;\n  /** shape  */\n  readonly shapeField?: string;\n  /** size  */\n  readonly sizeField?: string;\n  /** style  */\n  readonly styleField?: string;\n  /** tooltip  */\n  readonly tooltipFields?: string[] | false;\n  /** ,  mapping  */\n  readonly rawFields?: RawFields;\n  /**  */\n  readonly mapping?: MappingOptions;\n  /** label  */\n  readonly label?: Label;\n  /**  */\n  readonly state?: State;\n  /**  registerShape  */\n  readonly customInfo?: any;\n  /** geometry params */\n  readonly args?: any;\n};\n\n/**\n * geometry options\n */\nexport type GeometryOptions = Geometry & Partial<Options>;\n\n/**\n * \n * @param options\n * @param field\n */\nexport function getMappingField(\n  o: GeometryOptions,\n  field: 'color' | 'shape' | 'size' | 'style'\n): {\n  mappingFields: string[];\n  tileMappingField: string;\n} {\n  const { type, xField, yField, colorField, shapeField, sizeField, styleField } = o;\n  let { rawFields } = o;\n\n  let fields = [];\n  rawFields = (isFunction(rawFields) ? rawFields(type, field) : rawFields) || [];\n\n  //  color  bar  widthRatio \n  //  color  colorField  + rawFields\n  // shape, size \n  if (field === 'color') {\n    fields = [colorField || xField, ...rawFields];\n  } else if (field === 'shape') {\n    fields = [shapeField || xField, ...rawFields];\n  } else if (field === 'size') {\n    fields = [sizeField || xField, ...rawFields];\n  } else {\n    fields = [xField, yField, colorField, shapeField, sizeField, styleField, ...rawFields];\n\n    // \n    const idx = ['x', 'y', 'color', 'shape', 'size', 'style'].indexOf(field);\n\n    const f = fields[idx];\n    // \n    fields.splice(idx, 1);\n    // \n    fields.unshift(f);\n  }\n\n  const mappingFields = uniq(fields.filter((f) => !!f));\n  /**\n   *  line geometry  color \n   * eg:\n   *   geometry.color(xField, ()=> '#f24')\n   */\n  const tileMappingField =\n    type === 'line' && [xField, yField].includes(mappingFields.join('*')) ? '' : mappingFields.join('*');\n  return {\n    mappingFields,\n    tileMappingField,\n  };\n}\n\n/**\n * \n * @param mappingFields\n * @param func\n */\nexport function getMappingFunction(mappingFields: string[], func: (datum: Datum) => any) {\n  if (!func) return undefined;\n  // \n  return (...args: any[]) => {\n    const params: Datum = {};\n\n    mappingFields.forEach((f: string, idx: number) => {\n      params[f] = args[idx];\n    });\n\n    //  undefined\n    delete params['undefined'];\n\n    return func(params);\n  };\n}\n\n/**\n *  geometry  adaptor\n * @param params\n */\nexport function geometry<O extends GeometryOptions>(params: Params<O>): Params<O> {\n  const { chart, options } = params;\n  const {\n    type,\n    args,\n    mapping,\n    xField,\n    yField,\n    colorField,\n    shapeField,\n    sizeField,\n    tooltipFields,\n    label,\n    state,\n    customInfo,\n  } = options;\n\n  //  mapping \n  if (!mapping) {\n    return params;\n  }\n\n  const { color, shape, size, style, tooltip } = mapping;\n\n  //  geometry\n  const geometry = chart[type](args).position(`${xField}*${yField}`);\n\n  /**\n   * color \n   * g.color('red');\n   * g.color('color', ['red', 'blue']);\n   * g.color('x', (x, y) => 'red');\n   * g.color('color', (color, x, y) => 'red');\n   */\n  if (isString(color)) {\n    colorField ? geometry.color(colorField, color) : geometry.color(color);\n  } else if (isFunction(color)) {\n    const { mappingFields, tileMappingField } = getMappingField(options, 'color');\n    geometry.color(tileMappingField, getMappingFunction(mappingFields, color));\n  } else {\n    colorField && geometry.color(colorField, color);\n  }\n\n  /**\n   * shape \n   * g.shape('rect');\n   * g.shape('shape', ['rect', 'circle']);\n   * g.shape('x*y', (x, y) => 'rect');\n   * g.shape('shape*x*y', (shape, x, y) => 'rect');\n   */\n  if (isString(shape)) {\n    shapeField ? geometry.shape(shapeField, [shape]) : geometry.shape(shape); // [shape]  G2 \n  } else if (isFunction(shape)) {\n    const { mappingFields, tileMappingField } = getMappingField(options, 'shape');\n    geometry.shape(tileMappingField, getMappingFunction(mappingFields, shape));\n  } else {\n    shapeField && geometry.shape(shapeField, shape);\n  }\n\n  /**\n   * size \n   * g.size(10);\n   * g.size('size', [10, 20]);\n   * g.size('x*y', (x, y) => 10);\n   * g.color('size*x*y', (size, x, y) => 1-);\n   */\n  if (isNumber(size)) {\n    sizeField ? geometry.size(sizeField, size) : geometry.size(size);\n  } else if (isFunction(size)) {\n    const { mappingFields, tileMappingField } = getMappingField(options, 'size');\n    geometry.size(tileMappingField, getMappingFunction(mappingFields, size));\n  } else {\n    sizeField && geometry.size(sizeField, size);\n  }\n\n  /**\n   * style \n   * g.style({ fill: 'red' });\n   * g.style('x*y*color', (x, y, color) => ({ fill: 'red' }));\n   */\n  if (isFunction(style)) {\n    const { mappingFields, tileMappingField } = getMappingField(options, 'style');\n    geometry.style(tileMappingField, getMappingFunction(mappingFields, style));\n  } else if (isObject(style)) {\n    geometry.style(style);\n  }\n\n  /**\n   * tooltip  API\n   * g.tooltip('x*y*color', (x, y, color) => ({ name, value }));\n   * g.tooltip(false);\n   */\n  if (tooltipFields === false) {\n    geometry.tooltip(false);\n  } else if (!isEmpty(tooltipFields)) {\n    geometry.tooltip(tooltipFields.join('*'), getMappingFunction(tooltipFields, tooltip));\n  }\n\n  /**\n   * label \n   */\n  if (label === false) {\n    geometry.label(false);\n  } else if (label) {\n    const { callback, fields, ...cfg } = label;\n    geometry.label({\n      fields: fields || [yField],\n      callback,\n      cfg: transformLabel(cfg),\n    });\n  }\n\n  /**\n   * state \n   */\n  if (state) {\n    geometry.state(state);\n  }\n\n  /**\n   * \n   */\n  if (customInfo) {\n    geometry.customInfo(customInfo);\n  }\n\n  //  x y \n  [xField, yField]\n    .filter((f: string) => f !== colorField)\n    .forEach((f: string) => {\n      chart.legend(f, false);\n    });\n  return {\n    ...params,\n    // geometry adaptor  geometry  adaptor type \n    ext: { geometry },\n  };\n}\n","import { Params } from '../../core/adaptor';\nimport { deepAssign } from '../../utils';\nimport { getTooltipMapping } from '../../utils/tooltip';\nimport { geometry, GeometryOptions, MappingOptions } from './base';\n\nexport interface AreaGeometryOptions extends GeometryOptions {\n  /** x  */\n  readonly xField?: string;\n  /** y  */\n  readonly yField?: string;\n  /**  */\n  readonly seriesField?: string;\n  /**  */\n  readonly smooth?: boolean;\n  /** area  */\n  readonly area?: MappingOptions;\n}\n\n/**\n * area geometry \n * @param params\n */\nexport function area<O extends AreaGeometryOptions>(params: Params<O>): Params<O> {\n  const { options } = params;\n  const { area, xField, yField, seriesField, smooth, tooltip, useDeferredLabel } = options;\n\n  const { fields, formatter } = getTooltipMapping(tooltip, [xField, yField, seriesField]);\n\n  // \n  return area\n    ? geometry(\n        deepAssign({}, params, {\n          options: {\n            type: 'area',\n            colorField: seriesField,\n            tooltipFields: fields,\n            mapping: {\n              shape: smooth ? 'smooth' : 'area',\n              tooltip: formatter,\n              ...area,\n            },\n            args: { useDeferredLabel },\n          },\n        })\n      )\n    : params;\n}\n","import { Params } from '../../core/adaptor';\nimport { deepAssign } from '../../utils';\nimport { getTooltipMapping } from '../../utils/tooltip';\nimport { geometry, GeometryOptions, MappingOptions } from './base';\n\nexport interface EdgeGeometryOptions extends GeometryOptions {\n  /** x  */\n  readonly xField?: string;\n  /** y  */\n  readonly yField?: string;\n  /**  */\n  readonly seriesField?: string;\n  /** edge  */\n  readonly edge?: MappingOptions;\n}\n\n/**\n * edge \n * @param params\n */\nexport function edge<O extends EdgeGeometryOptions>(params: Params<O>): Params<O> {\n  const { options } = params;\n  const { edge, xField, yField, seriesField, tooltip, useDeferredLabel } = options;\n\n  const { fields, formatter } = getTooltipMapping(tooltip, [xField, yField, seriesField]);\n\n  return edge\n    ? geometry(\n        deepAssign({}, params, {\n          options: {\n            type: 'edge',\n            colorField: seriesField,\n            tooltipFields: fields,\n            mapping: {\n              tooltip: formatter,\n              ...edge,\n            },\n            args: { useDeferredLabel },\n          },\n        })\n      )\n    : params;\n}\n","import { Geometry, getTheme, ShapeAttrs } from '@antv/g2';\nimport { isNil, isObject } from '@antv/util';\nimport { Params } from '../../core/adaptor';\nimport { deepAssign } from '../../utils';\nimport { getTooltipMapping } from '../../utils/tooltip';\nimport { geometry, GeometryOptions, MappingOptions } from './base';\n\nexport interface IntervalGeometryOptions extends GeometryOptions {\n  /** x  */\n  readonly xField: string;\n  /** y  */\n  readonly yField: string;\n  /**  groupFieldcolorField stackFieldcolorField  */\n  readonly seriesField?: string;\n  /**  */\n  readonly isGroup?: boolean;\n  /**  */\n  readonly isStack?: boolean;\n  /**  [0-1] */\n  readonly widthRatio?: number;\n  /** () */\n  readonly intervalPadding?: number;\n  /**  [0-1] */\n  readonly marginRatio?: number;\n  /** () */\n  readonly dodgePadding?: number;\n  /**  */\n  readonly minColumnWidth?: number;\n  /**  */\n  readonly maxColumnWidth?: number;\n  /**  */\n  readonly columnBackground?: { style: ShapeAttrs };\n  /**  colorshapesizestyletooltip */\n  readonly interval?: MappingOptions;\n  /**  seriesField , isGroup: true  groupField */\n  readonly groupField?: string;\n}\n\n/**\n *  adaptor\n * @param params\n */\nfunction otherAdaptor<O extends IntervalGeometryOptions>(params: Params<O>): Params<O> {\n  const { chart, options, ext } = params;\n  const { seriesField, isGroup, isStack, marginRatio, widthRatio, groupField, theme } = options;\n\n  /**\n   * adjust\n   */\n  const adjust = [];\n  if (seriesField) {\n    // group\n    if (isGroup) {\n      adjust.push({\n        type: 'dodge',\n        dodgeBy: groupField || seriesField,\n        marginRatio,\n      });\n    }\n    // stack\n    if (isStack) {\n      adjust.push({\n        type: 'stack',\n        marginRatio,\n      });\n    }\n  }\n\n  if (adjust.length && ext?.geometry) {\n    const g = ext?.geometry as Geometry;\n    g.adjust(adjust);\n  }\n\n  // widthRatio\n  if (!isNil(widthRatio)) {\n    chart.theme(\n      deepAssign({}, isObject(theme) ? theme : getTheme(theme), {\n        // columWidthRatio  theme \n        columnWidthRatio: widthRatio,\n      })\n    );\n  }\n\n  return params;\n}\n\nexport function interval<O extends IntervalGeometryOptions>(params: Params<O>): Params<O> {\n  const { options } = params;\n  const {\n    xField,\n    yField,\n    interval,\n    seriesField,\n    tooltip,\n    minColumnWidth,\n    maxColumnWidth,\n    columnBackground,\n    dodgePadding,\n    intervalPadding,\n    useDeferredLabel,\n  } = options;\n\n  const { fields, formatter } = getTooltipMapping(tooltip, [xField, yField, seriesField]);\n\n  //  interval \n  const { ext } = interval\n    ? geometry(\n        deepAssign({}, params, {\n          options: {\n            type: 'interval',\n            colorField: seriesField,\n            tooltipFields: fields,\n            mapping: {\n              tooltip: formatter,\n              ...interval,\n            },\n            args: {\n              dodgePadding,\n              intervalPadding,\n              minColumnWidth,\n              maxColumnWidth,\n              background: columnBackground,\n              useDeferredLabel,\n            },\n          },\n        })\n      )\n    : params;\n\n  return otherAdaptor({\n    ...params,\n    ext,\n  });\n}\n","import { deepMix } from '@antv/util';\nimport { Params } from '../../core/adaptor';\nimport { deepAssign } from '../../utils';\nimport { getTooltipMapping } from '../../utils/tooltip';\nimport { geometry, GeometryOptions, MappingOptions } from './base';\n\nexport interface LineGeometryOptions extends GeometryOptions {\n  /** x  */\n  readonly xField?: string;\n  /** y  */\n  readonly yField?: string;\n  /**  */\n  readonly seriesField?: string;\n  /**  */\n  readonly smooth?: boolean;\n  /**  */\n  readonly connectNulls?: boolean;\n  /** line  */\n  readonly line?: MappingOptions;\n  /**  */\n  readonly stepType?: string;\n}\n\n/**\n * line \n * @param params\n */\nexport function line<O extends LineGeometryOptions>(params: Params<O>): Params<O> {\n  const { options } = params;\n  const { line, stepType, xField, yField, seriesField, smooth, connectNulls, tooltip, useDeferredLabel } = options;\n\n  const { fields, formatter } = getTooltipMapping(tooltip, [xField, yField, seriesField]);\n\n  // \n  return line\n    ? geometry(\n        deepAssign({}, params, {\n          options: {\n            type: 'line',\n            colorField: seriesField,\n            tooltipFields: fields,\n            mapping: deepMix(\n              {\n                shape: stepType || (smooth ? 'smooth' : 'line'),\n                tooltip: formatter,\n              },\n              line\n            ),\n            args: { connectNulls, useDeferredLabel },\n          },\n        })\n      )\n    : params;\n}\n","import { Params } from '../../core/adaptor';\nimport { deepAssign } from '../../utils';\nimport { getTooltipMapping } from '../../utils/tooltip';\nimport { geometry, GeometryOptions, MappingOptions } from './base';\n\nexport interface PointGeometryOptions extends GeometryOptions {\n  /** x  */\n  readonly xField?: string;\n  /** y  */\n  readonly yField?: string;\n  /**  */\n  readonly seriesField?: string;\n  /** size  */\n  readonly sizeField?: string;\n  /** shape  */\n  readonly shapeField?: string;\n  /** point  */\n  readonly point?: MappingOptions;\n}\n\n/**\n * point \n * @param params\n */\nexport function point<O extends PointGeometryOptions>(params: Params<O>): Params<O> {\n  const { options } = params;\n  const { point, xField, yField, seriesField, sizeField, shapeField, tooltip, useDeferredLabel } = options;\n\n  const { fields, formatter } = getTooltipMapping(tooltip, [xField, yField, seriesField, sizeField, shapeField]);\n\n  return point\n    ? geometry(\n        deepAssign({}, params, {\n          options: {\n            type: 'point',\n            colorField: seriesField,\n            shapeField: shapeField,\n            tooltipFields: fields,\n            mapping: {\n              tooltip: formatter,\n              ...point,\n            },\n            args: { useDeferredLabel },\n          },\n        })\n      )\n    : params;\n}\n","import { Params } from '../../core/adaptor';\nimport { deepAssign } from '../../utils';\nimport { getTooltipMapping } from '../../utils/tooltip';\nimport { geometry, GeometryOptions, MappingOptions } from './base';\n\nexport interface PolygonGeometryOptions extends GeometryOptions {\n  /** x  */\n  readonly xField?: string;\n  /** y  */\n  readonly yField?: string;\n  /**  */\n  readonly seriesField?: string;\n  /** point  */\n  readonly polygon?: MappingOptions;\n}\n\n/**\n * polygon \n * @param params\n */\nexport function polygon<O extends PolygonGeometryOptions>(params: Params<O>): Params<O> {\n  const { options } = params;\n  const { polygon, xField, yField, seriesField, tooltip, useDeferredLabel } = options;\n\n  const { fields, formatter } = getTooltipMapping(tooltip, [xField, yField, seriesField]);\n\n  return polygon\n    ? geometry(\n        deepAssign({}, params, {\n          options: {\n            type: 'polygon',\n            colorField: seriesField,\n            tooltipFields: fields,\n            mapping: {\n              tooltip: formatter,\n              ...polygon,\n            },\n            args: { useDeferredLabel },\n          },\n        })\n      )\n    : params;\n}\n","import { Params } from '../../core/adaptor';\nimport { deepAssign } from '../../utils';\nimport { getTooltipMapping } from '../../utils/tooltip';\nimport { geometry, GeometryOptions, MappingOptions } from './base';\n\nexport interface SchemaGeometryOptions extends GeometryOptions {\n  /** x  */\n  readonly xField?: string;\n  /** y  */\n  readonly yField?: string;\n  /**  */\n  readonly seriesField?: string;\n  /** point  */\n  readonly schema?: MappingOptions;\n}\n\n/**\n * schema \n * @param params\n */\nexport function schema<O extends SchemaGeometryOptions>(params: Params<O>): Params<O> {\n  const { options } = params;\n  const { schema, xField, yField, seriesField, tooltip, useDeferredLabel } = options;\n\n  const { fields, formatter } = getTooltipMapping(tooltip, [xField, yField, seriesField]);\n\n  return schema\n    ? geometry(\n        deepAssign({}, params, {\n          options: {\n            type: 'schema',\n            colorField: seriesField,\n            tooltipFields: fields,\n            mapping: {\n              tooltip: formatter,\n              ...schema,\n            },\n            args: { useDeferredLabel },\n          },\n        })\n      )\n    : params;\n}\n","import EE from '@antv/event-emitter';\nimport { Chart, Element, Event, View } from '@antv/g2';\nimport { each } from '@antv/util';\nimport { bind } from 'size-sensor';\nimport { Annotation, Options, Size, StateCondition, StateName, StateObject } from '../types';\nimport { deepAssign, getAllElementsRecursively, getContainerSize, pick } from '../utils';\nimport { Adaptor } from './adaptor';\n\n/**  pick  */\nexport type PickOptions = Pick<\n  Options,\n  | 'width'\n  | 'height'\n  | 'padding'\n  | 'appendPadding'\n  | 'renderer'\n  | 'pixelRatio'\n  | 'autoFit'\n  | 'syncViewPadding'\n  | 'supportCSSTransform'\n  | 'limitInPlot'\n  | 'locale'\n  | 'defaultInteractions'\n>;\n\nconst SOURCE_ATTRIBUTE_NAME = 'data-chart-source-type';\n\n/** plot  */\nexport const PLOT_CONTAINER_OPTIONS = [\n  'padding',\n  'appendPadding',\n  'renderer',\n  'pixelRatio',\n  'syncViewPadding',\n  'supportCSSTransform',\n  'limitInPlot',\n];\n\n/**\n *  plot \n */\nexport abstract class Plot<O extends PickOptions> extends EE {\n  /**\n   *  options \n   * \n   */\n  static getDefaultOptions(): any {\n    return {\n      renderer: 'canvas',\n      xAxis: {\n        nice: true,\n        label: {\n          autoRotate: false,\n          autoHide: { type: 'equidistance', cfg: { minGap: 6 } },\n        },\n      },\n      yAxis: {\n        nice: true,\n        label: {\n          autoHide: true,\n          autoRotate: false,\n        },\n      },\n      animation: true,\n    };\n  }\n\n  /** plot  */\n  public abstract readonly type: string;\n  /** plot  schema  */\n  public options: O;\n  /** plot  dom */\n  public readonly container: HTMLElement;\n  /** G2 chart  */\n  public chart: Chart;\n  /** resizer unbind  */\n  private unbind: () => void;\n\n  constructor(container: string | HTMLElement, options: O) {\n    super();\n    this.container = typeof container === 'string' ? document.getElementById(container) : container;\n\n    this.options = deepAssign({}, this.getDefaultOptions(), options);\n\n    this.createG2();\n\n    this.bindEvents();\n  }\n\n  /**\n   *  G2 \n   */\n  private createG2() {\n    const { width, height, defaultInteractions } = this.options;\n\n    this.chart = new Chart({\n      container: this.container,\n      autoFit: false, // G2Plot  size-sensor  autoFit\n      ...this.getChartSize(width, height),\n      localRefresh: false, //  G \n      ...pick(this.options, PLOT_CONTAINER_OPTIONS),\n      defaultInteractions,\n    });\n\n    //  G2\n    this.container.setAttribute(SOURCE_ATTRIBUTE_NAME, 'G2Plot');\n  }\n\n  /**\n   *  chart  width  height\n   * @param width\n   * @param height\n   */\n  private getChartSize(width: number, height: number): Size {\n    const chartSize = getContainerSize(this.container);\n    return { width: width || chartSize.width || 400, height: height || chartSize.height || 400 };\n  }\n\n  /**\n   *  G2 \n   */\n  private bindEvents() {\n    if (this.chart) {\n      this.chart.on('*', (e: Event) => {\n        if (e?.type) {\n          this.emit(e.type, e);\n        }\n      });\n    }\n  }\n\n  /**\n   *  options \n   * \n   */\n  protected getDefaultOptions(): any {\n    return Plot.getDefaultOptions();\n  }\n\n  /**\n   *  schema adaptor\n   */\n  protected abstract getSchemaAdaptor(): Adaptor<O>;\n\n  /**\n   * \n   */\n  public render() {\n    //  G2 \n    this.chart.clear();\n    //  view  view  options  legend legend \n    //  chart  options \n    //  G2 view.clear  options  resetOptions\n    // #1684  view  custom legend\n    // @ts-ignore\n    this.chart.options = {\n      data: [],\n      animate: true,\n    };\n    this.chart.views = []; //  views\n    //  adaptor\n    this.execAdaptor();\n    // \n    this.chart.render();\n    // \n    this.bindSizeSensor();\n  }\n\n  /**\n   * : \n   * @param options\n   */\n  public update(options: Partial<O>) {\n    this.updateOption(options);\n    this.render();\n  }\n\n  /**\n   * \n   * @param options\n   */\n  protected updateOption(options: Partial<O>) {\n    this.options = deepAssign({}, this.options, options);\n  }\n\n  /**\n   * \n   * @param type  'active' | 'inactive' | 'selected' \n   * @param conditions \n   * @param status  true\n   */\n  public setState(type: StateName, condition: StateCondition, status: boolean = true) {\n    const elements = getAllElementsRecursively(this.chart);\n\n    each(elements, (ele: Element) => {\n      if (condition(ele.getData())) {\n        ele.setState(type, status);\n      }\n    });\n  }\n\n  /**\n   * \n   */\n  public getStates(): StateObject[] {\n    const elements = getAllElementsRecursively(this.chart);\n\n    const stateObjects: StateObject[] = [];\n    each(elements, (element: Element) => {\n      const data = element.getData();\n      const states = element.getStates();\n      each(states, (state) => {\n        stateObjects.push({ data, state, geometry: element.geometry, element });\n      });\n    });\n\n    return stateObjects;\n  }\n\n  /**\n   * \n   * @override\n   * @param options\n   */\n  public changeData(data: any) {\n    // @ts-ignore\n    this.update({ data });\n    // TODO: \n    // this.chart.changeData(data);\n  }\n\n  /**\n   * \n   * @param width\n   * @param height\n   */\n  public changeSize(width: number, height: number) {\n    this.chart.changeSize(width, height);\n  }\n\n  /**\n   *  id \n   */\n  public addAnnotations(annotations: Annotation[], view?: View): void {\n    view = view ? view : this.chart;\n    const incoming = [...annotations];\n    const controller = view.getController('annotation');\n    const current = controller.getComponents().map((co) => co.extra);\n\n    controller.clear(true);\n    for (let i = 0; i < current.length; i++) {\n      let annotation = current[i];\n\n      const findIndex = incoming.findIndex((item) => item.id && item.id === annotation.id);\n      if (findIndex !== -1) {\n        annotation = deepAssign({}, annotation, incoming[findIndex]);\n        incoming.splice(findIndex, 1);\n      }\n      controller.annotation(annotation);\n    }\n\n    incoming.forEach((annotation) => controller.annotation(annotation));\n    view.render(true);\n  }\n\n  /**\n   *  id \n   */\n  public removeAnnotations(annotations: Array<{ id: string } & Partial<Annotation>>): void {\n    const controller = this.chart.getController('annotation');\n    const current = controller.getComponents().map((co) => co.extra);\n\n    controller.clear(true);\n    for (let i = 0; i < current.length; i++) {\n      const annotation = current[i];\n\n      if (!annotations.find((item) => item.id && item.id === annotation.id)) {\n        controller.annotation(annotation);\n      }\n    }\n\n    this.chart.render(true);\n  }\n  /**\n   * \n   */\n  public destroy() {\n    //  size-sensor \n    this.unbindSizeSensor();\n    // G2 \n    this.chart.destroy();\n    // \n    this.off();\n\n    this.container.removeAttribute(SOURCE_ATTRIBUTE_NAME);\n  }\n\n  /**\n   *  adaptor \n   */\n  protected execAdaptor() {\n    const adaptor = this.getSchemaAdaptor();\n\n    const { padding, appendPadding } = this.options;\n    //  padding\n    this.chart.padding = padding;\n    //  appendPadding\n    this.chart.appendPadding = appendPadding;\n\n    //  G2 API\n    adaptor({\n      chart: this.chart,\n      options: this.options,\n    });\n  }\n\n  /**\n   * \n   */\n  protected triggerResize() {\n    this.chart.forceFit();\n  }\n\n  /**\n   *  dom \n   */\n  private bindSizeSensor() {\n    if (this.unbind) {\n      return;\n    }\n\n    const { autoFit = true } = this.options;\n    if (autoFit) {\n      this.unbind = bind(this.container, () => {\n        // \n        const { width, height } = getContainerSize(this.container);\n\n        //  resize \n        if (width !== this.chart.width || height !== this.chart.height) {\n          this.triggerResize();\n        }\n      });\n    }\n  }\n\n  /**\n   * \n   */\n  private unbindSizeSensor() {\n    if (this.unbind) {\n      this.unbind();\n      this.unbind = undefined;\n    }\n  }\n}\n","import { map, reduce } from '@antv/util';\nimport { Data, Datum } from '../../types';\nimport { isRealNumber } from '../number';\n\n/**\n * \n * @param data\n * @param measure\n * @param groupField\n * @param as\n */\nexport function percent(data: Data, measure: string, groupField: string, as: string) {\n  // 1.  max \n  const sumMap = reduce(\n    data,\n    (map, datum: Datum) => {\n      const groupValue = datum[groupField];\n      let sum = map.has(groupValue) ? map.get(groupValue) : 0;\n\n      const v = datum[measure];\n\n      sum = isRealNumber(v) ? sum + v : sum;\n      map.set(groupValue, sum);\n\n      return map;\n    },\n    new Map<string, number>()\n  );\n\n  // 2. \n  return map(data, (datum: Datum) => {\n    const v = datum[measure];\n    const groupValue = datum[groupField];\n    const percentage = isRealNumber(v) && sumMap.get(groupValue) !== 0 ? v / sumMap.get(groupValue) : 0;\n\n    return {\n      ...datum,\n      [as]: percentage,\n    };\n  });\n}\n\n/**\n * \n * @param data\n * @param measure  // \n * @param fields //  field\n * @param as // percent \n */\nexport function getDeepPercent(data: Record<string, any>[], measure: string, fields: string[], percent: string) {\n  const sumMap = reduce(\n    data,\n    (map, datum: Datum) => {\n      // key\n      const groupValue = reduce(fields, (value, field) => `${value}${datum[field]}`, '');\n\n      let sum = map.has(groupValue) ? map.get(groupValue) : 0;\n\n      const v = datum[measure];\n\n      sum = isRealNumber(v) ? sum + v : sum;\n      map.set(groupValue, sum);\n\n      return map;\n    },\n    new Map<string, number>()\n  );\n\n  // 2. \n  return map(data, (datum: Datum) => {\n    const v = datum[measure];\n    // key\n    const groupValue = reduce(fields, (value, field) => `${value}${datum[field]}`, '');\n\n    const percentage = isRealNumber(v) && sumMap.get(groupValue) !== 0 ? v / sumMap.get(groupValue) : 0;\n\n    return {\n      ...datum,\n      [percent]: percentage,\n    };\n  });\n}\n\n/**\n *  ()\n * @param isPercent \n */\nexport function getDataWhetherPercentage(\n  data: Record<string, any>[],\n  yField: string,\n  groupField: string,\n  asField: string,\n  isPercent?: boolean\n) {\n  return !isPercent ? data : percent(data, yField, groupField, asField);\n}\n","import { Geometry } from '@antv/g2';\nimport { each, isArray } from '@antv/util';\nimport {\n  animation,\n  annotation,\n  interaction,\n  limitInPlot,\n  scale,\n  scrollbar,\n  slider,\n  theme,\n  tooltip,\n} from '../../adaptor/common';\nimport { area, line, point } from '../../adaptor/geometries';\nimport { Params } from '../../core/adaptor';\nimport { deepAssign, findGeometry, flow, transformLabel } from '../../utils';\nimport { adjustYMetaByZero } from '../../utils/data';\nimport { LineOptions } from './types';\n\n/**\n * geometry \n * @param params\n */\nfunction geometry(params: Params<LineOptions>): Params<LineOptions> {\n  const { chart, options } = params;\n  const { data, color, lineStyle, lineShape, point: pointMapping, area: areaMapping, seriesField } = options;\n  const pointState = pointMapping?.state;\n  const areaState = areaMapping?.state;\n\n  chart.data(data);\n\n  // line geometry \n  const primary = deepAssign({}, params, {\n    options: {\n      shapeField: seriesField,\n      line: {\n        color,\n        style: lineStyle,\n        shape: lineShape,\n      },\n      //  tooltip \n      // \n      point: pointMapping && {\n        color,\n        shape: 'circle',\n        ...pointMapping,\n      },\n      // \n      area: areaMapping && {\n        color,\n        ...areaMapping,\n      },\n      // label  geometry adaptor label adaptor \n      label: undefined,\n    },\n  });\n  const second = deepAssign({}, primary, { options: { tooltip: false, state: pointState } });\n  const areaParams = deepAssign({}, primary, { options: { tooltip: false, state: areaState } });\n\n  line(primary);\n  point(second);\n  area(areaParams);\n\n  return params;\n}\n\n/**\n * meta \n * @param params\n */\nexport function meta(params: Params<LineOptions>): Params<LineOptions> {\n  const { options } = params;\n  const { xAxis, yAxis, xField, yField, data } = options;\n\n  return flow(\n    scale(\n      {\n        [xField]: xAxis,\n        [yField]: yAxis,\n      },\n      {\n        [xField]: {\n          type: 'cat',\n        },\n        [yField]: adjustYMetaByZero(data, yField),\n      }\n    )\n  )(params);\n}\n\n/**\n * .  reflect \n * @param params\n */\nfunction coordinate(params: Params<LineOptions>): Params<LineOptions> {\n  const { chart, options } = params;\n  const { reflect } = options;\n  if (reflect) {\n    let p = reflect as any;\n    if (!isArray(p)) {\n      p = [p];\n    }\n    const actions = p.map((d) => ['reflect', d]);\n\n    chart.coordinate({ type: 'rect', actions });\n  }\n\n  return params;\n}\n\n/**\n * axis \n * @param params\n */\nexport function axis(params: Params<LineOptions>): Params<LineOptions> {\n  const { chart, options } = params;\n  const { xAxis, yAxis, xField, yField } = options;\n\n  //  false \n  if (xAxis === false) {\n    chart.axis(xField, false);\n  } else {\n    chart.axis(xField, xAxis);\n  }\n\n  if (yAxis === false) {\n    chart.axis(yField, false);\n  } else {\n    chart.axis(yField, yAxis);\n  }\n\n  return params;\n}\n\n/**\n * legend \n * @param params\n */\nexport function legend(params: Params<LineOptions>): Params<LineOptions> {\n  const { chart, options } = params;\n  const { legend, seriesField } = options;\n\n  if (legend && seriesField) {\n    chart.legend(seriesField, legend);\n  } else if (legend === false) {\n    chart.legend(false);\n  }\n\n  return params;\n}\n\n/**\n * \n * @param params\n */\nfunction label(params: Params<LineOptions>): Params<LineOptions> {\n  const { chart, options } = params;\n  const { label, yField } = options;\n\n  const lineGeometry = findGeometry(chart, 'line');\n\n  // label  false,   label\n  if (!label) {\n    lineGeometry.label(false);\n  } else {\n    const { callback, ...cfg } = label;\n    lineGeometry.label({\n      fields: [yField],\n      callback,\n      cfg: {\n        layout: [\n          { type: 'limit-in-plot' },\n          { type: 'path-adjust-position' },\n          { type: 'point-adjust-position' },\n          { type: 'limit-in-plot', cfg: { action: 'hide' } },\n        ],\n        ...transformLabel(cfg),\n      },\n    });\n  }\n\n  return params;\n}\n\n/**\n *  adjust\n * @param params\n */\nexport function adjust(params: Params<Pick<LineOptions, 'isStack'>>): Params<any> {\n  const { chart, options } = params;\n  const { isStack } = options;\n\n  if (isStack) {\n    each(chart.geometries, (g: Geometry) => {\n      g.adjust('stack');\n    });\n  }\n\n  return params;\n}\n\n/**\n * \n * @param chart\n * @param options\n */\nexport function adaptor(params: Params<LineOptions>) {\n  // flow  G2 API\n  return flow(\n    geometry,\n    meta,\n    adjust,\n    theme,\n    coordinate,\n    axis,\n    legend,\n    tooltip,\n    label,\n    slider,\n    scrollbar,\n    interaction,\n    animation,\n    annotation(),\n    limitInPlot\n  )(params);\n}\n","import { Geometry } from '@antv/g2';\nimport { each, omit } from '@antv/util';\nimport {\n  animation,\n  annotation,\n  interaction,\n  limitInPlot,\n  pattern,\n  slider,\n  theme,\n  tooltip,\n  transformations,\n} from '../../adaptor/common';\nimport { area, line, point } from '../../adaptor/geometries';\nimport { Params } from '../../core/adaptor';\nimport { Datum } from '../../types';\nimport { deepAssign, findGeometry, flow, transformLabel } from '../../utils';\nimport { getDataWhetherPercentage } from '../../utils/transform/percent';\nimport { axis, legend, meta } from '../line/adaptor';\nimport { AreaOptions } from './types';\n\nexport { meta };\n\n/**\n * geometry \n * @param params\n */\nfunction geometry(params: Params<AreaOptions>): Params<AreaOptions> {\n  const { chart, options } = params;\n  const {\n    data,\n    areaStyle,\n    color,\n    point: pointMapping,\n    line: lineMapping,\n    isPercent,\n    xField,\n    yField,\n    tooltip,\n    seriesField,\n    startOnZero,\n  } = options;\n  const pointState = pointMapping?.state;\n\n  const chartData = getDataWhetherPercentage(data, yField, xField, yField, isPercent);\n  chart.data(chartData);\n  //  % , \n  const tooltipOptions = isPercent\n    ? {\n        formatter: (datum: Datum) => ({\n          name: datum[seriesField] || datum[xField],\n          value: (Number(datum[yField]) * 100).toFixed(2) + '%',\n        }),\n        ...tooltip,\n      }\n    : tooltip;\n  const primary = deepAssign({}, params, {\n    options: {\n      area: { color, style: areaStyle },\n      point: pointMapping && {\n        color,\n        ...pointMapping,\n      },\n      tooltip: tooltipOptions,\n      // label  geometry adaptor label adaptor \n      label: undefined,\n      args: {\n        startOnZero,\n      },\n    },\n  });\n  //  2px ( state fill  stroke )\n  const lineParams = {\n    chart,\n    options: deepAssign({ line: { size: 2 } }, omit(options as any, ['state']), {\n      //  tooltip \n      // \n      line: lineMapping && {\n        color,\n        ...lineMapping,\n      },\n      sizeField: seriesField,\n      state: lineMapping?.state,\n      tooltip: false,\n      // label  geometry adaptor label adaptor \n      label: undefined,\n      args: {\n        startOnZero,\n      },\n    }),\n  };\n  const pointParams = deepAssign({}, primary, { options: { tooltip: false, state: pointState } });\n\n  // area geometry \n  area(primary);\n  line(lineParams);\n  point(pointParams);\n\n  return params;\n}\n\n/**\n * \n * @param params\n */\nfunction label(params: Params<AreaOptions>): Params<AreaOptions> {\n  const { chart, options } = params;\n  const { label, yField } = options;\n\n  const areaGeometry = findGeometry(chart, 'area');\n\n  // label  false,   label\n  if (!label) {\n    areaGeometry.label(false);\n  } else {\n    const { callback, ...cfg } = label;\n    areaGeometry.label({\n      fields: [yField],\n      callback,\n      cfg: {\n        layout: [\n          { type: 'limit-in-plot' },\n          { type: 'path-adjust-position' },\n          { type: 'point-adjust-position' },\n          { type: 'limit-in-plot', cfg: { action: 'hide' } },\n        ],\n        ...transformLabel(cfg),\n      },\n    });\n  }\n\n  return params;\n}\n\n/**\n *  adjust\n * @param params\n */\nfunction adjust(params: Params<AreaOptions>): Params<AreaOptions> {\n  const { chart, options } = params;\n  const { isStack, isPercent, seriesField } = options;\n  if ((isPercent || isStack) && seriesField) {\n    each(chart.geometries, (g: Geometry) => {\n      g.adjust('stack');\n    });\n  }\n\n  return params;\n}\n\n/**\n * \n * @param chart\n * @param options\n */\nexport function adaptor(params: Params<AreaOptions>) {\n  // flow  G2 API\n  return flow(\n    theme,\n    pattern('areaStyle'),\n    transformations('rect'),\n    geometry,\n    meta,\n    adjust,\n    axis,\n    legend,\n    tooltip,\n    label,\n    slider,\n    annotation(),\n    interaction,\n    animation,\n    limitInPlot\n  )(params);\n}\n","import { Plot } from '../../core/plot';\nimport { deepAssign } from '../../utils';\n\n/**\n * \n */\nexport const DEFAULT_OPTIONS = deepAssign({}, Plot.getDefaultOptions(), {\n  tooltip: {\n    shared: true,\n    showMarkers: true,\n    showCrosshairs: true,\n    crosshairs: {\n      type: 'x',\n    },\n  },\n  isStack: true,\n  // \n  line: {},\n  legend: {\n    position: 'top-left',\n    radio: {},\n  },\n});\n","import { Adaptor } from '../../core/adaptor';\nimport { Plot } from '../../core/plot';\nimport { getDataWhetherPercentage } from '../../utils/transform/percent';\nimport { adaptor, meta } from './adaptor';\nimport { DEFAULT_OPTIONS } from './constants';\nimport { AreaOptions } from './types';\n\nexport type { AreaOptions };\n\nexport class Area extends Plot<AreaOptions> {\n  /**\n   *   \n   * \n   */\n  static getDefaultOptions(): Partial<AreaOptions> {\n    return DEFAULT_OPTIONS;\n  }\n\n  /**  */\n  public type: string = 'area';\n\n  /**\n   *   \n   */\n  protected getDefaultOptions() {\n    return Area.getDefaultOptions();\n  }\n\n  /**\n   * @override\n   * @param data\n   */\n  public changeData(data: AreaOptions['data']) {\n    this.updateOption({ data });\n    const { isPercent, xField, yField } = this.options;\n    const { chart, options } = this;\n    meta({ chart, options });\n    this.chart.changeData(getDataWhetherPercentage(data, yField, xField, yField, isPercent));\n  }\n\n  /**\n   *   \n   */\n  protected getSchemaAdaptor(): Adaptor<AreaOptions> {\n    return adaptor;\n  }\n}\n","import { Action, IGroup, Util } from '@antv/g2';\nimport { get } from '@antv/util';\nimport { BBox, ButtonCfg } from '../../types';\nimport { deepAssign, normalPadding } from '../../utils';\n\nconst PADDING_RIGHT = 10;\nconst PADDING_TOP = 5;\n\n/**\n * Action  Button \n *\n * brush filter\n */\nexport const BUTTON_ACTION_CONFIG: ButtonCfg = {\n  padding: [8, 10],\n  text: 'reset',\n  textStyle: {\n    default: {\n      x: 0,\n      y: 0,\n      fontSize: 12,\n      fill: '#333333',\n      cursor: 'pointer',\n    },\n  },\n  buttonStyle: {\n    default: {\n      fill: '#f7f7f7',\n      stroke: '#cccccc',\n      cursor: 'pointer',\n    },\n    active: {\n      fill: '#e6e6e6',\n    },\n  },\n};\n\n/**\n * @override  G2 Button Action,  GUI\n */\nclass ButtonAction extends Action {\n  private buttonGroup: IGroup = null;\n  private buttonCfg = {\n    name: 'button',\n    ...BUTTON_ACTION_CONFIG,\n  };\n\n  /**\n   *  mix \n   */\n  private getButtonCfg(): ButtonCfg & { name: string } {\n    const { view } = this.context;\n    const buttonCfg: ButtonCfg = get(view, ['interactions', 'filter-action', 'cfg', 'buttonConfig']);\n\n    return deepAssign(this.buttonCfg, buttonCfg, this.cfg);\n  }\n\n  /**\n   *  Button  \n   */\n  private drawButton() {\n    const config = this.getButtonCfg();\n    const group = this.context.view.foregroundGroup.addGroup({\n      name: config.name,\n    });\n    const textShape = this.drawText(group);\n    this.drawBackground(group, textShape.getBBox());\n\n    this.buttonGroup = group;\n  }\n\n  /**\n   * \n   */\n  private drawText(group: IGroup) {\n    const config = this.getButtonCfg();\n    // \n    return group.addShape({\n      type: 'text',\n      name: 'button-text',\n      attrs: {\n        text: config.text,\n        ...config.textStyle?.default,\n      },\n    });\n  }\n\n  private drawBackground(group: IGroup, bbox: BBox) {\n    const config = this.getButtonCfg();\n    const padding = normalPadding(config.padding);\n    // \n    const buttonShape = group.addShape({\n      type: 'rect',\n      name: 'button-rect',\n      attrs: {\n        x: bbox.x - padding[3],\n        y: bbox.y - padding[0],\n        width: bbox.width + padding[1] + padding[3],\n        height: bbox.height + padding[0] + padding[2],\n        ...config.buttonStyle?.default,\n      },\n    });\n    buttonShape.toBack(); // \n\n    // active \n    group.on('mouseenter', () => {\n      buttonShape.attr(config.buttonStyle?.active);\n    });\n    group.on('mouseleave', () => {\n      buttonShape.attr(config.buttonStyle?.default);\n    });\n\n    return buttonShape;\n  }\n\n  // \n  private resetPosition() {\n    const view = this.context.view;\n    const coord = view.getCoordinate();\n    const point = coord.convert({ x: 1, y: 1 }); // \n    const buttonGroup = this.buttonGroup;\n    const bbox = buttonGroup.getBBox();\n    const matrix = Util.transform(null, [\n      ['t', point.x - bbox.width - PADDING_RIGHT, point.y + bbox.height + PADDING_TOP],\n    ]);\n    buttonGroup.setMatrix(matrix);\n  }\n\n  /**\n   * \n   */\n  public show() {\n    if (!this.buttonGroup) {\n      this.drawButton();\n    }\n    this.resetPosition();\n    this.buttonGroup.show();\n  }\n\n  /**\n   * \n   */\n  public hide() {\n    if (this.buttonGroup) {\n      this.buttonGroup.hide();\n    }\n  }\n\n  /**\n   * \n   */\n  public destroy() {\n    const buttonGroup = this.buttonGroup;\n    if (buttonGroup) {\n      buttonGroup.remove();\n    }\n    super.destroy();\n  }\n}\n\nexport { ButtonAction };\n","import { registerAction, registerInteraction } from '@antv/g2';\nimport { BrushCfg } from '../types';\nimport { ButtonAction } from './actions/reset-button';\n\nregisterAction('brush-reset-button', ButtonAction, {\n  name: 'brush-reset-button',\n});\n\nregisterInteraction('filter-action', {});\n\n/**\n * G2  brushbrush-xbrush-y \n *\n * 1. element-range-highlight  brush-highlight(mask )\n * 2. brush-visible  brush \n */\n\nfunction isPointInView(context) {\n  return context.isInPlot();\n}\n\n/**\n *   start \n */\nexport function getInteractionCfg(interactionType: string, brushType?: string, options?: BrushCfg) {\n  const { mask, isStartEnable } = options || {};\n  const maskType = brushType || 'rect';\n\n  switch (interactionType) {\n    case 'brush':\n      return {\n        showEnable: [\n          { trigger: 'plot:mouseenter', action: 'cursor:crosshair', isEnable: isStartEnable || (() => true) },\n          { trigger: 'plot:mouseleave', action: 'cursor:default' },\n        ],\n        start: [\n          {\n            trigger: 'mousedown',\n            isEnable: isStartEnable || isPointInView,\n            action: ['brush:start', `${maskType}-mask:start`, `${maskType}-mask:show`],\n            // action\n            arg: [null, { maskStyle: mask?.style }],\n          },\n        ],\n        processing: [\n          {\n            trigger: 'mousemove',\n            isEnable: isPointInView,\n            action: [`${maskType}-mask:resize`],\n          },\n        ],\n        end: [\n          {\n            trigger: 'mouseup',\n            isEnable: isPointInView,\n            action: [\n              'brush:filter',\n              'brush:end',\n              `${maskType}-mask:end`,\n              `${maskType}-mask:hide`,\n              'brush-reset-button:show',\n            ],\n          },\n        ],\n        rollback: [\n          {\n            trigger: 'brush-reset-button:click',\n            action: ['brush:reset', 'brush-reset-button:hide', 'cursor:crosshair'],\n          },\n        ],\n      };\n    case 'brush-highlight':\n      return {\n        showEnable: [\n          { trigger: 'plot:mouseenter', action: 'cursor:crosshair', isEnable: isStartEnable || (() => true) },\n          { trigger: 'plot:mousemove', action: 'cursor:crosshair', isEnable: isStartEnable || (() => true) },\n          {\n            trigger: 'plot:mousemove',\n            action: 'cursor:default',\n            isEnable: (context) => (isStartEnable ? !isStartEnable(context) : false),\n          },\n          { trigger: 'mask:mouseenter', action: 'cursor:move', isEnable: isStartEnable || (() => true) },\n          { trigger: 'plot:mouseleave', action: 'cursor:default' },\n          { trigger: 'mask:mouseleave', action: 'cursor:crosshair' },\n        ],\n        start: [\n          {\n            trigger: 'plot:mousedown',\n            isEnable:\n              isStartEnable ||\n              ((context) => {\n                //  mask \n                return !context.isInShape('mask');\n              }),\n            action: [`${maskType}-mask:start`, `${maskType}-mask:show`],\n            //  1 action\n            arg: [{ maskStyle: mask?.style }],\n          },\n          {\n            trigger: 'mask:dragstart',\n            action: [`${maskType}-mask:moveStart`],\n          },\n        ],\n        processing: [\n          {\n            trigger: 'plot:mousemove',\n            action: [`${maskType}-mask:resize`],\n          },\n          {\n            trigger: 'mask:drag',\n            action: [`${maskType}-mask:move`],\n          },\n          {\n            trigger: 'mask:change',\n            action: ['element-range-highlight:highlight'],\n          },\n        ],\n        end: [\n          { trigger: 'plot:mouseup', action: [`${maskType}-mask:end`] },\n          { trigger: 'mask:dragend', action: [`${maskType}-mask:moveEnd`] },\n          {\n            trigger: 'document:mouseup',\n            isEnable(context) {\n              return !context.isInPlot();\n            },\n            action: ['element-range-highlight:clear', `${maskType}-mask:end`, `${maskType}-mask:hide`],\n          },\n        ],\n        rollback: [{ trigger: 'dblclick', action: ['element-range-highlight:clear', `${maskType}-mask:hide`] }],\n      };\n    case 'brush-x':\n      return {\n        showEnable: [\n          { trigger: 'plot:mouseenter', action: 'cursor:crosshair', isEnable: isStartEnable || (() => true) },\n          { trigger: 'plot:mouseleave', action: 'cursor:default' },\n        ],\n        start: [\n          {\n            trigger: 'mousedown',\n            isEnable: isStartEnable || isPointInView,\n            action: ['brush-x:start', `${maskType}-mask:start`, `${maskType}-mask:show`],\n            // action\n            arg: [null, { maskStyle: mask?.style }],\n          },\n        ],\n        processing: [\n          {\n            trigger: 'mousemove',\n            isEnable: isPointInView,\n            action: [`${maskType}-mask:resize`],\n          },\n        ],\n        end: [\n          {\n            trigger: 'mouseup',\n            isEnable: isPointInView,\n            action: ['brush-x:filter', 'brush-x:end', `${maskType}-mask:end`, `${maskType}-mask:hide`],\n          },\n        ],\n        rollback: [{ trigger: 'dblclick', action: ['brush-x:reset'] }],\n      };\n    case 'brush-x-highlight':\n      return {\n        showEnable: [\n          { trigger: 'plot:mouseenter', action: 'cursor:crosshair', isEnable: isStartEnable || (() => true) },\n          { trigger: 'mask:mouseenter', action: 'cursor:move', isEnable: isStartEnable || (() => true) },\n          { trigger: 'plot:mouseleave', action: 'cursor:default' },\n          { trigger: 'mask:mouseleave', action: 'cursor:crosshair' },\n        ],\n        start: [\n          {\n            trigger: 'plot:mousedown',\n            isEnable:\n              isStartEnable ||\n              ((context) => {\n                //  mask \n                return !context.isInShape('mask');\n              }),\n            action: [`${maskType}-mask:start`, `${maskType}-mask:show`],\n            //  1 action\n            arg: [{ maskStyle: mask?.style }],\n          },\n          {\n            trigger: 'mask:dragstart',\n            action: [`${maskType}-mask:moveStart`],\n          },\n        ],\n        processing: [\n          {\n            trigger: 'plot:mousemove',\n            action: [`${maskType}-mask:resize`],\n          },\n          {\n            trigger: 'mask:drag',\n            action: [`${maskType}-mask:move`],\n          },\n          {\n            trigger: 'mask:change',\n            action: ['element-range-highlight:highlight'],\n          },\n        ],\n        end: [\n          { trigger: 'plot:mouseup', action: [`${maskType}-mask:end`] },\n          { trigger: 'mask:dragend', action: [`${maskType}-mask:moveEnd`] },\n          {\n            trigger: 'document:mouseup',\n            isEnable(context) {\n              return !context.isInPlot();\n            },\n            action: ['element-range-highlight:clear', `${maskType}-mask:end`, `${maskType}-mask:hide`],\n          },\n        ],\n        rollback: [{ trigger: 'dblclick', action: ['element-range-highlight:clear', `${maskType}-mask:hide`] }],\n      };\n    case 'brush-y':\n      return {\n        showEnable: [\n          { trigger: 'plot:mouseenter', action: 'cursor:crosshair', isEnable: isStartEnable || (() => true) },\n          { trigger: 'plot:mouseleave', action: 'cursor:default' },\n        ],\n        start: [\n          {\n            trigger: 'mousedown',\n            isEnable: isStartEnable || isPointInView,\n            action: ['brush-y:start', `${maskType}-mask:start`, `${maskType}-mask:show`],\n            // action\n            arg: [null, { maskStyle: mask?.style }],\n          },\n        ],\n        processing: [\n          {\n            trigger: 'mousemove',\n            isEnable: isPointInView,\n            action: [`${maskType}-mask:resize`],\n          },\n        ],\n        end: [\n          {\n            trigger: 'mouseup',\n            isEnable: isPointInView,\n            action: ['brush-y:filter', 'brush-y:end', `${maskType}-mask:end`, `${maskType}-mask:hide`],\n          },\n        ],\n        rollback: [{ trigger: 'dblclick', action: ['brush-y:reset'] }],\n      };\n    case 'brush-y-highlight':\n      return {\n        showEnable: [\n          { trigger: 'plot:mouseenter', action: 'cursor:crosshair', isEnable: isStartEnable || (() => true) },\n          { trigger: 'mask:mouseenter', action: 'cursor:move', isEnable: isStartEnable || (() => true) },\n          { trigger: 'plot:mouseleave', action: 'cursor:default' },\n          { trigger: 'mask:mouseleave', action: 'cursor:crosshair' },\n        ],\n        start: [\n          {\n            trigger: 'plot:mousedown',\n            isEnable:\n              isStartEnable ||\n              ((context) => {\n                //  mask \n                return !context.isInShape('mask');\n              }),\n            action: [`${maskType}-mask:start`, `${maskType}-mask:show`],\n            //  1 action\n            arg: [{ maskStyle: mask?.style }],\n          },\n          {\n            trigger: 'mask:dragstart',\n            action: [`${maskType}-mask:moveStart`],\n          },\n        ],\n        processing: [\n          {\n            trigger: 'plot:mousemove',\n            action: [`${maskType}-mask:resize`],\n          },\n          {\n            trigger: 'mask:drag',\n            action: [`${maskType}-mask:move`],\n          },\n          {\n            trigger: 'mask:change',\n            action: ['element-range-highlight:highlight'],\n          },\n        ],\n        end: [\n          { trigger: 'plot:mouseup', action: [`${maskType}-mask:end`] },\n          { trigger: 'mask:dragend', action: [`${maskType}-mask:moveEnd`] },\n          {\n            trigger: 'document:mouseup',\n            isEnable(context) {\n              return !context.isInPlot();\n            },\n            action: ['element-range-highlight:clear', `${maskType}-mask:end`, `${maskType}-mask:hide`],\n          },\n        ],\n        rollback: [{ trigger: 'dblclick', action: ['element-range-highlight:clear', `${maskType}-mask:hide`] }],\n      };\n\n    default:\n      return {};\n  }\n}\n\n// \nregisterInteraction('brush', getInteractionCfg('brush'));\n//  element-range-highlight interaction\nregisterInteraction('brush-highlight', getInteractionCfg('brush-highlight'));\n// \nregisterInteraction('brush-x', getInteractionCfg('brush-x', 'x-rect'));\n// \nregisterInteraction('brush-y', getInteractionCfg('brush-y', 'y-rect'));\n// , x \nregisterInteraction('brush-x-highlight', getInteractionCfg('brush-x-highlight', 'x-rect'));\n// , y \nregisterInteraction('brush-y-highlight', getInteractionCfg('brush-y-highlight', 'y-rect'));\n","import { filter } from '@antv/util';\nimport { Params } from '../core/adaptor';\n/** brush  */\nimport '../interactions/brush';\nimport { getInteractionCfg } from '../interactions/brush';\nimport { BrushCfg, Interaction, Options as BaseOptions, Writable } from '../types';\nimport { deepAssign } from '../utils';\n\ntype Options = Pick<BaseOptions, 'interactions'> & { brush?: BrushCfg };\n\nconst BRUSH_TYPES = ['brush', 'brush-x', 'brush-y', 'brush-highlight', 'brush-x-highlight', 'brush-y-highlight'];\n\n/**\n * brush \n */\nexport function brushInteraction<O extends Options = Options>(params: Params<O>): Params<O> {\n  const { options } = params;\n\n  const { brush } = options;\n\n  //  brush \n  const interactions = filter(options.interactions || [], (i) => BRUSH_TYPES.indexOf(i.type) === -1);\n\n  //  brush \n  if (brush?.enabled) {\n    BRUSH_TYPES.forEach((type) => {\n      let enable = false;\n      switch (brush.type) {\n        case 'x-rect':\n          enable = type === (brush.action === 'highlight' ? 'brush-x-highlight' : 'brush-x');\n          break;\n        case 'y-rect':\n          enable = type === (brush.action === 'highlight' ? 'brush-y-highlight' : 'brush-y');\n          break;\n        default:\n          enable = type === (brush.action === 'highlight' ? 'brush-highlight' : 'brush');\n          break;\n      }\n      const obj: Writable<Interaction> = { type, enable };\n\n      if (brush) {\n        obj.cfg = getInteractionCfg(type, brush.type, brush);\n      }\n      interactions.push(obj);\n    });\n\n    //  button  (G2Plot )\n    if (brush?.action !== 'highlight') {\n      interactions.push({\n        type: 'filter-action',\n        cfg: {\n          buttonConfig: brush.button,\n        },\n      });\n    }\n  }\n  return deepAssign({}, params, { options: { interactions } });\n}\n","import { Element, registerInteraction, ShapeAttrs } from '@antv/g2';\nimport { Params } from '../core/adaptor';\n\nexport interface ConnectedAreaOptions {\n  /** ,  hover */\n  trigger?: 'hover' | 'click';\n  /**  */\n  style?: ShapeAttrs | ((style: ShapeAttrs, element: Element) => ShapeAttrs);\n}\n\n/**  */\nexport interface OptionWithConnectedArea {\n  connectedArea?: ConnectedAreaOptions | false;\n}\n\nconst INTERACTION_MAP = {\n  hover: '__interval-connected-area-hover__',\n  click: '__interval-connected-area-click__',\n};\n\nconst getStartStages = (trigger: string, style?: ConnectedAreaOptions['style']) => {\n  if (trigger === 'hover') {\n    return [\n      {\n        trigger: `interval:mouseenter`,\n        action: ['element-highlight-by-color:highlight', 'element-link-by-color:link'],\n        arg: [null, { style }],\n      },\n    ];\n  }\n  return [\n    {\n      trigger: `interval:click`,\n      action: [\n        'element-highlight-by-color:clear',\n        'element-highlight-by-color:highlight',\n        'element-link-by-color:clear',\n        'element-link-by-color:unlink',\n        'element-link-by-color:link',\n      ],\n      arg: [null, null, null, null, { style }],\n    },\n  ];\n};\n\n/** hover  */\nregisterInteraction(INTERACTION_MAP.hover, {\n  start: getStartStages(INTERACTION_MAP.hover),\n  end: [\n    {\n      trigger: 'interval:mouseleave',\n      action: ['element-highlight-by-color:reset', 'element-link-by-color:unlink'],\n    },\n  ],\n});\n\n/** click  */\nregisterInteraction(INTERACTION_MAP.click, {\n  start: getStartStages(INTERACTION_MAP.click),\n  end: [\n    {\n      trigger: 'document:mousedown',\n      action: ['element-highlight-by-color:clear', 'element-link-by-color:clear'],\n    },\n  ],\n});\n\n/**\n *  adaptor/\n * @param disable\n */\nexport function connectedArea<O extends OptionWithConnectedArea>(disable = false) {\n  return function (params: Params<O>): Params<O> {\n    const { chart, options } = params;\n    const { connectedArea } = options;\n\n    const clear = () => {\n      chart.removeInteraction(INTERACTION_MAP.hover);\n      chart.removeInteraction(INTERACTION_MAP.click);\n    };\n\n    if (!disable && connectedArea) {\n      const trigger = connectedArea.trigger || 'hover';\n      clear();\n      chart.interaction(INTERACTION_MAP[trigger], {\n        start: getStartStages(trigger, connectedArea.style),\n      });\n    } else {\n      clear();\n    }\n\n    return params;\n  };\n}\n","import { isNumber } from '@antv/util';\n/**\n * \n * @param prev\n * @param next\n */\nexport function conversionTagFormatter(prev: number, next: number): string {\n  if (!isNumber(prev) || !isNumber(next)) {\n    return '-';\n  }\n\n  // 0 / 0 \n  if (prev === 0 && next === 0) {\n    return '-';\n  }\n\n  if (prev === next) {\n    return '100%';\n  }\n\n  if (prev === 0) {\n    return '';\n  }\n\n  return `${((100 * next) / prev).toFixed(2)}%`;\n}\n","import { Coordinate, Element, Geometry, getTheme, IGroup, ShapeAttrs, View } from '@antv/g2';\nimport { each, find, isObject, map } from '@antv/util';\nimport { Params } from '../core/adaptor';\nimport { Options } from '../types';\nimport { deepAssign } from '../utils';\nimport { conversionTagFormatter } from '../utils/conversion';\n\n/**  */\nexport interface ConversionTagOptions {\n  /** tag  */\n  size?: number;\n  /** tag  */\n  spacing?: number;\n  /** tag  */\n  offset?: number;\n  /**  */\n  arrow?:\n    | {\n        /**  */\n        headSize?: number;\n        /**  */\n        style?: ShapeAttrs;\n      }\n    | false;\n  /**  */\n  text?:\n    | {\n        /**  */\n        size?: number;\n        /**  */\n        style?: ShapeAttrs;\n        /**  */\n        formatter?: (prev: number, next: number) => string;\n      }\n    | false;\n}\n\nexport interface OptionWithConversionTag {\n  conversionTag?: ConversionTagOptions | false;\n}\n\n/**  */\ntype TagRenderConfig = {\n  /**  View */\n  view: View;\n  /**  geometry */\n  geometry: Geometry;\n  /**  group */\n  group: IGroup;\n  /**  */\n  options: ConversionTagOptions;\n  /**  */\n  field: string;\n  /** / */\n  horizontal: boolean;\n};\n\nfunction getConversionTagOptionsWithDefaults(options: ConversionTagOptions, horizontal: boolean): ConversionTagOptions {\n  return deepAssign(\n    {\n      size: horizontal ? 32 : 80,\n      spacing: horizontal ? 8 : 12,\n      offset: horizontal ? 32 : 0,\n      arrow: options.arrow !== false && {\n        headSize: 12,\n        style: {\n          fill: 'rgba(0, 0, 0, 0.05)',\n        },\n      },\n      text: options.text !== false && {\n        style: {\n          fontSize: 12,\n          fill: 'rgba(0, 0, 0, 0.85)',\n          textAlign: 'center',\n          textBaseline: 'middle',\n        },\n        formatter: conversionTagFormatter,\n      },\n    },\n    options\n  );\n}\n\nfunction parsePoints(coordinate: Coordinate, element: Element): { x: number; y: number }[] {\n  // @ts-ignore\n  return map(element.getModel().points, (point) => coordinate.convertPoint(point));\n}\n\nfunction renderArrowTag(config: TagRenderConfig, elemPrev: Element, elemNext: Element): void {\n  const { view, geometry, group, options, horizontal } = config;\n  const { offset, size, arrow } = options;\n  const coordinate = view.getCoordinate();\n  const pointPrev = parsePoints(coordinate, elemPrev)[3];\n  const pointNext = parsePoints(coordinate, elemNext)[0];\n  const totalHeight = pointNext.y - pointPrev.y;\n  const totalWidth = pointNext.x - pointPrev.x;\n\n  if (typeof arrow === 'boolean') {\n    return;\n  }\n  const { headSize } = arrow;\n  let spacing = options.spacing;\n  let points;\n\n  if (horizontal) {\n    if ((totalWidth - headSize) / 2 < spacing) {\n      // \n      spacing = Math.max(1, (totalWidth - headSize) / 2);\n      points = [\n        [pointPrev.x + spacing, pointPrev.y - offset],\n        [pointPrev.x + spacing, pointPrev.y - offset - size],\n        [pointNext.x - spacing, pointNext.y - offset - size / 2],\n      ];\n    } else {\n      // \n      points = [\n        [pointPrev.x + spacing, pointPrev.y - offset],\n        [pointPrev.x + spacing, pointPrev.y - offset - size],\n        [pointNext.x - spacing - headSize, pointNext.y - offset - size],\n        [pointNext.x - spacing, pointNext.y - offset - size / 2],\n        [pointNext.x - spacing - headSize, pointNext.y - offset],\n      ];\n    }\n  } else {\n    if ((totalHeight - headSize) / 2 < spacing) {\n      // \n      spacing = Math.max(1, (totalHeight - headSize) / 2);\n      points = [\n        [pointPrev.x + offset, pointPrev.y + spacing],\n        [pointPrev.x + offset + size, pointPrev.y + spacing],\n        [pointNext.x + offset + size / 2, pointNext.y - spacing],\n      ];\n    } else {\n      // \n      points = [\n        [pointPrev.x + offset, pointPrev.y + spacing],\n        [pointPrev.x + offset + size, pointPrev.y + spacing],\n        [pointNext.x + offset + size, pointNext.y - spacing - headSize],\n        [pointNext.x + offset + size / 2, pointNext.y - spacing],\n        [pointNext.x + offset, pointNext.y - spacing - headSize],\n      ];\n    }\n  }\n\n  group.addShape('polygon', {\n    id: `${view.id}-conversion-tag-arrow-${geometry.getElementId(elemPrev.getModel().mappingData)}`,\n    name: 'conversion-tag-arrow',\n    origin: {\n      element: elemPrev,\n      nextElement: elemNext,\n    },\n    attrs: {\n      ...(arrow.style || {}),\n      points,\n    },\n  });\n}\n\nfunction renderTextTag(config: TagRenderConfig, elemPrev: Element, elemNext: Element): void {\n  const { view, geometry, group, options, field, horizontal } = config;\n  const { offset, size } = options;\n  if (typeof options.text === 'boolean') {\n    return;\n  }\n  const coordinate = view.getCoordinate();\n  const text = options.text?.formatter && options.text?.formatter(elemPrev.getData()[field], elemNext.getData()[field]);\n\n  const pointPrev = parsePoints(coordinate, elemPrev)[horizontal ? 3 : 0];\n  const pointNext = parsePoints(coordinate, elemNext)[horizontal ? 0 : 3];\n\n  const textShape = group.addShape('text', {\n    id: `${view.id}-conversion-tag-text-${geometry.getElementId(elemPrev.getModel().mappingData)}`,\n    name: 'conversion-tag-text',\n    origin: {\n      element: elemPrev,\n      nextElement: elemNext,\n    },\n    attrs: {\n      ...(options.text?.style || {}),\n      text,\n      x: horizontal ? (pointPrev.x + pointNext.x) / 2 : pointPrev.x + offset + size / 2,\n      y: horizontal ? pointPrev.y - offset - size / 2 : (pointPrev.y + pointNext.y) / 2,\n    },\n  });\n\n  if (horizontal) {\n    const totalWidth = pointNext.x - pointPrev.x;\n    const { width: textWidth } = textShape.getBBox();\n    if (textWidth > totalWidth) {\n      const cWidth = textWidth / text.length;\n      const cEnd = Math.max(1, Math.ceil(totalWidth / cWidth) - 1);\n      const textAdjusted = `${text.slice(0, cEnd)}...`;\n      textShape.attr('text', textAdjusted);\n    }\n  }\n}\n\nfunction renderTag(options: TagRenderConfig, elemPrev: Element, elemNext: Element): void {\n  renderArrowTag(options, elemPrev, elemNext);\n  renderTextTag(options, elemPrev, elemNext);\n}\n\n/**\n *  adaptor/\n * @param field \n * @param horizontal \n * @param disabled \n */\nexport function conversionTag<O extends OptionWithConversionTag & Options>(\n  field: string,\n  horizontal = true,\n  disabled = false\n) {\n  return function (params: Params<O>): Params<O> {\n    const { options, chart } = params;\n    const { conversionTag, theme } = options;\n\n    if (conversionTag && !disabled) {\n      //  1/3\n      chart.theme(\n        deepAssign({}, isObject(theme) ? theme : getTheme(theme), {\n          columnWidthRatio: 1 / 3,\n        })\n      );\n      //   shape annotation \n      chart.annotation().shape({\n        render: (container, view) => {\n          const group = container.addGroup({\n            id: `${chart.id}-conversion-tag-group`,\n            name: 'conversion-tag-group',\n          });\n          const interval = find(chart.geometries, (geom: Geometry) => geom.type === 'interval');\n          const config: TagRenderConfig = {\n            view,\n            geometry: interval,\n            group,\n            field,\n            horizontal,\n            options: getConversionTagOptionsWithDefaults(conversionTag, horizontal),\n          };\n          const elements = interval.elements;\n          each(elements, (elem: Element, idx: number) => {\n            if (idx > 0) {\n              renderTag(config, elements[idx - 1], elem);\n            }\n          });\n        },\n      });\n    }\n\n    return params;\n  };\n}\n","import { Types } from '@antv/g2';\nimport { each, filter, isMatch } from '@antv/util';\nimport { brushInteraction } from '../../adaptor/brush';\nimport {\n  animation,\n  annotation,\n  interaction,\n  limitInPlot,\n  scale,\n  scrollbar,\n  slider,\n  state,\n  theme,\n  transformations,\n} from '../../adaptor/common';\nimport { connectedArea } from '../../adaptor/connected-area';\nimport { conversionTag } from '../../adaptor/conversion-tag';\nimport { interval } from '../../adaptor/geometries';\nimport { pattern } from '../../adaptor/pattern';\nimport { Params } from '../../core/adaptor';\nimport { Datum } from '../../types';\nimport { adjustYMetaByZero, deepAssign, findGeometry, flow, pick, transformLabel } from '../../utils';\nimport { getDataWhetherPercentage, getDeepPercent } from '../../utils/transform/percent';\nimport { ColumnOptions } from './types';\n\n/**\n * defaultOptions\n * @param params\n */\nfunction defaultOptions(params: Params<ColumnOptions>): Params<ColumnOptions> {\n  const { options } = params;\n  //  legend \n  let { legend } = options;\n  const { seriesField, isStack } = options;\n\n  if (seriesField) {\n    if (legend !== false) {\n      legend = {\n        position: isStack ? 'right-top' : 'top-left',\n        ...legend,\n      };\n    }\n  } else {\n    legend = false;\n  }\n\n  // @ts-ignore \n  params.options.legend = legend;\n  return params;\n}\n\n/**\n * \n * @param params\n */\nfunction geometry(params: Params<ColumnOptions>): Params<ColumnOptions> {\n  const { chart, options } = params;\n  const {\n    data,\n    columnStyle,\n    color,\n    columnWidthRatio,\n    isPercent,\n    isGroup,\n    isStack,\n    xField,\n    yField,\n    seriesField,\n    groupField,\n    tooltip,\n    shape,\n  } = options;\n\n  const percentData =\n    isPercent && isGroup && isStack\n      ? getDeepPercent(data, yField, [xField, groupField], yField)\n      : getDataWhetherPercentage(data, yField, xField, yField, isPercent);\n\n  let chartData = [];\n\n  // ,seriesField \n  if (isStack && seriesField && !isGroup) {\n    percentData.forEach((item) => {\n      const stackedItem = chartData.find((v) => v[xField] === item[xField] && v[seriesField] === item[seriesField]);\n      if (stackedItem) {\n        stackedItem[yField] += item[yField] || 0;\n      } else {\n        chartData.push({ ...item });\n      }\n    });\n  } else {\n    chartData = percentData;\n  }\n\n  chart.data(chartData);\n\n  //  % , \n  const tooltipOptions = isPercent\n    ? {\n        formatter: (datum: Datum) => ({\n          name:\n            isGroup && isStack ? `${datum[seriesField]} - ${datum[groupField]}` : datum[seriesField] || datum[xField],\n          value: (Number(datum[yField]) * 100).toFixed(2) + '%',\n        }),\n        ...tooltip,\n      }\n    : tooltip;\n\n  const p = deepAssign({}, params, {\n    options: {\n      data: chartData,\n      widthRatio: columnWidthRatio,\n      tooltip: tooltipOptions,\n      interval: {\n        shape,\n        style: columnStyle,\n        color,\n      },\n    },\n  });\n  interval(p);\n\n  return p;\n}\n\n/**\n * meta \n * @param params\n */\nexport function meta(params: Params<ColumnOptions>): Params<ColumnOptions> {\n  const { options } = params;\n  const { xAxis, yAxis, xField, yField, data, isPercent } = options;\n\n  const percentYMeta = isPercent ? { max: 1, min: 0, minLimit: 0, maxLimit: 1 } : {};\n\n  return flow(\n    scale(\n      {\n        [xField]: xAxis,\n        [yField]: yAxis,\n      },\n      {\n        [xField]: {\n          type: 'cat',\n        },\n        [yField]: {\n          ...adjustYMetaByZero(data, yField),\n          ...percentYMeta,\n        },\n      }\n    )\n  )(params);\n}\n\n/**\n * axis \n * @param params\n */\nfunction axis(params: Params<ColumnOptions>): Params<ColumnOptions> {\n  const { chart, options } = params;\n  const { xAxis, yAxis, xField, yField } = options;\n\n  //  false \n  if (xAxis === false) {\n    chart.axis(xField, false);\n  } else {\n    chart.axis(xField, xAxis);\n  }\n\n  if (yAxis === false) {\n    chart.axis(yField, false);\n  } else {\n    chart.axis(yField, yAxis);\n  }\n\n  return params;\n}\n\n/**\n * legend \n * @param params\n */\nexport function legend(params: Params<ColumnOptions>): Params<ColumnOptions> {\n  const { chart, options } = params;\n  const { legend, seriesField } = options;\n\n  if (legend && seriesField) {\n    chart.legend(seriesField, legend);\n  } else if (legend === false) {\n    chart.legend(false);\n  }\n\n  return params;\n}\n\n/**\n * \n * @param params\n */\nfunction label(params: Params<ColumnOptions>): Params<ColumnOptions> {\n  const { chart, options } = params;\n  const { label, yField, isRange } = options;\n\n  const geometry = findGeometry(chart, 'interval');\n\n  if (!label) {\n    geometry.label(false);\n  } else {\n    const { callback, ...cfg } = label;\n    geometry.label({\n      fields: [yField],\n      callback,\n      cfg: {\n        //  label layout  layout  position  layout\n        layout: cfg?.position\n          ? undefined\n          : [\n              { type: 'interval-adjust-position' },\n              { type: 'interval-hide-overlap' },\n              { type: 'adjust-color' },\n              { type: 'limit-in-plot', cfg: { action: 'hide' } },\n            ],\n        ...transformLabel(\n          isRange\n            ? {\n                content: (item: object) => {\n                  return item[yField]?.join('-');\n                },\n                ...cfg,\n              }\n            : cfg\n        ),\n      },\n    });\n  }\n\n  return params;\n}\n\n/**\n *  tooltip  ()\n * @param params\n */\nfunction columnTooltip(params: Params<ColumnOptions>): Params<ColumnOptions> {\n  const { chart, options } = params;\n  const { tooltip, isGroup, isStack, groupField, data, xField, yField, seriesField } = options;\n\n  if (tooltip === false) {\n    chart.tooltip(false);\n  } else {\n    let tooltipOptions = tooltip;\n    // fix: https://github.com/antvis/G2Plot/issues/2572\n    if (isGroup && isStack) {\n      const { customItems } = tooltipOptions;\n      const tooltipFormatter =\n        tooltipOptions?.formatter ||\n        ((datum: Datum) => ({ name: `${datum[seriesField]} - ${datum[groupField]}`, value: datum[yField] }));\n      tooltipOptions = {\n        ...tooltipOptions,\n        customItems: (originalItems: Types.TooltipItem[]) => {\n          const items: Types.TooltipItem[] = [];\n          each(originalItems, (item: Types.TooltipItem) => {\n            // Find datas in same cluster\n            const datas = filter(data, (d) => isMatch(d, pick(item.data, [xField, seriesField])));\n            datas.forEach((datum) => {\n              items.push({\n                ...item,\n                value: datum[yField],\n                data: datum,\n                mappingData: { _origin: datum },\n                ...tooltipFormatter(datum),\n              });\n            });\n          });\n          // fix https://github.com/antvis/G2Plot/issues/3367\n          return customItems ? customItems(items) : items;\n        },\n      };\n    }\n    chart.tooltip(tooltipOptions);\n  }\n\n  return params;\n}\n\n/**\n * \n * @param params\n */\nexport function adaptor(params: Params<ColumnOptions>, isBar = false) {\n  const { options } = params;\n  const { seriesField } = options;\n  return flow(\n    defaultOptions, // \n    theme, // theme  geometry \n    pattern('columnStyle'),\n    state,\n    transformations('rect'),\n    geometry,\n    meta,\n    axis,\n    legend,\n    columnTooltip,\n    slider,\n    scrollbar,\n    label,\n    brushInteraction,\n    interaction,\n    animation,\n    annotation(),\n    conversionTag<ColumnOptions>(options.yField, !isBar, !!seriesField), // \n    connectedArea<ColumnOptions>(!options.isStack),\n    limitInPlot\n  )(params);\n}\n","import { tooltip } from '../../adaptor/common';\nimport { Params } from '../../core/adaptor';\nimport { Axis } from '../../types';\nimport { deepAssign, flow } from '../../utils';\nimport { adaptor as columnAdaptor } from '../column/adaptor';\nimport { BarOptions } from './types';\nexport { meta } from '../column/adaptor';\n\n/**\n * \n * 1. switch xField yField\n * 2. switch xAxis yAxis and adjust axis.position configuration\n */\nfunction defaultOptions(params: Params<BarOptions>): Params<BarOptions> {\n  const { options } = params;\n  const { xField, yField, xAxis, yAxis } = options;\n\n  const position = {\n    left: 'bottom',\n    right: 'top',\n    top: 'left',\n    bottom: 'right',\n  };\n\n  const verticalAxis =\n    yAxis !== false\n      ? {\n          position: position[yAxis?.position || 'left'],\n          ...yAxis,\n        }\n      : false;\n  const horizontalAxis =\n    xAxis !== false\n      ? {\n          position: position[xAxis?.position || 'bottom'],\n          ...xAxis,\n        }\n      : false;\n\n  return {\n    ...params,\n    options: {\n      ...options,\n      xField: yField,\n      yField: xField,\n      //  xAxisyAxis  deepAssign\n      xAxis: verticalAxis as Axis,\n      yAxis: horizontalAxis as Axis,\n    },\n  };\n}\n\n/**\n * label \n * @param params\n */\nfunction label(params: Params<BarOptions>): Params<BarOptions> {\n  const { options } = params;\n  const { label } = options;\n  // label of bar charts default position is left, if plot has label\n  if (label && !label.position) {\n    label.position = 'left';\n    //  label layout  layout  position  layout\n    if (!label.layout) {\n      label.layout = [\n        { type: 'interval-adjust-position' },\n        { type: 'interval-hide-overlap' },\n        { type: 'adjust-color' },\n        { type: 'limit-in-plot', cfg: { action: 'hide' } },\n      ];\n    }\n  }\n\n  return deepAssign({}, params, { options: { label } });\n}\n\n/**\n * legend \n * @param params\n */\nfunction legend(params: Params<BarOptions>): Params<BarOptions> {\n  const { options } = params;\n\n  //  legend \n  const { seriesField, isStack } = options;\n  let { legend } = options;\n  if (seriesField) {\n    if (legend !== false) {\n      legend = {\n        position: isStack ? 'top-left' : 'right-top',\n        ...(legend || {}),\n      };\n    }\n  } else {\n    legend = false;\n  }\n\n  return deepAssign({}, params, { options: { legend } });\n}\n\n/**\n * coordinate \n * @param params\n */\nfunction coordinate(params: Params<BarOptions>): Params<BarOptions> {\n  // transpose column to bar  & y \n  const { options } = params;\n  const coordinateOptions = [{ type: 'transpose' }, { type: 'reflectY' }].concat(options.coordinate || []);\n  return deepAssign({}, params, { options: { coordinate: coordinateOptions } });\n}\n\n/**\n * \n * @param params\n */\nexport function geometry(params: Params<BarOptions>) {\n  const { chart, options } = params;\n\n  const { barStyle, barWidthRatio, minBarWidth, maxBarWidth, barBackground } = options;\n\n  return columnAdaptor(\n    {\n      chart,\n      options: {\n        ...options,\n        // rename attrs as column\n        columnStyle: barStyle,\n        columnWidthRatio: barWidthRatio,\n        minColumnWidth: minBarWidth,\n        maxColumnWidth: maxBarWidth,\n        columnBackground: barBackground,\n      },\n    },\n    true\n  ) as Params<BarOptions>;\n}\n\n/**\n * @param chart\n * @param options\n */\nexport function adaptor(params: Params<BarOptions>): Params<BarOptions> {\n  // flow  G2 API\n  return flow<Params<BarOptions>>(defaultOptions, label, legend, tooltip, coordinate, geometry)(params);\n}\n","import { Plot } from '../../core/plot';\nimport { deepAssign } from '../../utils';\n\n/**\n * \n */\nexport const DEFAULT_OPTIONS = deepAssign({}, Plot.getDefaultOptions(), {\n  barWidthRatio: 0.6,\n  marginRatio: 1 / 32,\n  tooltip: {\n    shared: true,\n    showMarkers: false,\n    offset: 20,\n  },\n  legend: {\n    radio: {},\n  },\n  interactions: [{ type: 'active-region' }],\n});\n","import { Adaptor } from '../../core/adaptor';\nimport { Plot } from '../../core/plot';\nimport { getDataWhetherPercentage } from '../../utils/transform/percent';\nimport { adaptor, meta } from './adaptor';\nimport { DEFAULT_OPTIONS } from './constants';\nimport { BarOptions } from './types';\n\nexport type { BarOptions };\n\n/**\n * \n */\nexport class Bar extends Plot<BarOptions> {\n  /**\n   *   \n   * \n   */\n  static getDefaultOptions(): Partial<BarOptions> {\n    return DEFAULT_OPTIONS;\n  }\n\n  /**  */\n  public readonly type: string = 'bar';\n\n  /**\n   * @override\n   */\n  public changeData(data: BarOptions['data']) {\n    this.updateOption({ data });\n    const { chart, options } = this;\n    const { isPercent } = options;\n    let { xField, yField, xAxis, yAxis } = options;\n    [xField, yField] = [yField, xField];\n    [xAxis, yAxis] = [yAxis, xAxis];\n    const switchedFieldOptions = { ...options, xField, yField, yAxis, xAxis };\n    meta({ chart, options: switchedFieldOptions });\n    chart.changeData(getDataWhetherPercentage(data, xField, yField, xField, isPercent));\n  }\n\n  /**\n   *   \n   */\n  protected getDefaultOptions() {\n    return Bar.getDefaultOptions();\n  }\n\n  /**\n   *   \n   */\n  protected getSchemaAdaptor(): Adaptor<BarOptions> {\n    return adaptor;\n  }\n}\n","import { Plot } from '../../core/plot';\nimport { deepAssign } from '../../utils';\n\n/**\n * \n */\nexport const DEFAULT_OPTIONS = deepAssign({}, Plot.getDefaultOptions(), {\n  columnWidthRatio: 0.6,\n  marginRatio: 1 / 32,\n  tooltip: {\n    shared: true,\n    showMarkers: false,\n    offset: 20,\n  },\n  legend: {\n    radio: {},\n  },\n  interactions: [{ type: 'active-region' }],\n});\n","import { Adaptor } from '../../core/adaptor';\nimport { Plot } from '../../core/plot';\nimport { getDataWhetherPercentage } from '../../utils/transform/percent';\nimport { adaptor, meta } from './adaptor';\nimport { DEFAULT_OPTIONS } from './constants';\nimport { ColumnOptions } from './types';\n\nexport type { ColumnOptions };\n\n/**\n * \n */\nexport class Column extends Plot<ColumnOptions> {\n  /**\n   *   \n   * \n   */\n  static getDefaultOptions(): Partial<ColumnOptions> {\n    return DEFAULT_OPTIONS;\n  }\n\n  /**  */\n  public readonly type: string = 'column';\n\n  /**\n   * @override\n   */\n  public changeData(data: ColumnOptions['data']) {\n    this.updateOption({ data });\n    const { yField, xField, isPercent } = this.options;\n    const { chart, options } = this;\n    meta({ chart, options });\n    this.chart.changeData(getDataWhetherPercentage(data, yField, xField, yField, isPercent));\n  }\n\n  /**\n   *   \n   */\n  protected getDefaultOptions() {\n    return Column.getDefaultOptions();\n  }\n\n  /**\n   *   \n   */\n  protected getSchemaAdaptor(): Adaptor<ColumnOptions> {\n    return adaptor;\n  }\n}\n","// : data[n][yField] / data[0][yField]\nexport const FUNNEL_PERCENT = '$$percentage$$';\n// \nexport const FUNNEL_MAPPING_VALUE = '$$mappingValue$$';\n// : data[n][yField] / data[n-1][yField];\nexport const FUNNEL_CONVERSATION = '$$conversion$$';\n// \n// data[n][yField] / sum(data[0-n][yField])\nexport const FUNNEL_TOTAL_PERCENT = '$$totalPercentage$$';\n//  x \nexport const PLOYGON_X = '$$x$$';\nexport const PLOYGON_Y = '$$y$$';\n\n/**\n *  \n */\nexport const DEFAULT_OPTIONS = {\n  appendPadding: [0, 80],\n  minSize: 0,\n  maxSize: 1,\n  meta: {\n    [FUNNEL_MAPPING_VALUE]: {\n      min: 0,\n      max: 1,\n      nice: false,\n    },\n  },\n  label: {\n    style: {\n      fill: '#fff',\n      fontSize: 12,\n    },\n  },\n  tooltip: {\n    showTitle: false,\n    showMarkers: false,\n    shared: false,\n  },\n  conversionTag: {\n    offsetX: 10,\n    offsetY: 0,\n    style: {\n      fontSize: 12,\n      fill: 'rgba(0,0,0,0.45)',\n    },\n  },\n};\n","import { Types } from '@antv/g2';\nimport { get, isFunction, isNumber, map, maxBy } from '@antv/util';\nimport { Params } from '../../../core/adaptor';\nimport { Data, Datum } from '../../../types/common';\nimport { FUNNEL_CONVERSATION, FUNNEL_MAPPING_VALUE, FUNNEL_PERCENT } from '../constant';\nimport { FunnelOptions } from '../types';\n\nexport const CONVERSION_TAG_NAME = 'CONVERSION_TAG_NAME';\n\n/**\n *  transform\n * @param geometry\n */\nexport function transformData(\n  data: FunnelOptions['data'],\n  originData: FunnelOptions['data'],\n  options: Pick<FunnelOptions, 'yField' | 'maxSize' | 'minSize'>\n): FunnelOptions['data'] {\n  let formatData = [];\n  const { yField, maxSize, minSize } = options;\n  const maxYFieldValue = get(maxBy(originData, yField), [yField]);\n  const max = isNumber(maxSize) ? maxSize : 1;\n  const min = isNumber(minSize) ? minSize : 0;\n\n  // format \n  formatData = map(data, (row, index) => {\n    const percent = (row[yField] || 0) / maxYFieldValue;\n    row[FUNNEL_PERCENT] = percent;\n    row[FUNNEL_MAPPING_VALUE] = (max - min) * percent + min;\n    // \n    row[FUNNEL_CONVERSATION] = [get(data, [index - 1, yField]), row[yField]];\n    return row;\n  });\n\n  return formatData;\n}\n\n/**\n * \n * @param getLineCoordinate  line \n */\nexport function conversionTagComponent(\n  getLineCoordinate: (\n    datum: Datum,\n    datumIndex: number,\n    data: Data,\n    initLineOption: Record<string, any>\n  ) => Types.LineOption\n) {\n  return function (params: Params<FunnelOptions>): Params<FunnelOptions> {\n    const { chart, options } = params;\n    // @ts-ignore\n    const { conversionTag, filteredData } = options;\n\n    const data = filteredData || chart.getOptions().data;\n    if (conversionTag) {\n      const { formatter } = conversionTag;\n      data.forEach((obj, index) => {\n        if (index <= 0 || Number.isNaN(obj[FUNNEL_MAPPING_VALUE])) return;\n        const lineOption = getLineCoordinate(obj, index, data, {\n          top: true,\n          name: CONVERSION_TAG_NAME,\n          text: {\n            content: isFunction(formatter) ? formatter(obj, data) : formatter,\n            offsetX: conversionTag.offsetX,\n            offsetY: conversionTag.offsetY,\n            position: 'end',\n            autoRotate: false,\n            style: {\n              textAlign: 'start',\n              textBaseline: 'middle',\n              ...conversionTag.style,\n            },\n          },\n        });\n\n        chart.annotation().line(lineOption);\n      });\n    }\n    return params;\n  };\n}\n","import { Types } from '@antv/g2';\nimport { get, isArray, map } from '@antv/util';\nimport { geometry as baseGeometry } from '../../../adaptor/geometries/base';\nimport { Params } from '../../../core/adaptor';\nimport { Data, Datum } from '../../../types/common';\nimport { findGeometry, flow } from '../../../utils';\nimport { getTooltipMapping } from '../../../utils/tooltip';\nimport { FUNNEL_CONVERSATION, FUNNEL_MAPPING_VALUE, FUNNEL_PERCENT } from '../constant';\nimport { FunnelOptions } from '../types';\nimport { conversionTagComponent, transformData } from './common';\n\n/**\n * \n * @param params\n */\nfunction field(params: Params<FunnelOptions>): Params<FunnelOptions> {\n  const { chart, options } = params;\n  const { data = [], yField, maxSize, minSize } = options;\n  const formatData = transformData(data, data, {\n    yField,\n    maxSize,\n    minSize,\n  });\n\n  // \n  chart.data(formatData);\n  return params;\n}\n\n/**\n * geometry\n * @param params\n */\nfunction geometry(params: Params<FunnelOptions>): Params<FunnelOptions> {\n  const { chart, options } = params;\n  const { xField, yField, color, tooltip, label, shape = 'funnel', funnelStyle, state } = options;\n\n  const { fields, formatter } = getTooltipMapping(tooltip, [xField, yField]);\n\n  baseGeometry({\n    chart,\n    options: {\n      type: 'interval',\n      xField: xField,\n      yField: FUNNEL_MAPPING_VALUE,\n      colorField: xField,\n      tooltipFields: isArray(fields) && fields.concat([FUNNEL_PERCENT, FUNNEL_CONVERSATION]),\n      mapping: {\n        shape,\n        tooltip: formatter,\n        color,\n        style: funnelStyle,\n      },\n      label,\n      state,\n    },\n  });\n\n  const geo = findGeometry(params.chart, 'interval');\n  geo.adjust('symmetric');\n\n  return params;\n}\n\n/**\n * \n * @param params\n */\nfunction transpose(params: Params<FunnelOptions>): Params<FunnelOptions> {\n  const { chart, options } = params;\n  const { isTransposed } = options;\n  chart.coordinate({\n    type: 'rect',\n    actions: !isTransposed ? [['transpose'], ['scale', 1, -1]] : [],\n  });\n  return params;\n}\n\n/**\n * \n * @param params\n */\nexport function conversionTag(params: Params<FunnelOptions>): Params<FunnelOptions> {\n  const { options, chart } = params;\n  const { maxSize } = options;\n\n  // \n  const dataArray = get(chart, ['geometries', '0', 'dataArray'], []);\n  const size = get(chart, ['options', 'data', 'length']);\n  const x = map(dataArray, (item) => get(item, ['0', 'nextPoints', '0', 'x']) * size - 0.5);\n\n  const getLineCoordinate = (\n    datum: Datum,\n    datumIndex: number,\n    data: Data,\n    initLineOption: Record<string, any>\n  ): Types.LineOption => {\n    const percent = maxSize - (maxSize - datum[FUNNEL_MAPPING_VALUE]) / 2;\n    return {\n      ...initLineOption,\n      start: [x[datumIndex - 1] || datumIndex - 0.5, percent],\n      end: [x[datumIndex - 1] || datumIndex - 0.5, percent + 0.05],\n    };\n  };\n\n  conversionTagComponent(getLineCoordinate)(params);\n\n  return params;\n}\n\n/**\n * \n * @param chart\n * @param options\n */\nexport function basicFunnel(params: Params<FunnelOptions>) {\n  return flow(field, geometry, transpose, conversionTag)(params);\n}\n","import { Types } from '@antv/g2';\nimport { get, isArray, isNumber, map } from '@antv/util';\nimport { geometry as baseGeometry } from '../../../adaptor/geometries/base';\nimport { Params } from '../../../core/adaptor';\nimport { Data, Datum } from '../../../types/common';\nimport { deepAssign, flow } from '../../../utils';\nimport { getTooltipMapping } from '../../../utils/tooltip';\nimport { FUNNEL_CONVERSATION, FUNNEL_MAPPING_VALUE, FUNNEL_PERCENT } from '../constant';\nimport { FunnelOptions } from '../types';\nimport { conversionTagComponent, transformData } from './common';\n\n/**\n * \n * @param params\n */\nfunction field(params: Params<FunnelOptions>): Params<FunnelOptions> {\n  const { chart, options } = params;\n  const { data = [], yField } = options;\n\n  // \n  chart.data(data);\n  chart.scale({\n    [yField]: {\n      sync: true,\n    },\n  });\n  return params;\n}\n\n/**\n * geometry\n * @param params\n */\nfunction geometry(params: Params<FunnelOptions>): Params<FunnelOptions> {\n  const { chart, options } = params;\n  const {\n    data,\n    xField,\n    yField,\n    color,\n    compareField,\n    isTransposed,\n    tooltip,\n    maxSize,\n    minSize,\n    label,\n    funnelStyle,\n    state,\n    showFacetTitle,\n  } = options;\n\n  chart.facet('mirror', {\n    fields: [compareField],\n    // \n    transpose: !isTransposed,\n    padding: isTransposed ? 0 : [32, 0, 0, 0],\n    showTitle: showFacetTitle,\n    eachView(view, facet) {\n      const index = isTransposed ? facet.rowIndex : facet.columnIndex;\n\n      if (!isTransposed) {\n        view.coordinate({\n          type: 'rect',\n          actions: [['transpose'], ['scale', index === 0 ? -1 : 1, -1]],\n        });\n      }\n\n      const formatterData = transformData(facet.data, data, {\n        yField,\n        maxSize,\n        minSize,\n      });\n\n      view.data(formatterData);\n\n      // \n      const { fields, formatter } = getTooltipMapping(tooltip, [xField, yField, compareField]);\n\n      const defaultFacetLabel = isTransposed\n        ? {\n            offset: index === 0 ? 10 : -23,\n            position: (index === 0 ? 'bottom' : 'top') as Types.IntervalGeometryLabelPosition,\n          }\n        : {\n            offset: 10,\n            position: 'left' as Types.IntervalGeometryLabelPosition,\n            style: {\n              textAlign: index === 0 ? 'end' : 'start',\n            },\n          };\n\n      baseGeometry({\n        chart: view,\n        options: {\n          type: 'interval',\n          xField: xField,\n          yField: FUNNEL_MAPPING_VALUE,\n          colorField: xField,\n          tooltipFields: isArray(fields) && fields.concat([FUNNEL_PERCENT, FUNNEL_CONVERSATION]),\n          mapping: {\n            // todo   shape\n            shape: 'funnel',\n            tooltip: formatter,\n            color,\n            style: funnelStyle,\n          },\n          label: label === false ? false : deepAssign({}, defaultFacetLabel, label),\n          state,\n        },\n      });\n    },\n  });\n\n  return params;\n}\n\nexport function compareConversionTag(params: Params<FunnelOptions>) {\n  // @ts-ignore\n  const { chart, index, options } = params;\n  const { conversionTag, isTransposed } = options;\n  (isNumber(index) ? [chart] : chart.views).forEach((view, viewIndex) => {\n    // \n    const dataArray = get(view, ['geometries', '0', 'dataArray'], []);\n    const size = get(view, ['options', 'data', 'length']);\n    const x = map(dataArray, (item) => get(item, ['0', 'nextPoints', '0', 'x']) * size - 0.5);\n\n    const getLineCoordinate = (\n      datum: Datum,\n      datumIndex: number,\n      data: Data,\n      initLineOption: Record<string, any>\n    ): Types.LineOption => {\n      const ratio = (index || viewIndex) === 0 ? -1 : 1;\n      return deepAssign({}, initLineOption, {\n        start: [x[datumIndex - 1] || datumIndex - 0.5, datum[FUNNEL_MAPPING_VALUE]],\n        end: [x[datumIndex - 1] || datumIndex - 0.5, datum[FUNNEL_MAPPING_VALUE] + 0.05],\n        text: isTransposed\n          ? {\n              style: {\n                textAlign: 'start',\n              },\n            }\n          : {\n              offsetX: conversionTag !== false ? ratio * conversionTag.offsetX : 0,\n              style: {\n                textAlign: (index || viewIndex) === 0 ? 'end' : 'start',\n              },\n            },\n      });\n    };\n\n    conversionTagComponent(getLineCoordinate)(\n      deepAssign(\n        {},\n        {\n          chart: view,\n          options,\n        }\n      )\n    );\n  });\n}\n\n/**\n * \n * @param params\n */\nfunction conversionTag(params: Params<FunnelOptions>): Params<FunnelOptions> {\n  const { chart } = params;\n  // @ts-ignore\n  chart.once('beforepaint', () => compareConversionTag(params));\n  return params;\n}\n\n/**\n * \n * @param chart\n * @param options\n */\nexport function compareFunnel(params: Params<FunnelOptions>) {\n  return flow(field, geometry, conversionTag)(params);\n}\n","import { Types } from '@antv/g2';\nimport { get, isArray, map, maxBy, reduce } from '@antv/util';\nimport { geometry as baseGeometry } from '../../../adaptor/geometries/base';\nimport { Params } from '../../../core/adaptor';\nimport { Data, Datum } from '../../../types/common';\nimport { flow } from '../../../utils';\nimport { getTooltipMapping } from '../../../utils/tooltip';\nimport { FUNNEL_CONVERSATION, FUNNEL_PERCENT, FUNNEL_TOTAL_PERCENT, PLOYGON_X, PLOYGON_Y } from '../constant';\nimport { FunnelOptions } from '../types';\nimport { conversionTagComponent } from './common';\n\n/**\n * \n * @param params\n * :  yfield 2 2\n * :  g2 data ->  -> \n *  -0.5 <= x <= 0.5, 0 <= y <= 1 \n * ,  x \n *  data.length + 1  y = 4x - 1 [0.5, 1], [0.25, 0] data  y  y \n */\n\n/**\n * \n * @param params\n */\nfunction field(params: Params<FunnelOptions>): Params<FunnelOptions> {\n  const { chart, options } = params;\n  const { data = [], yField } = options;\n\n  // \n  const sum = reduce(\n    data,\n    (total, item) => {\n      return total + (item[yField] || 0);\n    },\n    0\n  );\n\n  const max = maxBy(data, yField)[yField];\n\n  const formatData = map(data, (row, index) => {\n    //  xy  [, ]\n    const x = [];\n    const y = [];\n\n    row[FUNNEL_TOTAL_PERCENT] = (row[yField] || 0) / sum;\n\n    // \n    if (index) {\n      const preItemX = data[index - 1][PLOYGON_X];\n      const preItemY = data[index - 1][PLOYGON_Y];\n      x[0] = preItemX[3];\n      y[0] = preItemY[3];\n      x[1] = preItemX[2];\n      y[1] = preItemY[2];\n    } else {\n      x[0] = -0.5;\n      y[0] = 1;\n      x[1] = 0.5;\n      y[1] = 1;\n    }\n\n    // \n    y[2] = y[1] - row[FUNNEL_TOTAL_PERCENT];\n    x[2] = (y[2] + 1) / 4;\n    y[3] = y[2];\n    x[3] = -x[2];\n\n    // \n    row[PLOYGON_X] = x;\n    row[PLOYGON_Y] = y;\n    row[FUNNEL_PERCENT] = (row[yField] || 0) / max;\n    row[FUNNEL_CONVERSATION] = [get(data, [index - 1, yField]), row[yField]];\n    return row;\n  });\n\n  chart.data(formatData);\n\n  return params;\n}\n\n/**\n * geometry\n * @param params\n */\nfunction geometry(params: Params<FunnelOptions>): Params<FunnelOptions> {\n  const { chart, options } = params;\n  const { xField, yField, color, tooltip, label, funnelStyle, state } = options;\n\n  const { fields, formatter } = getTooltipMapping(tooltip, [xField, yField]);\n  // \n  baseGeometry({\n    chart,\n    options: {\n      type: 'polygon',\n      xField: PLOYGON_X,\n      yField: PLOYGON_Y,\n      colorField: xField,\n      tooltipFields: isArray(fields) && fields.concat([FUNNEL_PERCENT, FUNNEL_CONVERSATION]),\n      label,\n      state,\n      mapping: {\n        tooltip: formatter,\n        color,\n        style: funnelStyle,\n      },\n    },\n  });\n  return params;\n}\n\n/**\n * \n * @param params\n */\nfunction transpose(params: Params<FunnelOptions>): Params<FunnelOptions> {\n  const { chart, options } = params;\n  const { isTransposed } = options;\n  chart.coordinate({\n    type: 'rect',\n    actions: isTransposed ? [['transpose'], ['reflect', 'x']] : [],\n  });\n  return params;\n}\n\n/**\n * \n * @param params\n */\nfunction conversionTag(params: Params<FunnelOptions>): Params<FunnelOptions> {\n  const getLineCoordinate = (\n    datum: Datum,\n    datumIndex: number,\n    data: Data,\n    initLineOption: Record<string, any>\n  ): Types.LineOption => {\n    return {\n      ...initLineOption,\n      start: [datum[PLOYGON_X][1], datum[PLOYGON_Y][1]],\n      end: [datum[PLOYGON_X][1] + 0.05, datum[PLOYGON_Y][1]],\n    };\n  };\n\n  conversionTagComponent(getLineCoordinate)(params);\n\n  return params;\n}\n\n/**\n * \n * @param chart\n * @param options\n */\nexport function dynamicHeightFunnel(params: Params<FunnelOptions>) {\n  return flow(field, geometry, transpose, conversionTag)(params);\n}\n","import { Params } from '../../../core/adaptor';\nimport { deepAssign, flow } from '../../../utils';\nimport { FunnelOptions } from '../types';\nimport { basicFunnel } from './basic';\n\n/**\n * \n * @param params\n */\nfunction field(params: Params<FunnelOptions>): Params<FunnelOptions> {\n  const { chart, options } = params;\n  const { data = [], yField } = options;\n  // \n  chart.data(data);\n  chart.scale({\n    [yField]: {\n      sync: true,\n    },\n  });\n  return params;\n}\n\n/**\n * geometry\n * @param params\n */\nfunction geometry(params: Params<FunnelOptions>): Params<FunnelOptions> {\n  const { chart, options } = params;\n  const { seriesField, isTransposed, showFacetTitle } = options;\n\n  chart.facet('rect', {\n    fields: [seriesField],\n    padding: [isTransposed ? 0 : 32, 10, 0, 10],\n    showTitle: showFacetTitle,\n    eachView(view, facet) {\n      basicFunnel(\n        deepAssign({}, params, {\n          chart: view,\n          options: {\n            data: facet.data,\n          },\n        })\n      );\n    },\n  });\n\n  return params;\n}\n\n/**\n * \n * @param chart\n * @param options\n */\nexport function facetFunnel(params: Params<FunnelOptions>) {\n  return flow(field, geometry)(params);\n}\n","import { Action } from '@antv/g2';\nimport { each, filter, get, map } from '@antv/util';\nimport { conversionTag as basicConversionTag } from '../geometries/basic';\nimport { CONVERSION_TAG_NAME, transformData } from '../geometries/common';\nimport { compareConversionTag } from '../geometries/compare';\nimport { FunnelOptions } from '../types';\n\n/**\n * Funnel  legend \n */\nexport class ConversionTagAction extends Action {\n  private rendering = false;\n  public change(options: FunnelOptions) {\n    // \n    if (!this.rendering) {\n      const { seriesField, compareField } = options;\n      const conversionTag = compareField ? compareConversionTag : basicConversionTag;\n      const { view } = this.context;\n      // \n      const views = seriesField || compareField ? view.views : [view];\n      map(views, (v, index) => {\n        //  annotations \n        const annotationController = v.getController('annotation');\n\n        const annotations = filter(\n          get(annotationController, ['option'], []),\n          ({ name }) => name !== CONVERSION_TAG_NAME\n        );\n\n        annotationController.clear(true);\n\n        each(annotations, (annotation) => {\n          if (typeof annotation === 'object') {\n            v.annotation()[annotation.type](annotation);\n          }\n        });\n\n        const data = get(v, ['filteredData'], v.getOptions().data);\n\n        conversionTag({\n          chart: v,\n          index,\n          options: {\n            ...options,\n            // @ts-ignore\n            filteredData: transformData(data, data, options),\n          },\n        });\n\n        v.filterData(data);\n        this.rendering = true;\n        v.render(true);\n      });\n    }\n    this.rendering = false;\n  }\n}\n","import { registerAction, registerInteraction } from '@antv/g2';\nimport { ConversionTagAction } from './funnel-conversion-tag';\n\nconst FUNNEL_CONVERSION_TAG = 'funnel-conversion-tag';\nexport const FUNNEL_LEGEND_FILTER = 'funnel-afterrender';\nexport const interactionStart = { trigger: 'afterrender', action: `${FUNNEL_CONVERSION_TAG}:change` };\n\nregisterAction(FUNNEL_CONVERSION_TAG, ConversionTagAction);\nregisterInteraction(FUNNEL_LEGEND_FILTER, {\n  start: [interactionStart],\n});\n","import { clone, each, isFunction } from '@antv/util';\nimport { animation, annotation, scale, theme, tooltip } from '../../adaptor/common';\nimport { Params } from '../../core/adaptor';\nimport { getLocale } from '../../core/locale';\nimport { Datum } from '../../types';\nimport { deepAssign, flow } from '../../utils';\nimport { conversionTagFormatter } from '../../utils/conversion';\nimport { FUNNEL_CONVERSATION, FUNNEL_PERCENT } from './constant';\nimport { basicFunnel } from './geometries/basic';\nimport { compareFunnel } from './geometries/compare';\nimport { dynamicHeightFunnel } from './geometries/dynamic-height';\nimport { facetFunnel } from './geometries/facet';\nimport { FUNNEL_LEGEND_FILTER, interactionStart } from './interactions';\nimport { FunnelOptions } from './types';\nimport type { Interaction } from './types';\n\n/**\n *\n * geometry,\n * 1. interval.shape('funnel')\n * 2. \n * 3. polypon\n * 4.  + list \n* /\n\n/**\n * options \n * @param params\n */\nfunction defaultOptions(params: Params<FunnelOptions>): Params<FunnelOptions> {\n  const { options } = params;\n  const { compareField, xField, yField, locale, funnelStyle, data } = options;\n  const i18n = getLocale(locale);\n\n  const defaultOption = {\n    label: compareField\n      ? {\n          fields: [xField, yField, compareField, FUNNEL_PERCENT, FUNNEL_CONVERSATION],\n          formatter: (datum) => `${datum[yField]}`,\n        }\n      : {\n          fields: [xField, yField, FUNNEL_PERCENT, FUNNEL_CONVERSATION],\n          offset: 0,\n          position: 'middle',\n          formatter: (datum) => `${datum[xField]} ${datum[yField]}`,\n        },\n    tooltip: {\n      title: xField,\n      formatter: (datum) => {\n        return { name: datum[xField], value: datum[yField] };\n      },\n    },\n    conversionTag: {\n      // conversionTag \n      formatter: (datum) =>\n        `${i18n.get(['conversionTag', 'label'])}: ${conversionTagFormatter(\n          ...(datum[FUNNEL_CONVERSATION] as [number, number])\n        )}`,\n    },\n  };\n\n  // \n  let style;\n  if (compareField || funnelStyle) {\n    style = (datum: Datum) => {\n      return deepAssign(\n        {},\n        // \n        compareField && { lineWidth: 1, stroke: '#fff' },\n        isFunction(funnelStyle) ? funnelStyle(datum) : funnelStyle\n      );\n    };\n  }\n\n  return deepAssign({ options: defaultOption }, params, { options: { funnelStyle: style, data: clone(data) } });\n}\n\n/**\n * geometry\n * @param params\n */\nfunction geometry(params: Params<FunnelOptions>): Params<FunnelOptions> {\n  const { options } = params;\n  const { compareField, dynamicHeight, seriesField } = options;\n  if (seriesField) {\n    return facetFunnel(params);\n  }\n  if (compareField) {\n    return compareFunnel(params);\n  }\n  if (dynamicHeight) {\n    return dynamicHeightFunnel(params);\n  }\n\n  return basicFunnel(params);\n}\n\n/**\n * meta \n * @param params\n */\nexport function meta(params: Params<FunnelOptions>): Params<FunnelOptions> {\n  const { options } = params;\n  const { xAxis, yAxis, xField, yField } = options;\n\n  return flow(\n    scale({\n      [xField]: xAxis,\n      [yField]: yAxis,\n    })\n  )(params);\n}\n\n/**\n * \n * @param params\n */\nfunction axis(params: Params<FunnelOptions>): Params<FunnelOptions> {\n  const { chart } = params;\n  chart.axis(false);\n  return params;\n}\n\n/**\n * legend \n * @param params\n */\nfunction legend(params: Params<FunnelOptions>): Params<FunnelOptions> {\n  const { chart, options } = params;\n  const { legend } = options;\n\n  if (legend === false) {\n    chart.legend(false);\n  } else {\n    chart.legend(legend);\n    // TODO FIX: legend-click \n  }\n\n  return params;\n}\n\n/**\n * Interaction \n * @param params\n */\nexport function interaction<O extends Pick<FunnelOptions, 'interactions'>>(params: Params<O>): Params<O> {\n  const { chart, options } = params;\n  // @ts-ignore\n  const { interactions, dynamicHeight } = options;\n\n  each(interactions, (i: Interaction) => {\n    if (i.enable === false) {\n      chart.removeInteraction(i.type);\n    } else {\n      chart.interaction(i.type, i.cfg || {});\n    }\n  });\n  //   \n  if (!dynamicHeight) {\n    chart.interaction(FUNNEL_LEGEND_FILTER, {\n      start: [{ ...interactionStart, arg: options }],\n    });\n  } else {\n    chart.removeInteraction(FUNNEL_LEGEND_FILTER);\n  }\n\n  return params;\n}\n\n/**\n * \n * @param chart\n * @param options\n */\nexport function adaptor(params: Params<FunnelOptions>) {\n  return flow(\n    defaultOptions,\n    geometry,\n    meta,\n    axis,\n    tooltip,\n    interaction,\n    legend,\n    animation,\n    theme,\n    annotation()\n  )(params);\n}\n","import { Element } from '@antv/g2';\nimport { each } from '@antv/util';\nimport { StateCondition, StateName, StateObject } from '../..';\nimport { Adaptor } from '../../core/adaptor';\nimport { Plot } from '../../core/plot';\nimport { getAllElementsRecursively } from '../../utils';\nimport { adaptor } from './adaptor';\nimport {\n  DEFAULT_OPTIONS,\n  FUNNEL_CONVERSATION as FUNNEL_CONVERSATION_FIELD,\n  FUNNEL_PERCENT,\n  FUNNEL_TOTAL_PERCENT,\n} from './constant';\nimport './interactions';\nimport { FunnelOptions } from './types';\n\nexport type { FunnelOptions };\nexport { FUNNEL_CONVERSATION_FIELD };\n\nexport class Funnel extends Plot<FunnelOptions> {\n  /**  */\n  public type: string = 'funnel';\n\n  static getDefaultOptions(): Partial<FunnelOptions> {\n    return DEFAULT_OPTIONS;\n  }\n\n  // \n  /**    */\n  static CONVERSATION_FIELD = FUNNEL_CONVERSATION_FIELD;\n  /**    */\n  static PERCENT_FIELD = FUNNEL_PERCENT;\n  /**    */\n  static TOTAL_PERCENT_FIELD = FUNNEL_TOTAL_PERCENT;\n\n  /**\n   *   \n   */\n  protected getDefaultOptions(): Partial<FunnelOptions> {\n    //  defaultOption  core.getDefaultOptions funnel  defaulOption  adaptor  defaultOption \n    return Funnel.getDefaultOptions();\n  }\n\n  /**\n   *   \n   */\n  protected getSchemaAdaptor(): Adaptor<FunnelOptions> {\n    return adaptor;\n  }\n\n  /**\n   * \n   * @param type  'active' | 'inactive' | 'selected' \n   * @param conditions \n   * @param status  true\n   */\n  public setState(type: StateName, condition: StateCondition, status: boolean = true) {\n    const elements = getAllElementsRecursively(this.chart);\n\n    each(elements, (ele: Element) => {\n      if (condition(ele.getData())) {\n        ele.setState(type, status);\n      }\n    });\n  }\n\n  /**\n   * \n   */\n  public getStates(): StateObject[] {\n    const elements = getAllElementsRecursively(this.chart);\n\n    const stateObjects: StateObject[] = [];\n    each(elements, (element: Element) => {\n      const data = element.getData();\n      const states = element.getStates();\n      each(states, (state) => {\n        stateObjects.push({ data, state, geometry: element.geometry, element });\n      });\n    });\n\n    return stateObjects;\n  }\n}\n","export const RANGE_VALUE = 'range';\nexport const RANGE_TYPE = 'type';\nexport const PERCENT = 'percent';\n\nexport const DEFAULT_COLOR = '#f0f0f0';\n\n/**    */\nexport const INDICATEOR_VIEW_ID = 'indicator-view';\nexport const RANGE_VIEW_ID = 'range-view';\n\n/**\n * \n */\nexport const DEFAULT_OPTIONS = {\n  percent: 0, // \n  range: {\n    ticks: [],\n  }, // \n  innerRadius: 0.9,\n  radius: 0.95,\n  startAngle: (-7 / 6) * Math.PI,\n  endAngle: (1 / 6) * Math.PI,\n  syncViewPadding: true,\n  axis: {\n    line: null,\n    label: {\n      offset: -24,\n      style: {\n        textAlign: 'center' as const,\n        textBaseline: 'middle' as const,\n      },\n    },\n    subTickLine: {\n      length: -8,\n    },\n    tickLine: {\n      length: -12,\n    },\n    grid: null,\n  },\n  indicator: {\n    pointer: {\n      style: {\n        lineWidth: 5,\n        lineCap: 'round' as const,\n      },\n    },\n    pin: {\n      style: {\n        r: 9.75,\n        lineWidth: 4.5,\n        fill: '#fff',\n      },\n    },\n  },\n  statistic: {\n    title: false as const,\n  },\n  meta: {\n    //  view  scale  v \n    [RANGE_VALUE]: {\n      sync: 'v',\n    },\n    [PERCENT]: {\n      sync: 'v',\n      tickCount: 5,\n      tickInterval: 0.2,\n    },\n  },\n  animation: false as const,\n};\n","import { clamp, get, size, uniq } from '@antv/util';\nimport { Data } from '../../types';\nimport { PERCENT, RANGE_TYPE, RANGE_VALUE } from './constants';\nimport { GaugeOptions, GaugeRangeData } from './types';\n\n/**\n *  range  data \n * @param range\n * @param key\n * @returns {GaugeRangeData}\n */\nexport function processRangeData(range: number[], percent: GaugeOptions['percent']): GaugeRangeData {\n  return (\n    range\n      //  stack \n      .map((r: number, idx: number) => {\n        return { [RANGE_VALUE]: r - (range[idx - 1] || 0), [RANGE_TYPE]: `${idx}`, [PERCENT]: percent };\n      })\n  );\n}\n\n/**\n *   \n * @param percent\n */\nexport function getIndicatorData(percent: GaugeOptions['percent']): Data {\n  return [{ [PERCENT]: clamp(percent, 0, 1) }];\n}\n\n/**\n *  \n * @param percent\n * @param range\n */\nexport function getRangeData(percent: GaugeOptions['percent'], range?: GaugeOptions['range']): GaugeRangeData {\n  const ticks = get(range, ['ticks'], []);\n\n  const clampTicks = size(ticks) ? uniq(ticks) : [0, clamp(percent, 0, 1), 1];\n  if (!clampTicks[0]) {\n    clampTicks.shift();\n  }\n  return processRangeData(clampTicks as number[], percent);\n}\n","import { Geometry } from '@antv/g2';\nimport { get, isString } from '@antv/util';\nimport { animation, annotation, interaction, scale, theme } from '../../adaptor/common';\nimport { interval } from '../../adaptor/geometries';\nimport { AXIS_META_CONFIG_KEYS } from '../../constant';\nimport { Params } from '../../core/adaptor';\nimport { deepAssign, flow, pick, renderGaugeStatistic } from '../../utils';\nimport { DEFAULT_COLOR, INDICATEOR_VIEW_ID, PERCENT, RANGE_TYPE, RANGE_VALUE, RANGE_VIEW_ID } from './constants';\nimport { GaugeOptions } from './types';\nimport { getIndicatorData, getRangeData } from './utils';\n\n/**\n * geometry \n * @param params\n */\nfunction geometry(params: Params<GaugeOptions>): Params<GaugeOptions> {\n  const { chart, options } = params;\n  const { percent, range, radius, innerRadius, startAngle, endAngle, axis, indicator, gaugeStyle, type, meter } =\n    options;\n  const { color, width: rangeWidth } = range;\n\n  //  & \n  // \n  if (indicator) {\n    const indicatorData = getIndicatorData(percent);\n\n    const v1 = chart.createView({ id: INDICATEOR_VIEW_ID });\n    v1.data(indicatorData);\n\n    v1.point()\n      .position(`${PERCENT}*1`)\n      .shape(indicator.shape || 'gauge-indicator')\n      //  shape \n      .customInfo({\n        defaultColor: chart.getTheme().defaultColor,\n        indicator,\n      });\n\n    v1.coordinate('polar', {\n      startAngle,\n      endAngle,\n      radius: innerRadius * radius, //  innerRadius * radius =  radius\n    });\n\n    v1.axis(PERCENT, axis);\n    //  scale \n    v1.scale(PERCENT, pick(axis, AXIS_META_CONFIG_KEYS));\n  }\n\n  //  range\n  // [{ range: 1, type: '0', percent:  }]\n  const rangeData = getRangeData(percent, options.range);\n  const v2 = chart.createView({ id: RANGE_VIEW_ID });\n  v2.data(rangeData);\n\n  const rangeColor = isString(color) ? [color, DEFAULT_COLOR] : color;\n\n  const { ext } = interval({\n    chart: v2,\n    options: {\n      xField: '1',\n      yField: RANGE_VALUE,\n      seriesField: RANGE_TYPE,\n      rawFields: [PERCENT],\n      isStack: true,\n      interval: {\n        color: rangeColor,\n        style: gaugeStyle,\n        shape: type === 'meter' ? 'meter-gauge' : null,\n      },\n      args: {\n        zIndexReversed: true,\n        sortZIndex: true,\n      },\n      minColumnWidth: rangeWidth,\n      maxColumnWidth: rangeWidth,\n    },\n  });\n\n  const geometry = ext.geometry as Geometry;\n  //  shape \n  geometry.customInfo({ meter });\n\n  v2.coordinate('polar', {\n    innerRadius,\n    radius,\n    startAngle,\n    endAngle,\n  }).transpose();\n\n  return params;\n}\n\n/**\n * meta \n * @param params\n */\nfunction meta(params: Params<GaugeOptions>): Params<GaugeOptions> {\n  return flow(\n    scale({\n      range: {\n        min: 0,\n        max: 1,\n        maxLimit: 1,\n        minLimit: 0,\n      },\n      [PERCENT]: {},\n    })\n  )(params);\n}\n\n/**\n * \n * @param params\n */\nfunction statistic(params: Params<GaugeOptions>, updated?: boolean): Params<GaugeOptions> {\n  const { chart, options } = params;\n  const { statistic, percent } = options;\n\n  // \n  chart.getController('annotation').clear(true);\n  if (statistic) {\n    const { content: contentOption } = statistic;\n    let transformContent;\n    //  content \n    if (contentOption) {\n      transformContent = deepAssign(\n        {},\n        {\n          content: `${(percent * 100).toFixed(2)}%`,\n          style: {\n            opacity: 0.75,\n            fontSize: '30px',\n            lineHeight: 1,\n            textAlign: 'center',\n            color: 'rgba(44,53,66,0.85)',\n          },\n        },\n        contentOption\n      );\n    }\n    renderGaugeStatistic(chart, { statistic: { ...statistic, content: transformContent } }, { percent });\n  }\n\n  if (updated) {\n    chart.render(true);\n  }\n\n  return params;\n}\n\n/**\n * tooltip \n */\nfunction tooltip(params: Params<GaugeOptions>): Params<GaugeOptions> {\n  const { chart, options } = params;\n  const { tooltip } = options;\n\n  if (tooltip) {\n    chart.tooltip(\n      deepAssign(\n        {\n          showTitle: false,\n          showMarkers: false,\n          containerTpl: '<div class=\"g2-tooltip\"><div class=\"g2-tooltip-list\"></div></div>',\n          domStyles: {\n            'g2-tooltip': {\n              padding: '4px 8px',\n              fontSize: '10px',\n            },\n          },\n          customContent: (x: string, data: any[]) => {\n            const percent = get(data, [0, 'data', PERCENT], 0);\n            return `${(percent * 100).toFixed(2)}%`;\n          },\n        },\n        tooltip\n      )\n    );\n  } else {\n    //  tooltip\n    chart.tooltip(false);\n  }\n\n  return params;\n}\n\n/**\n * other \n * @param params\n */\nfunction other(params: Params<GaugeOptions>): Params<GaugeOptions> {\n  const { chart } = params;\n\n  chart.legend(false);\n\n  return params;\n}\n\n/**\n *  adaptor\n */\nexport { statistic };\n\n/**\n * \n * @param chart\n * @param options\n */\nexport function adaptor(params: Params<GaugeOptions>) {\n  // flow  G2 API\n  return flow(\n    theme,\n    // animation  createView  View \n    animation,\n    geometry,\n    meta,\n    tooltip,\n    statistic,\n    interaction,\n    annotation(),\n    other\n    // ...  adaptor flow\n  )(params);\n}\n","import { registerShape, Types } from '@antv/g2';\nimport { Indicator } from '../types';\n\n// Shape \nregisterShape('point', 'gauge-indicator', {\n  draw(cfg: Types.ShapeInfo, container) {\n    //  customInfo \n    const { indicator, defaultColor } = cfg.customInfo;\n    const { pointer, pin } = indicator as Indicator;\n\n    const group = container.addGroup();\n    // \n    const center = this.parsePoint({ x: 0, y: 0 });\n    // \n    if (pointer) {\n      // pointer\n      group.addShape('line', {\n        name: 'pointer',\n        attrs: {\n          x1: center.x,\n          y1: center.y,\n          x2: cfg.x,\n          y2: cfg.y,\n          stroke: defaultColor,\n          ...pointer.style,\n        },\n      });\n    }\n\n    // pin\n    if (pin) {\n      group.addShape('circle', {\n        name: 'pin',\n        attrs: {\n          x: center.x,\n          y: center.y,\n          stroke: defaultColor,\n          ...pin.style,\n        },\n      });\n    }\n    return group;\n  },\n});\n","import { registerShape, Types, Util } from '@antv/g2';\nimport { clamp } from '@antv/util';\nimport { GaugeCustomInfo } from '../types';\n\ntype ShapeCfg = Omit<Types.ShapeInfo, 'customInfo'> & {\n  customInfo: GaugeCustomInfo;\n};\n\n/**\n *  Shape : \n *  STEP, STEP_RATIO. : 1 / (STEP + 1) * i -> 1 / (STEP + 1) * i + (STEP_RATIO / (STEP + 1))\n */\nregisterShape('interval', 'meter-gauge', {\n  draw(cfg: ShapeCfg, container) {\n    //  customInfo \n    const { meter = {} } = cfg.customInfo;\n    let { steps: STEP = 50, stepRatio: STEP_RATIO = 0.5 } = meter;\n    STEP = STEP < 1 ? 1 : STEP;\n    // stepRatio : (0, 1]\n    STEP_RATIO = clamp(STEP_RATIO, 0, 1);\n\n    const { startAngle: COORD_START_ANGLE, endAngle: COORD_END_ANGLE } = this.coordinate;\n    let GAP = 0;\n    if (STEP_RATIO > 0 && STEP_RATIO < 1) {\n      const TOTAL = COORD_END_ANGLE - COORD_START_ANGLE;\n      GAP = TOTAL / STEP / (STEP_RATIO / (1 - STEP_RATIO) + 1 - 1 / STEP);\n    }\n    const INTERVAL = (GAP / (1 - STEP_RATIO)) * STEP_RATIO;\n\n    const group = container.addGroup();\n    //  gap\n    const center = this.coordinate.getCenter();\n    const radius = this.coordinate.getRadius();\n    const { startAngle: START_ANGLE, endAngle: END_ANGLE } = Util.getAngle(cfg, this.coordinate);\n\n    for (let startAngle = START_ANGLE; startAngle < END_ANGLE; ) {\n      let endAngle;\n      const r = (startAngle - COORD_START_ANGLE) % (INTERVAL + GAP);\n      if (r < INTERVAL) {\n        endAngle = startAngle + (INTERVAL - r);\n      } else {\n        startAngle += INTERVAL + GAP - r;\n        endAngle = startAngle + INTERVAL;\n      }\n      const path = Util.getSectorPath(\n        center.x,\n        center.y,\n        radius,\n        startAngle,\n        Math.min(endAngle, END_ANGLE),\n        radius * this.coordinate.innerRadius\n      );\n      group.addShape('path', {\n        name: 'meter-gauge',\n        attrs: {\n          path,\n          fill: cfg.color,\n          stroke: cfg.color,\n          lineWidth: 0.5,\n        },\n      });\n      startAngle = endAngle + GAP;\n    }\n\n    return group;\n  },\n});\n","import { Event, VIEW_LIFE_CIRCLE } from '@antv/g2';\nimport { Adaptor } from '../../core/adaptor';\nimport { Plot } from '../../core/plot';\nimport { adaptor, statistic } from './adaptor';\nimport { DEFAULT_OPTIONS, INDICATEOR_VIEW_ID, RANGE_VIEW_ID } from './constants';\n//  shape\nimport './shapes/indicator';\nimport './shapes/meter-gauge';\nimport { GaugeOptions } from './types';\nimport { getIndicatorData, getRangeData } from './utils';\n\nexport type { GaugeOptions };\n\n/**\n * \n */\nexport class Gauge extends Plot<GaugeOptions> {\n  /**\n   *   \n   * \n   */\n  static getDefaultOptions(): Partial<GaugeOptions> {\n    return DEFAULT_OPTIONS;\n  }\n\n  /**  */\n  public type: string = 'gauge';\n\n  /**\n   * \n   * @param percent\n   */\n  public changeData(percent: number) {\n    this.chart.emit(\n      VIEW_LIFE_CIRCLE.BEFORE_CHANGE_DATA,\n      Event.fromData(this.chart, VIEW_LIFE_CIRCLE.BEFORE_CHANGE_DATA, null)\n    );\n\n    this.updateOption({ percent });\n    const indicatorView = this.chart.views.find((v) => v.id === INDICATEOR_VIEW_ID);\n    if (indicatorView) {\n      indicatorView.data(getIndicatorData(percent));\n    }\n\n    const rangeView = this.chart.views.find((v) => v.id === RANGE_VIEW_ID);\n    if (rangeView) {\n      rangeView.data(getRangeData(percent, this.options.range));\n    }\n    // todo  G2  afterrender  annotations\n    statistic({ chart: this.chart, options: this.options }, true);\n\n    this.chart.emit(\n      VIEW_LIFE_CIRCLE.AFTER_CHANGE_DATA,\n      Event.fromData(this.chart, VIEW_LIFE_CIRCLE.AFTER_CHANGE_DATA, null)\n    );\n  }\n\n  /**\n   * \n   *  base \n   */\n  protected getDefaultOptions() {\n    return Gauge.getDefaultOptions();\n  }\n\n  /**\n   * \n   */\n  protected getSchemaAdaptor(): Adaptor<GaugeOptions> {\n    return adaptor;\n  }\n}\n","import { clone, each, getRange, groupBy, hasKey, isEmpty, sortBy, valuesOfKey } from '@antv/util';\nimport { Data } from '../../types';\n\ntype StatisticData = {\n  range: Array<number>;\n  count: number;\n};\ntype StatisticBin = {\n  [key: string]: StatisticData;\n};\n\n//  range\nfunction getBinKey(value: number, binWidth: number, binNumber?: number): [number, number] {\n  // \n  if (binNumber === 1) {\n    return [0, binWidth];\n  }\n  const index = Math.floor(value / binWidth);\n  return [binWidth * index, binWidth * (index + 1)];\n}\n\n//  sturges \nfunction sturges(values: Array<number>): number {\n  return Math.ceil(Math.log(values.length) / Math.LN2) + 1;\n}\n/**\n * \n * @param data\n * @param binField\n * @param binWidth\n * @param binNumber\n * @param stackField\n */\nexport function binHistogram(data: Data, binField: string, binWidth: number, binNumber?: number, stackField?: string) {\n  const originData_copy = clone(data);\n\n  //  binField \n  sortBy(originData_copy, binField);\n\n  //  binField  range\n  const values = valuesOfKey(originData_copy, binField);\n  const range = getRange(values);\n  const rangeWidth = range.max - range.min;\n\n  //  binWidth binNumber  binWidth \n  let _binWidth = binWidth;\n  if (!binWidth && binNumber) {\n    _binWidth = binNumber > 1 ? rangeWidth / (binNumber - 1) : range.max;\n  }\n  //  binWidth  binNumber  Sturges formula  binWidth\n  if (!binWidth && !binNumber) {\n    const _defaultBinNumber = sturges(values);\n    _binWidth = rangeWidth / _defaultBinNumber;\n  }\n  //  key - StatisticData \n  const bins: StatisticBin = {};\n  const groups = groupBy(originData_copy, stackField);\n  //  stackField \n  if (isEmpty(groups)) {\n    each(originData_copy, (data: any) => {\n      const value = data[binField];\n      const bin = getBinKey(value, _binWidth, binNumber);\n      const binKey = `${bin[0]}-${bin[1]}`;\n      if (!hasKey(bins, binKey)) {\n        bins[binKey] = { range: bin, count: 0 };\n      }\n      bins[binKey].count += 1;\n    });\n  } else {\n    Object.keys(groups).forEach((groupKey: string) => {\n      each(groups[groupKey], (data: any) => {\n        const value = data[binField];\n        const bin = getBinKey(value, _binWidth, binNumber);\n        const binKey = `${bin[0]}-${bin[1]}`;\n        const groupKeyBinKey = `${binKey}-${groupKey}`;\n        if (!hasKey(bins, groupKeyBinKey)) {\n          bins[groupKeyBinKey] = { range: bin, count: 0 };\n          bins[groupKeyBinKey][stackField] = groupKey;\n        }\n        bins[groupKeyBinKey].count += 1;\n      });\n    });\n  }\n  //  plotData \n  const plotData: Array<StatisticData> = [];\n  each(bins, (bin: StatisticData) => {\n    plotData.push(bin);\n  });\n  return plotData;\n}\n","import { Plot } from '../../core/plot';\nimport { deepAssign } from '../../utils';\n\n/**  xField */\nexport const HISTOGRAM_X_FIELD = 'range';\n/**  yField */\nexport const HISTOGRAM_Y_FIELD = 'count';\n\n/**\n * \n */\nexport const DEFAULT_OPTIONS = deepAssign({}, Plot.getDefaultOptions(), {\n  columnStyle: {\n    stroke: '#FFFFFF',\n  },\n  tooltip: {\n    shared: true,\n    showMarkers: false,\n  },\n  interactions: [{ type: 'active-region' }],\n});\n","import { animation, interaction, scale, state, theme, tooltip } from '../../adaptor/common';\nimport { interval } from '../../adaptor/geometries';\nimport { pattern } from '../../adaptor/pattern';\nimport { Params } from '../../core/adaptor';\nimport { deepAssign, findGeometry, flow, transformLabel } from '../../utils';\nimport { binHistogram } from '../../utils/transform/histogram';\nimport { HISTOGRAM_X_FIELD, HISTOGRAM_Y_FIELD } from './constant';\nimport { HistogramOptions } from './types';\n\n/**\n * geometry \n * @param params\n */\nfunction geometry(params: Params<HistogramOptions>): Params<HistogramOptions> {\n  const { chart, options } = params;\n  const { data, binField, binNumber, binWidth, color, stackField, legend, columnStyle } = options;\n\n  // \n  const plotData = binHistogram(data, binField, binWidth, binNumber, stackField);\n\n  chart.data(plotData);\n\n  const p = deepAssign({}, params, {\n    options: {\n      xField: HISTOGRAM_X_FIELD,\n      yField: HISTOGRAM_Y_FIELD,\n      seriesField: stackField,\n      isStack: true,\n      interval: {\n        color,\n        style: columnStyle,\n      },\n    },\n  });\n\n  interval(p);\n\n  // \n  if (legend && stackField) {\n    chart.legend(stackField, legend);\n  } else {\n    chart.legend(false);\n  }\n\n  return params;\n}\n\n/**\n * meta \n * @param params\n */\nfunction meta(params: Params<HistogramOptions>): Params<HistogramOptions> {\n  const { options } = params;\n  const { xAxis, yAxis } = options;\n\n  return flow(\n    scale({\n      [HISTOGRAM_X_FIELD]: xAxis,\n      [HISTOGRAM_Y_FIELD]: yAxis,\n    })\n  )(params);\n}\n\n/**\n * axis \n * @param params\n */\nfunction axis(params: Params<HistogramOptions>): Params<HistogramOptions> {\n  const { chart, options } = params;\n  const { xAxis, yAxis } = options;\n\n  //  false \n  if (xAxis === false) {\n    chart.axis(HISTOGRAM_X_FIELD, false);\n  } else {\n    chart.axis(HISTOGRAM_X_FIELD, xAxis);\n  }\n\n  if (yAxis === false) {\n    chart.axis(HISTOGRAM_Y_FIELD, false);\n  } else {\n    chart.axis(HISTOGRAM_Y_FIELD, yAxis);\n  }\n\n  return params;\n}\n\n/**\n * label \n * @param params\n */\nfunction label(params: Params<HistogramOptions>): Params<HistogramOptions> {\n  const { chart, options } = params;\n  const { label } = options;\n\n  const geometry = findGeometry(chart, 'interval');\n\n  if (!label) {\n    geometry.label(false);\n  } else {\n    const { callback, ...cfg } = label;\n    geometry.label({\n      fields: [HISTOGRAM_Y_FIELD],\n      callback,\n      cfg: transformLabel(cfg),\n    });\n  }\n\n  return params;\n}\n\n/**\n * \n * @param chart\n * @param options\n */\nexport function adaptor(params: Params<HistogramOptions>) {\n  // flow  G2 API\n  return flow(\n    theme,\n    pattern('columnStyle'),\n    geometry,\n    meta,\n    axis,\n    state,\n    label,\n    tooltip,\n    interaction,\n    animation\n  )(params);\n}\n","import { Adaptor } from '../../core/adaptor';\nimport { Plot } from '../../core/plot';\nimport { binHistogram } from '../../utils/transform/histogram';\nimport { adaptor } from './adaptor';\nimport { DEFAULT_OPTIONS } from './constant';\nimport { HistogramOptions } from './types';\n\nexport type { HistogramOptions };\n\nexport class Histogram extends Plot<HistogramOptions> {\n  /**\n   *  \n   * \n   */\n  static getDefaultOptions(): Partial<HistogramOptions> {\n    return DEFAULT_OPTIONS;\n  }\n\n  /**  */\n  public type: string = 'histogram';\n\n  public changeData(data: HistogramOptions['data']) {\n    this.updateOption({ data });\n\n    const { binField, binNumber, binWidth, stackField } = this.options;\n    this.chart.changeData(binHistogram(data, binField, binWidth, binNumber, stackField));\n  }\n\n  /**\n   * \n   */\n  protected getDefaultOptions() {\n    return Histogram.getDefaultOptions();\n  }\n\n  /**\n   * \n   */\n  protected getSchemaAdaptor(): Adaptor<HistogramOptions> {\n    return adaptor;\n  }\n}\n","import { Plot } from '../../core/plot';\nimport { deepAssign } from '../../utils';\n\n/**\n * \n */\nexport const DEFAULT_OPTIONS = deepAssign({}, Plot.getDefaultOptions(), {\n  tooltip: {\n    shared: true,\n    showMarkers: true,\n    showCrosshairs: true,\n    crosshairs: {\n      type: 'x',\n    },\n  },\n  legend: {\n    position: 'top-left',\n    radio: {},\n  },\n  isStack: false,\n});\n","import { Geometry, InteractionAction, View } from '@antv/g2';\nimport { each, findIndex } from '@antv/util';\n\nexport class MarkerActiveAction extends InteractionAction {\n  public active() {\n    const view = this.getView();\n    const evt = this.context.event;\n    if (evt.data) {\n      // items:  tooltip \n      const { items } = evt.data;\n      const points = view.geometries.filter((geom) => geom.type === 'point');\n      each(points, (point: Geometry) => {\n        each(point.elements, (element) => {\n          const active = findIndex(items, (item) => (item as any).data === element.data) !== -1;\n          element.setState('active', active);\n        });\n      });\n    }\n  }\n\n  public reset() {\n    const view = this.getView();\n    const points = view.geometries.filter((geom) => geom.type === 'point');\n    each(points, (point: Geometry) => {\n      each(point.elements, (element) => {\n        element.setState('active', false);\n      });\n    });\n  }\n\n  private getView(): View {\n    return this.context.view;\n  }\n}\n","import { registerAction, registerInteraction } from '@antv/g2';\nimport { MarkerActiveAction } from './marker-active';\n\nregisterAction('marker-active', MarkerActiveAction);\nregisterInteraction('marker-active', {\n  start: [\n    {\n      trigger: 'tooltip:show',\n      action: 'marker-active:active',\n    },\n  ],\n  end: [\n    {\n      trigger: 'tooltip:hide',\n      action: 'marker-active:reset',\n    },\n  ],\n});\n","import { Adaptor } from '../../core/adaptor';\nimport { Plot } from '../../core/plot';\nimport { adaptor, meta } from './adaptor';\nimport { DEFAULT_OPTIONS } from './constants';\nimport './interactions';\nimport { LineOptions } from './types';\n\nexport type { LineOptions };\n\nexport class Line extends Plot<LineOptions> {\n  /**\n   *   \n   * \n   */\n  static getDefaultOptions(): Partial<LineOptions> {\n    return DEFAULT_OPTIONS;\n  }\n\n  /**  */\n  public type: string = 'line';\n\n  /**\n   * @override\n   * @param data\n   */\n  public changeData(data: LineOptions['data']) {\n    this.updateOption({ data });\n    const { chart, options } = this;\n    meta({ chart, options });\n    this.chart.changeData(data);\n  }\n\n  /**\n   *   \n   */\n  protected getDefaultOptions() {\n    return Line.getDefaultOptions();\n  }\n\n  /**\n   *   \n   */\n  protected getSchemaAdaptor(): Adaptor<LineOptions> {\n    return adaptor;\n  }\n}\n","import { Plot } from '../../core/plot';\nimport { deepAssign } from '../../utils';\n\n/**\n * \n */\nexport const DEFAULT_OPTIONS = deepAssign({}, Plot.getDefaultOptions(), {\n  legend: {\n    position: 'right',\n    radio: {},\n  },\n  tooltip: {\n    shared: false,\n    showTitle: false,\n    showMarkers: false,\n  },\n  label: {\n    layout: { type: 'limit-in-plot', cfg: { action: 'ellipsis' } },\n  },\n  /** ,  */\n  pieStyle: {\n    stroke: 'white',\n    lineWidth: 1,\n  },\n  /**  */\n  statistic: {\n    title: {\n      style: { fontWeight: 300, color: '#4B535E', textAlign: 'center', fontSize: '20px', lineHeight: 1 },\n    },\n    content: {\n      style: {\n        fontWeight: 'bold',\n        color: 'rgba(44,53,66,0.85)',\n        textAlign: 'center',\n        fontSize: '32px',\n        lineHeight: 1,\n      },\n    },\n  },\n  /**  text-annotation  */\n  theme: {\n    components: {\n      annotation: {\n        text: {\n          animate: false,\n        },\n      },\n    },\n  },\n});\n","import { Util } from '@antv/g2';\n\nconst ORIGIN_MATRIX = [1, 0, 0, 0, 1, 0, 0, 0, 1];\n\n/**\n * \n * @param actions\n * @param matrix\n */\nexport function transform(actions: any[][], matrix?: number[]) {\n  const ulMatrix = matrix ? [...matrix] : [...ORIGIN_MATRIX];\n  return Util.transform(ulMatrix, actions);\n}\n","import { IElement, IGroup } from '@antv/g-base';\nimport { Action, Element, Util } from '@antv/g2';\nimport { isEqual } from '@antv/util';\nimport { transform } from '../../../../utils/matrix';\n\n/**\n *   action\n */\nexport class PieLegendAction extends Action {\n  /**\n   * \n   */\n  private getActiveElements(): Element[] {\n    const delegateObject = Util.getDelegationObject(this.context);\n    if (delegateObject) {\n      const view = this.context.view;\n      const { component, item } = delegateObject;\n      const field = component.get('field');\n      if (field) {\n        const elements = view.geometries[0].elements;\n        return elements.filter((ele) => ele.getModel().data[field] === item.value);\n      }\n    }\n    return [];\n  }\n\n  /**\n   * \n   */\n  private getActiveElementLabels(): (IElement | IGroup)[] {\n    const view = this.context.view;\n    const elements = this.getActiveElements();\n    const labels = view.geometries[0].labelsContainer.getChildren();\n    return labels.filter((label) => elements.find((ele) => isEqual(ele.getData(), label.get('data'))));\n  }\n\n  protected transfrom(offset: number = 7.5) {\n    const elements = this.getActiveElements();\n    const elementLabels = this.getActiveElementLabels();\n    elements.forEach((element, idx) => {\n      const labelShape = elementLabels[idx];\n      const coordinate = element.geometry.coordinate;\n      if (coordinate.isPolar && coordinate.isTransposed) {\n        const { startAngle, endAngle } = Util.getAngle(element.getModel(), coordinate);\n        const middleAngle = (startAngle + endAngle) / 2;\n        const r = offset;\n        const x = r * Math.cos(middleAngle);\n        const y = r * Math.sin(middleAngle);\n        element.shape.setMatrix(transform([['t', x, y]]));\n        labelShape.setMatrix(transform([['t', x, y]]));\n      }\n    });\n  }\n\n  public active() {\n    this.transfrom();\n  }\n\n  /**\n   * \n   */\n  public reset() {\n    this.transfrom(0);\n  }\n}\n","import { Action, Types, Util, View } from '@antv/g2';\nimport { each, get } from '@antv/util';\nimport { Annotation } from '../../../../types/annotation';\nimport { renderStatistic } from '../../../../utils/statistic';\nimport { PieOptions } from '../../types';\nimport { getCurrentElement } from '../util';\n\n/**\n * Pie  Action\n */\nexport class StatisticAction extends Action {\n  private initialAnnotation;\n\n  private getAnnotations(_view?: View): object[] {\n    const view = _view || this.context.view;\n    // @ts-ignore\n    return view.getController('annotation').option;\n  }\n\n  private getInitialAnnotation(): Types.ComponentOption[] | null {\n    return this.initialAnnotation;\n  }\n\n  init() {\n    const { view } = this.context;\n    view.removeInteraction('tooltip');\n\n    view.on('afterchangesize', () => {\n      const annotations = this.getAnnotations(view);\n      this.initialAnnotation = annotations;\n    });\n  }\n\n  public change(arg?: Pick<PieOptions, 'annotations' | 'statistic'>) {\n    const { view, event } = this.context;\n    if (!this.initialAnnotation) {\n      this.initialAnnotation = this.getAnnotations();\n    }\n\n    let data = get(event, ['data', 'data']);\n    if (event.type.match('legend-item')) {\n      const delegateObject = Util.getDelegationObject(this.context);\n      // @ts-ignore\n      const colorField = view.getGroupedFields()[0];\n      if (delegateObject && colorField) {\n        const { item } = delegateObject;\n        data = view.getData().find((d) => d[colorField] === item.value);\n      }\n    }\n\n    if (data) {\n      const annotations = get(arg, 'annotations', []);\n      const statistic = get(arg, 'statistic', {});\n      // \n      view.getController('annotation').clear(true);\n      //  annotations\n      each(annotations, (annotation: Annotation) => {\n        if (typeof annotation === 'object') {\n          view.annotation()[annotation.type](annotation);\n        }\n      });\n      renderStatistic(view, { statistic, plotType: 'pie' }, data);\n      view.render(true);\n    }\n\n    //  shape \n    const ele = getCurrentElement(this.context);\n    if (ele) {\n      ele.shape.toFront();\n    }\n  }\n\n  public reset() {\n    const { view } = this.context;\n    const annotationController = view.getController('annotation');\n    annotationController.clear(true);\n    const initialStatistic = this.getInitialAnnotation();\n    each(initialStatistic, (a) => {\n      view.annotation()[a.type](a);\n    });\n    view.render(true);\n  }\n}\n","import { Element } from '@antv/g2';\n\n/**\n * \n * @param context \n * @ignore\n */\nexport function getCurrentElement(context): Element | undefined {\n  const event = context.event;\n  let element;\n  const target = event.target;\n  if (target) {\n    element = target.get('element');\n  }\n  return element;\n}\n","import { registerAction, registerInteraction } from '@antv/g2';\nimport { PieLegendAction } from './actions/legend-active';\nimport { StatisticAction } from './actions/statistic-active';\n\nexport const PIE_STATISTIC = 'pie-statistic';\n\nregisterAction(PIE_STATISTIC, StatisticAction);\nregisterInteraction('pie-statistic-active', {\n  start: [{ trigger: 'element:mouseenter', action: 'pie-statistic:change' }],\n  end: [{ trigger: 'element:mouseleave', action: 'pie-statistic:reset' }],\n});\n\nregisterAction('pie-legend', PieLegendAction);\nregisterInteraction('pie-legend-active', {\n  start: [{ trigger: 'legend-item:mouseenter', action: 'pie-legend:active' }],\n  end: [{ trigger: 'legend-item:mouseleave', action: 'pie-legend:reset' }],\n});\n","import { each, every, isString } from '@antv/util';\nimport { Data } from '../../types';\nimport { processIllegalData } from '../../utils';\nimport { PieOptions } from './types';\n\n/**\n * \n * @param data\n * @param field\n */\nexport function getTotalValue(data: Data, field: string) {\n  let total = null;\n  each(data, (item) => {\n    if (typeof item[field] === 'number') {\n      total += item[field];\n    }\n  });\n  return total;\n}\n\n/**\n * pie label offset adaptor\n */\nexport function adaptOffset(type: string, offset?: string | number): string | number {\n  let defaultOffset;\n  switch (type) {\n    case 'inner':\n      defaultOffset = '-30%';\n      if (isString(offset) && offset.endsWith('%')) {\n        return parseFloat(offset) * 0.01 > 0 ? defaultOffset : offset;\n      }\n      return offset < 0 ? offset : defaultOffset;\n    case 'outer':\n      defaultOffset = 12;\n      if (isString(offset) && offset.endsWith('%')) {\n        return parseFloat(offset) * 0.01 < 0 ? defaultOffset : offset;\n      }\n      return offset > 0 ? offset : defaultOffset;\n    default:\n      return offset;\n  }\n}\n\n/**\n *  0\n * @param data\n * @param angleField\n */\nexport function isAllZero(data: PieOptions['data'], angleField: string): boolean {\n  return every(processIllegalData(data, angleField), (d) => d[angleField] === 0);\n}\n","import { each, get, isArray, isEmpty, isFunction, isNil, isNumber, isString, toString } from '@antv/util';\nimport { animation, annotation, legend, state, theme } from '../../adaptor/common';\nimport { interval } from '../../adaptor/geometries';\nimport { getMappingFunction } from '../../adaptor/geometries/base';\nimport { pattern } from '../../adaptor/pattern';\nimport { Params } from '../../core/adaptor';\nimport { getLocale } from '../../core/locale';\nimport { Data, Datum } from '../../types';\nimport { Interaction } from '../../types/interaction';\nimport { deepAssign, flow, processIllegalData, renderStatistic, template, transformLabel } from '../../utils';\nimport { DEFAULT_OPTIONS } from './contants';\nimport { PIE_STATISTIC } from './interactions';\nimport { PieOptions } from './types';\nimport { adaptOffset, getTotalValue, isAllZero } from './utils';\n\n/**\n * \n * @param params\n */\nfunction geometry(params: Params<PieOptions>): Params<PieOptions> {\n  const { chart, options } = params;\n  const { data, angleField, colorField, color, pieStyle, shape } = options;\n\n  // \n  let processData = processIllegalData(data, angleField);\n\n  if (isAllZero(processData, angleField)) {\n    //  0  position \n    const percentageField = '$$percentage$$';\n    processData = processData.map((d) => ({ ...d, [percentageField]: 1 / processData.length }));\n    chart.data(processData);\n\n    const p = deepAssign({}, params, {\n      options: {\n        xField: '1',\n        yField: percentageField,\n        seriesField: colorField,\n        isStack: true,\n        interval: {\n          color,\n          shape,\n          style: pieStyle,\n        },\n        args: {\n          zIndexReversed: true,\n          sortZIndex: true,\n        },\n      },\n    });\n\n    interval(p);\n  } else {\n    chart.data(processData);\n\n    const p = deepAssign({}, params, {\n      options: {\n        xField: '1',\n        yField: angleField,\n        seriesField: colorField,\n        isStack: true,\n        interval: {\n          color,\n          shape,\n          style: pieStyle,\n        },\n        args: {\n          zIndexReversed: true,\n          sortZIndex: true,\n        },\n      },\n    });\n\n    interval(p);\n  }\n\n  return params;\n}\n\n/**\n * meta \n * @param params\n */\nfunction meta(params: Params<PieOptions>): Params<PieOptions> {\n  const { chart, options } = params;\n  const { meta, colorField } = options;\n\n  // meta  scale \n  const scales = deepAssign({}, meta);\n  chart.scale(scales, {\n    [colorField]: { type: 'cat' },\n  });\n\n  return params;\n}\n\n/**\n * coord \n * @param params\n */\nfunction coordinate(params: Params<PieOptions>): Params<PieOptions> {\n  const { chart, options } = params;\n  const { radius, innerRadius, startAngle, endAngle } = options;\n\n  chart.coordinate({\n    type: 'theta',\n    cfg: {\n      radius,\n      innerRadius,\n      startAngle,\n      endAngle,\n    },\n  });\n\n  return params;\n}\n\n/**\n * label \n * @param params\n */\nfunction label(params: Params<PieOptions>): Params<PieOptions> {\n  const { chart, options } = params;\n  const { label, colorField, angleField } = options;\n\n  const geometry = chart.geometries[0];\n  // label  false,   label\n  if (!label) {\n    geometry.label(false);\n  } else {\n    const { callback, ...cfg } = label;\n    const labelCfg = transformLabel(cfg);\n\n    //   label content \n    if (labelCfg.content) {\n      const { content } = labelCfg;\n      labelCfg.content = (data: object, dataum: any, index: number) => {\n        const name = data[colorField];\n        const value = data[angleField];\n        // dymatic get scale, scale is ready this time\n        const angleScale = chart.getScaleByField(angleField);\n        const percent = angleScale?.scale(value);\n        return isFunction(content)\n          ? // append percent (number) to data, users can get origin data from `dataum._origin`\n            content({ ...data, percent }, dataum, index)\n          : isString(content)\n          ? template(content as string, {\n              value,\n              name,\n              // percentage (string), default keep 2\n              percentage: isNumber(percent) && !isNil(value) ? `${(percent * 100).toFixed(2)}%` : null,\n            })\n          : content;\n      };\n    }\n\n    const LABEL_LAYOUT_TYPE_MAP = {\n      inner: '',\n      outer: 'pie-outer',\n      spider: 'pie-spider',\n    };\n    const labelLayoutType = labelCfg.type ? LABEL_LAYOUT_TYPE_MAP[labelCfg.type] : 'pie-outer';\n    const labelLayoutCfg = labelCfg.layout ? (!isArray(labelCfg.layout) ? [labelCfg.layout] : labelCfg.layout) : [];\n    labelCfg.layout = (labelLayoutType ? [{ type: labelLayoutType }] : []).concat(labelLayoutCfg);\n\n    geometry.label({\n      // fix: could not create scale, when field is undefinedattributes  fields  scale\n      fields: colorField ? [angleField, colorField] : [angleField],\n      callback,\n      cfg: {\n        ...labelCfg,\n        offset: adaptOffset(labelCfg.type, labelCfg.offset),\n        type: 'pie',\n      },\n    });\n  }\n  return params;\n}\n\n/**\n * statistic options \n * 1.  default options \n * 2.  meta  formatter\n */\nexport function transformStatisticOptions(options: PieOptions): PieOptions {\n  const { innerRadius, statistic, angleField, colorField, meta, locale } = options;\n\n  const i18n = getLocale(locale);\n\n  if (innerRadius && statistic) {\n    let { title: titleOpt, content: contentOpt } = deepAssign({}, DEFAULT_OPTIONS.statistic, statistic);\n    if (titleOpt !== false) {\n      titleOpt = deepAssign(\n        {},\n        {\n          formatter: (datum: Datum) => {\n            // , datum existed.\n            const text = datum\n              ? datum[colorField]\n              : !isNil(titleOpt.content)\n              ? titleOpt.content\n              : i18n.get(['statistic', 'total']);\n            const metaFormatter = get(meta, [colorField, 'formatter']) || ((v) => v);\n            return metaFormatter(text);\n          },\n        },\n        titleOpt\n      );\n    }\n    if (contentOpt !== false) {\n      contentOpt = deepAssign(\n        {},\n        {\n          formatter: (datum: Datum, data: Data) => {\n            const dataValue = datum ? datum[angleField] : getTotalValue(data, angleField);\n            const metaFormatter = get(meta, [angleField, 'formatter']) || ((v) => v);\n            // \n            if (datum) {\n              return metaFormatter(dataValue);\n            }\n            return !isNil(contentOpt.content) ? contentOpt.content : metaFormatter(dataValue);\n          },\n        },\n        contentOpt\n      );\n    }\n\n    return deepAssign({}, { statistic: { title: titleOpt, content: contentOpt } }, options);\n  }\n  return options;\n}\n\n/**\n * statistic \n * @param params\n */\nexport function pieAnnotation(params: Params<PieOptions>): Params<PieOptions> {\n  const { chart, options } = params;\n  const { innerRadius, statistic } = transformStatisticOptions(options);\n  // \n  chart.getController('annotation').clear(true);\n\n  //  annotations\n  flow(annotation())(params);\n\n  /**   */\n  if (innerRadius && statistic) {\n    renderStatistic(chart, { statistic, plotType: 'pie' });\n  }\n\n  return params;\n}\n\n/**\n *  tooltip \n * 1.  tooltip.shared  false\n * @param params\n */\nfunction tooltip(params: Params<PieOptions>): Params<PieOptions> {\n  const { chart, options } = params;\n  const { tooltip, colorField, angleField, data } = options;\n\n  if (tooltip === false) {\n    chart.tooltip(tooltip);\n  } else {\n    chart.tooltip(deepAssign({}, tooltip, { shared: false }));\n\n    //  all zero  all zero \n    if (isAllZero(data, angleField)) {\n      let fields = get(tooltip, 'fields');\n      let formatter = get(tooltip, 'formatter');\n\n      if (isEmpty(get(tooltip, 'fields'))) {\n        fields = [colorField, angleField];\n        formatter = formatter || ((datum) => ({ name: datum[colorField], value: toString(datum[angleField]) }));\n      }\n      chart.geometries[0].tooltip(fields.join('*'), getMappingFunction(fields, formatter));\n    }\n  }\n\n  return params;\n}\n\n/**\n * Interaction  ( interaction, \n * @param params\n */\nexport function interaction(params: Params<PieOptions>): Params<PieOptions> {\n  const { chart, options } = params;\n  const { interactions, statistic, annotations } = transformStatisticOptions(options);\n\n  each(interactions, (i: Interaction) => {\n    if (i.enable === false) {\n      chart.removeInteraction(i.type);\n    } else if (i.type === 'pie-statistic-active') {\n      //  start \n      let startStages = [];\n      if (!i.cfg?.start) {\n        startStages = [\n          {\n            trigger: 'element:mouseenter',\n            action: `${PIE_STATISTIC}:change`,\n            arg: { statistic, annotations },\n          },\n        ];\n      }\n      each(i.cfg?.start, (stage) => {\n        startStages.push({ ...stage, arg: { statistic, annotations } });\n      });\n      chart.interaction(i.type, deepAssign({}, i.cfg, { start: startStages }));\n    } else {\n      chart.interaction(i.type, i.cfg || {});\n    }\n  });\n\n  return params;\n}\n\n/**\n * \n * @param chart\n * @param options\n */\nexport function adaptor(params: Params<PieOptions>) {\n  // flow  G2 API\n  return flow<Params<PieOptions>>(\n    pattern('pieStyle'),\n    geometry,\n    meta,\n    theme,\n    coordinate,\n    legend,\n    tooltip,\n    label,\n    state,\n    /**   */\n    pieAnnotation,\n    interaction,\n    animation\n  )(params);\n}\n","import { Event, VIEW_LIFE_CIRCLE } from '@antv/g2';\nimport { Adaptor } from '../../core/adaptor';\nimport { Plot } from '../../core/plot';\nimport { processIllegalData } from '../../utils';\nimport { adaptor, pieAnnotation } from './adaptor';\nimport { DEFAULT_OPTIONS } from './contants';\nimport './interactions';\nimport { PieOptions } from './types';\nimport { isAllZero } from './utils';\n\nexport type { PieOptions };\n\nexport class Pie extends Plot<PieOptions> {\n  /**\n   *   \n   * \n   */\n  static getDefaultOptions(): Partial<PieOptions> {\n    return DEFAULT_OPTIONS;\n  }\n\n  /**  */\n  public type: string = 'pie';\n\n  /**\n   * \n   * @param data\n   */\n  public changeData(data: PieOptions['data']) {\n    this.chart.emit(\n      VIEW_LIFE_CIRCLE.BEFORE_CHANGE_DATA,\n      Event.fromData(this.chart, VIEW_LIFE_CIRCLE.BEFORE_CHANGE_DATA, null)\n    );\n    const prevOptions = this.options;\n    const { angleField } = this.options;\n    const prevData = processIllegalData(prevOptions.data, angleField);\n    const curData = processIllegalData(data, angleField);\n    //  0\n    if (isAllZero(prevData, angleField) || isAllZero(curData, angleField)) {\n      this.update({ data });\n    } else {\n      this.updateOption({ data });\n      this.chart.data(curData);\n      // todo  G2  afterrender  annotations\n      pieAnnotation({ chart: this.chart, options: this.options });\n      this.chart.render(true);\n    }\n\n    this.chart.emit(\n      VIEW_LIFE_CIRCLE.AFTER_CHANGE_DATA,\n      Event.fromData(this.chart, VIEW_LIFE_CIRCLE.AFTER_CHANGE_DATA, null)\n    );\n  }\n\n  /**\n   *   ,  base \n   */\n  protected getDefaultOptions(): Partial<PieOptions> {\n    return Pie.getDefaultOptions();\n  }\n\n  /**\n   *   \n   */\n  protected getSchemaAdaptor(): Adaptor<PieOptions> {\n    return adaptor;\n  }\n}\n","export const DEFAULT_COLOR = ['#FAAD14', '#E8EDF3'];\n\n/**\n * \n */\nexport const DEFAULT_OPTIONS = {\n  percent: 0.2,\n  color: DEFAULT_COLOR,\n  animation: {},\n};\n","import { clamp } from '@antv/util';\nimport { isRealNumber } from '../../utils/number';\n\n/**\n * \n */\nexport function getProgressData(percent: number) {\n  const clampPercent = clamp(isRealNumber(percent) ? percent : 0, 0, 1);\n  return [\n    {\n      //  progressStyle \n      current: `${clampPercent}`,\n      type: 'current',\n      percent: clampPercent,\n    },\n    {\n      current: `${clampPercent}`,\n      type: 'target',\n      percent: 1,\n    },\n  ];\n}\n","import { isString } from '@antv/util';\nimport { animation, annotation, scale, theme } from '../../adaptor/common';\nimport { interval } from '../../adaptor/geometries';\nimport { Params } from '../../core/adaptor';\nimport { deepAssign, flow } from '../../utils';\nimport { DEFAULT_COLOR } from './constants';\nimport { ProgressOptions } from './types';\nimport { getProgressData } from './utils';\n\n/**\n * \n * @param params\n */\nexport function geometry(params: Params<ProgressOptions>): Params<ProgressOptions> {\n  const { chart, options } = params;\n  const { percent, progressStyle, color, barWidthRatio } = options;\n\n  chart.data(getProgressData(percent));\n\n  const p = deepAssign({}, params, {\n    options: {\n      xField: 'current',\n      yField: 'percent',\n      seriesField: 'type',\n      widthRatio: barWidthRatio,\n      interval: {\n        style: progressStyle,\n        color: isString(color) ? [color, DEFAULT_COLOR[1]] : color,\n      },\n      args: {\n        zIndexReversed: true,\n        sortZIndex: true,\n      },\n    },\n  });\n\n  interval(p);\n\n  // \n  chart.tooltip(false);\n  chart.axis(false);\n  chart.legend(false);\n\n  return params;\n}\n\n/**\n * other \n * @param params\n */\nfunction coordinate(params: Params<ProgressOptions>): Params<ProgressOptions> {\n  const { chart } = params;\n\n  chart.coordinate('rect').transpose();\n\n  return params;\n}\n\n/**\n * \n * @param chart\n * @param options\n */\nexport function adaptor(params: Params<ProgressOptions>) {\n  // @ts-ignore\n  return flow(geometry, scale({}), coordinate, animation, theme, annotation())(params);\n}\n","import { Adaptor } from '../../core/adaptor';\nimport { Plot } from '../../core/plot';\nimport { adaptor } from './adaptor';\nimport { DEFAULT_OPTIONS } from './constants';\nimport { ProgressOptions } from './types';\nimport { getProgressData } from './utils';\n\nexport type { ProgressOptions };\n\nexport class Progress extends Plot<ProgressOptions> {\n  /**\n   *   \n   * \n   */\n  static getDefaultOptions(): Partial<ProgressOptions> {\n    return DEFAULT_OPTIONS;\n  }\n\n  /**  */\n  public type: string = 'process';\n\n  /**\n   * \n   * @param percent\n   */\n  public changeData(percent: number) {\n    this.updateOption({ percent });\n    this.chart.changeData(getProgressData(percent));\n  }\n\n  protected getDefaultOptions() {\n    return Progress.getDefaultOptions();\n  }\n\n  /**\n   *   \n   */\n  protected getSchemaAdaptor(): Adaptor<ProgressOptions> {\n    return adaptor;\n  }\n}\n","import { get, isNil } from '@antv/util';\nimport { animation, annotation, scale, theme } from '../../adaptor/common';\nimport { Params } from '../../core/adaptor';\nimport { deepAssign, flow, renderStatistic } from '../../utils';\nimport { geometry } from '../progress/adaptor';\nimport { RingProgressOptions } from './types';\n\n/**\n * coordinate \n * @param params\n */\nfunction coordinate(params: Params<RingProgressOptions>): Params<RingProgressOptions> {\n  const { chart, options } = params;\n  const { innerRadius, radius } = options;\n\n  // coordinate\n  chart.coordinate('theta', {\n    innerRadius,\n    radius,\n  });\n\n  return params;\n}\n\n/**\n * statistic \n * @param params\n */\nexport function statistic(params: Params<RingProgressOptions>, updated?: boolean): Params<RingProgressOptions> {\n  const { chart, options } = params;\n  const { innerRadius, statistic, percent, meta } = options;\n\n  // \n  chart.getController('annotation').clear(true);\n\n  /**   */\n  if (innerRadius && statistic) {\n    const metaFormatter = get(meta, ['percent', 'formatter']) || ((v) => `${(v * 100).toFixed(2)}%`);\n    let contentOpt = statistic.content;\n    if (contentOpt) {\n      contentOpt = deepAssign({}, contentOpt, {\n        content: !isNil(contentOpt.content) ? contentOpt.content : metaFormatter(percent),\n      });\n    }\n    renderStatistic(\n      chart,\n      { statistic: { ...statistic, content: contentOpt }, plotType: 'ring-progress' },\n      { percent }\n    );\n  }\n\n  if (updated) {\n    chart.render(true);\n  }\n\n  return params;\n}\n\n/**\n * \n * @param chart\n * @param options\n */\nexport function adaptor(params: Params<RingProgressOptions>) {\n  return flow(geometry, scale({}), coordinate, statistic, animation, theme, annotation())(params);\n}\n","/**\n * \n */\nexport const DEFAULT_OPTIONS = {\n  percent: 0.2,\n  innerRadius: 0.8,\n  radius: 0.98,\n  color: ['#FAAD14', '#E8EDF3'],\n  statistic: {\n    title: false as const,\n    content: {\n      style: {\n        fontSize: '14px',\n        fontWeight: 300,\n        fill: '#4D4D4D',\n        textAlign: 'center' as const,\n        textBaseline: 'middle' as const,\n      },\n    },\n  },\n  animation: {},\n};\n","import { Event, VIEW_LIFE_CIRCLE } from '@antv/g2';\nimport { Adaptor } from '../../core/adaptor';\nimport { Plot } from '../../core/plot';\nimport { getProgressData } from '../progress/utils';\nimport { adaptor, statistic } from './adaptor';\nimport { DEFAULT_OPTIONS } from './constants';\nimport { RingProgressOptions } from './types';\n\nexport type { RingProgressOptions };\n\nexport class RingProgress extends Plot<RingProgressOptions> {\n  /**\n   * \n   * \n   */\n  static getDefaultOptions(): Partial<RingProgressOptions> {\n    return DEFAULT_OPTIONS;\n  }\n\n  /**  */\n  public type: string = 'ring-process';\n\n  /**\n   * \n   * @param percent\n   */\n  public changeData(percent: number) {\n    this.chart.emit(\n      VIEW_LIFE_CIRCLE.BEFORE_CHANGE_DATA,\n      Event.fromData(this.chart, VIEW_LIFE_CIRCLE.BEFORE_CHANGE_DATA, null)\n    );\n    this.updateOption({ percent });\n\n    this.chart.data(getProgressData(percent));\n    // todo  G2  afterrender  annotations\n    statistic({ chart: this.chart, options: this.options }, true);\n\n    this.chart.emit(\n      VIEW_LIFE_CIRCLE.AFTER_CHANGE_DATA,\n      Event.fromData(this.chart, VIEW_LIFE_CIRCLE.AFTER_CHANGE_DATA, null)\n    );\n  }\n\n  protected getDefaultOptions() {\n    return RingProgress.getDefaultOptions();\n  }\n\n  /**\n   *   \n   */\n  protected getSchemaAdaptor(): Adaptor<RingProgressOptions> {\n    return adaptor;\n  }\n}\n","// https://github.com/HarryStevens/d3-regression#readme Version 1.3.10. Copyright 2022 Harry Stevens.\nfunction _slicedToArray(arr, i) {\n  return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _nonIterableRest();\n}\n\nfunction _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}\n\nfunction _iterableToArrayLimit(arr, i) {\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}\n\nfunction _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance\");\n}\n\n// Adapted from vega-statistics by Jeffrey Heer\n// License: https://github.com/vega/vega/blob/f058b099decad9db78301405dd0d2e9d8ba3d51a/LICENSE\n// Source: https://github.com/vega/vega/blob/f058b099decad9db78301405dd0d2e9d8ba3d51a/packages/vega-statistics/src/regression/points.js\nfunction points(data, x, y, sort) {\n  data = data.filter(function (d, i) {\n    var u = x(d, i),\n        v = y(d, i);\n    return u != null && isFinite(u) && v != null && isFinite(v);\n  });\n\n  if (sort) {\n    data.sort(function (a, b) {\n      return x(a) - x(b);\n    });\n  }\n\n  var n = data.length,\n      X = new Float64Array(n),\n      Y = new Float64Array(n); // extract values, calculate means\n\n  var ux = 0,\n      uy = 0,\n      xv,\n      yv,\n      d;\n\n  for (var i = 0; i < n;) {\n    d = data[i];\n    X[i] = xv = +x(d, i, data);\n    Y[i] = yv = +y(d, i, data);\n    ++i;\n    ux += (xv - ux) / i;\n    uy += (yv - uy) / i;\n  } // mean center the data\n\n\n  for (var _i = 0; _i < n; ++_i) {\n    X[_i] -= ux;\n    Y[_i] -= uy;\n  }\n\n  return [X, Y, ux, uy];\n}\nfunction visitPoints(data, x, y, cb) {\n  var iterations = 0;\n\n  for (var i = 0, n = data.length; i < n; i++) {\n    var d = data[i],\n        dx = +x(d, i, data),\n        dy = +y(d, i, data);\n\n    if (dx != null && isFinite(dx) && dy != null && isFinite(dy)) {\n      cb(dx, dy, iterations++);\n    }\n  }\n}\n\n// return the coefficient of determination, or R squared.\n\nfunction determination(data, x, y, uY, predict) {\n  var SSE = 0,\n      SST = 0;\n  visitPoints(data, x, y, function (dx, dy) {\n    var sse = dy - predict(dx),\n        sst = dy - uY;\n    SSE += sse * sse;\n    SST += sst * sst;\n  });\n  return 1 - SSE / SST;\n}\n\n// Returns the angle of a line in degrees.\nfunction angle(line) {\n  return Math.atan2(line[1][1] - line[0][1], line[1][0] - line[0][0]) * 180 / Math.PI;\n} // Returns the midpoint of a line.\n\nfunction midpoint(line) {\n  return [(line[0][0] + line[1][0]) / 2, (line[0][1] + line[1][1]) / 2];\n}\n\n// returns a smooth line.\n\nfunction interpose(xmin, xmax, predict) {\n  var l = Math.log(xmax - xmin) * Math.LOG10E + 1 | 0;\n  var precision = 1 * Math.pow(10, -l / 2 - 1),\n      maxIter = 1e4;\n  var points = [px(xmin), px(xmax)],\n      iter = 0;\n\n  while (find(points) && iter < maxIter) {\n  }\n\n  return points;\n\n  function px(x) {\n    return [x, predict(x)];\n  }\n\n  function find(points) {\n    iter++;\n    var n = points.length;\n    var found = false;\n\n    for (var i = 0; i < n - 1; i++) {\n      var p0 = points[i],\n          p1 = points[i + 1],\n          m = midpoint([p0, p1]),\n          mp = px(m[0]),\n          a0 = angle([p0, m]),\n          a1 = angle([p0, mp]),\n          a = Math.abs(a0 - a1);\n\n      if (a > precision) {\n        points.splice(i + 1, 0, mp);\n        found = true;\n      }\n    }\n\n    return found;\n  }\n}\n\n// Ordinary Least Squares from vega-statistics by Jeffrey Heer\n// License: https://github.com/vega/vega/blob/f058b099decad9db78301405dd0d2e9d8ba3d51a/LICENSE\n// Source: https://github.com/vega/vega/blob/f058b099decad9db78301405dd0d2e9d8ba3d51a/packages/vega-statistics/src/regression/ols.js\nfunction ols(uX, uY, uXY, uX2) {\n  var delta = uX2 - uX * uX,\n      slope = Math.abs(delta) < 1e-24 ? 0 : (uXY - uX * uY) / delta,\n      intercept = uY - slope * uX;\n  return [intercept, slope];\n}\n\nfunction exponential () {\n  var x = function x(d) {\n    return d[0];\n  },\n      y = function y(d) {\n    return d[1];\n  },\n      domain;\n\n  function exponential(data) {\n    var n = 0,\n        Y = 0,\n        YL = 0,\n        XY = 0,\n        XYL = 0,\n        X2Y = 0,\n        xmin = domain ? +domain[0] : Infinity,\n        xmax = domain ? +domain[1] : -Infinity;\n    visitPoints(data, x, y, function (dx, dy) {\n      var ly = Math.log(dy),\n          xy = dx * dy;\n      ++n;\n      Y += (dy - Y) / n;\n      XY += (xy - XY) / n;\n      X2Y += (dx * xy - X2Y) / n;\n      YL += (dy * ly - YL) / n;\n      XYL += (xy * ly - XYL) / n;\n\n      if (!domain) {\n        if (dx < xmin) xmin = dx;\n        if (dx > xmax) xmax = dx;\n      }\n    });\n\n    var _ols = ols(XY / Y, YL / Y, XYL / Y, X2Y / Y),\n        _ols2 = _slicedToArray(_ols, 2),\n        a = _ols2[0],\n        b = _ols2[1];\n\n    a = Math.exp(a);\n\n    var fn = function fn(x) {\n      return a * Math.exp(b * x);\n    },\n        out = interpose(xmin, xmax, fn);\n\n    out.a = a;\n    out.b = b;\n    out.predict = fn;\n    out.rSquared = determination(data, x, y, Y, fn);\n    return out;\n  }\n\n  exponential.domain = function (arr) {\n    return arguments.length ? (domain = arr, exponential) : domain;\n  };\n\n  exponential.x = function (fn) {\n    return arguments.length ? (x = fn, exponential) : x;\n  };\n\n  exponential.y = function (fn) {\n    return arguments.length ? (y = fn, exponential) : y;\n  };\n\n  return exponential;\n}\n\nfunction linear () {\n  var x = function x(d) {\n    return d[0];\n  },\n      y = function y(d) {\n    return d[1];\n  },\n      domain;\n\n  function linear(data) {\n    var n = 0,\n        X = 0,\n        // sum of x\n    Y = 0,\n        // sum of y\n    XY = 0,\n        // sum of x * y\n    X2 = 0,\n        // sum of x * x\n    xmin = domain ? +domain[0] : Infinity,\n        xmax = domain ? +domain[1] : -Infinity;\n    visitPoints(data, x, y, function (dx, dy) {\n      ++n;\n      X += (dx - X) / n;\n      Y += (dy - Y) / n;\n      XY += (dx * dy - XY) / n;\n      X2 += (dx * dx - X2) / n;\n\n      if (!domain) {\n        if (dx < xmin) xmin = dx;\n        if (dx > xmax) xmax = dx;\n      }\n    });\n\n    var _ols = ols(X, Y, XY, X2),\n        _ols2 = _slicedToArray(_ols, 2),\n        intercept = _ols2[0],\n        slope = _ols2[1],\n        fn = function fn(x) {\n      return slope * x + intercept;\n    },\n        out = [[xmin, fn(xmin)], [xmax, fn(xmax)]];\n\n    out.a = slope;\n    out.b = intercept;\n    out.predict = fn;\n    out.rSquared = determination(data, x, y, Y, fn);\n    return out;\n  }\n\n  linear.domain = function (arr) {\n    return arguments.length ? (domain = arr, linear) : domain;\n  };\n\n  linear.x = function (fn) {\n    return arguments.length ? (x = fn, linear) : x;\n  };\n\n  linear.y = function (fn) {\n    return arguments.length ? (y = fn, linear) : y;\n  };\n\n  return linear;\n}\n\n// Returns the medium value of an array of numbers.\nfunction median(arr) {\n  arr.sort(function (a, b) {\n    return a - b;\n  });\n  var i = arr.length / 2;\n  return i % 1 === 0 ? (arr[i - 1] + arr[i]) / 2 : arr[Math.floor(i)];\n}\n\nvar maxiters = 2,\n    epsilon = 1e-12;\nfunction loess () {\n  var x = function x(d) {\n    return d[0];\n  },\n      y = function y(d) {\n    return d[1];\n  },\n      bandwidth = .3;\n\n  function loess(data) {\n    var _points = points(data, x, y, true),\n        _points2 = _slicedToArray(_points, 4),\n        xv = _points2[0],\n        yv = _points2[1],\n        ux = _points2[2],\n        uy = _points2[3],\n        n = xv.length,\n        bw = Math.max(2, ~~(bandwidth * n)),\n        yhat = new Float64Array(n),\n        residuals = new Float64Array(n),\n        robustWeights = new Float64Array(n).fill(1);\n\n    for (var iter = -1; ++iter <= maxiters;) {\n      var interval = [0, bw - 1];\n\n      for (var i = 0; i < n; ++i) {\n        var dx = xv[i],\n            i0 = interval[0],\n            i1 = interval[1],\n            edge = dx - xv[i0] > xv[i1] - dx ? i0 : i1;\n        var W = 0,\n            X = 0,\n            Y = 0,\n            XY = 0,\n            X2 = 0,\n            denom = 1 / Math.abs(xv[edge] - dx || 1); // Avoid singularity\n\n        for (var k = i0; k <= i1; ++k) {\n          var xk = xv[k],\n              yk = yv[k],\n              w = tricube(Math.abs(dx - xk) * denom) * robustWeights[k],\n              xkw = xk * w;\n          W += w;\n          X += xkw;\n          Y += yk * w;\n          XY += yk * xkw;\n          X2 += xk * xkw;\n        } // Linear regression fit\n\n\n        var _ols = ols(X / W, Y / W, XY / W, X2 / W),\n            _ols2 = _slicedToArray(_ols, 2),\n            a = _ols2[0],\n            b = _ols2[1];\n\n        yhat[i] = a + b * dx;\n        residuals[i] = Math.abs(yv[i] - yhat[i]);\n        updateInterval(xv, i + 1, interval);\n      }\n\n      if (iter === maxiters) {\n        break;\n      }\n\n      var medianResidual = median(residuals);\n      if (Math.abs(medianResidual) < epsilon) break;\n\n      for (var _i = 0, arg, _w; _i < n; ++_i) {\n        arg = residuals[_i] / (6 * medianResidual); // Default to epsilon (rather than zero) for large deviations\n        // Keeping weights tiny but non-zero prevents singularites\n\n        robustWeights[_i] = arg >= 1 ? epsilon : (_w = 1 - arg * arg) * _w;\n      }\n    }\n\n    return output(xv, yhat, ux, uy);\n  }\n\n  loess.bandwidth = function (bw) {\n    return arguments.length ? (bandwidth = bw, loess) : bandwidth;\n  };\n\n  loess.x = function (fn) {\n    return arguments.length ? (x = fn, loess) : x;\n  };\n\n  loess.y = function (fn) {\n    return arguments.length ? (y = fn, loess) : y;\n  };\n\n  return loess;\n} // Weighting kernel for local regression\n\nfunction tricube(x) {\n  return (x = 1 - x * x * x) * x * x;\n} // Advance sliding window interval of nearest neighbors\n\n\nfunction updateInterval(xv, i, interval) {\n  var val = xv[i],\n      left = interval[0],\n      right = interval[1] + 1;\n  if (right >= xv.length) return; // Step right if distance to new right edge is <= distance to old left edge\n  // Step when distance is equal to ensure movement over duplicate x values\n\n  while (i > left && xv[right] - val <= val - xv[left]) {\n    interval[0] = ++left;\n    interval[1] = right;\n    ++right;\n  }\n} // Generate smoothed output points\n// Average points with repeated x values\n\n\nfunction output(xv, yhat, ux, uy) {\n  var n = xv.length,\n      out = [];\n  var i = 0,\n      cnt = 0,\n      prev = [],\n      v;\n\n  for (; i < n; ++i) {\n    v = xv[i] + ux;\n\n    if (prev[0] === v) {\n      // Average output values via online update\n      prev[1] += (yhat[i] - prev[1]) / ++cnt;\n    } else {\n      // Add new output point\n      cnt = 0;\n      prev[1] += uy;\n      prev = [v, yhat[i]];\n      out.push(prev);\n    }\n  }\n\n  prev[1] += uy;\n  return out;\n}\n\nfunction logarithmic () {\n  var x = function x(d) {\n    return d[0];\n  },\n      y = function y(d) {\n    return d[1];\n  },\n      base = Math.E,\n      domain;\n\n  function logarithmic(data) {\n    var n = 0,\n        X = 0,\n        Y = 0,\n        XY = 0,\n        X2 = 0,\n        xmin = domain ? +domain[0] : Infinity,\n        xmax = domain ? +domain[1] : -Infinity,\n        lb = Math.log(base);\n    visitPoints(data, x, y, function (dx, dy) {\n      var lx = Math.log(dx) / lb;\n      ++n;\n      X += (lx - X) / n;\n      Y += (dy - Y) / n;\n      XY += (lx * dy - XY) / n;\n      X2 += (lx * lx - X2) / n;\n\n      if (!domain) {\n        if (dx < xmin) xmin = dx;\n        if (dx > xmax) xmax = dx;\n      }\n    });\n\n    var _ols = ols(X, Y, XY, X2),\n        _ols2 = _slicedToArray(_ols, 2),\n        intercept = _ols2[0],\n        slope = _ols2[1],\n        fn = function fn(x) {\n      return slope * Math.log(x) / lb + intercept;\n    },\n        out = interpose(xmin, xmax, fn);\n\n    out.a = slope;\n    out.b = intercept;\n    out.predict = fn;\n    out.rSquared = determination(data, x, y, Y, fn);\n    return out;\n  }\n\n  logarithmic.domain = function (arr) {\n    return arguments.length ? (domain = arr, logarithmic) : domain;\n  };\n\n  logarithmic.x = function (fn) {\n    return arguments.length ? (x = fn, logarithmic) : x;\n  };\n\n  logarithmic.y = function (fn) {\n    return arguments.length ? (y = fn, logarithmic) : y;\n  };\n\n  logarithmic.base = function (n) {\n    return arguments.length ? (base = n, logarithmic) : base;\n  };\n\n  return logarithmic;\n}\n\nfunction quad () {\n  var x = function x(d) {\n    return d[0];\n  },\n      y = function y(d) {\n    return d[1];\n  },\n      domain;\n\n  function quadratic(data) {\n    var _points = points(data, x, y),\n        _points2 = _slicedToArray(_points, 4),\n        xv = _points2[0],\n        yv = _points2[1],\n        ux = _points2[2],\n        uy = _points2[3],\n        n = xv.length;\n\n    var X2 = 0,\n        X3 = 0,\n        X4 = 0,\n        XY = 0,\n        X2Y = 0,\n        i,\n        dx,\n        dy,\n        x2;\n\n    for (i = 0; i < n;) {\n      dx = xv[i];\n      dy = yv[i++];\n      x2 = dx * dx;\n      X2 += (x2 - X2) / i;\n      X3 += (x2 * dx - X3) / i;\n      X4 += (x2 * x2 - X4) / i;\n      XY += (dx * dy - XY) / i;\n      X2Y += (x2 * dy - X2Y) / i;\n    }\n\n    var Y = 0,\n        n0 = 0,\n        xmin = domain ? +domain[0] : Infinity,\n        xmax = domain ? +domain[1] : -Infinity;\n    visitPoints(data, x, y, function (dx, dy) {\n      n0++;\n      Y += (dy - Y) / n0;\n\n      if (!domain) {\n        if (dx < xmin) xmin = dx;\n        if (dx > xmax) xmax = dx;\n      }\n    });\n\n    var X2X2 = X4 - X2 * X2,\n        d = X2 * X2X2 - X3 * X3,\n        a = (X2Y * X2 - XY * X3) / d,\n        b = (XY * X2X2 - X2Y * X3) / d,\n        c = -a * X2,\n        fn = function fn(x) {\n      x = x - ux;\n      return a * x * x + b * x + c + uy;\n    };\n\n    var out = interpose(xmin, xmax, fn);\n    out.a = a;\n    out.b = b - 2 * a * ux;\n    out.c = c - b * ux + a * ux * ux + uy;\n    out.predict = fn;\n    out.rSquared = determination(data, x, y, Y, fn);\n    return out;\n  }\n\n  quadratic.domain = function (arr) {\n    return arguments.length ? (domain = arr, quadratic) : domain;\n  };\n\n  quadratic.x = function (fn) {\n    return arguments.length ? (x = fn, quadratic) : x;\n  };\n\n  quadratic.y = function (fn) {\n    return arguments.length ? (y = fn, quadratic) : y;\n  };\n\n  return quadratic;\n}\n\n// Source: https://github.com/Tom-Alexander/regression-js/blob/master/src/regression.js#L246\n// License: https://github.com/Tom-Alexander/regression-js/blob/master/LICENSE\n// ...with ideas from vega-statistics by Jeffrey Heer\n// Source: https://github.com/vega/vega/blob/f21cb8792b4e0cbe2b1a3fd44b0f5db370dbaadb/packages/vega-statistics/src/regression/poly.js\n// License: https://github.com/vega/vega/blob/f058b099decad9db78301405dd0d2e9d8ba3d51a/LICENSE\n\nfunction polynomial () {\n  var x = function x(d) {\n    return d[0];\n  },\n      y = function y(d) {\n    return d[1];\n  },\n      order = 3,\n      domain;\n\n  function polynomial(data) {\n    // Use more efficient methods for lower orders\n    if (order === 1) {\n      var o = linear().x(x).y(y).domain(domain)(data);\n      o.coefficients = [o.b, o.a];\n      delete o.a;\n      delete o.b;\n      return o;\n    }\n\n    if (order === 2) {\n      var _o = quad().x(x).y(y).domain(domain)(data);\n\n      _o.coefficients = [_o.c, _o.b, _o.a];\n      delete _o.a;\n      delete _o.b;\n      delete _o.c;\n      return _o;\n    }\n\n    var _points = points(data, x, y),\n        _points2 = _slicedToArray(_points, 4),\n        xv = _points2[0],\n        yv = _points2[1],\n        ux = _points2[2],\n        uy = _points2[3],\n        n = xv.length,\n        lhs = [],\n        rhs = [],\n        k = order + 1;\n\n    var Y = 0,\n        n0 = 0,\n        xmin = domain ? +domain[0] : Infinity,\n        xmax = domain ? +domain[1] : -Infinity;\n    visitPoints(data, x, y, function (dx, dy) {\n      ++n0;\n      Y += (dy - Y) / n0;\n\n      if (!domain) {\n        if (dx < xmin) xmin = dx;\n        if (dx > xmax) xmax = dx;\n      }\n    });\n    var i, j, l, v, c;\n\n    for (i = 0; i < k; ++i) {\n      for (l = 0, v = 0; l < n; ++l) {\n        v += Math.pow(xv[l], i) * yv[l];\n      }\n\n      lhs.push(v);\n      c = new Float64Array(k);\n\n      for (j = 0; j < k; ++j) {\n        for (l = 0, v = 0; l < n; ++l) {\n          v += Math.pow(xv[l], i + j);\n        }\n\n        c[j] = v;\n      }\n\n      rhs.push(c);\n    }\n\n    rhs.push(lhs);\n\n    var coef = gaussianElimination(rhs),\n        fn = function fn(x) {\n      x -= ux;\n      var y = uy + coef[0] + coef[1] * x + coef[2] * x * x;\n\n      for (i = 3; i < k; ++i) {\n        y += coef[i] * Math.pow(x, i);\n      }\n\n      return y;\n    },\n        out = interpose(xmin, xmax, fn);\n\n    out.coefficients = uncenter(k, coef, -ux, uy);\n    out.predict = fn;\n    out.rSquared = determination(data, x, y, Y, fn);\n    return out;\n  }\n\n  polynomial.domain = function (arr) {\n    return arguments.length ? (domain = arr, polynomial) : domain;\n  };\n\n  polynomial.x = function (fn) {\n    return arguments.length ? (x = fn, polynomial) : x;\n  };\n\n  polynomial.y = function (fn) {\n    return arguments.length ? (y = fn, polynomial) : y;\n  };\n\n  polynomial.order = function (n) {\n    return arguments.length ? (order = n, polynomial) : order;\n  };\n\n  return polynomial;\n}\n\nfunction uncenter(k, a, x, y) {\n  var z = Array(k);\n  var i, j, v, c; // initialize to zero\n\n  for (i = 0; i < k; ++i) {\n    z[i] = 0;\n  } // polynomial expansion\n\n\n  for (i = k - 1; i >= 0; --i) {\n    v = a[i];\n    c = 1;\n    z[i] += v;\n\n    for (j = 1; j <= i; ++j) {\n      c *= (i + 1 - j) / j; // binomial coefficent\n\n      z[i - j] += v * Math.pow(x, j) * c;\n    }\n  } // bias term\n\n\n  z[0] += y;\n  return z;\n} // Given an array for a two-dimensional matrix and the polynomial order,\n// solve A * x = b using Gaussian elimination.\n\n\nfunction gaussianElimination(matrix) {\n  var n = matrix.length - 1,\n      coef = [];\n  var i, j, k, r, t;\n\n  for (i = 0; i < n; ++i) {\n    r = i; // max row\n\n    for (j = i + 1; j < n; ++j) {\n      if (Math.abs(matrix[i][j]) > Math.abs(matrix[i][r])) {\n        r = j;\n      }\n    }\n\n    for (k = i; k < n + 1; ++k) {\n      t = matrix[k][i];\n      matrix[k][i] = matrix[k][r];\n      matrix[k][r] = t;\n    }\n\n    for (j = i + 1; j < n; ++j) {\n      for (k = n; k >= i; k--) {\n        matrix[k][j] -= matrix[k][i] * matrix[i][j] / matrix[i][i];\n      }\n    }\n  }\n\n  for (j = n - 1; j >= 0; --j) {\n    t = 0;\n\n    for (k = j + 1; k < n; ++k) {\n      t += matrix[k][j] * coef[k];\n    }\n\n    coef[j] = (matrix[n][j] - t) / matrix[j][j];\n  }\n\n  return coef;\n}\n\nfunction power () {\n  var x = function x(d) {\n    return d[0];\n  },\n      y = function y(d) {\n    return d[1];\n  },\n      domain;\n\n  function power(data) {\n    var n = 0,\n        X = 0,\n        Y = 0,\n        XY = 0,\n        X2 = 0,\n        YS = 0,\n        xmin = domain ? +domain[0] : Infinity,\n        xmax = domain ? +domain[1] : -Infinity;\n    visitPoints(data, x, y, function (dx, dy) {\n      var lx = Math.log(dx),\n          ly = Math.log(dy);\n      ++n;\n      X += (lx - X) / n;\n      Y += (ly - Y) / n;\n      XY += (lx * ly - XY) / n;\n      X2 += (lx * lx - X2) / n;\n      YS += (dy - YS) / n;\n\n      if (!domain) {\n        if (dx < xmin) xmin = dx;\n        if (dx > xmax) xmax = dx;\n      }\n    });\n\n    var _ols = ols(X, Y, XY, X2),\n        _ols2 = _slicedToArray(_ols, 2),\n        a = _ols2[0],\n        b = _ols2[1];\n\n    a = Math.exp(a);\n\n    var fn = function fn(x) {\n      return a * Math.pow(x, b);\n    },\n        out = interpose(xmin, xmax, fn);\n\n    out.a = a;\n    out.b = b;\n    out.predict = fn;\n    out.rSquared = determination(data, x, y, YS, fn);\n    return out;\n  }\n\n  power.domain = function (arr) {\n    return arguments.length ? (domain = arr, power) : domain;\n  };\n\n  power.x = function (fn) {\n    return arguments.length ? (x = fn, power) : x;\n  };\n\n  power.y = function (fn) {\n    return arguments.length ? (y = fn, power) : y;\n  };\n\n  return power;\n}\n\nexport { exponential as regressionExp, linear as regressionLinear, loess as regressionLoess, logarithmic as regressionLog, polynomial as regressionPoly, power as regressionPow, quad as regressionQuad };\n","import { View } from '@antv/g2';\nimport { get, isArray, isNumber } from '@antv/util';\nimport {\n  regressionExp,\n  regressionLinear,\n  regressionLoess,\n  regressionLog,\n  regressionPoly,\n  regressionPow,\n  regressionQuad,\n} from 'd3-regression';\nimport { getSplinePath } from '../../utils';\nimport { ScatterOptions } from './types';\n\nconst REGRESSION_MAP = {\n  exp: regressionExp,\n  linear: regressionLinear,\n  loess: regressionLoess,\n  log: regressionLog,\n  poly: regressionPoly,\n  pow: regressionPow,\n  quad: regressionQuad,\n};\n\ntype RenderOptions = {\n  view: View;\n  options: ScatterOptions;\n};\n\n/**\n * \n * @param {number} xBaseline\n * @param {number} yBaseline\n */\nexport function getQuadrantDefaultConfig(xBaseline: number, yBaseline: number) {\n  // \n  const textOffset = 10;\n  // \n  const defaultConfig: { [key: string]: any } = {\n    regionStyle: [\n      {\n        position: {\n          start: [xBaseline, 'max'],\n          end: ['max', yBaseline],\n        },\n        style: {\n          fill: '#d8d0c0',\n          opacity: 0.4,\n        },\n      },\n      {\n        position: {\n          start: ['min', 'max'],\n          end: [xBaseline, yBaseline],\n        },\n        style: {\n          fill: '#a3dda1',\n          opacity: 0.4,\n        },\n      },\n      {\n        position: {\n          start: ['min', yBaseline],\n          end: [xBaseline, 'min'],\n        },\n        style: {\n          fill: '#d8d0c0',\n          opacity: 0.4,\n        },\n      },\n      {\n        position: {\n          start: [xBaseline, yBaseline],\n          end: ['max', 'min'],\n        },\n        style: {\n          fill: '#a3dda1',\n          opacity: 0.4,\n        },\n      },\n    ],\n    lineStyle: {\n      stroke: '#9ba29a',\n      lineWidth: 1,\n    },\n    labelStyle: [\n      {\n        position: ['max', yBaseline],\n        offsetX: -textOffset,\n        offsetY: -textOffset,\n        style: {\n          textAlign: 'right',\n          textBaseline: 'bottom',\n          fontSize: 14,\n          fill: '#ccc',\n        },\n      },\n      {\n        position: ['min', yBaseline],\n        offsetX: textOffset,\n        offsetY: -textOffset,\n        style: {\n          textAlign: 'left',\n          textBaseline: 'bottom',\n          fontSize: 14,\n          fill: '#ccc',\n        },\n      },\n      {\n        position: ['min', yBaseline],\n        offsetX: textOffset,\n        offsetY: textOffset,\n        style: {\n          textAlign: 'left',\n          textBaseline: 'top',\n          fontSize: 14,\n          fill: '#ccc',\n        },\n      },\n      {\n        position: ['max', yBaseline],\n        offsetX: -textOffset,\n        offsetY: textOffset,\n        style: {\n          textAlign: 'right',\n          textBaseline: 'top',\n          fontSize: 14,\n          fill: '#ccc',\n        },\n      },\n    ],\n  };\n  return defaultConfig;\n}\n\nconst splinePath = (data: number[][], config: RenderOptions) => {\n  const {\n    view,\n    options: { xField, yField },\n  } = config;\n  const xScaleView = view.getScaleByField(xField);\n  const yScaleView = view.getScaleByField(yField);\n  const pathData = data.map((d: [number, number]) =>\n    view.getCoordinate().convert({ x: xScaleView.scale(d[0]), y: yScaleView.scale(d[1]) })\n  );\n  return getSplinePath(pathData, false);\n};\n\nexport const getPath = (config: RenderOptions) => {\n  const { options } = config;\n  const { xField, yField, data, regressionLine } = options;\n  const { type = 'linear', algorithm } = regressionLine;\n  let pathData: Array<[number, number]>;\n  if (algorithm) {\n    pathData = isArray(algorithm) ? algorithm : algorithm(data);\n  } else {\n    const reg = REGRESSION_MAP[type]()\n      .x((d) => d[xField])\n      .y((d) => d[yField]);\n    pathData = reg(data);\n  }\n  return splinePath(pathData, config);\n};\n\n/**\n *  meta: { min, max }  data.length === 1   y    x \n * @param options\n * @returns\n */\nexport const getMeta = (\n  options: Pick<ScatterOptions, 'meta' | 'xField' | 'yField' | 'data'>\n): ScatterOptions['meta'] => {\n  const { meta = {}, xField, yField, data } = options;\n  const xFieldValue = data[0][xField];\n  const yFieldValue = data[0][yField];\n  const xIsPositiveNumber = xFieldValue > 0;\n  const yIsPositiveNumber = yFieldValue > 0;\n\n  /**\n   *  min max scale \n   */\n  function getMetaMinMax(field: string, axis: 'x' | 'y') {\n    const fieldMeta = get(meta, [field]);\n\n    function getCustomValue(type: 'min' | 'max') {\n      return get(fieldMeta, type);\n    }\n\n    const range = {};\n\n    if (axis === 'x') {\n      if (isNumber(xFieldValue)) {\n        if (!isNumber(getCustomValue('min'))) {\n          range['min'] = xIsPositiveNumber ? 0 : xFieldValue * 2;\n        }\n\n        if (!isNumber(getCustomValue('max'))) {\n          range['max'] = xIsPositiveNumber ? xFieldValue * 2 : 0;\n        }\n      }\n\n      return range;\n    }\n\n    if (isNumber(yFieldValue)) {\n      if (!isNumber(getCustomValue('min'))) {\n        range['min'] = yIsPositiveNumber ? 0 : yFieldValue * 2;\n      }\n\n      if (!isNumber(getCustomValue('max'))) {\n        range['max'] = yIsPositiveNumber ? yFieldValue * 2 : 0;\n      }\n    }\n\n    return range;\n  }\n\n  return {\n    ...meta,\n    [xField]: {\n      ...meta[xField],\n      ...getMetaMinMax(xField, 'x'),\n    },\n    [yField]: {\n      ...meta[yField],\n      ...getMetaMinMax(yField, 'y'),\n    },\n  };\n};\n","import { vec2 } from '@antv/matrix-util';\nimport { Point, Position } from '../types/common';\n\nexport function points2Path(points: Point[], isInCircle: boolean) {\n  const path = [];\n  if (points.length) {\n    path.push(['M', points[0].x, points[0].y]);\n    for (let i = 1, length = points.length; i < length; i += 1) {\n      const item = points[i];\n      path.push(['L', item.x, item.y]);\n    }\n    if (isInCircle) {\n      path.push(['Z']);\n    }\n  }\n  return path;\n}\n\n/**\n * @ignore\n * \n */\nexport const smoothBezier = (\n  points: Position[],\n  smooth: number,\n  isLoop: boolean,\n  constraint: Position[]\n): Position[] => {\n  const cps = [];\n  let prevPoint: Position;\n  let nextPoint: Position;\n  const hasConstraint = !!constraint;\n  let min: Position;\n  let max: Position;\n  if (hasConstraint) {\n    min = [Infinity, Infinity];\n    max = [-Infinity, -Infinity];\n\n    for (let i = 0, l = points.length; i < l; i++) {\n      const point = points[i];\n      min = vec2.min([0, 0], min, point) as [number, number];\n      max = vec2.max([0, 0], max, point) as [number, number];\n    }\n    min = vec2.min([0, 0], min, constraint[0]) as [number, number];\n    max = vec2.max([0, 0], max, constraint[1]) as [number, number];\n  }\n\n  for (let i = 0, len = points.length; i < len; i++) {\n    const point = points[i];\n    if (isLoop) {\n      prevPoint = points[i ? i - 1 : len - 1];\n      nextPoint = points[(i + 1) % len];\n    } else {\n      if (i === 0 || i === len - 1) {\n        cps.push(point);\n        continue;\n      } else {\n        prevPoint = points[i - 1];\n        nextPoint = points[i + 1];\n      }\n    }\n    let v: [number, number] = [0, 0];\n    v = vec2.sub(v, nextPoint, prevPoint) as [number, number];\n    v = vec2.scale(v, v, smooth) as [number, number];\n\n    let d0 = vec2.distance(point, prevPoint);\n    let d1 = vec2.distance(point, nextPoint);\n\n    const sum = d0 + d1;\n    if (sum !== 0) {\n      d0 /= sum;\n      d1 /= sum;\n    }\n\n    const v1 = vec2.scale([0, 0], v, -d0);\n    const v2 = vec2.scale([0, 0], v, d1);\n\n    let cp0 = vec2.add([0, 0], point, v1);\n    let cp1 = vec2.add([0, 0], point, v2);\n\n    if (hasConstraint) {\n      cp0 = vec2.max([0, 0], cp0, min);\n      cp0 = vec2.min([0, 0], cp0, max);\n      cp1 = vec2.max([0, 0], cp1, min);\n      cp1 = vec2.min([0, 0], cp1, max);\n    }\n\n    cps.push(cp0);\n    cps.push(cp1);\n  }\n\n  if (isLoop) {\n    cps.push(cps.shift());\n  }\n  return cps;\n};\n\n/**\n * @ignore\n * \n */\nexport function catmullRom2bezier(crp: number[], z: boolean, constraint: Position[]) {\n  const isLoop = !!z;\n  const pointList = [];\n  for (let i = 0, l = crp.length; i < l; i += 2) {\n    pointList.push([crp[i], crp[i + 1]]);\n  }\n\n  const controlPointList = smoothBezier(pointList, 0.4, isLoop, constraint);\n  const len = pointList.length;\n  const d1 = [];\n\n  let cp1: Position;\n  let cp2: Position;\n  let p: Position;\n\n  for (let i = 0; i < len - 1; i++) {\n    cp1 = controlPointList[i * 2];\n    cp2 = controlPointList[i * 2 + 1];\n    p = pointList[i + 1];\n    d1.push(['C', cp1[0], cp1[1], cp2[0], cp2[1], p[0], p[1]]);\n  }\n\n  if (isLoop) {\n    cp1 = controlPointList[len];\n    cp2 = controlPointList[len + 1];\n    p = pointList[0];\n    d1.push(['C', cp1[0], cp1[1], cp2[0], cp2[1], p[0], p[1]]);\n  }\n  return d1;\n}\n\n/**\n * @ignore\n * \n */\nexport function getSplinePath(points: Point[], isInCircle?: boolean, constaint?: Position[]) {\n  const data = [];\n  const first = points[0];\n  let prePoint = null;\n  if (points.length <= 2) {\n    // \n    return points2Path(points, isInCircle);\n  }\n  for (let i = 0, len = points.length; i < len; i++) {\n    const point = points[i];\n    if (!prePoint || !(prePoint.x === point.x && prePoint.y === point.y)) {\n      data.push(point.x);\n      data.push(point.y);\n      prePoint = point;\n    }\n  }\n  const constraint = constaint || [\n    // \n    [0, 0],\n    [1, 1],\n  ];\n  const splinePath = catmullRom2bezier(data, isInCircle, constraint);\n  splinePath.unshift(['M', first.x, first.y]);\n  return splinePath;\n}\n","import { isNumber } from '@antv/util';\nimport { brushInteraction } from '../../adaptor/brush';\nimport { animation, annotation, interaction, scale, scrollbar, slider, theme } from '../../adaptor/common';\nimport { point } from '../../adaptor/geometries';\nimport { Params } from '../../core/adaptor';\nimport { deepAssign, findGeometry, flow, pick, transformLabel } from '../../utils';\nimport { ScatterOptions } from './types';\nimport { getMeta, getPath, getQuadrantDefaultConfig } from './util';\n\n/**\n * \n *  data.length === 1   y    x \n * @param params\n * @returns params\n */\nexport function transformOptions(options: ScatterOptions): ScatterOptions {\n  const { data = [], xField, yField } = options;\n\n  if (data.length) {\n    // x y \n    let isOneX = true;\n    let isOneY = true;\n\n    let prev = data[0];\n    let curr;\n\n    for (let i = 1; i < data.length; i++) {\n      curr = data[i];\n\n      if (prev[xField] !== curr[xField]) {\n        isOneX = false;\n      }\n\n      if (prev[yField] !== curr[yField]) {\n        isOneY = false;\n      }\n\n      //  oneValue\n      if (!isOneX && !isOneY) {\n        break;\n      }\n\n      prev = curr;\n    }\n\n    const keys = [];\n    isOneX && keys.push(xField);\n    isOneY && keys.push(yField);\n\n    const meta = pick(getMeta(options), keys);\n\n    return deepAssign({}, options, { meta });\n  }\n\n  return options;\n}\n\n/**\n * \n * @param params\n */\nfunction geometry(params: Params<ScatterOptions>): Params<ScatterOptions> {\n  const { chart, options } = params;\n  const { data, type, color, shape, pointStyle, shapeField, colorField, xField, yField, sizeField } = options;\n  let { size } = options;\n\n  let { tooltip } = options;\n\n  if (sizeField) {\n    if (!size) {\n      size = [2, 8];\n    }\n    if (isNumber(size)) {\n      size = [size, size];\n    }\n  }\n\n  if (tooltip && !tooltip.fields) {\n    tooltip = {\n      ...tooltip,\n      fields: [xField, yField, colorField, sizeField, shapeField],\n    };\n  }\n  // \n  chart.data(data);\n\n  // geometry\n  point(\n    deepAssign({}, params, {\n      options: {\n        seriesField: colorField,\n        point: {\n          color,\n          shape,\n          size,\n          style: pointStyle,\n        },\n        tooltip,\n      },\n    })\n  );\n\n  const geometry = findGeometry(chart, 'point');\n\n  // \n  if (type) {\n    geometry.adjust(type);\n  }\n\n  return params;\n}\n\n/**\n * meta \n * @param params\n */\nexport function meta(params: Params<ScatterOptions>): Params<ScatterOptions> {\n  const { options } = params;\n  const { xAxis, yAxis, xField, yField } = options;\n\n  const newOptions = transformOptions(options);\n  return flow(\n    scale({\n      [xField]: xAxis,\n      [yField]: yAxis,\n    })\n  )(deepAssign({}, params, { options: newOptions }));\n}\n\n/**\n * axis \n * @param params\n */\nfunction axis(params: Params<ScatterOptions>): Params<ScatterOptions> {\n  const { chart, options } = params;\n  const { xAxis, yAxis, xField, yField } = options;\n\n  chart.axis(xField, xAxis);\n  chart.axis(yField, yAxis);\n\n  return params;\n}\n\n/**\n * legend \n * @param params\n */\nfunction legend(params: Params<ScatterOptions>): Params<ScatterOptions> {\n  const { chart, options } = params;\n  const { legend, colorField, shapeField, sizeField, shapeLegend, sizeLegend } = options;\n\n  /** legend  false, ,  color  */\n  const showLegend = legend !== false;\n\n  if (colorField) {\n    chart.legend(colorField, showLegend ? legend : false);\n  }\n\n  //  shapeLegend,  legend\n  if (shapeField) {\n    if (shapeLegend) {\n      chart.legend(shapeField, shapeLegend);\n    } else {\n      chart.legend(shapeField, shapeLegend === false ? false : legend);\n    }\n  }\n\n  if (sizeField) {\n    chart.legend(sizeField, sizeLegend ? sizeLegend : false);\n  }\n\n  /**  shape  shapeLegend  undefined  */\n  /**  sizeField */\n  if (!showLegend && !shapeLegend && !sizeLegend) {\n    chart.legend(false);\n  }\n\n  return params;\n}\n\n/**\n * \n * @param params\n */\nfunction label(params: Params<ScatterOptions>): Params<ScatterOptions> {\n  const { chart, options } = params;\n  const { label, yField } = options;\n\n  const scatterGeometry = findGeometry(chart, 'point');\n\n  // label  false,   label\n  if (!label) {\n    scatterGeometry.label(false);\n  } else {\n    const { callback, ...cfg } = label;\n    scatterGeometry.label({\n      fields: [yField],\n      callback,\n      cfg: transformLabel(cfg),\n    });\n  }\n\n  return params;\n}\n\n/**\n * annotation \n * -  annotation: quadrant()\n * @param params\n */\nfunction scatterAnnotation(params: Params<ScatterOptions>): Params<ScatterOptions> {\n  const { options } = params;\n  const { quadrant } = options;\n\n  const annotationOptions = [];\n\n  if (quadrant) {\n    const { xBaseline = 0, yBaseline = 0, labels, regionStyle, lineStyle } = quadrant;\n    const defaultConfig = getQuadrantDefaultConfig(xBaseline, yBaseline);\n    // \n    const quadrants = new Array(4).join(',').split(',');\n    quadrants.forEach((_: string, index: number) => {\n      annotationOptions.push(\n        {\n          type: 'region',\n          top: false,\n          ...defaultConfig.regionStyle[index].position,\n          style: deepAssign({}, defaultConfig.regionStyle[index].style, regionStyle?.[index]),\n        },\n        {\n          type: 'text',\n          top: true,\n          ...deepAssign({}, defaultConfig.labelStyle[index], labels?.[index]),\n        }\n      );\n    });\n    // \n    annotationOptions.push(\n      {\n        type: 'line',\n        top: false,\n        start: ['min', yBaseline],\n        end: ['max', yBaseline],\n        style: deepAssign({}, defaultConfig.lineStyle, lineStyle),\n      },\n      {\n        type: 'line',\n        top: false,\n        start: [xBaseline, 'min'],\n        end: [xBaseline, 'max'],\n        style: deepAssign({}, defaultConfig.lineStyle, lineStyle),\n      }\n    );\n  }\n\n  return flow(annotation(annotationOptions))(params);\n}\n\n// \nfunction regressionLine(params: Params<ScatterOptions>): Params<ScatterOptions> {\n  const { options, chart } = params;\n  const { regressionLine } = options;\n  if (regressionLine) {\n    const { style, top = false } = regressionLine;\n    const defaultStyle = {\n      stroke: '#9ba29a',\n      lineWidth: 2,\n      opacity: 0.5,\n    };\n    chart.annotation().shape({\n      top,\n      render: (container, view) => {\n        const group = container.addGroup({\n          id: `${chart.id}-regression-line`,\n          name: 'regression-line-group',\n        });\n        const path = getPath({\n          view,\n          options,\n        });\n        group.addShape('path', {\n          name: 'regression-line',\n          attrs: {\n            path,\n            ...defaultStyle,\n            ...style,\n          },\n        });\n      },\n    });\n  }\n\n  return params;\n}\n\n/**\n * tooltip \n * @param params\n */\nexport function tooltip(params: Params<ScatterOptions>): Params<ScatterOptions> {\n  const { chart, options } = params;\n  const { tooltip } = options;\n\n  if (tooltip) {\n    chart.tooltip(tooltip);\n  } else if (tooltip === false) {\n    chart.tooltip(false);\n  }\n\n  return params;\n}\n\n/**\n * \n * @param chart\n * @param options\n */\nexport function adaptor(params: Params<ScatterOptions>) {\n  // flow  G2 API\n  return flow(\n    geometry,\n    meta,\n    axis,\n    legend,\n    tooltip,\n    label,\n    //  interaction \n    brushInteraction,\n    slider,\n    scrollbar,\n    interaction,\n    scatterAnnotation,\n    animation,\n    theme,\n    regressionLine\n  )(params);\n}\n","import { Plot } from '../../core/plot';\nimport { deepAssign } from '../../utils';\n\n/**\n *  \n */\nexport const DEFAULT_OPTIONS = deepAssign({}, Plot.getDefaultOptions(), {\n  size: 4,\n  tooltip: {\n    showTitle: false,\n    showMarkers: false,\n    showCrosshairs: true,\n    crosshairs: {\n      type: 'xy',\n    },\n  },\n});\n","import { registerInteraction } from '@antv/g2';\n\nregisterInteraction('drag-move', {\n  start: [{ trigger: 'plot:mousedown', action: 'scale-translate:start' }],\n  processing: [\n    {\n      trigger: 'plot:mousemove',\n      action: 'scale-translate:translate',\n      throttle: { wait: 100, leading: true, trailing: false },\n    },\n  ],\n  end: [{ trigger: 'plot:mouseup', action: 'scale-translate:end' }],\n});\n","import { BRUSH_FILTER_EVENTS, VIEW_LIFE_CIRCLE } from '@antv/g2';\nimport { Adaptor } from '../../core/adaptor';\nimport { Plot } from '../../core/plot';\nimport { deepAssign } from '../../utils';\nimport { adaptor, meta, transformOptions } from './adaptor';\nimport { DEFAULT_OPTIONS } from './constant';\nimport './interactions';\nimport { ScatterOptions } from './types';\n\nexport type { ScatterOptions };\n\nexport class Scatter extends Plot<ScatterOptions> {\n  /**\n   *   \n   * \n   */\n  static getDefaultOptions(): Partial<ScatterOptions> {\n    return DEFAULT_OPTIONS;\n  }\n\n  /**  */\n  public type: string = 'scatter';\n\n  constructor(container: string | HTMLElement, options: ScatterOptions) {\n    super(container, options);\n\n    //  brush  meta\n    this.on(VIEW_LIFE_CIRCLE.BEFORE_RENDER, (evt) => {\n      //  option\n      const { options, chart } = this;\n      if (evt.data?.source === BRUSH_FILTER_EVENTS.FILTER) {\n        const filteredData = this.chart.filterData(this.chart.getData());\n        meta({ chart, options: { ...options, data: filteredData } });\n      }\n\n      if (evt.data?.source === BRUSH_FILTER_EVENTS.RESET) {\n        meta({ chart, options });\n      }\n    });\n  }\n\n  /**\n   * @override\n   * @param data\n   */\n  public changeData(data: ScatterOptions['data']) {\n    this.updateOption(transformOptions(deepAssign({}, this.options, { data })));\n    const { options, chart } = this;\n    meta({ chart, options });\n    this.chart.changeData(data);\n  }\n\n  /**\n   *   \n   */\n  protected getSchemaAdaptor(): Adaptor<ScatterOptions> {\n    return adaptor;\n  }\n\n  protected getDefaultOptions() {\n    return Scatter.getDefaultOptions();\n  }\n}\n","import { Plot } from '../../core/plot';\nimport { deepAssign } from '../../utils';\n\nexport const Y_FIELD = '$$stock-range$$';\n\nexport const TREND_FIELD = 'trend';\nexport const TREND_UP = 'up';\nexport const TREND_DOWN = 'down';\n\n/** tooltip  */\nexport const DEFAULT_TOOLTIP_OPTIONS = {\n  showMarkers: false,\n  showCrosshairs: true,\n  shared: true,\n  crosshairs: {\n    type: 'xy',\n    follow: true,\n    text: (type, defaultContent, items) => {\n      let textContent;\n      if (type === 'x') {\n        const item = items[0];\n        textContent = item ? item.title : defaultContent;\n      } else {\n        textContent = defaultContent;\n      }\n      return {\n        position: type === 'y' ? 'start' : 'end',\n        content: textContent,\n        style: {\n          fill: '#dfdfdf',\n        },\n      };\n    },\n    //  crosshairs textBackground \n    textBackground: {\n      padding: [2, 4],\n      style: {\n        fill: '#666',\n      },\n    },\n  },\n};\n\n/**\n *  \n */\nexport const DEFAULT_OPTIONS = deepAssign({}, Plot.getDefaultOptions(), {\n  //  tooltips\n  tooltip: DEFAULT_TOOLTIP_OPTIONS,\n  interactions: [{ type: 'tooltip' }],\n  legend: {\n    position: 'top-left',\n  },\n  risingFill: '#ef5350',\n  fallingFill: '#26a69a',\n});\n","import { isArray, map } from '@antv/util';\nimport { TREND_DOWN, TREND_FIELD, TREND_UP, Y_FIELD } from './constant';\n\n/**\n * @desc \n * @param data\n * @param yField\n */\nexport function getStockData(data: Record<string, any>[], yField: [string, string, string, string]) {\n  return map(data, (item) => {\n    const obj = item && { ...item };\n    if (isArray(yField) && obj) {\n      const [open, close, high, low] = yField;\n      obj[TREND_FIELD] = obj[open] <= obj[close] ? TREND_UP : TREND_DOWN;\n      obj[Y_FIELD] = [obj[open], obj[close], obj[high], obj[low]];\n    }\n    return obj;\n  });\n}\n","import { animation, annotation, interaction, slider, theme } from '../../adaptor/common';\nimport { schema } from '../../adaptor/geometries';\nimport { AXIS_META_CONFIG_KEYS } from '../../constant';\nimport { Params } from '../../core/adaptor';\nimport { deepAssign, flow, pick } from '../../utils';\nimport { TREND_DOWN, TREND_FIELD, TREND_UP, Y_FIELD } from './constant';\nimport { StockOptions } from './types';\nimport { getStockData } from './utils';\n\n/**\n * \n * @param params\n */\nfunction geometry(params: Params<StockOptions>): Params<StockOptions> {\n  const { chart, options } = params;\n  const { yField } = options;\n\n  const { data, risingFill, fallingFill, tooltip, stockStyle } = options;\n\n  chart.data(getStockData(data, yField));\n\n  let tooltipOptions = tooltip;\n  if (tooltipOptions !== false) {\n    tooltipOptions = deepAssign({}, { fields: yField }, tooltipOptions);\n  }\n\n  schema(\n    deepAssign({}, params, {\n      options: {\n        schema: {\n          shape: 'candle',\n          color: [risingFill, fallingFill],\n          style: stockStyle,\n        },\n        yField: Y_FIELD,\n        seriesField: TREND_FIELD,\n        rawFields: yField,\n        tooltip: tooltipOptions,\n      },\n    })\n  );\n\n  return params;\n}\n\n/**\n * meta \n * @param params\n */\nexport function meta(params: Params<StockOptions>): Params<StockOptions> {\n  const { chart, options } = params;\n  const { meta, xAxis, yAxis, xField } = options;\n\n  const baseMeta = {\n    [xField]: {\n      type: 'timeCat',\n      tickCount: 6,\n    },\n    [TREND_FIELD]: {\n      values: [TREND_UP, TREND_DOWN],\n    },\n  };\n\n  const scales = deepAssign(baseMeta, meta, {\n    [xField]: pick(xAxis, AXIS_META_CONFIG_KEYS),\n    [Y_FIELD]: pick(yAxis, AXIS_META_CONFIG_KEYS),\n  });\n\n  chart.scale(scales);\n\n  return params;\n}\n\n/**\n * axis \n * @param params\n */\nexport function axis(params: Params<StockOptions>): Params<StockOptions> {\n  const { chart, options } = params;\n  const { xAxis, yAxis, xField } = options;\n\n  //  false \n  if (xAxis === false) {\n    chart.axis(xField, false);\n  } else {\n    chart.axis(xField, xAxis);\n  }\n\n  if (yAxis === false) {\n    chart.axis(Y_FIELD, false);\n  } else {\n    chart.axis(Y_FIELD, yAxis);\n  }\n\n  return params;\n}\n\n/**\n * tooltip \n * @param params\n */\nexport function tooltip(params: Params<StockOptions>): Params<StockOptions> {\n  const { chart, options } = params;\n  const { tooltip } = options;\n\n  if (tooltip !== false) {\n    chart.tooltip(tooltip);\n  } else {\n    chart.tooltip(false);\n  }\n\n  return params;\n}\n\n/**\n * legend \n * @param params\n */\nexport function legend(params: Params<StockOptions>): Params<StockOptions> {\n  const { chart, options } = params;\n  const { legend } = options;\n\n  if (legend) {\n    chart.legend(TREND_FIELD, legend);\n  } else if (legend === false) {\n    chart.legend(false);\n  }\n\n  return params;\n}\n\n/**\n * K\n * @param chart\n * @param options\n */\nexport function adaptor(params: Params<StockOptions>) {\n  // flow  G2 API\n  flow(theme, geometry, meta, axis, tooltip, legend, interaction, animation, annotation(), slider)(params);\n}\n","import { Adaptor } from '../../core/adaptor';\nimport { Plot } from '../../core/plot';\nimport { adaptor } from './adaptor';\nimport { DEFAULT_OPTIONS } from './constant';\nimport { StockOptions } from './types';\nimport { getStockData } from './utils';\n\nexport type { StockOptions };\n\nexport class Stock extends Plot<StockOptions> {\n  /**\n   *   \n   * \n   */\n  static getDefaultOptions(): Partial<StockOptions> {\n    return DEFAULT_OPTIONS;\n  }\n\n  /**  */\n  public type: string = 'stock';\n\n  /**\n   * \n   *  g2/g2plot    -->         -->          -->      \n   */\n  protected getDefaultOptions(): Partial<StockOptions> {\n    return Stock.getDefaultOptions();\n  }\n\n  /**\n   *   \n   */\n  protected getSchemaAdaptor(): Adaptor<StockOptions> {\n    return adaptor;\n  }\n\n  /**\n   * @override\n   * @param data\n   */\n  public changeData(data: StockOptions['data']) {\n    this.updateOption({ data });\n    const { yField } = this.options;\n    this.chart.changeData(getStockData(data, yField));\n  }\n}\n","import { map } from '@antv/util';\n\nexport function getTinyData(data: number[]) {\n  return map(data || [], (y: number, x: number) => ({ x: `${x}`, y }));\n}\n","import { get } from '@antv/util';\n\nexport const X_FIELD = 'x';\nexport const Y_FIELD = 'y';\n\nexport const DEFAULT_TOOLTIP_OPTIONS = {\n  showTitle: false,\n  shared: true,\n  showMarkers: false,\n  customContent: (x: string, data: any[]) => `${get(data, [0, 'data', 'y'], 0)}`, // \n  containerTpl: '<div class=\"g2-tooltip\"><div class=\"g2-tooltip-list\"></div></div>',\n  itemTpl: '<span>{value}</span>',\n  domStyles: {\n    'g2-tooltip': {\n      padding: '2px 4px',\n      fontSize: '10px',\n    },\n  },\n  showCrosshairs: true,\n  crosshairs: {\n    type: 'x' as const,\n  },\n};\n\n/**\n * \n */\nexport const DEFAULT_OPTIONS = {\n  appendPadding: 2,\n  tooltip: {\n    ...DEFAULT_TOOLTIP_OPTIONS,\n  },\n  animation: {},\n};\n","import { animation, annotation, pattern, scale, theme, tooltip } from '../../adaptor/common';\nimport { area, line, point } from '../../adaptor/geometries';\nimport { Params } from '../../core/adaptor';\nimport { deepAssign, flow } from '../../utils';\nimport { adjustYMetaByZero } from '../../utils/data';\nimport { X_FIELD, Y_FIELD } from '../tiny-line/constants';\nimport { getTinyData } from '../tiny-line/utils';\nimport { TinyAreaOptions } from './types';\n\n/**\n * \n * @param params\n */\nfunction geometry(params: Params<TinyAreaOptions>): Params<TinyAreaOptions> {\n  const { chart, options } = params;\n  const { data, color, areaStyle, point: pointOptions, line: lineOptions } = options;\n  const pointState = pointOptions?.state;\n\n  const seriesData = getTinyData(data);\n\n  chart.data(seriesData);\n\n  const primary = deepAssign({}, params, {\n    options: {\n      xField: X_FIELD,\n      yField: Y_FIELD,\n      area: { color, style: areaStyle },\n      line: lineOptions,\n      point: pointOptions,\n    },\n  });\n  const second = deepAssign({}, primary, { options: { tooltip: false } });\n  const pointParams = deepAssign({}, primary, { options: { tooltip: false, state: pointState } });\n\n  // area geometry \n  area(primary);\n  line(second);\n  point(pointParams);\n\n  chart.axis(false);\n  chart.legend(false);\n\n  return params;\n}\n\n/**\n * meta \n * @param params\n */\nexport function meta(params: Params<TinyAreaOptions>): Params<TinyAreaOptions> {\n  const { options } = params;\n  const { xAxis, yAxis, data } = options;\n  const seriesData = getTinyData(data);\n\n  return flow(\n    scale(\n      {\n        [X_FIELD]: xAxis,\n        [Y_FIELD]: yAxis,\n      },\n      {\n        [X_FIELD]: {\n          type: 'cat',\n        },\n        [Y_FIELD]: adjustYMetaByZero(seriesData, Y_FIELD),\n      }\n    )\n  )(params);\n}\n\n/**\n * \n * @param chart\n * @param options\n */\nexport function adaptor(params: Params<TinyAreaOptions>) {\n  return flow(pattern('areaStyle'), geometry, meta, tooltip, theme, animation, annotation())(params);\n}\n","import { DEFAULT_TOOLTIP_OPTIONS } from '../tiny-line/constants';\n\n/**\n * \n */\nexport const DEFAULT_OPTIONS = {\n  appendPadding: 2,\n  tooltip: {\n    ...DEFAULT_TOOLTIP_OPTIONS,\n  },\n  // \n  color: 'l(90) 0:#E5EDFE 1:#ffffff',\n  areaStyle: {\n    fillOpacity: 0.6,\n  },\n  line: {\n    size: 1,\n    color: '#5B8FF9',\n  },\n  animation: {},\n};\n","import { Adaptor } from '../../core/adaptor';\nimport { Plot } from '../../core/plot';\nimport { getTinyData } from '../tiny-line/utils';\nimport { adaptor, meta } from './adaptor';\nimport { DEFAULT_OPTIONS } from './constants';\nimport { TinyAreaOptions } from './types';\n\nexport type { TinyAreaOptions };\n\nexport class TinyArea extends Plot<TinyAreaOptions> {\n  /**\n   * \n   * \n   */\n  static getDefaultOptions(): Partial<TinyAreaOptions> {\n    return DEFAULT_OPTIONS;\n  }\n\n  /**  */\n  public type: string = 'tiny-area';\n\n  /**\n   * @override\n   * @param data\n   */\n  public changeData(data: TinyAreaOptions['data']) {\n    this.updateOption({ data });\n    const { chart, options } = this;\n    meta({ chart, options });\n    chart.changeData(getTinyData(data));\n  }\n\n  protected getDefaultOptions() {\n    return TinyArea.getDefaultOptions();\n  }\n\n  /**\n   *   \n   */\n  protected getSchemaAdaptor(): Adaptor<TinyAreaOptions> {\n    return adaptor;\n  }\n}\n","import { animation, annotation, pattern, theme, tooltip } from '../../adaptor/common';\nimport { interval } from '../../adaptor/geometries';\nimport { Params } from '../../core/adaptor';\nimport { deepAssign, flow } from '../../utils';\nimport { meta } from '../tiny-area/adaptor';\nimport { X_FIELD, Y_FIELD } from '../tiny-line/constants';\nimport { getTinyData } from '../tiny-line/utils';\nimport { TinyColumnOptions } from './types';\n\nexport { meta };\n\n/**\n * \n * @param params\n */\nfunction geometry(params: Params<TinyColumnOptions>): Params<TinyColumnOptions> {\n  const { chart, options } = params;\n  const { data, color, columnStyle, columnWidthRatio } = options;\n\n  const seriesData = getTinyData(data);\n\n  chart.data(seriesData);\n\n  const p = deepAssign({}, params, {\n    options: {\n      xField: X_FIELD,\n      yField: Y_FIELD,\n      widthRatio: columnWidthRatio,\n      interval: {\n        style: columnStyle,\n        color,\n      },\n    },\n  });\n  interval(p);\n\n  chart.axis(false);\n  chart.legend(false);\n  chart.interaction('element-active');\n  return params;\n}\n\n/**\n * \n * @param chart\n * @param options\n */\nexport function adaptor(params: Params<TinyColumnOptions>) {\n  return flow(theme, pattern('columnStyle'), geometry, meta, tooltip, animation, annotation())(params);\n}\n","import { get } from '@antv/util';\n\nexport const DEFAULT_TOOLTIP_OPTIONS = {\n  showTitle: false,\n  shared: true,\n  showMarkers: false,\n  customContent: (x: string, data: any[]) => `${get(data, [0, 'data', 'y'], 0)}`, // \n  containerTpl: '<div class=\"g2-tooltip\"><div class=\"g2-tooltip-list\"></div></div>',\n  itemTpl: '<span>{value}</span>',\n  domStyles: {\n    'g2-tooltip': {\n      padding: '2px 4px',\n      fontSize: '10px',\n    },\n  },\n};\n\n/**\n * \n */\nexport const DEFAULT_OPTIONS = {\n  appendPadding: 2,\n  tooltip: {\n    ...DEFAULT_TOOLTIP_OPTIONS,\n  },\n  animation: {},\n};\n","import { Adaptor } from '../../core/adaptor';\nimport { Plot } from '../../core/plot';\nimport { getTinyData } from '../tiny-line/utils';\nimport { adaptor, meta } from './adaptor';\nimport { DEFAULT_OPTIONS } from './constants';\nimport { TinyColumnOptions } from './types';\n\nexport type { TinyColumnOptions };\n\nexport class TinyColumn extends Plot<TinyColumnOptions> {\n  /**\n   * \n   * \n   */\n  static getDefaultOptions(): Partial<TinyColumnOptions> {\n    return DEFAULT_OPTIONS;\n  }\n\n  /**  */\n  public type: string = 'tiny-column';\n\n  /**\n   * @override\n   * @param data\n   */\n  public changeData(data: TinyColumnOptions['data']) {\n    this.updateOption({ data });\n    const { chart, options } = this;\n    meta({ chart, options });\n    chart.changeData(getTinyData(data));\n  }\n\n  protected getDefaultOptions() {\n    return TinyColumn.getDefaultOptions();\n  }\n\n  /**\n   *   \n   */\n  protected getSchemaAdaptor(): Adaptor<TinyColumnOptions> {\n    return adaptor;\n  }\n}\n","import { animation, annotation, theme, tooltip } from '../../adaptor/common';\nimport { line, point } from '../../adaptor/geometries';\nimport { Params } from '../../core/adaptor';\nimport { deepAssign, flow } from '../../utils';\nimport { meta } from '../tiny-area/adaptor';\nimport { X_FIELD, Y_FIELD } from './constants';\nimport { TinyLineOptions } from './types';\nimport { getTinyData } from './utils';\n\nexport { meta };\n\n/**\n * \n * @param params\n */\nfunction geometry(params: Params<TinyLineOptions>): Params<TinyLineOptions> {\n  const { chart, options } = params;\n  const { data, color, lineStyle, point: pointMapping } = options;\n\n  const pointState = pointMapping?.state;\n\n  const seriesData = getTinyData(data);\n\n  chart.data(seriesData);\n\n  // line geometry \n  const primary = deepAssign({}, params, {\n    options: {\n      xField: X_FIELD,\n      yField: Y_FIELD,\n      line: {\n        color,\n        style: lineStyle,\n      },\n      point: pointMapping,\n    },\n  });\n  const pointParams = deepAssign({}, primary, { options: { tooltip: false, state: pointState } });\n\n  line(primary);\n  point(pointParams);\n\n  chart.axis(false);\n  chart.legend(false);\n\n  return params;\n}\n\n/**\n * \n * @param chart\n * @param options\n */\nexport function adaptor(params: Params<TinyLineOptions>) {\n  return flow(geometry, meta, theme, tooltip, animation, annotation())(params);\n}\n","import { Adaptor } from '../../core/adaptor';\nimport { Plot } from '../../core/plot';\nimport { adaptor, meta } from './adaptor';\nimport { DEFAULT_OPTIONS } from './constants';\nimport { TinyLineOptions } from './types';\nimport { getTinyData } from './utils';\n\nexport type { TinyLineOptions };\n\nexport class TinyLine extends Plot<TinyLineOptions> {\n  /**\n   * \n   * \n   */\n  static getDefaultOptions(): Partial<TinyLineOptions> {\n    return DEFAULT_OPTIONS;\n  }\n\n  /**  */\n  public type: string = 'tiny-line';\n\n  /**\n   * @override\n   * @param data\n   */\n  public changeData(data: TinyLineOptions['data']) {\n    this.updateOption({ data });\n    const { chart, options } = this;\n    meta({ chart, options });\n    chart.changeData(getTinyData(data));\n  }\n\n  protected getDefaultOptions() {\n    return TinyLine.getDefaultOptions();\n  }\n\n  /**\n   *   \n   */\n  protected getSchemaAdaptor(): Adaptor<TinyLineOptions> {\n    return adaptor;\n  }\n}\n","import { View } from '@antv/g2';\nimport { get } from '@antv/util';\nimport { Options } from '../../types';\nimport { deepAssign } from '../../utils';\nimport { Area, AreaOptions } from '../area';\nimport { adaptor as areaAdaptor } from '../area/adaptor';\nimport { Bar, BarOptions } from '../bar';\nimport { adaptor as barAdaptor } from '../bar/adaptor';\nimport { Column, ColumnOptions } from '../column';\nimport { adaptor as columnAdaptor } from '../column/adaptor';\nimport { Funnel, FunnelOptions } from '../funnel';\nimport { adaptor as funnelAdaptor } from '../funnel/adaptor';\nimport { Gauge, GaugeOptions } from '../gauge';\nimport { adaptor as gaugeAdaptor } from '../gauge/adaptor';\nimport { Histogram, HistogramOptions } from '../histogram';\nimport { adaptor as histogramAdaptor } from '../histogram/adaptor';\nimport { Line, LineOptions } from '../line';\nimport { adaptor as lineAdaptor } from '../line/adaptor';\nimport { Pie, PieOptions } from '../pie';\nimport { adaptor as pieAdaptor } from '../pie/adaptor';\nimport { Progress, ProgressOptions } from '../progress';\nimport { adaptor as progressAdaptor } from '../progress/adaptor';\nimport { RingProgress, RingProgressOptions } from '../ring-progress';\nimport { adaptor as ringProgressAdaptor } from '../ring-progress/adaptor';\nimport { Scatter, ScatterOptions } from '../scatter';\nimport { adaptor as scatterAdaptor } from '../scatter/adaptor';\nimport { Stock, StockOptions } from '../stock';\nimport { adaptor as stockAdaptor } from '../stock/adaptor';\nimport { TinyArea, TinyAreaOptions } from '../tiny-area';\nimport { adaptor as tinyAreaAdaptor } from '../tiny-area/adaptor';\nimport { TinyColumn, TinyColumnOptions } from '../tiny-column';\nimport { adaptor as tinyColumnAdaptor } from '../tiny-column/adaptor';\nimport { TinyLine, TinyLineOptions } from '../tiny-line';\nimport { adaptor as tinyLineAdaptor } from '../tiny-line/adaptor';\n\n/**\n *  options  widthheight ,  options  data \n */\ntype PlotOptions<T> = Omit<T, 'width' | 'height' | 'data'> & Partial<Pick<T extends Options ? T : never, 'data'>>;\n\n/**\n * multi-view  plots  options \n */\nexport type IPlotTypes =\n  | {\n      /**\n       * plot \n       */\n      readonly type: 'line';\n      /**\n       * plot \n       */\n      readonly options: PlotOptions<LineOptions>;\n    }\n  | {\n      readonly type: 'pie';\n      readonly options: PlotOptions<PieOptions>;\n    }\n  | {\n      readonly type: 'bar';\n      readonly options: PlotOptions<BarOptions>;\n    }\n  | {\n      readonly type: 'column';\n      readonly options: PlotOptions<ColumnOptions>;\n    }\n  | {\n      readonly type: 'area';\n      readonly options: PlotOptions<AreaOptions>;\n    }\n  | {\n      readonly type: 'gauge';\n      readonly options: PlotOptions<GaugeOptions>;\n    }\n  | {\n      readonly type: 'tiny-line';\n      readonly options: PlotOptions<TinyLineOptions>;\n    }\n  | {\n      readonly type: 'tiny-area';\n      readonly options: PlotOptions<TinyAreaOptions>;\n    }\n  | {\n      readonly type: 'tiny-column';\n      readonly options: PlotOptions<TinyColumnOptions>;\n    }\n  | {\n      readonly type: 'ring-progress';\n      readonly options: PlotOptions<RingProgressOptions>;\n    }\n  | {\n      readonly type: 'progress';\n      readonly options: PlotOptions<ProgressOptions>;\n    }\n  | {\n      readonly type: 'histogram';\n      readonly options: PlotOptions<HistogramOptions>;\n    }\n  | {\n      readonly type: 'scatter';\n      readonly options: PlotOptions<ScatterOptions>;\n    }\n  | {\n      readonly type: 'funnel';\n      readonly options: PlotOptions<FunnelOptions>;\n    }\n  | {\n      readonly type: 'stock';\n      readonly options: PlotOptions<StockOptions>;\n    };\n\n/**\n *  multi-view  plots\n */\nconst PLOT_ADAPTORS = {\n  line: lineAdaptor,\n  pie: pieAdaptor,\n  column: columnAdaptor,\n  bar: barAdaptor,\n  area: areaAdaptor,\n  gauge: gaugeAdaptor,\n  'tiny-line': tinyLineAdaptor,\n  'tiny-column': tinyColumnAdaptor,\n  'tiny-area': tinyAreaAdaptor,\n  'ring-progress': ringProgressAdaptor,\n  progress: progressAdaptor,\n  scatter: scatterAdaptor,\n  histogram: histogramAdaptor,\n  funnel: funnelAdaptor,\n  stock: stockAdaptor,\n};\n\n/**\n *  plot  class contructor\n * @param {string} plot\n */\nconst PLOT_CONSTRUCTOR = {\n  line: Line,\n  pie: Pie,\n  column: Column,\n  bar: Bar,\n  area: Area,\n  gauge: Gauge,\n  'tiny-line': TinyLine,\n  'tiny-column': TinyColumn,\n  'tiny-area': TinyArea,\n  'ring-progress': RingProgress,\n  progress: Progress,\n  scatter: Scatter,\n  histogram: Histogram,\n  funnel: Funnel,\n  stock: Stock,\n};\n\n/**\n *  mix  facet defaultOptions \n */\nconst DEFAULT_OPTIONS_MAP = {\n  pie: { label: false },\n  column: { tooltip: { showMarkers: false } },\n  bar: { tooltip: { showMarkers: false } },\n};\n\n/**\n *  plot  adaptor,  defaultOptions\n * @param {string} plot\n */\nexport function execPlotAdaptor<T extends IPlotTypes['type']>(\n  plot: T,\n  view: View,\n  options: IPlotTypes['options']\n): void {\n  const cls = PLOT_CONSTRUCTOR[plot];\n  if (!cls) {\n    console.error(`could not find ${plot} plot`);\n    return;\n  }\n  const module = PLOT_ADAPTORS[plot];\n  module({\n    chart: view,\n    options: deepAssign({}, cls.getDefaultOptions(), get(DEFAULT_OPTIONS_MAP, plot, {}), options),\n  });\n}\n","import { Geometry } from '@antv/g2';\nimport { each } from '@antv/util';\nimport { animation, annotation, interaction, theme, tooltip } from '../../adaptor/common';\nimport { geometry as geometryAdaptor } from '../../adaptor/geometries/base';\nimport { AXIS_META_CONFIG_KEYS } from '../../constant';\nimport { Params } from '../../core/adaptor';\nimport { PLOT_CONTAINER_OPTIONS } from '../../core/plot';\nimport { Axis } from '../../types/axis';\nimport { Interaction } from '../../types/interaction';\nimport { Legend } from '../../types/legend';\nimport { deepAssign, flow, pick } from '../../utils';\nimport { IGeometry, IView, MixOptions } from './types';\nimport { execPlotAdaptor } from './utils';\n\n/**\n * geometry \n * @param params\n */\nfunction multiView(params: Params<MixOptions>): Params<MixOptions> {\n  const { chart, options } = params;\n  const { views, legend } = options;\n\n  each(views, (v: IView) => {\n    const { region, data, meta, axes, coordinate, interactions, annotations, tooltip, geometries } = v;\n\n    // 1.  view\n    const viewOfG2 = chart.createView({\n      region,\n    });\n\n    // 2. data\n    viewOfG2.data(data);\n\n    // 3. meta\n    let scales: Record<string, any> = {};\n    if (axes) {\n      each(axes, (axis: Axis, field: string) => {\n        scales[field] = pick(axis, AXIS_META_CONFIG_KEYS);\n      });\n    }\n\n    scales = deepAssign({}, meta, scales);\n    viewOfG2.scale(scales);\n\n    // 4. x y axis\n    if (!axes) {\n      viewOfG2.axis(false);\n    } else {\n      each(axes, (axis: Axis, field: string) => {\n        viewOfG2.axis(field, axis);\n      });\n    }\n\n    // 5. coordinate\n    viewOfG2.coordinate(coordinate);\n\n    // 6. geometry\n    each(geometries, (geometry: IGeometry) => {\n      const { ext } = geometryAdaptor({\n        chart: viewOfG2,\n        options: geometry,\n      });\n\n      // adjust\n      const { adjust } = geometry;\n      if (adjust) {\n        ext.geometry.adjust(adjust);\n      }\n    });\n\n    // 7. interactions\n    each(interactions, (interaction: Interaction) => {\n      if (interaction.enable === false) {\n        viewOfG2.removeInteraction(interaction.type);\n      } else {\n        viewOfG2.interaction(interaction.type, interaction.cfg);\n      }\n    });\n\n    // 8. annotations\n    each(annotations, (annotation) => {\n      viewOfG2.annotation()[annotation.type]({\n        ...annotation,\n      });\n    });\n\n    // 9. animation ()\n    if (typeof v.animation === 'boolean') {\n      viewOfG2.animate(false);\n    } else {\n      viewOfG2.animate(true);\n      // 9.1  Geometry todo \n      each(viewOfG2.geometries, (g: Geometry) => {\n        g.animate(v.animation);\n      });\n    }\n\n    if (tooltip) {\n      // 10. tooltip\n      viewOfG2.interaction('tooltip');\n      viewOfG2.tooltip(tooltip);\n    }\n  });\n\n  // legend\n  if (!legend) {\n    chart.legend(false);\n  } else {\n    each(legend, (l: Legend, field: string) => {\n      chart.legend(field, l);\n    });\n  }\n\n  // tooltip\n  chart.tooltip(options.tooltip);\n  return params;\n}\n\n/**\n *  g2plot \n * @param params\n */\nfunction multiPlot(params: Params<MixOptions>): Params<MixOptions> {\n  const { chart, options } = params;\n  const { plots, data = [] } = options;\n\n  each(plots, (plot) => {\n    const { type, region, options = {}, top } = plot;\n    const { tooltip } = options;\n\n    if (top) {\n      execPlotAdaptor(type, chart, { ...options, data });\n      return;\n    }\n\n    const viewOfG2 = chart.createView({ region, ...pick(options, PLOT_CONTAINER_OPTIONS) });\n    if (tooltip) {\n      //  tooltip \n      viewOfG2.interaction('tooltip');\n    }\n\n    execPlotAdaptor(type, viewOfG2, { data, ...options });\n  });\n\n  return params;\n}\n\n/**\n *  adaptor (mix)\n * @param params\n */\nexport function slider(params: Params<MixOptions>): Params<MixOptions> {\n  const { chart, options } = params;\n\n  chart.option('slider', options.slider);\n\n  return params;\n}\n\n/**\n * \n * @param chart\n * @param options\n */\nexport function adaptor(params: Params<MixOptions>) {\n  return flow(\n    animation, //  view \n    multiView,\n    multiPlot,\n    interaction,\n    animation,\n    theme,\n    tooltip,\n    slider,\n    annotation()\n    // ...  adaptor flow\n  )(params);\n}\n","import { Action, Element, registerAction, registerInteraction, View } from '@antv/g2';\nimport { each, get, isArray, map } from '@antv/util';\nimport { getAllElements, getSiblingViews, getViews } from '../../../utils';\nimport { clearHighlight, getElementValue } from './utils';\n\ntype EventItem = { element: Element; view: View; active: boolean; inactive: boolean };\ntype ActionParams = { linkField?: string; dim?: 'x' | 'y' };\n/**\n *  view view \n *\n *  actionlinkField dim \n * 1. showTooltip\n * 2. active\n * 3. highlight\n * 4. selected\n *\n *  action\n * 1. hidetooltip\n * 2. reset \n */\nclass Association extends Action {\n  /**\n   *  elements\n   *\n   * -  dim  dim  field linkField  return\n   * -  dim  linkField \n   * -  linkField \n   * @returns EventItem[]\n   */\n  private getAssociationItems(views: View[], params?: ActionParams): EventItem[] {\n    const { event } = this.context;\n    const { linkField, dim } = params || {};\n\n    const items = [];\n\n    if (event.data?.data) {\n      const { data } = event.data;\n      each(views, (v: View) => {\n        let field = linkField;\n        if (dim === 'x') {\n          field = v.getXScale().field;\n        } else if (dim === 'y') {\n          field = v.getYScales().find((s) => s.field === field)?.field;\n        } else if (!field) {\n          field = v.getGroupScales()[0]?.field;\n        }\n        if (!field) {\n          return;\n        }\n        const elements = map(getAllElements(v), (ele) => {\n          let active = false;\n          let inactive = false;\n          const dataValue = isArray(data) ? get(data[0], field) : get(data, field);\n          if (getElementValue(ele, field) === dataValue) {\n            active = true;\n          } else {\n            inactive = true;\n          }\n          return { element: ele, view: v, active, inactive };\n        });\n        items.push(...elements);\n      });\n    }\n\n    return items;\n  }\n\n  /**\n   *  tooltip \n   */\n  public showTooltip(params?: ActionParams) {\n    const siblings = getSiblingViews(this.context.view);\n    const elements = this.getAssociationItems(siblings, params);\n\n    each(elements, (ele) => {\n      if (ele.active) {\n        const box = ele.element.shape.getCanvasBBox();\n        ele.view.showTooltip({ x: box.minX + box.width / 2, y: box.minY + box.height / 2 });\n      }\n    });\n  }\n\n  /**\n   *  tooltip\n   */\n  public hideTooltip() {\n    const siblings = getSiblingViews(this.context.view);\n    each(siblings, (sibling) => {\n      sibling.hideTooltip();\n    });\n  }\n\n  /**\n   *  active \n   */\n  public active(params?: ActionParams) {\n    const views = getViews(this.context.view);\n    const items = this.getAssociationItems(views, params);\n\n    each(items, (item: EventItem) => {\n      const { active, element } = item;\n      if (active) {\n        element.setState('active', true);\n      }\n    });\n  }\n\n  /**\n   *  selected \n   */\n  public selected(params?: ActionParams) {\n    const views = getViews(this.context.view);\n    const items = this.getAssociationItems(views, params);\n\n    each(items, (item: EventItem) => {\n      const { active, element } = item;\n      if (active) {\n        element.setState('selected', true);\n      }\n    });\n  }\n\n  /**\n   *  =>  inactive \n   */\n  public highlight(params?: ActionParams) {\n    const views = getViews(this.context.view);\n    const items = this.getAssociationItems(views, params);\n\n    each(items, (item: EventItem) => {\n      const { inactive, element } = item;\n      if (inactive) {\n        element.setState('inactive', true);\n      }\n    });\n  }\n\n  public reset() {\n    const views = getViews(this.context.view);\n    each(views, (v) => {\n      clearHighlight(v);\n    });\n  }\n}\n\nregisterAction('association', Association);\n\n/**\n *  view  active  tooltip \n */\nregisterInteraction('association-active', {\n  start: [{ trigger: 'element:mouseenter', action: 'association:active' }],\n  end: [{ trigger: 'element:mouseleave', action: 'association:reset' }],\n});\n\n/**\n *  view  active  tooltip \n */\nregisterInteraction('association-selected', {\n  start: [{ trigger: 'element:mouseenter', action: 'association:selected' }],\n  end: [{ trigger: 'element:mouseleave', action: 'association:reset' }],\n});\n\n/**\n *  view  highlight ,  element\n */\nregisterInteraction('association-highlight', {\n  start: [{ trigger: 'element:mouseenter', action: 'association:highlight' }],\n  end: [{ trigger: 'element:mouseleave', action: 'association:reset' }],\n});\n\n/**\n *  view  tooltip  groupField  tooltip \n */\nregisterInteraction('association-tooltip', {\n  start: [{ trigger: 'element:mousemove', action: 'association:showTooltip' }],\n  end: [{ trigger: 'element:mouseleave', action: 'association:hideTooltip' }],\n});\n","import { Element, View } from '@antv/g2';\nimport { each, isArray } from '@antv/util';\nimport { getAllElements } from '../../../utils';\n\n/**\n * \n * @param element \n * @param field \n * @ignore\n */\nexport function getElementValue(element: Element, field) {\n  const model = element.getModel();\n  const record = model.data;\n  let value;\n  if (isArray(record)) {\n    value = record[0][field];\n  } else {\n    value = record[field];\n  }\n  return value;\n}\n\n/**\n * @ignore\n *  highlight \n * @param view View  Chart\n */\nexport function clearHighlight(view: View) {\n  const elements = getAllElements(view);\n  each(elements, (el) => {\n    if (el.hasState('active')) {\n      el.setState('active', false);\n    }\n    if (el.hasState('selected')) {\n      el.setState('selected', false);\n    }\n    if (el.hasState('inactive')) {\n      el.setState('inactive', false);\n    }\n  });\n}\n","import { Adaptor } from '../../core/adaptor';\nimport { Plot } from '../../core/plot';\nimport { adaptor } from './adaptor';\nimport './interactions';\nimport { MixOptions } from './types';\n\nexport type { MixOptions };\n\n/**\n *  G2 80% \n * 1. \n *   -  + \n *   - \n *   - ...\n * 2. \n *   - \n *   - \n *   - ...\n */\nexport class Mix extends Plot<MixOptions> {\n  /**  */\n  public type: string = 'mix';\n\n  /**\n   * \n   */\n  protected getSchemaAdaptor(): Adaptor<MixOptions> {\n    return adaptor;\n  }\n}\n","import { Mix } from './plots/mix';\n\n/**  */\nexport enum Stage {\n  DEV = 'DEV',\n  BETA = 'BETA',\n  STABLE = 'STABLE',\n}\n\n/**\n * \n * @param stage\n */\nexport function notice(stage: Stage, plotType: string) {\n  console.warn(\n    stage === Stage.DEV\n      ? `Plot '${plotType}' is in DEV stage, just give us issues.`\n      : stage === Stage.BETA\n      ? `Plot '${plotType}' is in BETA stage, DO NOT use it in production env.`\n      : stage === Stage.STABLE\n      ? `Plot '${plotType}' is in STABLE stage, import it by \"import { ${plotType} } from '@antv/g2plot'\".`\n      : 'invalid Stage type.'\n  );\n}\n\n/**\n * \n */\nexport class Lab {\n  static get MultiView() {\n    notice(Stage.STABLE, 'MultiView');\n    return Mix;\n  }\n}\n","export const FIRST_AXES_VIEW = 'first-axes-view';\nexport const SECOND_AXES_VIEW = 'second-axes-view';\n/**  key  */\nexport const SERIES_FIELD_KEY = 'series-field-key';\n","import { Types } from '@antv/g2';\nimport { groupBy } from '@antv/util';\nimport { Datum } from '../../types';\nimport { BidirectionalBarOptions } from './types';\n\ntype TransformData = {\n  [key: string]: string | number;\n}[];\n\n/**\n * bidirectional-bar ,  SERIES_FIELD_KEY \n * @param xField\n * @param yField\n * @param data\n */\nexport function transformData(\n  xField: string,\n  yField: string[],\n  seriesField: string,\n  data: Datum,\n  reverse?: boolean\n): Types.Data[] {\n  const hopeData: TransformData = [];\n  yField.forEach((d: string) => {\n    data.forEach((k: any) => {\n      const obj = {\n        [xField]: k[xField],\n        [seriesField]: d,\n        [d]: k[d],\n      };\n      hopeData.push(obj);\n    });\n  });\n  const groupData = Object.values(groupBy(hopeData, seriesField));\n  const [data1 = [], data2 = []] = groupData;\n  return reverse ? [data1.reverse(), data2.reverse()] : [data1, data2];\n}\n\n/**\n * \n * @param layout\n */\nexport function isHorizontal(layout: BidirectionalBarOptions['layout']) {\n  return layout !== 'vertical';\n}\n\n/**\n *  view  padding \n * @param chart\n * @param views\n * @param p\n */\nexport function syncViewPadding(chart: any, views: any, p: any) {\n  const [v1, v2] = views;\n  const p1 = v1.autoPadding;\n  const p2 = v2.autoPadding;\n  const { layout, position } = chart.__axisPosition;\n  //  layout\n  if (isHorizontal(layout) && position === 'top') {\n    /**\n     *  v1  left  v2 right  v1 \n     * position top  v1  0\n     */\n    v1.autoPadding = p.instance(p1.top, 0, p1.bottom, p1.left);\n    v2.autoPadding = p.instance(p2.top, p1.left, p2.bottom, 0);\n  }\n  if (isHorizontal(layout) && position === 'bottom') {\n    /**\n     *  v1  left  v2 right  v1 \n     * position bottom  v1 v1 right = right / 2  v2 left = right / 2\n     * + 5  \n     */\n    v1.autoPadding = p.instance(p1.top, p1.right / 2 + 5, p1.bottom, p1.left);\n    v2.autoPadding = p.instance(p2.top, p2.right, p2.bottom, p1.right / 2 + 5);\n  }\n  if (!isHorizontal(layout) && position === 'bottom') {\n    /**\n     *  v1  left  v2 left  left \n     * position bottom  v1 v1 bottom = bottom / 2  v2 top = bottom / 2\n     * + 5  \n     */\n    const left = p1.left >= p2.left ? p1.left : p2.left;\n    v1.autoPadding = p.instance(p1.top, p1.right, p1.bottom / 2 + 5, left);\n    v2.autoPadding = p.instance(p1.bottom / 2 + 5, p2.right, p2.bottom, left);\n  }\n  // position  top \n  if (!isHorizontal(layout) && position === 'top') {\n    const left = p1.left >= p2.left ? p1.left : p2.left;\n    v1.autoPadding = p.instance(p1.top, p1.right, 0, left);\n    v2.autoPadding = p.instance(0, p2.right, p1.top, left);\n  }\n}\n","import { View } from '@antv/g2';\nimport { get, keys } from '@antv/util';\nimport {\n  animation as commonAnimation,\n  interaction as commonInteraction,\n  limitInPlot as commonLimitInPlot,\n  scale,\n  theme as commonTheme,\n  tooltip,\n} from '../../adaptor/common';\nimport { interval } from '../../adaptor/geometries';\nimport { Params } from '../../core/adaptor';\nimport { deepAssign, findGeometry, findViewById, flow, transformLabel } from '../../utils';\nimport { FIRST_AXES_VIEW, SECOND_AXES_VIEW, SERIES_FIELD_KEY } from './constant';\nimport { BidirectionalBarOptions } from './types';\nimport { isHorizontal, transformData } from './utils';\n\n/**\n * geometry \n * @param params\n */\nfunction geometry(params: Params<BidirectionalBarOptions>): Params<BidirectionalBarOptions> {\n  const { chart, options } = params;\n  const { data, xField, yField, color, barStyle, widthRatio, legend, layout } = options;\n\n  // \n  const groupData: any[] = transformData(xField, yField, SERIES_FIELD_KEY, data, isHorizontal(layout));\n  //  view  legend\n  if (legend) {\n    chart.legend(SERIES_FIELD_KEY, legend);\n  } else if (legend === false) {\n    chart.legend(false);\n  }\n  //  view\n  let firstView: View;\n  let secondView: View;\n  const [firstViewData, secondViewData] = groupData;\n\n  // \n  if (isHorizontal(layout)) {\n    firstView = chart.createView({\n      region: {\n        start: { x: 0, y: 0 },\n        end: { x: 0.5, y: 1 },\n      },\n      id: FIRST_AXES_VIEW,\n    });\n\n    firstView.coordinate().transpose().reflect('x');\n\n    secondView = chart.createView({\n      region: {\n        start: { x: 0.5, y: 0 },\n        end: { x: 1, y: 1 },\n      },\n      id: SECOND_AXES_VIEW,\n    });\n    secondView.coordinate().transpose();\n\n    // @: ( transform )\n    firstView.data(firstViewData);\n    secondView.data(secondViewData);\n  } else {\n    // \n    firstView = chart.createView({\n      region: {\n        start: { x: 0, y: 0 },\n        end: { x: 1, y: 0.5 },\n      },\n      id: FIRST_AXES_VIEW,\n    });\n    secondView = chart.createView({\n      region: {\n        start: { x: 0, y: 0.5 },\n        end: { x: 1, y: 1 },\n      },\n      id: SECOND_AXES_VIEW,\n    });\n    secondView.coordinate().reflect('y');\n\n    firstView.data(firstViewData);\n    secondView.data(secondViewData);\n  }\n  const left = deepAssign({}, params, {\n    chart: firstView,\n    options: {\n      widthRatio,\n      xField,\n      yField: yField[0],\n      seriesField: SERIES_FIELD_KEY,\n      interval: {\n        color,\n        style: barStyle,\n      },\n    },\n  });\n  interval(left);\n\n  const right = deepAssign({}, params, {\n    chart: secondView,\n    options: {\n      xField,\n      yField: yField[1],\n      seriesField: SERIES_FIELD_KEY,\n      widthRatio,\n      interval: {\n        color,\n        style: barStyle,\n      },\n    },\n  });\n\n  interval(right);\n\n  return params;\n}\n\n/**\n * meta \n * -  SERIES_FIELD_KEY  yField \n * @param params\n */\nfunction meta(params: Params<BidirectionalBarOptions>): Params<BidirectionalBarOptions> {\n  const { options, chart } = params;\n  const { xAxis, yAxis, xField, yField } = options;\n  const firstView = findViewById(chart, FIRST_AXES_VIEW);\n  const secondView = findViewById(chart, SECOND_AXES_VIEW);\n\n  const aliasMap = {};\n  keys(options?.meta || {}).map((metaKey) => {\n    if (get(options?.meta, [metaKey, 'alias'])) {\n      aliasMap[metaKey] = options.meta[metaKey].alias;\n    }\n  });\n\n  chart.scale({\n    [SERIES_FIELD_KEY]: {\n      sync: true,\n      formatter: (v) => {\n        return get(aliasMap, v, v);\n      },\n    },\n  });\n\n  scale({\n    [xField]: xAxis,\n    [yField[0]]: yAxis[yField[0]],\n  })(deepAssign({}, params, { chart: firstView }));\n\n  scale({\n    [xField]: xAxis,\n    [yField[1]]: yAxis[yField[1]],\n  })(deepAssign({}, params, { chart: secondView }));\n\n  return params;\n}\n\n/**\n * axis \n * @param params\n */\nfunction axis(params: Params<BidirectionalBarOptions>): Params<BidirectionalBarOptions> {\n  const { chart, options } = params;\n  const { xAxis, yAxis, xField, yField, layout } = options;\n\n  const firstView = findViewById(chart, FIRST_AXES_VIEW);\n  const secondView = findViewById(chart, SECOND_AXES_VIEW);\n  //  view axis ;  bottom  label\n  // @ts-ignore\n  if (xAxis?.position === 'bottom') {\n    // fixme  label: null  tickLine \n    secondView.axis(xField, { ...xAxis, label: { formatter: () => '' } });\n  } else {\n    secondView.axis(xField, false);\n  }\n\n  //  false  firstView \n  if (xAxis === false) {\n    firstView.axis(xField, false);\n  } else {\n    firstView.axis(xField, {\n      //  firstView \n      position: isHorizontal(layout) ? 'top' : 'bottom',\n      ...xAxis,\n    });\n  }\n\n  if (yAxis === false) {\n    firstView.axis(yField[0], false);\n    secondView.axis(yField[1], false);\n  } else {\n    firstView.axis(yField[0], yAxis[yField[0]]);\n    secondView.axis(yField[1], yAxis[yField[1]]);\n  }\n  /**\n   *  syncViewPadding\n   *  TODO  g2 View  setter \n   */\n\n  //@ts-ignore\n  chart.__axisPosition = {\n    position: firstView.getOptions().axes[xField].position,\n    layout,\n  };\n  return params;\n}\n\n/**\n * interaction \n * @param params\n */\nexport function interaction(params: Params<BidirectionalBarOptions>): Params<BidirectionalBarOptions> {\n  const { chart } = params;\n\n  commonInteraction(deepAssign({}, params, { chart: findViewById(chart, FIRST_AXES_VIEW) }));\n  commonInteraction(deepAssign({}, params, { chart: findViewById(chart, SECOND_AXES_VIEW) }));\n\n  return params;\n}\n\n/**\n * limitInPlot\n * @param params\n */\nexport function limitInPlot(params: Params<BidirectionalBarOptions>): Params<BidirectionalBarOptions> {\n  const { chart, options } = params;\n  const { yField, yAxis } = options;\n\n  commonLimitInPlot(\n    deepAssign({}, params, {\n      chart: findViewById(chart, FIRST_AXES_VIEW),\n      options: {\n        yAxis: yAxis[yField[0]],\n      },\n    })\n  );\n\n  commonLimitInPlot(\n    deepAssign({}, params, {\n      chart: findViewById(chart, SECOND_AXES_VIEW),\n      options: {\n        yAxis: yAxis[yField[1]],\n      },\n    })\n  );\n\n  return params;\n}\n\n/**\n * theme\n * @param params\n */\nexport function theme(params: Params<BidirectionalBarOptions>): Params<BidirectionalBarOptions> {\n  const { chart } = params;\n\n  commonTheme(deepAssign({}, params, { chart: findViewById(chart, FIRST_AXES_VIEW) }));\n  commonTheme(deepAssign({}, params, { chart: findViewById(chart, SECOND_AXES_VIEW) }));\n  commonTheme(params);\n\n  return params;\n}\n\n/**\n * animation\n * @param params\n */\nexport function animation(params: Params<BidirectionalBarOptions>): Params<BidirectionalBarOptions> {\n  const { chart } = params;\n\n  commonAnimation(deepAssign({}, params, { chart: findViewById(chart, FIRST_AXES_VIEW) }));\n  commonAnimation(deepAssign({}, params, { chart: findViewById(chart, SECOND_AXES_VIEW) }));\n\n  return params;\n}\n\n/**\n * label  (1.  offset  2. leftView  *= -1)\n * @param params\n */\nfunction label(params: Params<BidirectionalBarOptions>): Params<BidirectionalBarOptions> {\n  const { chart, options } = params;\n  const { label, yField, layout } = options;\n\n  const firstView = findViewById(chart, FIRST_AXES_VIEW);\n  const secondView = findViewById(chart, SECOND_AXES_VIEW);\n  const leftGeometry = findGeometry(firstView, 'interval');\n  const rightGeometry = findGeometry(secondView, 'interval');\n\n  if (!label) {\n    leftGeometry.label(false);\n    rightGeometry.label(false);\n  } else {\n    const { callback, ...cfg } = label;\n    /** ----  ---- */\n    // \n    if (!cfg.position) {\n      cfg.position = 'middle';\n    }\n    if (cfg.offset === undefined) {\n      cfg.offset = 2;\n    }\n\n    /** ---- leftView label  ---- */\n    const leftLabelCfg = { ...cfg };\n    if (isHorizontal(layout)) {\n      //  textAlign \n      const textAlign = leftLabelCfg.style?.textAlign || (cfg.position === 'middle' ? 'center' : 'left');\n      cfg.style = deepAssign({}, cfg.style, { textAlign });\n      const textAlignMap = { left: 'right', right: 'left', center: 'center' };\n      leftLabelCfg.style = deepAssign({}, leftLabelCfg.style, { textAlign: textAlignMap[textAlign] });\n    } else {\n      const positionMap = { top: 'bottom', bottom: 'top', middle: 'middle' };\n      if (typeof cfg.position === 'string') {\n        cfg.position = positionMap[cfg.position];\n      } else if (typeof cfg.position === 'function') {\n        cfg.position = (...args) => positionMap[(cfg.position as Function).apply(this, args)];\n      }\n      //  textBaseline \n      const textBaseline = leftLabelCfg.style?.textBaseline || 'bottom';\n      leftLabelCfg.style = deepAssign({}, leftLabelCfg.style, { textBaseline });\n      const textBaselineMap = { top: 'bottom', bottom: 'top', middle: 'middle' };\n      cfg.style = deepAssign({}, cfg.style, { textBaseline: textBaselineMap[textBaseline] });\n    }\n\n    leftGeometry.label({\n      fields: [yField[0]],\n      callback,\n      cfg: transformLabel(leftLabelCfg),\n    });\n    rightGeometry.label({\n      fields: [yField[1]],\n      callback,\n      cfg: transformLabel(cfg),\n    });\n  }\n\n  return params;\n}\n\n/**\n * \n * @param chart\n * @param options\n */\nexport function adaptor(params: Params<BidirectionalBarOptions>) {\n  // flow  G2 API\n  return flow(geometry, meta, axis, limitInPlot, theme, label, tooltip, interaction, animation)(params);\n}\n","import { Event, VIEW_LIFE_CIRCLE } from '@antv/g2';\nimport { Adaptor } from '../../core/adaptor';\nimport { Plot } from '../../core/plot';\nimport { deepAssign, findViewById } from '../../utils';\nimport { adaptor } from './adaptor';\nimport { FIRST_AXES_VIEW, SECOND_AXES_VIEW, SERIES_FIELD_KEY } from './constant';\nimport { BidirectionalBarOptions } from './types';\nimport { isHorizontal, syncViewPadding, transformData } from './utils';\n\nexport type { BidirectionalBarOptions };\n\nexport class BidirectionalBar extends Plot<BidirectionalBarOptions> {\n  /**\n   *  \n   * \n   */\n  static getDefaultOptions(): Partial<BidirectionalBarOptions> {\n    return deepAssign({}, super.getDefaultOptions(), {\n      syncViewPadding,\n    });\n  }\n\n  /**  */\n  static SERIES_FIELD_KEY = SERIES_FIELD_KEY;\n\n  /**  */\n  public type: string = 'bidirectional-bar';\n\n  /**\n   * @override\n   */\n  public changeData(data = []) {\n    this.chart.emit(\n      VIEW_LIFE_CIRCLE.BEFORE_CHANGE_DATA,\n      Event.fromData(this.chart, VIEW_LIFE_CIRCLE.BEFORE_CHANGE_DATA, null)\n    );\n\n    // options\n    this.updateOption({ data });\n    const { xField, yField, layout } = this.options;\n    // \n    const groupData: any[] = transformData(xField, yField, SERIES_FIELD_KEY, data, isHorizontal(layout));\n    const [firstViewData, secondViewData] = groupData;\n    const firstView = findViewById(this.chart, FIRST_AXES_VIEW);\n    const secondView = findViewById(this.chart, SECOND_AXES_VIEW);\n    // viewdata\n    firstView.data(firstViewData);\n    secondView.data(secondViewData);\n    // \n    this.chart.render(true);\n\n    this.chart.emit(\n      VIEW_LIFE_CIRCLE.AFTER_CHANGE_DATA,\n      Event.fromData(this.chart, VIEW_LIFE_CIRCLE.AFTER_CHANGE_DATA, null)\n    );\n  }\n\n  protected getDefaultOptions() {\n    return BidirectionalBar.getDefaultOptions();\n  }\n\n  /**\n   * \n   */\n  protected getSchemaAdaptor(): Adaptor<BidirectionalBarOptions> {\n    return adaptor;\n  }\n}\n","import { Plot } from '../../core/plot';\nimport { deepAssign } from '../../utils';\n\nexport const BOX_RANGE = '$$range$$';\nexport const BOX_RANGE_ALIAS = 'low-q1-median-q3-high';\n\nexport const BOX_SYNC_NAME = '$$y_outliers$$';\n\nexport const OUTLIERS_VIEW_ID = 'outliers_view';\n\n/**\n * \n */\nexport const DEFAULT_OPTIONS = deepAssign({}, Plot.getDefaultOptions(), {\n  meta: {\n    [BOX_RANGE]: { min: 0, alias: BOX_RANGE_ALIAS },\n  },\n\n  // \n  interactions: [{ type: 'active-region' }],\n\n  //  tooltips  markers\n  tooltip: {\n    showMarkers: false,\n    shared: true,\n  },\n  boxStyle: {\n    lineWidth: 1,\n  },\n});\n","import { map } from '@antv/util';\nimport { BOX_RANGE } from './constant';\nimport { BoxOptions } from './types';\n\n/**\n * @desc  box ,yField,datadata,data\n * @param data\n * @param yField\n */\nexport const transformData = (data: BoxOptions['data'], yField: BoxOptions['yField']) => {\n  let newData = data;\n  // formate data when `yField` is Array\n  if (Array.isArray(yField)) {\n    const [low, q1, median, q3, high] = yField;\n    newData = map(data, (obj) => {\n      obj[BOX_RANGE] = [obj[low], obj[q1], obj[median], obj[q3], obj[high]];\n      return obj;\n    });\n  }\n\n  return newData;\n};\n","import { Types } from '@antv/g2';\nimport { isArray } from '@antv/util';\nimport { animation, annotation, interaction, theme, tooltip } from '../../adaptor/common';\nimport { point, schema } from '../../adaptor/geometries';\nimport { AXIS_META_CONFIG_KEYS } from '../../constant';\nimport { Params } from '../../core/adaptor';\nimport { deepAssign, flow, pick } from '../../utils';\nimport { BOX_RANGE, BOX_SYNC_NAME, OUTLIERS_VIEW_ID } from './constant';\nimport { BoxOptions } from './types';\nimport { transformData } from './utils';\n\n/**\n * \n * @param params\n */\nfunction field(params: Params<BoxOptions>): Params<BoxOptions> {\n  const { chart, options } = params;\n  const { xField, yField, groupField, color, tooltip, boxStyle } = options;\n\n  chart.data(transformData(options.data, yField));\n\n  const yFieldName = isArray(yField) ? BOX_RANGE : yField;\n  const rawFields = yField ? (isArray(yField) ? yField : [yField]) : [];\n\n  let tooltipOptions = tooltip;\n  if (tooltipOptions !== false) {\n    tooltipOptions = deepAssign({}, { fields: isArray(yField) ? yField : [] }, tooltipOptions);\n  }\n\n  const { ext } = schema(\n    deepAssign({}, params, {\n      options: {\n        xField,\n        yField: yFieldName,\n        seriesField: groupField,\n        tooltip: tooltipOptions,\n        rawFields,\n        //  label\n        label: false,\n        schema: {\n          shape: 'box',\n          color,\n          style: boxStyle,\n        },\n      },\n    })\n  );\n\n  if (groupField) {\n    ext.geometry.adjust('dodge');\n  }\n\n  return params;\n}\n\n/**\n *  view\n */\nfunction outliersPoint(params: Params<BoxOptions>): Params<BoxOptions> {\n  const { chart, options } = params;\n  const { xField, data, outliersField, outliersStyle, padding, label } = options;\n\n  if (!outliersField) return params;\n\n  const outliersView = chart.createView({ padding, id: OUTLIERS_VIEW_ID });\n  const outliersViewData = data.reduce((ret, datum) => {\n    const outliersData = datum[outliersField];\n    outliersData.forEach((d) => ret.push({ ...datum, [outliersField]: d }));\n    return ret;\n  }, []) as Types.Datum[];\n\n  outliersView.data(outliersViewData);\n  point({\n    chart: outliersView,\n    options: {\n      xField,\n      yField: outliersField,\n      point: { shape: 'circle', style: outliersStyle },\n      label,\n    },\n  });\n\n  outliersView.axis(false);\n\n  return params;\n}\n\n/**\n * meta \n * @param params\n */\nfunction meta(params: Params<BoxOptions>): Params<BoxOptions> {\n  const { chart, options } = params;\n  const { meta, xAxis, yAxis, xField, yField, outliersField } = options;\n  const yFieldName = Array.isArray(yField) ? BOX_RANGE : yField;\n\n  let baseMeta = {};\n\n  // make yField and outliersField share y mate\n  if (outliersField) {\n    const syncName = BOX_SYNC_NAME;\n    baseMeta = {\n      [outliersField]: { sync: syncName, nice: true },\n      [yFieldName]: { sync: syncName, nice: true },\n    };\n  }\n\n  const scales = deepAssign(baseMeta, meta, {\n    [xField]: pick(xAxis, AXIS_META_CONFIG_KEYS),\n    [yFieldName]: pick(yAxis, AXIS_META_CONFIG_KEYS),\n  });\n\n  chart.scale(scales);\n\n  return params;\n}\n\n/**\n * axis \n * @param params\n */\nfunction axis(params: Params<BoxOptions>): Params<BoxOptions> {\n  const { chart, options } = params;\n  const { xAxis, yAxis, xField, yField } = options;\n  const yFieldName = Array.isArray(yField) ? BOX_RANGE : yField;\n\n  //  false \n  if (xAxis === false) {\n    chart.axis(xField, false);\n  } else {\n    chart.axis(xField, xAxis);\n  }\n\n  if (yAxis === false) {\n    chart.axis(BOX_RANGE, false);\n  } else {\n    chart.axis(yFieldName, yAxis);\n  }\n\n  return params;\n}\n\n/**\n * legend \n * @param params\n */\nexport function legend(params: Params<BoxOptions>): Params<BoxOptions> {\n  const { chart, options } = params;\n  const { legend, groupField } = options;\n\n  if (groupField) {\n    if (legend) {\n      chart.legend(groupField, legend);\n    } else {\n      // Grouped Box Chart default has legend, and it's position is `bottom`\n      chart.legend(groupField, { position: 'bottom' });\n    }\n  } else {\n    chart.legend(false);\n  }\n\n  return params;\n}\n\n/**\n * \n * @param params\n */\nexport function adaptor(params: Params<BoxOptions>) {\n  return flow(field, outliersPoint, meta, axis, legend, tooltip, annotation(), interaction, animation, theme)(params);\n}\n","import { Adaptor } from '../../core/adaptor';\nimport { Plot } from '../../core/plot';\nimport { adaptor } from './adaptor';\nimport { DEFAULT_OPTIONS, OUTLIERS_VIEW_ID } from './constant';\nimport { BoxOptions } from './types';\nimport { transformData } from './utils';\nexport type { BoxOptions };\n\nexport class Box extends Plot<BoxOptions> {\n  /**\n   *  \n   * \n   */\n  static getDefaultOptions(): Partial<BoxOptions> {\n    return DEFAULT_OPTIONS;\n  }\n\n  /**  */\n  public type: string = 'box';\n\n  /**\n   * @override\n   * @param data\n   */\n  public changeData(data) {\n    this.updateOption({ data });\n    const { yField } = this.options;\n\n    const outliersView = this.chart.views.find((v) => v.id === OUTLIERS_VIEW_ID);\n    if (outliersView) {\n      outliersView.data(data);\n    }\n\n    this.chart.changeData(transformData(data, yField));\n  }\n\n  /**\n   *   \n   */\n  protected getDefaultOptions(): Partial<BoxOptions> {\n    return Box.getDefaultOptions();\n  }\n\n  /**\n   *   \n   */\n  protected getSchemaAdaptor(): Adaptor<BoxOptions> {\n    return adaptor;\n  }\n}\n","import { BulletOptions } from './types';\n\ntype TransformData = {\n  min: number;\n  max: number;\n  ds: any[];\n};\n\n/**\n *  key    key  tooltip \n * @param values \n * @param field \n * @param index \n * @returns string\n */\nfunction getSeriesFieldKey(values: number[], field: string, index: number): string {\n  return values.length > 1 ? `${field}_${index}` : `${field}`;\n}\n\n/**\n * bullet \n * @param options\n */\nexport function transformData(options: BulletOptions): TransformData {\n  const { data, xField, measureField, rangeField, targetField, layout } = options;\n  const ds: any[] = [];\n  const scales: number[] = [];\n  data.forEach((item: any, index: number) => {\n    //  title * range\n    const rangeValues = [item[rangeField]].flat();\n    rangeValues.sort((a: number, b: number) => a - b);\n    rangeValues.forEach((d: number, i: number) => {\n      const range = i === 0 ? d : rangeValues[i] - rangeValues[i - 1];\n      ds.push({\n        rKey: `${rangeField}_${i}`,\n        [xField]: xField ? item[xField] : String(index), // xField\n        [rangeField]: range,\n      });\n    });\n\n    //  title * measure\n    const measureValues = [item[measureField]].flat();\n    measureValues.forEach((d: number, i: number) => {\n      ds.push({\n        mKey: getSeriesFieldKey(measureValues, measureField, i),\n        [xField]: xField ? item[xField] : String(index),\n        [measureField]: d,\n      });\n    });\n\n    //  title * target\n    const targetValues = [item[targetField]].flat();\n    targetValues.forEach((d: number, i: number) => {\n      ds.push({\n        tKey: getSeriesFieldKey(targetValues, targetField, i),\n        [xField]: xField ? item[xField] : String(index),\n        [targetField]: d,\n      });\n    });\n\n    // \n    scales.push(item[rangeField], item[measureField], item[targetField]);\n  });\n  // scales \n  let min = Math.min(...scales.flat(Infinity));\n  const max = Math.max(...scales.flat(Infinity));\n  // min  0  0 \n  min = min > 0 ? 0 : min;\n\n  // \n  if (layout === 'vertical') {\n    ds.reverse();\n  }\n  return { min, max, ds };\n}\n","import { get, isFunction } from '@antv/util';\nimport { animation, interaction, scale, theme, tooltip } from '../../adaptor/common';\nimport { interval, point } from '../../adaptor/geometries';\nimport { Params } from '../../core/adaptor';\nimport { Datum } from '../../types';\nimport { deepAssign, flow, transformLabel } from '../../utils';\nimport { BulletOptions } from './types';\nimport { transformData } from './utils';\n\n/**\n * geometry \n * @param params\n */\nfunction geometry(params: Params<BulletOptions>): Params<BulletOptions> {\n  const { chart, options } = params;\n  const { bulletStyle, targetField, rangeField, measureField, xField, color, layout, size, label } = options;\n  // \n  const { min, max, ds } = transformData(options);\n  chart.data(ds);\n\n  // rangeGeometry\n  const r = deepAssign({}, params, {\n    options: {\n      xField: xField,\n      yField: rangeField,\n      seriesField: 'rKey',\n      isStack: true,\n      label: get(label, 'range'),\n      interval: {\n        color: get(color, 'range'),\n        style: get(bulletStyle, 'range'),\n        size: get(size, 'range'),\n      },\n    },\n  });\n  interval(r);\n  //  tooltip \n  chart.geometries[0].tooltip(false);\n\n  // measureGeometry\n  const m = deepAssign({}, params, {\n    options: {\n      xField: xField,\n      yField: measureField,\n      seriesField: 'mKey',\n      isStack: true,\n      label: get(label, 'measure'),\n      interval: {\n        color: get(color, 'measure'),\n        style: get(bulletStyle, 'measure'),\n        size: get(size, 'measure'),\n      },\n    },\n  });\n  interval(m);\n\n  // targetGeometry\n  const t = deepAssign({}, params, {\n    options: {\n      xField: xField,\n      yField: targetField,\n      seriesField: 'tKey',\n      label: get(label, 'target'),\n      point: {\n        color: get(color, 'target'),\n        style: get(bulletStyle, 'target'),\n        size: isFunction(get(size, 'target'))\n          ? (data: Datum) => get(size, 'target')(data) / 2\n          : get(size, 'target') / 2,\n        shape: layout === 'horizontal' ? 'line' : 'hyphen',\n      },\n    },\n  });\n  point(t);\n\n  // \n  if (layout === 'horizontal') {\n    chart.coordinate().transpose();\n  }\n\n  return { ...params, ext: { data: { min, max } } };\n}\n\n/**\n * meta \n * @param params\n */\nexport function meta(params: Params<BulletOptions>): Params<BulletOptions> {\n  const { options, ext } = params;\n  const { xAxis, yAxis, targetField, rangeField, measureField, xField } = options;\n\n  const extData = ext.data;\n  return flow(\n    scale(\n      {\n        [xField]: xAxis,\n        [measureField]: yAxis,\n      },\n      //  meta\n      {\n        [measureField]: { min: extData?.min, max: extData?.max, sync: true },\n        [targetField]: {\n          sync: `${measureField}`,\n        },\n        [rangeField]: {\n          sync: `${measureField}`,\n        },\n      }\n    )\n  )(params);\n}\n\n/**\n * axis \n * @param params\n */\nfunction axis(params: Params<BulletOptions>): Params<BulletOptions> {\n  const { chart, options } = params;\n  const { xAxis, yAxis, xField, measureField, rangeField, targetField } = options;\n\n  chart.axis(`${rangeField}`, false);\n  chart.axis(`${targetField}`, false);\n\n  //  false \n  if (xAxis === false) {\n    chart.axis(`${xField}`, false);\n  } else {\n    chart.axis(`${xField}`, xAxis);\n  }\n\n  if (yAxis === false) {\n    chart.axis(`${measureField}`, false);\n  } else {\n    chart.axis(`${measureField}`, yAxis);\n  }\n\n  return params;\n}\n\n/**\n * legend \n * @param params\n */\nfunction legend(params: Params<BulletOptions>): Params<BulletOptions> {\n  const { chart, options } = params;\n  const { legend } = options;\n  chart.removeInteraction('legend-filter');\n  // @TODO  legend\n  chart.legend(legend);\n\n  //  color  legend, legend\n  chart.legend('rKey', false);\n  chart.legend('mKey', false);\n  chart.legend('tKey', false);\n\n  return params;\n}\n\n/**\n * label \n * @param params\n */\nfunction label(params: Params<BulletOptions>): Params<BulletOptions> {\n  const { chart, options } = params;\n  const { label, measureField, targetField, rangeField } = options;\n  const [rangeGeometry, measureGeometry, targetGeometry] = chart.geometries;\n\n  if (get(label, 'range')) {\n    rangeGeometry.label(`${rangeField}`, {\n      layout: [{ type: 'limit-in-plot' }],\n      ...transformLabel(label.range),\n    });\n  } else {\n    rangeGeometry.label(false);\n  }\n  if (get(label, 'measure')) {\n    measureGeometry.label(`${measureField}`, {\n      layout: [{ type: 'limit-in-plot' }],\n      ...transformLabel(label.measure),\n    });\n  } else {\n    measureGeometry.label(false);\n  }\n  if (get(label, 'target')) {\n    targetGeometry.label(`${targetField}`, {\n      layout: [{ type: 'limit-in-plot' }],\n      ...transformLabel(label.target),\n    });\n  } else {\n    targetGeometry.label(false);\n  }\n\n  return params;\n}\n\n/**\n * \n * @param chart\n * @param options\n */\nexport function adaptor(params: Params<BulletOptions>) {\n  // flow  G2 API\n  flow(geometry, meta, axis, legend, theme, label, tooltip, interaction, animation)(params);\n}\n","import { Plot } from '../../core/plot';\nimport { deepAssign } from '../../utils';\n\n/**\n * \n */\nexport const DEFAULT_OPTIONS = deepAssign({}, Plot.getDefaultOptions(), {\n  layout: 'horizontal',\n  size: {\n    range: 30,\n    measure: 20,\n    target: 20,\n  },\n  xAxis: {\n    tickLine: false,\n    line: null,\n  },\n  bulletStyle: {\n    range: {\n      fillOpacity: 0.5,\n    },\n  },\n  label: {\n    measure: {\n      position: 'right',\n    },\n  },\n  tooltip: {\n    // \n    showMarkers: false,\n  },\n});\n","import { Adaptor } from '../../core/adaptor';\nimport { Plot } from '../../core/plot';\nimport { adaptor, meta } from './adaptor';\nimport { DEFAULT_OPTIONS } from './constant';\nimport { BulletOptions } from './types';\nimport { transformData } from './utils';\n\nexport type { BulletOptions };\n\nexport class Bullet extends Plot<BulletOptions> {\n  /**\n   *   \n   * \n   */\n  static getDefaultOptions(): Partial<BulletOptions> {\n    return DEFAULT_OPTIONS;\n  }\n\n  /**  */\n  public type: string = 'bullet';\n\n  public changeData(data) {\n    this.updateOption({ data });\n    const { min, max, ds } = transformData(this.options);\n    // scale\n    meta({ options: this.options, ext: { data: { min, max } }, chart: this.chart });\n    this.chart.changeData(ds);\n  }\n\n  /**\n   * \n   */\n  protected getSchemaAdaptor(): Adaptor<BulletOptions> {\n    return adaptor;\n  }\n\n  /**\n   *   \n   */\n  protected getDefaultOptions() {\n    return Bullet.getDefaultOptions();\n  }\n}\n","/*\n * for Arc Diagram (edges without weight) / Chord Diagram (edges with source and target weight)\n * graph data required (nodes, edges)\n */\nimport { assign, forIn, isFunction } from '@antv/util';\nimport { NodeLinkData } from '../../types/relation-data';\n\nconst DEFAULT_OPTIONS: ChordLayoutOptions = {\n  y: 0,\n  nodeWidthRatio: 0.05, // width of the node, (0, 1)\n  weight: false,\n  nodePaddingRatio: 0.1, // margin ratio, [0, 1)\n  id: (node) => node.id,\n  source: (edge) => edge.source,\n  target: (edge) => edge.target,\n  sourceWeight: (edge) => edge.value || 1,\n  targetWeight: (edge) => edge.value || 1,\n  sortBy: null, // optional, id | weight | frequency | {function}\n};\n\nexport type ChordLayoutOptions = {\n  weight?: boolean;\n  y?: number;\n  nodeWidthRatio?: number; // (0, 1)\n  nodePaddingRatio?: number; // [0, 1)\n  id?(node: any): any;\n  source?(edge: any): any;\n  target?(edge: any): any;\n  sourceWeight?(edge: any): number;\n  targetWeight?(edge: any): number;\n  sortBy?: 'id' | 'weight' | 'frequency' | null | ((a: any, b: any) => number);\n};\n\ntype OutputNode = {\n  readonly id: number;\n  readonly name: string;\n  // readonly depth: number;\n  readonly value: number;\n\n  //  polygon\n  x: number[];\n  y: number[];\n};\n\ntype OutputLink = {\n  readonly source: OutputNode;\n  readonly target: OutputNode;\n  readonly value: number;\n\n  //  edge\n  x?: number[];\n  y?: number[];\n};\n\ntype ChordLayoutOutputData = {\n  readonly nodes: OutputNode[];\n  readonly links: OutputLink[];\n};\n\n/**\n * valueedges\n * @param nodeById\n * @param edges\n * @param options\n */\nfunction processGraph(nodeById, edges, options) {\n  forIn(nodeById, (node, id) => {\n    // in edges, out edges\n    node.inEdges = edges.filter((edge) => `${options.target(edge)}` === `${id}`);\n    node.outEdges = edges.filter((edge) => `${options.source(edge)}` === `${id}`);\n    // frequency\n    node.edges = node.outEdges.concat(node.inEdges);\n    node.frequency = node.edges.length;\n    // weight\n    node.value = 0;\n    node.inEdges.forEach((edge) => {\n      node.value += options.targetWeight(edge);\n    });\n    node.outEdges.forEach((edge) => {\n      node.value += options.sourceWeight(edge);\n    });\n  });\n}\n\n/**\n * \n * @param nodes\n * @param options\n */\nfunction sortNodes(nodes, options) {\n  const sortMethods = {\n    weight: (a, b) => b.value - a.value,\n    frequency: (a, b) => b.frequency - a.frequency,\n    id: (a, b) => `${options.id(a)}`.localeCompare(`${options.id(b)}`),\n  };\n  let method = sortMethods[options.sortBy];\n  if (!method && isFunction(options.sortBy)) {\n    method = options.sortBy;\n  }\n  if (method) {\n    nodes.sort(method);\n  }\n}\n\nfunction layoutNodes(nodes, options): OutputNode[] {\n  const len = nodes.length;\n  if (!len) {\n    throw new TypeError(\"Invalid nodes: it's empty!\");\n  }\n  if (options.weight) {\n    const nodePaddingRatio = options.nodePaddingRatio;\n    if (nodePaddingRatio < 0 || nodePaddingRatio >= 1) {\n      throw new TypeError('Invalid nodePaddingRatio: it must be in range [0, 1)!');\n    }\n    const margin = nodePaddingRatio / (2 * len);\n    const nodeWidthRatio = options.nodeWidthRatio;\n    if (nodeWidthRatio <= 0 || nodeWidthRatio >= 1) {\n      throw new TypeError('Invalid nodeWidthRatio: it must be in range (0, 1)!');\n    }\n    let totalValue = 0;\n    nodes.forEach((node) => {\n      totalValue += node.value;\n    });\n    nodes.forEach((node) => {\n      node.weight = node.value / totalValue;\n      node.width = node.weight * (1 - nodePaddingRatio);\n      node.height = nodeWidthRatio;\n    });\n    nodes.forEach((node, index) => {\n      // x\n      let deltaX = 0;\n      for (let i = index - 1; i >= 0; i--) {\n        deltaX += nodes[i].width + 2 * margin;\n      }\n      const minX = (node.minX = margin + deltaX);\n      const maxX = (node.maxX = node.minX + node.width);\n      const minY = (node.minY = options.y - nodeWidthRatio / 2);\n      const maxY = (node.maxY = minY + nodeWidthRatio);\n      node.x = [minX, maxX, maxX, minX];\n      node.y = [minY, minY, maxY, maxY];\n      /* points\n       * 3---2\n       * |   |\n       * 0---1\n       */\n      // node.x = minX + 0.5 * node.width;\n      // node.y = options.y;\n    });\n  } else {\n    const deltaX = 1 / len;\n    nodes.forEach((node, index) => {\n      node.x = (index + 0.5) * deltaX;\n      node.y = options.y;\n    });\n  }\n  return nodes;\n}\n\nfunction locatingEdges(nodeById, edges, options): OutputLink[] {\n  if (options.weight) {\n    const valueById = {};\n    forIn(nodeById, (node, id) => {\n      valueById[id] = node.value;\n    });\n    edges.forEach((edge) => {\n      const sId = options.source(edge);\n      const tId = options.target(edge);\n      const sNode = nodeById[sId];\n      const tNode = nodeById[tId];\n      if (sNode && tNode) {\n        const sValue = valueById[sId];\n        const currentSValue = options.sourceWeight(edge);\n        const sStart = sNode.minX + ((sNode.value - sValue) / sNode.value) * sNode.width;\n        const sEnd = sStart + (currentSValue / sNode.value) * sNode.width;\n        valueById[sId] -= currentSValue;\n\n        const tValue = valueById[tId];\n        const currentTValue = options.targetWeight(edge);\n        const tStart = tNode.minX + ((tNode.value - tValue) / tNode.value) * tNode.width;\n        const tEnd = tStart + (currentTValue / tNode.value) * tNode.width;\n        valueById[tId] -= currentTValue;\n\n        const y = options.y;\n        edge.x = [sStart, sEnd, tStart, tEnd];\n        edge.y = [y, y, y, y];\n        // edgesourcetargetid sourceNodetargetNode\n        edge.source = sNode;\n        edge.target = tNode;\n      }\n    });\n  } else {\n    edges.forEach((edge) => {\n      const sNode = nodeById[options.source(edge)];\n      const tNode = nodeById[options.target(edge)];\n      if (sNode && tNode) {\n        edge.x = [sNode.x, tNode.x];\n        edge.y = [sNode.y, tNode.y];\n        // edgesourcetargetid sourceNodetargetNode\n        edge.source = sNode;\n        edge.target = tNode;\n      }\n    });\n  }\n  return edges;\n}\n\nexport function getDefaultOptions(options: ChordLayoutOptions): ChordLayoutOptions {\n  return assign({}, DEFAULT_OPTIONS, options);\n}\n\nexport function chordLayout(\n  chordLayoutOptions: ChordLayoutOptions,\n  chordLayoutInputData: NodeLinkData\n): ChordLayoutOutputData {\n  const options = getDefaultOptions(chordLayoutOptions);\n  const nodeById = {};\n  const nodes = chordLayoutInputData.nodes;\n  const links = chordLayoutInputData.links;\n  nodes.forEach((node) => {\n    const id = options.id(node);\n    nodeById[id] = node;\n  });\n  processGraph(nodeById, links, options);\n  sortNodes(nodes, options);\n  const outputNodes = layoutNodes(nodes, options);\n  const outputLinks = locatingEdges(nodeById, links, options);\n  return {\n    nodes: outputNodes,\n    links: outputLinks,\n  };\n}\n","import { get } from '@antv/util';\nimport { Datum } from '../../types';\n\nexport const X_FIELD = 'x';\nexport const Y_FIELD = 'y';\nexport const NODE_COLOR_FIELD = 'name';\nexport const EDGE_COLOR_FIELD = 'source';\n\nexport const DEFAULT_OPTIONS = {\n  nodeStyle: {\n    opacity: 1,\n    fillOpacity: 1,\n    lineWidth: 1,\n  },\n  edgeStyle: {\n    opacity: 0.5,\n    lineWidth: 2,\n  },\n  label: {\n    fields: ['x', 'name'],\n    callback: (x: number[], name: string) => {\n      const centerX = (x[0] + x[1]) / 2;\n      const offsetX = centerX > 0.5 ? -4 : 4;\n      return {\n        offsetX,\n        content: name,\n      };\n    },\n    labelEmit: true,\n    style: {\n      fill: '#8c8c8c',\n    },\n  },\n  tooltip: {\n    showTitle: false,\n    showMarkers: false,\n    fields: ['source', 'target', 'value', 'isNode'],\n    // node  tooltip ()edge  tooltip\n    showContent: (items) => {\n      return !get(items, [0, 'data', 'isNode']);\n    },\n    formatter: (datum: Datum) => {\n      const { source, target, value } = datum;\n      return {\n        name: `${source} -> ${target}`,\n        value,\n      };\n    },\n  },\n  interactions: [\n    {\n      type: 'element-active',\n    },\n  ],\n  weight: true,\n  nodePaddingRatio: 0.1,\n  nodeWidthRatio: 0.05,\n};\n","import { interaction, state, theme } from '../../adaptor/common';\nimport { edge, polygon } from '../../adaptor/geometries';\nimport { Params } from '../../core/adaptor';\nimport { addViewAnimation, flow, getAllGeometriesRecursively, pick, transformDataToNodeLinkData } from '../../utils';\nimport { chordLayout } from '../../utils/transform/chord';\nimport { EDGE_COLOR_FIELD, NODE_COLOR_FIELD, X_FIELD, Y_FIELD } from './constant';\nimport { ChordOptions } from './types';\n\nfunction transformData(params: Params<ChordOptions>): Params<ChordOptions> {\n  // extnodeGeometry edgeGeometry\n\n  const { options } = params;\n  const { data, sourceField, targetField, weightField, nodePaddingRatio, nodeWidthRatio, rawFields = [] } = options;\n\n  // node link\n  const chordLayoutInputData = transformDataToNodeLinkData(data, sourceField, targetField, weightField);\n\n  const { nodes, links } = chordLayout({ weight: true, nodePaddingRatio, nodeWidthRatio }, chordLayoutInputData);\n\n  // 1. node\n  const nodesData = nodes.map((node) => {\n    return {\n      ...pick(node, ['id', 'x', 'y', 'name', ...rawFields]),\n      isNode: true,\n    };\n  });\n\n  // 2.  edge  \n  const edgesData = links.map((link) => {\n    return {\n      source: link.source.name,\n      target: link.target.name,\n      name: link.source.name || link.target.name,\n      ...pick(link, ['x', 'y', 'value', ...rawFields]),\n      isNode: false,\n    };\n  });\n\n  return {\n    ...params,\n    ext: {\n      ...params.ext,\n      // chordDataextgeometry\n      chordData: { nodesData, edgesData },\n    },\n  };\n}\n\n/**\n * scale\n * @param params \n */\nfunction scale(params: Params<ChordOptions>): Params<ChordOptions> {\n  const { chart } = params;\n  chart.scale({\n    x: { sync: true, nice: true },\n    y: { sync: true, nice: true, max: 1 },\n    [NODE_COLOR_FIELD]: { sync: 'color' },\n    [EDGE_COLOR_FIELD]: { sync: 'color' },\n  });\n  return params;\n}\n\n/**\n * axis\n * @param params \n */\nfunction axis(params: Params<ChordOptions>): Params<ChordOptions> {\n  const { chart } = params;\n  chart.axis(false);\n  return params;\n}\n\n/**\n * legend\n * @param params \n */\nfunction legend(params: Params<ChordOptions>): Params<ChordOptions> {\n  const { chart } = params;\n  chart.legend(false);\n  return params;\n}\n\n/**\n * tooltip\n * @param params \n */\nfunction tooltip(params: Params<ChordOptions>): Params<ChordOptions> {\n  const { chart, options } = params;\n  const { tooltip } = options;\n\n  chart.tooltip(tooltip);\n  return params;\n}\n\n/**\n * coordinate\n * @param params \n */\nfunction coordinate(params: Params<ChordOptions>): Params<ChordOptions> {\n  const { chart } = params;\n  chart.coordinate('polar').reflect('y');\n  return params;\n}\n\n/**\n * nodeGeometry\n * @param params \n */\nfunction nodeGeometry(params: Params<ChordOptions>): Params<ChordOptions> {\n  // node view\n  const { chart, options } = params;\n  const { nodesData } = params.ext.chordData;\n  const { nodeStyle, label, tooltip } = options;\n\n  const nodeView = chart.createView();\n  nodeView.data(nodesData);\n\n  // \n  polygon({\n    chart: nodeView,\n    options: {\n      xField: X_FIELD,\n      yField: Y_FIELD,\n      seriesField: NODE_COLOR_FIELD,\n      polygon: {\n        style: nodeStyle,\n      },\n      label,\n      tooltip,\n    },\n  });\n  return params;\n}\n\n/**\n * edgeGeometry\n * @param params \n */\nfunction edgeGeometry(params: Params<ChordOptions>): Params<ChordOptions> {\n  const { chart, options } = params;\n  const { edgesData } = params.ext.chordData;\n  const { edgeStyle, tooltip } = options;\n\n  const edgeView = chart.createView();\n  edgeView.data(edgesData);\n\n  // edge\n  const edgeOptions = {\n    xField: X_FIELD,\n    yField: Y_FIELD,\n    seriesField: EDGE_COLOR_FIELD,\n    edge: {\n      style: edgeStyle,\n      shape: 'arc',\n    },\n    tooltip,\n  };\n  edge({\n    chart: edgeView,\n    options: edgeOptions,\n  });\n  return params;\n}\n\nfunction animation(params: Params<ChordOptions>): Params<ChordOptions> {\n  const { chart, options } = params;\n  const { animation } = options;\n\n  addViewAnimation(chart, animation, getAllGeometriesRecursively(chart));\n\n  return params;\n}\n\n/**\n * \n * @param chart\n * @param options\n */\nexport function adaptor(params: Params<ChordOptions>) {\n  // flow  G2 API\n  return flow(\n    theme,\n    transformData,\n    coordinate,\n    scale,\n    axis,\n    legend,\n    tooltip,\n    edgeGeometry,\n    nodeGeometry,\n    interaction,\n    state,\n    animation\n  )(params);\n}\n","import { Adaptor } from '../../core/adaptor';\nimport { Plot } from '../../core/plot';\nimport { adaptor } from './adaptor';\nimport { DEFAULT_OPTIONS } from './constant';\nimport { ChordOptions } from './types';\n\nexport type { ChordOptions };\n\n/**\n *   Chord\n */\nexport class Chord extends Plot<ChordOptions> {\n  /**\n   *   \n   * \n   */\n  static getDefaultOptions(): Partial<ChordOptions> {\n    return DEFAULT_OPTIONS;\n  }\n  /**  */\n  public type: string = 'chord';\n\n  protected getDefaultOptions() {\n    return Chord.getDefaultOptions();\n  }\n\n  /**\n   * \n   */\n  protected getSchemaAdaptor(): Adaptor<ChordOptions> {\n    return adaptor;\n  }\n}\n","import { CirclePackingOptions } from './types';\n\n/**  */\nexport const RAW_FIELDS = ['x', 'y', 'r', 'name', 'value', 'path', 'depth'];\n\nexport const DEFAULT_OPTIONS: Partial<CirclePackingOptions> = {\n  //  name \n  colorField: 'name',\n  autoFit: true,\n  pointStyle: {\n    lineWidth: 0,\n    stroke: '#fff',\n  },\n  // \n  legend: false,\n  hierarchyConfig: {\n    size: [1, 1] as [number, number], // width, height\n    padding: 0,\n  },\n  label: {\n    fields: ['name'],\n    layout: {\n      type: 'limit-in-shape',\n    },\n  },\n  tooltip: {\n    showMarkers: false,\n    showTitle: false,\n  },\n  // \n  drilldown: { enabled: false },\n};\n","import { Action, IGroup, Util } from '@antv/g2';\nimport { get, isNil, last, size } from '@antv/util';\nimport { Data } from '../../types';\nimport { DrillDownCfg } from '../../types/drill-down';\nimport { deepAssign } from '../../utils/deep-assign';\n\n// '/'\nconst PADDING = 4;\n// \nconst PADDING_LEFT = 0;\n// \nexport const PADDING_TOP = 5;\n\n/** Group name of breadCrumb:  */\nexport const BREAD_CRUMB_NAME = 'drilldown-bread-crumb';\n\n// \nexport const DEFAULT_BREAD_CRUMB_CONFIG: DrillDownCfg['breadCrumb'] = {\n  /**  */\n  position: 'top-left',\n  dividerText: '/',\n  textStyle: {\n    fontSize: 12,\n    fill: 'rgba(0, 0, 0, 0.65)',\n    cursor: 'pointer',\n  },\n  activeTextStyle: {\n    fill: '#87B5FF',\n  },\n};\n\n/**\n * hierarchy \n */\nexport const HIERARCHY_DATA_TRANSFORM_PARAMS = 'hierarchy-data-transform-params';\n\n/**\n * Hierarchy plot \n */\nexport type HierarchyNode<N = any /**  */> = {\n  /** todo  key  origin */\n  data: { name: string; value?: any; children: { name: string; value?: any }[] };\n  /** ,  transformData  */\n  [HIERARCHY_DATA_TRANSFORM_PARAMS]: object;\n  /** .  unique */\n  depth: number;\n  /** depth + height =  */\n  height: number;\n  parent: N;\n  children: N[];\n};\n\ntype HistoryCache = {\n  name: string;\n  id: string;\n  children: Data;\n}[];\n\n/**\n * @description  action\n * @author liuzhenying\n *\n * hierarchy plot\n */\nexport class DrillDownAction extends Action {\n  /** Action name */\n  public name = 'drill-down';\n\n  // \n  protected historyCache: HistoryCache = [];\n  //  group\n  private breadCrumbGroup: IGroup = null;\n  // \n  private breadCrumbCfg: DrillDownCfg['breadCrumb'] = DEFAULT_BREAD_CRUMB_CONFIG;\n\n  /**\n   * , \n   */\n  public click() {\n    const data = get(this.context, ['event', 'data', 'data']);\n    if (!data) return false;\n\n    this.drill(data);\n    this.drawBreadCrumb();\n  }\n\n  /**\n   *  chart  afterchangesize \n   */\n  public resetPosition() {\n    //  changedata  resetPosition  this.breadCrumbGroup \n    if (!this.breadCrumbGroup) return;\n    const coordinate = this.context.view.getCoordinate();\n    const breadCrumbGroup = this.breadCrumbGroup;\n    const bbox = breadCrumbGroup.getBBox();\n\n    const { position } = this.getButtonCfg();\n\n    // @todo  margin  padding \n    //  polar  coordinate\n    let point = { x: coordinate.start.x, y: coordinate.end.y - (bbox.height + PADDING_TOP * 2) };\n    if (coordinate.isPolar) {\n      // \n      point = { x: 0, y: 0 };\n    }\n    if (position === 'bottom-left') {\n      // \n      point = { x: coordinate.start.x, y: coordinate.start.y };\n    }\n    /** PADDING_LEFT, PADDING_TOP  */\n    const matrix = Util.transform(null, [['t', point.x + PADDING_LEFT, point.y + bbox.height + PADDING_TOP]]);\n    breadCrumbGroup.setMatrix(matrix);\n  }\n\n  /**\n   * \n   */\n  public back(): void {\n    if (size(this.historyCache)) {\n      this.backTo(this.historyCache.slice(0, -1));\n    }\n  }\n\n  /**\n   * \n   */\n  public reset(): void {\n    if (this.historyCache[0]) {\n      this.backTo(this.historyCache.slice(0, 1));\n    }\n    // \n    this.historyCache = [];\n    this.hideCrumbGroup();\n  }\n\n  /**\n   *  view \n   * @param nodeInfo \n   */\n  protected drill(nodeInfo: HierarchyNode) {\n    const { view } = this.context;\n    const transformData = get(view, ['interactions', 'drill-down', 'cfg', 'transformData'], (v) => v);\n\n    //  update \n    const drillData = transformData({ data: nodeInfo.data, ...nodeInfo[HIERARCHY_DATA_TRANSFORM_PARAMS] });\n    view.changeData(drillData);\n\n    // \n    const historyCache: HistoryCache = [];\n\n    let node = nodeInfo;\n    while (node) {\n      const nodeData = node.data;\n      historyCache.unshift({\n        id: `${nodeData.name}_${node.height}_${node.depth}`,\n        name: nodeData.name,\n        // children \n        children: transformData({ data: nodeData, ...nodeInfo[HIERARCHY_DATA_TRANSFORM_PARAMS] }),\n      });\n      node = node.parent;\n    }\n\n    this.historyCache = (this.historyCache || []).slice(0, -1).concat(historyCache);\n  }\n\n  /**\n   * \n   * @param historyCache \n   */\n  protected backTo(historyCache: HistoryCache) {\n    if (!historyCache || historyCache.length <= 0) {\n      return;\n    }\n\n    const { view } = this.context;\n    const data = last(historyCache).children; // \n    view.changeData(data);\n\n    if (historyCache.length > 1) {\n      this.historyCache = historyCache;\n      this.drawBreadCrumb();\n    } else {\n      // \n      this.historyCache = [];\n      this.hideCrumbGroup();\n    }\n  }\n\n  /**\n   *  mix \n   */\n  private getButtonCfg() {\n    const { view } = this.context;\n    const drillDownConfig: DrillDownCfg = get(view, ['interactions', 'drill-down', 'cfg', 'drillDownConfig']);\n\n    return deepAssign(this.breadCrumbCfg, drillDownConfig?.breadCrumb, this.cfg);\n  }\n\n  /**\n   * \n   */\n  private drawBreadCrumb() {\n    this.drawBreadCrumbGroup();\n    this.resetPosition();\n    this.breadCrumbGroup.show();\n  }\n\n  /**\n   *  Button  \n   */\n  private drawBreadCrumbGroup() {\n    const config = this.getButtonCfg();\n    const cache = this.historyCache;\n\n    //  group\n    if (!this.breadCrumbGroup) {\n      this.breadCrumbGroup = this.context.view.foregroundGroup.addGroup({\n        name: BREAD_CRUMB_NAME,\n      });\n    } else {\n      this.breadCrumbGroup.clear();\n    }\n\n    // \n    let left = 0;\n    cache.forEach((record, index) => {\n      // \n      const textShape = this.breadCrumbGroup.addShape({\n        type: 'text',\n        id: record.id,\n        name: `${BREAD_CRUMB_NAME}_${record.name}_text`,\n        attrs: {\n          text: index === 0 && !isNil(config.rootText) ? config.rootText : record.name,\n          ...config.textStyle,\n          x: left,\n          y: 0,\n        },\n      });\n\n      const textShapeBox = textShape.getBBox();\n      left += textShapeBox.width + PADDING;\n\n      // \n      textShape.on('click', (event) => {\n        const targetId = event.target.get('id');\n        if (targetId !== last(cache)?.id) {\n          const newHistoryCache = cache.slice(0, cache.findIndex((d) => d.id === targetId) + 1);\n          this.backTo(newHistoryCache);\n        }\n      });\n      // active \n      textShape.on('mouseenter', (event) => {\n        const targetId = event.target.get('id');\n        if (targetId !== last(cache)?.id) {\n          textShape.attr(config.activeTextStyle);\n        } else {\n          textShape.attr({ cursor: 'default' });\n        }\n      });\n      textShape.on('mouseleave', () => {\n        textShape.attr(config.textStyle);\n      });\n\n      if (index < cache.length - 1) {\n        // \n        const dividerShape = this.breadCrumbGroup.addShape({\n          type: 'text',\n          name: `${config.name}_${record.name}_divider`,\n          attrs: {\n            text: config.dividerText,\n            ...config.textStyle,\n            x: left,\n            y: 0,\n          },\n        });\n\n        const dividerBox = dividerShape.getBBox();\n        left += dividerBox.width + PADDING;\n      }\n    });\n  }\n\n  /**\n   * \n   */\n  private hideCrumbGroup() {\n    if (this.breadCrumbGroup) {\n      this.breadCrumbGroup.hide();\n    }\n  }\n\n  /**\n   * @override\n   * destroy: \n   */\n  public destroy() {\n    if (this.breadCrumbGroup) {\n      this.breadCrumbGroup.remove();\n    }\n    super.destroy();\n  }\n}\n","import {shuffle} from \"../array.js\";\n\nexport default function(circles) {\n  var i = 0, n = (circles = shuffle(Array.from(circles))).length, B = [], p, e;\n\n  while (i < n) {\n    p = circles[i];\n    if (e && enclosesWeak(e, p)) ++i;\n    else e = encloseBasis(B = extendBasis(B, p)), i = 0;\n  }\n\n  return e;\n}\n\nfunction extendBasis(B, p) {\n  var i, j;\n\n  if (enclosesWeakAll(p, B)) return [p];\n\n  // If we get here then B must have at least one element.\n  for (i = 0; i < B.length; ++i) {\n    if (enclosesNot(p, B[i])\n        && enclosesWeakAll(encloseBasis2(B[i], p), B)) {\n      return [B[i], p];\n    }\n  }\n\n  // If we get here then B must have at least two elements.\n  for (i = 0; i < B.length - 1; ++i) {\n    for (j = i + 1; j < B.length; ++j) {\n      if (enclosesNot(encloseBasis2(B[i], B[j]), p)\n          && enclosesNot(encloseBasis2(B[i], p), B[j])\n          && enclosesNot(encloseBasis2(B[j], p), B[i])\n          && enclosesWeakAll(encloseBasis3(B[i], B[j], p), B)) {\n        return [B[i], B[j], p];\n      }\n    }\n  }\n\n  // If we get here then something is very wrong.\n  throw new Error;\n}\n\nfunction enclosesNot(a, b) {\n  var dr = a.r - b.r, dx = b.x - a.x, dy = b.y - a.y;\n  return dr < 0 || dr * dr < dx * dx + dy * dy;\n}\n\nfunction enclosesWeak(a, b) {\n  var dr = a.r - b.r + Math.max(a.r, b.r, 1) * 1e-9, dx = b.x - a.x, dy = b.y - a.y;\n  return dr > 0 && dr * dr > dx * dx + dy * dy;\n}\n\nfunction enclosesWeakAll(a, B) {\n  for (var i = 0; i < B.length; ++i) {\n    if (!enclosesWeak(a, B[i])) {\n      return false;\n    }\n  }\n  return true;\n}\n\nfunction encloseBasis(B) {\n  switch (B.length) {\n    case 1: return encloseBasis1(B[0]);\n    case 2: return encloseBasis2(B[0], B[1]);\n    case 3: return encloseBasis3(B[0], B[1], B[2]);\n  }\n}\n\nfunction encloseBasis1(a) {\n  return {\n    x: a.x,\n    y: a.y,\n    r: a.r\n  };\n}\n\nfunction encloseBasis2(a, b) {\n  var x1 = a.x, y1 = a.y, r1 = a.r,\n      x2 = b.x, y2 = b.y, r2 = b.r,\n      x21 = x2 - x1, y21 = y2 - y1, r21 = r2 - r1,\n      l = Math.sqrt(x21 * x21 + y21 * y21);\n  return {\n    x: (x1 + x2 + x21 / l * r21) / 2,\n    y: (y1 + y2 + y21 / l * r21) / 2,\n    r: (l + r1 + r2) / 2\n  };\n}\n\nfunction encloseBasis3(a, b, c) {\n  var x1 = a.x, y1 = a.y, r1 = a.r,\n      x2 = b.x, y2 = b.y, r2 = b.r,\n      x3 = c.x, y3 = c.y, r3 = c.r,\n      a2 = x1 - x2,\n      a3 = x1 - x3,\n      b2 = y1 - y2,\n      b3 = y1 - y3,\n      c2 = r2 - r1,\n      c3 = r3 - r1,\n      d1 = x1 * x1 + y1 * y1 - r1 * r1,\n      d2 = d1 - x2 * x2 - y2 * y2 + r2 * r2,\n      d3 = d1 - x3 * x3 - y3 * y3 + r3 * r3,\n      ab = a3 * b2 - a2 * b3,\n      xa = (b2 * d3 - b3 * d2) / (ab * 2) - x1,\n      xb = (b3 * c2 - b2 * c3) / ab,\n      ya = (a3 * d2 - a2 * d3) / (ab * 2) - y1,\n      yb = (a2 * c3 - a3 * c2) / ab,\n      A = xb * xb + yb * yb - 1,\n      B = 2 * (r1 + xa * xb + ya * yb),\n      C = xa * xa + ya * ya - r1 * r1,\n      r = -(A ? (B + Math.sqrt(B * B - 4 * A * C)) / (2 * A) : C / B);\n  return {\n    x: x1 + xa + xb * r,\n    y: y1 + ya + yb * r,\n    r: r\n  };\n}\n","export default function(x) {\n  return typeof x === \"object\" && \"length\" in x\n    ? x // Array, TypedArray, NodeList, array-like\n    : Array.from(x); // Map, Set, iterable, string, or anything else\n}\n\nexport function shuffle(array) {\n  var m = array.length,\n      t,\n      i;\n\n  while (m) {\n    i = Math.random() * m-- | 0;\n    t = array[m];\n    array[m] = array[i];\n    array[i] = t;\n  }\n\n  return array;\n}\n","import array from \"../array.js\";\nimport enclose from \"./enclose.js\";\n\nfunction place(b, a, c) {\n  var dx = b.x - a.x, x, a2,\n      dy = b.y - a.y, y, b2,\n      d2 = dx * dx + dy * dy;\n  if (d2) {\n    a2 = a.r + c.r, a2 *= a2;\n    b2 = b.r + c.r, b2 *= b2;\n    if (a2 > b2) {\n      x = (d2 + b2 - a2) / (2 * d2);\n      y = Math.sqrt(Math.max(0, b2 / d2 - x * x));\n      c.x = b.x - x * dx - y * dy;\n      c.y = b.y - x * dy + y * dx;\n    } else {\n      x = (d2 + a2 - b2) / (2 * d2);\n      y = Math.sqrt(Math.max(0, a2 / d2 - x * x));\n      c.x = a.x + x * dx - y * dy;\n      c.y = a.y + x * dy + y * dx;\n    }\n  } else {\n    c.x = a.x + c.r;\n    c.y = a.y;\n  }\n}\n\nfunction intersects(a, b) {\n  var dr = a.r + b.r - 1e-6, dx = b.x - a.x, dy = b.y - a.y;\n  return dr > 0 && dr * dr > dx * dx + dy * dy;\n}\n\nfunction score(node) {\n  var a = node._,\n      b = node.next._,\n      ab = a.r + b.r,\n      dx = (a.x * b.r + b.x * a.r) / ab,\n      dy = (a.y * b.r + b.y * a.r) / ab;\n  return dx * dx + dy * dy;\n}\n\nfunction Node(circle) {\n  this._ = circle;\n  this.next = null;\n  this.previous = null;\n}\n\nexport function packEnclose(circles) {\n  if (!(n = (circles = array(circles)).length)) return 0;\n\n  var a, b, c, n, aa, ca, i, j, k, sj, sk;\n\n  // Place the first circle.\n  a = circles[0], a.x = 0, a.y = 0;\n  if (!(n > 1)) return a.r;\n\n  // Place the second circle.\n  b = circles[1], a.x = -b.r, b.x = a.r, b.y = 0;\n  if (!(n > 2)) return a.r + b.r;\n\n  // Place the third circle.\n  place(b, a, c = circles[2]);\n\n  // Initialize the front-chain using the first three circles a, b and c.\n  a = new Node(a), b = new Node(b), c = new Node(c);\n  a.next = c.previous = b;\n  b.next = a.previous = c;\n  c.next = b.previous = a;\n\n  // Attempt to place each remaining circle\n  pack: for (i = 3; i < n; ++i) {\n    place(a._, b._, c = circles[i]), c = new Node(c);\n\n    // Find the closest intersecting circle on the front-chain, if any.\n    // Closeness is determined by linear distance along the front-chain.\n    // Ahead or behind is likewise determined by linear distance.\n    j = b.next, k = a.previous, sj = b._.r, sk = a._.r;\n    do {\n      if (sj <= sk) {\n        if (intersects(j._, c._)) {\n          b = j, a.next = b, b.previous = a, --i;\n          continue pack;\n        }\n        sj += j._.r, j = j.next;\n      } else {\n        if (intersects(k._, c._)) {\n          a = k, a.next = b, b.previous = a, --i;\n          continue pack;\n        }\n        sk += k._.r, k = k.previous;\n      }\n    } while (j !== k.next);\n\n    // Success! Insert the new circle c between a and b.\n    c.previous = a, c.next = b, a.next = b.previous = b = c;\n\n    // Compute the new closest circle pair to the centroid.\n    aa = score(a);\n    while ((c = c.next) !== b) {\n      if ((ca = score(c)) < aa) {\n        a = c, aa = ca;\n      }\n    }\n    b = a.next;\n  }\n\n  // Compute the enclosing circle of the front chain.\n  a = [b._], c = b; while ((c = c.next) !== b) a.push(c._); c = enclose(a);\n\n  // Translate the circles to put the enclosing circle around the origin.\n  for (i = 0; i < n; ++i) a = circles[i], a.x -= c.x, a.y -= c.y;\n\n  return c.r;\n}\n\nexport default function(circles) {\n  packEnclose(circles);\n  return circles;\n}\n","export function optional(f) {\n  return f == null ? null : required(f);\n}\n\nexport function required(f) {\n  if (typeof f !== \"function\") throw new Error;\n  return f;\n}\n","export function constantZero() {\n  return 0;\n}\n\nexport default function(x) {\n  return function() {\n    return x;\n  };\n}\n","import {packEnclose} from \"./siblings.js\";\nimport {optional} from \"../accessors.js\";\nimport constant, {constantZero} from \"../constant.js\";\n\nfunction defaultRadius(d) {\n  return Math.sqrt(d.value);\n}\n\nexport default function() {\n  var radius = null,\n      dx = 1,\n      dy = 1,\n      padding = constantZero;\n\n  function pack(root) {\n    root.x = dx / 2, root.y = dy / 2;\n    if (radius) {\n      root.eachBefore(radiusLeaf(radius))\n          .eachAfter(packChildren(padding, 0.5))\n          .eachBefore(translateChild(1));\n    } else {\n      root.eachBefore(radiusLeaf(defaultRadius))\n          .eachAfter(packChildren(constantZero, 1))\n          .eachAfter(packChildren(padding, root.r / Math.min(dx, dy)))\n          .eachBefore(translateChild(Math.min(dx, dy) / (2 * root.r)));\n    }\n    return root;\n  }\n\n  pack.radius = function(x) {\n    return arguments.length ? (radius = optional(x), pack) : radius;\n  };\n\n  pack.size = function(x) {\n    return arguments.length ? (dx = +x[0], dy = +x[1], pack) : [dx, dy];\n  };\n\n  pack.padding = function(x) {\n    return arguments.length ? (padding = typeof x === \"function\" ? x : constant(+x), pack) : padding;\n  };\n\n  return pack;\n}\n\nfunction radiusLeaf(radius) {\n  return function(node) {\n    if (!node.children) {\n      node.r = Math.max(0, +radius(node) || 0);\n    }\n  };\n}\n\nfunction packChildren(padding, k) {\n  return function(node) {\n    if (children = node.children) {\n      var children,\n          i,\n          n = children.length,\n          r = padding(node) * k || 0,\n          e;\n\n      if (r) for (i = 0; i < n; ++i) children[i].r += r;\n      e = packEnclose(children);\n      if (r) for (i = 0; i < n; ++i) children[i].r -= r;\n      node.r = e + r;\n    }\n  };\n}\n\nfunction translateChild(k) {\n  return function(node) {\n    var parent = node.parent;\n    node.r *= k;\n    if (parent) {\n      node.x = parent.x + k * node.x;\n      node.y = parent.y + k * node.y;\n    }\n  };\n}\n","export default function _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) {\n    return typeof obj;\n  } : function (obj) {\n    return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n  }, _typeof(obj);\n}","import _typeof from \"./typeof.js\";\nimport toPrimitive from \"./toPrimitive.js\";\nexport default function _toPropertyKey(arg) {\n  var key = toPrimitive(arg, \"string\");\n  return _typeof(key) === \"symbol\" ? key : String(key);\n}","import _typeof from \"./typeof.js\";\nexport default function _toPrimitive(input, hint) {\n  if (_typeof(input) !== \"object\" || input === null) return input;\n  var prim = input[Symbol.toPrimitive];\n  if (prim !== undefined) {\n    var res = prim.call(input, hint || \"default\");\n    if (_typeof(res) !== \"object\") return res;\n    throw new TypeError(\"@@toPrimitive must return a primitive value.\");\n  }\n  return (hint === \"string\" ? String : Number)(input);\n}","import toPropertyKey from \"./toPropertyKey.js\";\nexport default function _defineProperty(obj, key, value) {\n  key = toPropertyKey(key);\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n  return obj;\n}","function count(node) {\n  var sum = 0,\n      children = node.children,\n      i = children && children.length;\n  if (!i) sum = 1;\n  else while (--i >= 0) sum += children[i].value;\n  node.value = sum;\n}\n\nexport default function() {\n  return this.eachAfter(count);\n}\n","export default function _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n  for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i];\n  return arr2;\n}","import unsupportedIterableToArray from \"./unsupportedIterableToArray.js\";\nexport default function _createForOfIteratorHelper(o, allowArrayLike) {\n  var it = typeof Symbol !== \"undefined\" && o[Symbol.iterator] || o[\"@@iterator\"];\n  if (!it) {\n    if (Array.isArray(o) || (it = unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") {\n      if (it) o = it;\n      var i = 0;\n      var F = function F() {};\n      return {\n        s: F,\n        n: function n() {\n          if (i >= o.length) return {\n            done: true\n          };\n          return {\n            done: false,\n            value: o[i++]\n          };\n        },\n        e: function e(_e) {\n          throw _e;\n        },\n        f: F\n      };\n    }\n    throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n  }\n  var normalCompletion = true,\n    didErr = false,\n    err;\n  return {\n    s: function s() {\n      it = it.call(o);\n    },\n    n: function n() {\n      var step = it.next();\n      normalCompletion = step.done;\n      return step;\n    },\n    e: function e(_e2) {\n      didErr = true;\n      err = _e2;\n    },\n    f: function f() {\n      try {\n        if (!normalCompletion && it[\"return\"] != null) it[\"return\"]();\n      } finally {\n        if (didErr) throw err;\n      }\n    }\n  };\n}","import arrayLikeToArray from \"./arrayLikeToArray.js\";\nexport default function _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return arrayLikeToArray(o, minLen);\n}","import _typeof from \"./typeof.js\";\nexport default function _regeneratorRuntime() {\n  \"use strict\"; /*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */\n  _regeneratorRuntime = function _regeneratorRuntime() {\n    return exports;\n  };\n  var exports = {},\n    Op = Object.prototype,\n    hasOwn = Op.hasOwnProperty,\n    defineProperty = Object.defineProperty || function (obj, key, desc) {\n      obj[key] = desc.value;\n    },\n    $Symbol = \"function\" == typeof Symbol ? Symbol : {},\n    iteratorSymbol = $Symbol.iterator || \"@@iterator\",\n    asyncIteratorSymbol = $Symbol.asyncIterator || \"@@asyncIterator\",\n    toStringTagSymbol = $Symbol.toStringTag || \"@@toStringTag\";\n  function define(obj, key, value) {\n    return Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: !0,\n      configurable: !0,\n      writable: !0\n    }), obj[key];\n  }\n  try {\n    define({}, \"\");\n  } catch (err) {\n    define = function define(obj, key, value) {\n      return obj[key] = value;\n    };\n  }\n  function wrap(innerFn, outerFn, self, tryLocsList) {\n    var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator,\n      generator = Object.create(protoGenerator.prototype),\n      context = new Context(tryLocsList || []);\n    return defineProperty(generator, \"_invoke\", {\n      value: makeInvokeMethod(innerFn, self, context)\n    }), generator;\n  }\n  function tryCatch(fn, obj, arg) {\n    try {\n      return {\n        type: \"normal\",\n        arg: fn.call(obj, arg)\n      };\n    } catch (err) {\n      return {\n        type: \"throw\",\n        arg: err\n      };\n    }\n  }\n  exports.wrap = wrap;\n  var ContinueSentinel = {};\n  function Generator() {}\n  function GeneratorFunction() {}\n  function GeneratorFunctionPrototype() {}\n  var IteratorPrototype = {};\n  define(IteratorPrototype, iteratorSymbol, function () {\n    return this;\n  });\n  var getProto = Object.getPrototypeOf,\n    NativeIteratorPrototype = getProto && getProto(getProto(values([])));\n  NativeIteratorPrototype && NativeIteratorPrototype !== Op && hasOwn.call(NativeIteratorPrototype, iteratorSymbol) && (IteratorPrototype = NativeIteratorPrototype);\n  var Gp = GeneratorFunctionPrototype.prototype = Generator.prototype = Object.create(IteratorPrototype);\n  function defineIteratorMethods(prototype) {\n    [\"next\", \"throw\", \"return\"].forEach(function (method) {\n      define(prototype, method, function (arg) {\n        return this._invoke(method, arg);\n      });\n    });\n  }\n  function AsyncIterator(generator, PromiseImpl) {\n    function invoke(method, arg, resolve, reject) {\n      var record = tryCatch(generator[method], generator, arg);\n      if (\"throw\" !== record.type) {\n        var result = record.arg,\n          value = result.value;\n        return value && \"object\" == _typeof(value) && hasOwn.call(value, \"__await\") ? PromiseImpl.resolve(value.__await).then(function (value) {\n          invoke(\"next\", value, resolve, reject);\n        }, function (err) {\n          invoke(\"throw\", err, resolve, reject);\n        }) : PromiseImpl.resolve(value).then(function (unwrapped) {\n          result.value = unwrapped, resolve(result);\n        }, function (error) {\n          return invoke(\"throw\", error, resolve, reject);\n        });\n      }\n      reject(record.arg);\n    }\n    var previousPromise;\n    defineProperty(this, \"_invoke\", {\n      value: function value(method, arg) {\n        function callInvokeWithMethodAndArg() {\n          return new PromiseImpl(function (resolve, reject) {\n            invoke(method, arg, resolve, reject);\n          });\n        }\n        return previousPromise = previousPromise ? previousPromise.then(callInvokeWithMethodAndArg, callInvokeWithMethodAndArg) : callInvokeWithMethodAndArg();\n      }\n    });\n  }\n  function makeInvokeMethod(innerFn, self, context) {\n    var state = \"suspendedStart\";\n    return function (method, arg) {\n      if (\"executing\" === state) throw new Error(\"Generator is already running\");\n      if (\"completed\" === state) {\n        if (\"throw\" === method) throw arg;\n        return doneResult();\n      }\n      for (context.method = method, context.arg = arg;;) {\n        var delegate = context.delegate;\n        if (delegate) {\n          var delegateResult = maybeInvokeDelegate(delegate, context);\n          if (delegateResult) {\n            if (delegateResult === ContinueSentinel) continue;\n            return delegateResult;\n          }\n        }\n        if (\"next\" === context.method) context.sent = context._sent = context.arg;else if (\"throw\" === context.method) {\n          if (\"suspendedStart\" === state) throw state = \"completed\", context.arg;\n          context.dispatchException(context.arg);\n        } else \"return\" === context.method && context.abrupt(\"return\", context.arg);\n        state = \"executing\";\n        var record = tryCatch(innerFn, self, context);\n        if (\"normal\" === record.type) {\n          if (state = context.done ? \"completed\" : \"suspendedYield\", record.arg === ContinueSentinel) continue;\n          return {\n            value: record.arg,\n            done: context.done\n          };\n        }\n        \"throw\" === record.type && (state = \"completed\", context.method = \"throw\", context.arg = record.arg);\n      }\n    };\n  }\n  function maybeInvokeDelegate(delegate, context) {\n    var methodName = context.method,\n      method = delegate.iterator[methodName];\n    if (undefined === method) return context.delegate = null, \"throw\" === methodName && delegate.iterator[\"return\"] && (context.method = \"return\", context.arg = undefined, maybeInvokeDelegate(delegate, context), \"throw\" === context.method) || \"return\" !== methodName && (context.method = \"throw\", context.arg = new TypeError(\"The iterator does not provide a '\" + methodName + \"' method\")), ContinueSentinel;\n    var record = tryCatch(method, delegate.iterator, context.arg);\n    if (\"throw\" === record.type) return context.method = \"throw\", context.arg = record.arg, context.delegate = null, ContinueSentinel;\n    var info = record.arg;\n    return info ? info.done ? (context[delegate.resultName] = info.value, context.next = delegate.nextLoc, \"return\" !== context.method && (context.method = \"next\", context.arg = undefined), context.delegate = null, ContinueSentinel) : info : (context.method = \"throw\", context.arg = new TypeError(\"iterator result is not an object\"), context.delegate = null, ContinueSentinel);\n  }\n  function pushTryEntry(locs) {\n    var entry = {\n      tryLoc: locs[0]\n    };\n    1 in locs && (entry.catchLoc = locs[1]), 2 in locs && (entry.finallyLoc = locs[2], entry.afterLoc = locs[3]), this.tryEntries.push(entry);\n  }\n  function resetTryEntry(entry) {\n    var record = entry.completion || {};\n    record.type = \"normal\", delete record.arg, entry.completion = record;\n  }\n  function Context(tryLocsList) {\n    this.tryEntries = [{\n      tryLoc: \"root\"\n    }], tryLocsList.forEach(pushTryEntry, this), this.reset(!0);\n  }\n  function values(iterable) {\n    if (iterable) {\n      var iteratorMethod = iterable[iteratorSymbol];\n      if (iteratorMethod) return iteratorMethod.call(iterable);\n      if (\"function\" == typeof iterable.next) return iterable;\n      if (!isNaN(iterable.length)) {\n        var i = -1,\n          next = function next() {\n            for (; ++i < iterable.length;) if (hasOwn.call(iterable, i)) return next.value = iterable[i], next.done = !1, next;\n            return next.value = undefined, next.done = !0, next;\n          };\n        return next.next = next;\n      }\n    }\n    return {\n      next: doneResult\n    };\n  }\n  function doneResult() {\n    return {\n      value: undefined,\n      done: !0\n    };\n  }\n  return GeneratorFunction.prototype = GeneratorFunctionPrototype, defineProperty(Gp, \"constructor\", {\n    value: GeneratorFunctionPrototype,\n    configurable: !0\n  }), defineProperty(GeneratorFunctionPrototype, \"constructor\", {\n    value: GeneratorFunction,\n    configurable: !0\n  }), GeneratorFunction.displayName = define(GeneratorFunctionPrototype, toStringTagSymbol, \"GeneratorFunction\"), exports.isGeneratorFunction = function (genFun) {\n    var ctor = \"function\" == typeof genFun && genFun.constructor;\n    return !!ctor && (ctor === GeneratorFunction || \"GeneratorFunction\" === (ctor.displayName || ctor.name));\n  }, exports.mark = function (genFun) {\n    return Object.setPrototypeOf ? Object.setPrototypeOf(genFun, GeneratorFunctionPrototype) : (genFun.__proto__ = GeneratorFunctionPrototype, define(genFun, toStringTagSymbol, \"GeneratorFunction\")), genFun.prototype = Object.create(Gp), genFun;\n  }, exports.awrap = function (arg) {\n    return {\n      __await: arg\n    };\n  }, defineIteratorMethods(AsyncIterator.prototype), define(AsyncIterator.prototype, asyncIteratorSymbol, function () {\n    return this;\n  }), exports.AsyncIterator = AsyncIterator, exports.async = function (innerFn, outerFn, self, tryLocsList, PromiseImpl) {\n    void 0 === PromiseImpl && (PromiseImpl = Promise);\n    var iter = new AsyncIterator(wrap(innerFn, outerFn, self, tryLocsList), PromiseImpl);\n    return exports.isGeneratorFunction(outerFn) ? iter : iter.next().then(function (result) {\n      return result.done ? result.value : iter.next();\n    });\n  }, defineIteratorMethods(Gp), define(Gp, toStringTagSymbol, \"Generator\"), define(Gp, iteratorSymbol, function () {\n    return this;\n  }), define(Gp, \"toString\", function () {\n    return \"[object Generator]\";\n  }), exports.keys = function (val) {\n    var object = Object(val),\n      keys = [];\n    for (var key in object) keys.push(key);\n    return keys.reverse(), function next() {\n      for (; keys.length;) {\n        var key = keys.pop();\n        if (key in object) return next.value = key, next.done = !1, next;\n      }\n      return next.done = !0, next;\n    };\n  }, exports.values = values, Context.prototype = {\n    constructor: Context,\n    reset: function reset(skipTempReset) {\n      if (this.prev = 0, this.next = 0, this.sent = this._sent = undefined, this.done = !1, this.delegate = null, this.method = \"next\", this.arg = undefined, this.tryEntries.forEach(resetTryEntry), !skipTempReset) for (var name in this) \"t\" === name.charAt(0) && hasOwn.call(this, name) && !isNaN(+name.slice(1)) && (this[name] = undefined);\n    },\n    stop: function stop() {\n      this.done = !0;\n      var rootRecord = this.tryEntries[0].completion;\n      if (\"throw\" === rootRecord.type) throw rootRecord.arg;\n      return this.rval;\n    },\n    dispatchException: function dispatchException(exception) {\n      if (this.done) throw exception;\n      var context = this;\n      function handle(loc, caught) {\n        return record.type = \"throw\", record.arg = exception, context.next = loc, caught && (context.method = \"next\", context.arg = undefined), !!caught;\n      }\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i],\n          record = entry.completion;\n        if (\"root\" === entry.tryLoc) return handle(\"end\");\n        if (entry.tryLoc <= this.prev) {\n          var hasCatch = hasOwn.call(entry, \"catchLoc\"),\n            hasFinally = hasOwn.call(entry, \"finallyLoc\");\n          if (hasCatch && hasFinally) {\n            if (this.prev < entry.catchLoc) return handle(entry.catchLoc, !0);\n            if (this.prev < entry.finallyLoc) return handle(entry.finallyLoc);\n          } else if (hasCatch) {\n            if (this.prev < entry.catchLoc) return handle(entry.catchLoc, !0);\n          } else {\n            if (!hasFinally) throw new Error(\"try statement without catch or finally\");\n            if (this.prev < entry.finallyLoc) return handle(entry.finallyLoc);\n          }\n        }\n      }\n    },\n    abrupt: function abrupt(type, arg) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc <= this.prev && hasOwn.call(entry, \"finallyLoc\") && this.prev < entry.finallyLoc) {\n          var finallyEntry = entry;\n          break;\n        }\n      }\n      finallyEntry && (\"break\" === type || \"continue\" === type) && finallyEntry.tryLoc <= arg && arg <= finallyEntry.finallyLoc && (finallyEntry = null);\n      var record = finallyEntry ? finallyEntry.completion : {};\n      return record.type = type, record.arg = arg, finallyEntry ? (this.method = \"next\", this.next = finallyEntry.finallyLoc, ContinueSentinel) : this.complete(record);\n    },\n    complete: function complete(record, afterLoc) {\n      if (\"throw\" === record.type) throw record.arg;\n      return \"break\" === record.type || \"continue\" === record.type ? this.next = record.arg : \"return\" === record.type ? (this.rval = this.arg = record.arg, this.method = \"return\", this.next = \"end\") : \"normal\" === record.type && afterLoc && (this.next = afterLoc), ContinueSentinel;\n    },\n    finish: function finish(finallyLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.finallyLoc === finallyLoc) return this.complete(entry.completion, entry.afterLoc), resetTryEntry(entry), ContinueSentinel;\n      }\n    },\n    \"catch\": function _catch(tryLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc === tryLoc) {\n          var record = entry.completion;\n          if (\"throw\" === record.type) {\n            var thrown = record.arg;\n            resetTryEntry(entry);\n          }\n          return thrown;\n        }\n      }\n      throw new Error(\"illegal catch attempt\");\n    },\n    delegateYield: function delegateYield(iterable, resultName, nextLoc) {\n      return this.delegate = {\n        iterator: values(iterable),\n        resultName: resultName,\n        nextLoc: nextLoc\n      }, \"next\" === this.method && (this.arg = undefined), ContinueSentinel;\n    }\n  }, exports;\n}","export default function*() {\n  var node = this, current, next = [node], children, i, n;\n  do {\n    current = next.reverse(), next = [];\n    while (node = current.pop()) {\n      yield node;\n      if (children = node.children) {\n        for (i = 0, n = children.length; i < n; ++i) {\n          next.push(children[i]);\n        }\n      }\n    }\n  } while (next.length);\n}\n","import node_count from \"./count.js\";\nimport node_each from \"./each.js\";\nimport node_eachBefore from \"./eachBefore.js\";\nimport node_eachAfter from \"./eachAfter.js\";\nimport node_find from \"./find.js\";\nimport node_sum from \"./sum.js\";\nimport node_sort from \"./sort.js\";\nimport node_path from \"./path.js\";\nimport node_ancestors from \"./ancestors.js\";\nimport node_descendants from \"./descendants.js\";\nimport node_leaves from \"./leaves.js\";\nimport node_links from \"./links.js\";\nimport node_iterator from \"./iterator.js\";\n\nexport default function hierarchy(data, children) {\n  if (data instanceof Map) {\n    data = [undefined, data];\n    if (children === undefined) children = mapChildren;\n  } else if (children === undefined) {\n    children = objectChildren;\n  }\n\n  var root = new Node(data),\n      node,\n      nodes = [root],\n      child,\n      childs,\n      i,\n      n;\n\n  while (node = nodes.pop()) {\n    if ((childs = children(node.data)) && (n = (childs = Array.from(childs)).length)) {\n      node.children = childs;\n      for (i = n - 1; i >= 0; --i) {\n        nodes.push(child = childs[i] = new Node(childs[i]));\n        child.parent = node;\n        child.depth = node.depth + 1;\n      }\n    }\n  }\n\n  return root.eachBefore(computeHeight);\n}\n\nfunction node_copy() {\n  return hierarchy(this).eachBefore(copyData);\n}\n\nfunction objectChildren(d) {\n  return d.children;\n}\n\nfunction mapChildren(d) {\n  return Array.isArray(d) ? d[1] : null;\n}\n\nfunction copyData(node) {\n  if (node.data.value !== undefined) node.value = node.data.value;\n  node.data = node.data.data;\n}\n\nexport function computeHeight(node) {\n  var height = 0;\n  do node.height = height;\n  while ((node = node.parent) && (node.height < ++height));\n}\n\nexport function Node(data) {\n  this.data = data;\n  this.depth =\n  this.height = 0;\n  this.parent = null;\n}\n\nNode.prototype = hierarchy.prototype = {\n  constructor: Node,\n  count: node_count,\n  each: node_each,\n  eachAfter: node_eachAfter,\n  eachBefore: node_eachBefore,\n  find: node_find,\n  sum: node_sum,\n  sort: node_sort,\n  path: node_path,\n  ancestors: node_ancestors,\n  descendants: node_descendants,\n  leaves: node_leaves,\n  links: node_links,\n  copy: node_copy,\n  [Symbol.iterator]: node_iterator\n};\n","export default function(callback, that) {\n  let index = -1;\n  for (const node of this) {\n    callback.call(that, node, ++index, this);\n  }\n  return this;\n}\n","export default function(callback, that) {\n  var node = this, nodes = [node], next = [], children, i, n, index = -1;\n  while (node = nodes.pop()) {\n    next.push(node);\n    if (children = node.children) {\n      for (i = 0, n = children.length; i < n; ++i) {\n        nodes.push(children[i]);\n      }\n    }\n  }\n  while (node = next.pop()) {\n    callback.call(that, node, ++index, this);\n  }\n  return this;\n}\n","export default function(callback, that) {\n  var node = this, nodes = [node], children, i, index = -1;\n  while (node = nodes.pop()) {\n    callback.call(that, node, ++index, this);\n    if (children = node.children) {\n      for (i = children.length - 1; i >= 0; --i) {\n        nodes.push(children[i]);\n      }\n    }\n  }\n  return this;\n}\n","export default function(callback, that) {\n  let index = -1;\n  for (const node of this) {\n    if (callback.call(that, node, ++index, this)) {\n      return node;\n    }\n  }\n}\n","export default function(value) {\n  return this.eachAfter(function(node) {\n    var sum = +value(node.data) || 0,\n        children = node.children,\n        i = children && children.length;\n    while (--i >= 0) sum += children[i].value;\n    node.value = sum;\n  });\n}\n","export default function(compare) {\n  return this.eachBefore(function(node) {\n    if (node.children) {\n      node.children.sort(compare);\n    }\n  });\n}\n","export default function(end) {\n  var start = this,\n      ancestor = leastCommonAncestor(start, end),\n      nodes = [start];\n  while (start !== ancestor) {\n    start = start.parent;\n    nodes.push(start);\n  }\n  var k = nodes.length;\n  while (end !== ancestor) {\n    nodes.splice(k, 0, end);\n    end = end.parent;\n  }\n  return nodes;\n}\n\nfunction leastCommonAncestor(a, b) {\n  if (a === b) return a;\n  var aNodes = a.ancestors(),\n      bNodes = b.ancestors(),\n      c = null;\n  a = aNodes.pop();\n  b = bNodes.pop();\n  while (a === b) {\n    c = a;\n    a = aNodes.pop();\n    b = bNodes.pop();\n  }\n  return c;\n}\n","export default function() {\n  var node = this, nodes = [node];\n  while (node = node.parent) {\n    nodes.push(node);\n  }\n  return nodes;\n}\n","export default function() {\n  return Array.from(this);\n}\n","export default function() {\n  var leaves = [];\n  this.eachBefore(function(node) {\n    if (!node.children) {\n      leaves.push(node);\n    }\n  });\n  return leaves;\n}\n","export default function() {\n  var root = this, links = [];\n  root.each(function(node) {\n    if (node !== root) { // Dont include the roots parent, if any.\n      links.push({source: node.parent, target: node});\n    }\n  });\n  return links;\n}\n","import { filter, isArray, isString } from '@antv/util';\n\n/** export  */\n/**  */\nexport const NODE_INDEX_FIELD = 'nodeIndex';\n/** child  */\nexport const CHILD_NODE_COUNT = 'childNodeCount';\n/**  */\nexport const NODE_ANCESTORS_FIELD = 'nodeAncestor';\n\nconst INVALID_FIELD_ERR_MSG = 'Invalid field: it must be a string!';\n\ninterface Options {\n  field?: string | string[];\n  fields?: string | string[];\n}\n\nexport function getField(options: Options, defaultField?: string): string {\n  const { field, fields } = options;\n  if (isString(field)) {\n    return field;\n  }\n  if (isArray(field)) {\n    console.warn(INVALID_FIELD_ERR_MSG);\n    return field[0];\n  }\n  console.warn(`${INVALID_FIELD_ERR_MSG} will try to get fields instead.`);\n  if (isString(fields)) {\n    return fields;\n  }\n  if (isArray(fields) && fields.length) {\n    return fields[0];\n  }\n  if (defaultField) {\n    return defaultField;\n  }\n  throw new TypeError(INVALID_FIELD_ERR_MSG);\n}\n\nexport function getAllNodes(root: any) {\n  const nodes: any[] = [];\n  if (root && root.each) {\n    let parent;\n    let index;\n    // d3-hierarchy: Invokes the specified function for node and each descendant in **breadth-first order**\n    root.each((node: any) => {\n      if (node.parent !== parent) {\n        parent = node.parent;\n        index = 0;\n      } else {\n        index += 1;\n      }\n      const ancestors = filter(\n        (node.ancestors?.() || []).map((d: any) => nodes.find((n) => n.name === d.name) || d),\n        ({ depth }) => depth > 0 && depth < node.depth\n      );\n\n      node[NODE_ANCESTORS_FIELD] = ancestors;\n      node[CHILD_NODE_COUNT] = node.children?.length || 0;\n      node[NODE_INDEX_FIELD] = index;\n\n      nodes.push(node);\n    });\n  } else if (root && root.eachNode) {\n    // @antv/hierarchy\n    root.eachNode((node: any) => {\n      nodes.push(node);\n    });\n  }\n  return nodes;\n}\n","import { assign, isArray } from '@antv/util';\nimport * as d3Hierarchy from 'd3-hierarchy';\nimport { HierarchyOption } from './types';\nimport { getAllNodes, getField } from './util';\n\ntype Options = Omit<HierarchyOption, 'as'> & { as?: [string, string, string] };\n\nconst DEFAULT_OPTIONS: Options = {\n  field: 'value',\n  as: ['x', 'y', 'r'],\n  // \n  sort: (a, b) => b.value - a.value,\n};\n\nexport function pack(data: any, options: Options): any[] {\n  options = assign({} as Options, DEFAULT_OPTIONS, options);\n  const as = options.as;\n  if (!isArray(as) || as.length !== 3) {\n    throw new TypeError('Invalid as: it must be an array with 3 strings (e.g. [ \"x\", \"y\", \"r\" ])!');\n  }\n\n  let field;\n  try {\n    field = getField(options);\n  } catch (e) {\n    console.warn(e);\n  }\n\n  const packLayout = (data) =>\n    d3Hierarchy.pack().size(options.size).padding(options.padding)(\n      d3Hierarchy\n        .hierarchy(data)\n        .sum((d) => d[field])\n        .sort(options.sort)\n    );\n\n  const root = packLayout(data);\n\n  const x = as[0];\n  const y = as[1];\n  const r = as[2];\n  root.each((node) => {\n    node[x] = node.x;\n    node[y] = node.y;\n    node[r] = node.r;\n  });\n\n  return getAllNodes(root);\n}\n","import { Types } from '@antv/g2';\nimport { HIERARCHY_DATA_TRANSFORM_PARAMS } from '../../interactions/actions/drill-down';\nimport { deepAssign, pick } from '../../utils';\nimport { pack } from '../../utils/hierarchy/pack';\nimport { resolveAllPadding } from '../../utils/padding';\nimport { CirclePackingOptions } from './types';\n\ninterface TransformDataOptions {\n  data: CirclePackingOptions['data'];\n  rawFields: CirclePackingOptions['rawFields'];\n  enableDrillDown: boolean;\n  hierarchyConfig: CirclePackingOptions['hierarchyConfig'];\n}\n\n/**\n * circle-packing \n * @param options\n */\nexport function transformData(options: TransformDataOptions) {\n  const { data, hierarchyConfig, rawFields = [], enableDrillDown } = options;\n\n  const nodes = pack(data, {\n    ...hierarchyConfig,\n    field: 'value',\n    as: ['x', 'y', 'r'],\n  });\n\n  const result = [];\n  nodes.forEach((node) => {\n    let path = node.data.name;\n    let ancestorNode = { ...node };\n    while (ancestorNode.depth > 1) {\n      path = `${ancestorNode.parent.data?.name} / ${path}`;\n      ancestorNode = ancestorNode.parent;\n    }\n\n    //  depth <= 2  ()\n    if (enableDrillDown && node.depth > 2) {\n      return null;\n    }\n\n    const nodeInfo = deepAssign({}, node.data, {\n      ...pick(node.data, rawFields),\n      path,\n      // : x, y, r, name, depth, height\n      ...node,\n    });\n\n    nodeInfo.ext = hierarchyConfig;\n    nodeInfo[HIERARCHY_DATA_TRANSFORM_PARAMS] = { hierarchyConfig, rawFields, enableDrillDown };\n\n    result.push(nodeInfo);\n  });\n\n  return result;\n}\n\n/**\n *  padding     finalPadding  finalSize\n * @param params\n */\nexport function resolvePaddingForCircle(\n  padding: Types.ViewPadding,\n  appendPadding: Types.ViewAppendPadding,\n  containerSize: { width: number; height: number }\n) {\n  const tempPadding = resolveAllPadding([padding, appendPadding]);\n  const [top, right, bottom, left] = tempPadding; //  [0, 0, 0, 0]\n  const { width, height } = containerSize;\n\n  //  tempPadding coordinate minSize = circle-packing\n  const wSize = width - (left + right);\n  const hSize = height - (top + bottom);\n  const minSize = Math.min(wSize, hSize); // circle-packing\n\n  //  padding\n  const restWidthPadding = (wSize - minSize) / 2;\n  const restHeightPadding = (hSize - minSize) / 2;\n\n  const finalTop = top + restHeightPadding;\n  const finalRight = right + restWidthPadding;\n  const finalBottom = bottom + restHeightPadding;\n  const finalLeft = left + restWidthPadding;\n\n  const finalPadding = [finalTop, finalRight, finalBottom, finalLeft];\n  const finalSize = minSize < 0 ? 0 : minSize; // \n\n  return { finalPadding, finalSize };\n}\n","import { Types } from '@antv/g2';\nimport { get } from '@antv/util';\nimport {\n  animation,\n  annotation,\n  interaction as baseInteraction,\n  legend,\n  pattern,\n  scale,\n  theme,\n} from '../../adaptor/common';\nimport { point } from '../../adaptor/geometries/point';\nimport { Params } from '../../core/adaptor';\nimport { deepAssign, flow } from '../../utils';\nimport { getAdjustAppendPadding, resolveAllPadding } from '../../utils/padding';\nimport { RAW_FIELDS } from './constant';\nimport { CirclePackingOptions } from './types';\nimport { resolvePaddingForCircle, transformData } from './utils';\n\n/**\n *  option\n * @param params\n */\nfunction defaultOptions(params: Params<CirclePackingOptions>): Params<CirclePackingOptions> {\n  const { chart } = params;\n  const diameter = Math.min(chart.viewBBox.width, chart.viewBBox.height);\n\n  return deepAssign(\n    {\n      options: {\n        size: ({ r }) => r * diameter, // autofitfalse\n      },\n    },\n    params\n  );\n}\n\n/**\n * padding \n * @param params\n */\nfunction padding(params: Params<CirclePackingOptions>): Params<CirclePackingOptions> {\n  const { options, chart } = params;\n  //  padding coordinate \n  const containerSize = chart.viewBBox;\n  const { padding, appendPadding, drilldown } = options;\n\n  let tempAppendPadding = appendPadding;\n  if (drilldown?.enabled) {\n    const appendPaddingByDrilldown = getAdjustAppendPadding(\n      chart.appendPadding,\n      get(drilldown, ['breadCrumb', 'position'])\n    );\n    tempAppendPadding = resolveAllPadding([appendPaddingByDrilldown, appendPadding]);\n  }\n\n  const { finalPadding } = resolvePaddingForCircle(padding, tempAppendPadding, containerSize);\n  chart.padding = finalPadding;\n  chart.appendPadding = 0;\n\n  return params;\n}\n\n/**\n * \n * @param params\n */\nfunction geometry(params: Params<CirclePackingOptions>): Params<CirclePackingOptions> {\n  const { chart, options } = params;\n  const { padding, appendPadding } = chart;\n  const { color, colorField, pointStyle, hierarchyConfig, sizeField, rawFields = [], drilldown } = options;\n\n  const data = transformData({\n    data: options.data,\n    hierarchyConfig,\n    enableDrillDown: drilldown?.enabled,\n    rawFields,\n  });\n  chart.data(data);\n\n  const containerSize = chart.viewBBox;\n  const { finalSize } = resolvePaddingForCircle(padding, appendPadding, containerSize);\n  // sizeField value  size \n  let circleSize = ({ r }) => r * finalSize; // \n\n  if (sizeField) {\n    circleSize = (d) => d[sizeField] * finalSize; //  r \n  }\n\n  // geometry\n  point(\n    deepAssign({}, params, {\n      options: {\n        xField: 'x',\n        yField: 'y',\n        seriesField: colorField,\n        sizeField,\n        rawFields: [...RAW_FIELDS, ...rawFields],\n        point: {\n          color,\n          style: pointStyle,\n          shape: 'circle',\n          size: circleSize,\n        },\n      },\n    })\n  );\n\n  return params;\n}\n\n/**\n * meta \n * @param params\n */\nexport function meta(params: Params<CirclePackingOptions>): Params<CirclePackingOptions> {\n  return flow(\n    scale(\n      {},\n      {\n        //  nice\n        x: { min: 0, max: 1, minLimit: 0, maxLimit: 1, nice: true },\n        y: { min: 0, max: 1, minLimit: 0, maxLimit: 1, nice: true },\n      }\n    )\n  )(params);\n}\n\n/**\n * tooltip \n * @param params\n */\nfunction tooltip(params: Params<CirclePackingOptions>): Params<CirclePackingOptions> {\n  const { chart, options } = params;\n  const { tooltip } = options;\n\n  if (tooltip === false) {\n    chart.tooltip(false);\n  } else {\n    let tooltipOptions = tooltip;\n    //  fields customItems ;  formatter  fields\n    if (!get(tooltip, 'fields')) {\n      tooltipOptions = deepAssign(\n        {},\n        {\n          customItems: (items: Types.TooltipItem[]) =>\n            items.map((item) => {\n              const scales = get(chart.getOptions(), 'scales');\n              const nameFormatter = get(scales, ['name', 'formatter'], (v) => v);\n              const valueFormatter = get(scales, ['value', 'formatter'], (v) => v);\n              return {\n                ...item,\n                name: nameFormatter(item.data.name),\n                value: valueFormatter(item.data.value),\n              };\n            }),\n        },\n        tooltipOptions\n      );\n    }\n    chart.tooltip(tooltipOptions);\n  }\n\n  return params;\n}\n\n/**\n * , \n * @param params\n */\nfunction axis(params: Params<CirclePackingOptions>): Params<CirclePackingOptions> {\n  const { chart } = params;\n  chart.axis(false);\n  return params;\n}\n\nfunction adaptorInteraction(options: CirclePackingOptions): CirclePackingOptions {\n  const { drilldown, interactions = [] } = options;\n\n  if (drilldown?.enabled) {\n    return deepAssign({}, options, {\n      interactions: [\n        ...interactions,\n        {\n          type: 'drill-down',\n          cfg: { drillDownConfig: drilldown, transformData, enableDrillDown: true },\n        },\n      ],\n    });\n  }\n  return options;\n}\n\n/**\n * \n * @param params\n * @returns\n */\nfunction interaction(params: Params<CirclePackingOptions>): Params<CirclePackingOptions> {\n  const { chart, options } = params;\n\n  baseInteraction({\n    chart,\n    options: adaptorInteraction(options),\n  });\n\n  return params;\n}\n\n/**\n * \n * @param chart\n * @param options\n */\nexport function adaptor(params: Params<CirclePackingOptions>) {\n  return flow(\n    pattern('pointStyle'),\n    defaultOptions,\n    padding,\n    theme,\n    meta,\n    geometry,\n    axis,\n    legend,\n    tooltip,\n    interaction,\n    animation,\n    annotation()\n  )(params);\n}\n","import { registerAction, registerInteraction } from '@antv/g2';\nimport { get, isArray } from '@antv/util';\nimport { DrillDownAction } from './actions/drill-down';\n\n/**\n * \n */\nexport function isParentNode(context) {\n  const data = get(context, ['event', 'data', 'data'], {});\n  return isArray(data.children) && data.children.length > 0;\n}\n\n/**\n * \n */\nfunction inCenter(context) {\n  const coordinate = context.view.getCoordinate();\n  const { innerRadius } = coordinate;\n  if (innerRadius) {\n    const { x, y } = context.event;\n    const { x: centerX, y: centerY } = coordinate.center;\n    const r = coordinate.getRadius() * innerRadius;\n    const distance = Math.sqrt((centerX - x) ** 2 + (centerY - y) ** 2);\n    return distance < r;\n  }\n  return false;\n}\n\nregisterAction('drill-down-action', DrillDownAction);\nregisterInteraction('drill-down', {\n  showEnable: [\n    { trigger: 'element:mouseenter', action: 'cursor:pointer', isEnable: isParentNode },\n    { trigger: 'element:mouseleave', action: 'cursor:default' },\n    //  element:mouseleave \n    { trigger: 'element:mouseleave', action: 'cursor:pointer', isEnable: inCenter },\n  ],\n  start: [\n    {\n      trigger: 'element:click',\n      isEnable: isParentNode,\n      action: ['drill-down-action:click'],\n    },\n    {\n      trigger: 'afterchangesize',\n      action: ['drill-down-action:resetPosition'],\n    },\n    {\n      // \n      trigger: 'click',\n      isEnable: inCenter,\n      action: ['drill-down-action:back'],\n    },\n  ],\n});\n","import { Adaptor } from '../../core/adaptor';\nimport { Plot } from '../../core/plot';\nimport { adaptor } from './adaptor';\nimport { DEFAULT_OPTIONS } from './constant';\nimport './interactions';\nimport { CirclePackingOptions } from './types';\n\nexport type { CirclePackingOptions };\n\n/**\n *  CirclePacking\n * @usage hierarchy, proportions\n */\nexport class CirclePacking extends Plot<CirclePackingOptions> {\n  /**\n   *   \n   * \n   */\n  static getDefaultOptions(): Partial<CirclePackingOptions> {\n    return DEFAULT_OPTIONS;\n  }\n  /**  */\n  public type: string = 'circle-packing';\n\n  protected getDefaultOptions() {\n    return CirclePacking.getDefaultOptions();\n  }\n\n  /**\n   * \n   */\n  protected getSchemaAdaptor(): Adaptor<CirclePackingOptions> {\n    return adaptor;\n  }\n\n  /**\n   * \n   */\n  protected triggerResize() {\n    if (!this.chart.destroyed) {\n      // \n      this.chart.forceFit(); // g2  changeSizechangeSize  render(true)\n      this.chart.clear();\n      this.execAdaptor(); // padding\n      // \n      this.chart.render(true);\n    }\n  }\n}\n","import { Options, ShapeAttr, SizeAttr, StyleAttr } from '../../types';\nimport { ColumnOptions } from '../column/types';\nimport { LineOptions } from '../line/types';\n\nexport enum AxisType {\n  Left = 'Left',\n  Right = 'Right',\n}\n\nexport enum DualAxesGeometry {\n  Line = 'line',\n  Column = 'column',\n}\n\nexport interface PointConfig {\n  readonly shape?: ShapeAttr;\n  readonly size?: SizeAttr;\n  readonly style?: StyleAttr;\n}\n\ntype CommonGeometryOption = {\n  /**\n   * @title \n   */\n  readonly geometry?: string;\n  /**\n   * @title \n   */\n  readonly label?: Options['label'];\n  /**\n   * @title legend\n   */\n  readonly legend?: Options['legend'];\n  /**\n   * @title \n   */\n  readonly color?: Options['color'];\n  /**\n   * @title \n   * @default false\n   */\n  readonly isGroup?: boolean;\n  /**\n   * @title \n   * @description  seriesField\n   */\n  readonly groupField?: string;\n};\n\n// ,  LineOption \nexport type GeometryLineOption = Pick<\n  LineOptions,\n  'seriesField' | 'smooth' | 'connectNulls' | 'lineStyle' | 'point' | 'isStack' | 'stepType'\n> &\n  CommonGeometryOption;\n\n// \nexport type GeometryColumnOption = Pick<\n  ColumnOptions,\n  | 'seriesField'\n  | 'isGroup'\n  | 'isStack'\n  | 'isRange'\n  | 'isPercent'\n  | 'columnWidthRatio'\n  | 'marginRatio'\n  | 'columnStyle'\n  | 'pattern'\n> &\n  CommonGeometryOption;\n\nexport type GeometryOption = GeometryColumnOption | GeometryLineOption;\n\nexport type DualAxesOptions = Omit<Options, 'data' | 'yAxis' | 'color' | 'annotations'> & {\n  /**\n   * @title \n   * @description \n   */\n  readonly data: Array<Record<string, any>[]>;\n  /**\n   * @title  x \n   * @description x \n   */\n  readonly xField: string;\n  /**\n   * @title  y \n   * @description \n   */\n  readonly yField: string[];\n  /**\n   * @title  yAxis \n   * @description  object key  y \n   */\n  readonly yAxis?: Options['yAxis'][] | Record<string, Options['yAxis']>;\n  /**\n   * @title \n   */\n  readonly geometryOptions?: GeometryOption[];\n  /**\n   * @title  annotation \n   * @description object  field \n   */\n  readonly annotations?: Options['annotations'][] | Record<string, Options['annotations']>;\n};\n","export const LEFT_AXES_VIEW = 'left-axes-view';\nexport const RIGHT_AXES_VIEW = 'right-axes-view';\n\nexport const DEFAULT_YAXIS_CONFIG = {\n  nice: true,\n  label: {\n    autoHide: true,\n    autoRotate: false,\n  },\n};\n\nexport const DEFAULT_LEFT_YAXIS_CONFIG = {\n  ...DEFAULT_YAXIS_CONFIG,\n  position: 'left',\n};\n\nexport const DEFAULT_RIGHT_YAXIS_CONFIG = {\n  ...DEFAULT_YAXIS_CONFIG,\n  position: 'right',\n  grid: null,\n};\n","import { get, isArray } from '@antv/util';\nimport { Axis } from '../../../types/axis';\nimport { deepAssign } from '../../../utils';\nimport { DEFAULT_LEFT_YAXIS_CONFIG, DEFAULT_RIGHT_YAXIS_CONFIG } from '../constant';\nimport {\n  AxisType,\n  DualAxesGeometry,\n  DualAxesOptions,\n  GeometryColumnOption,\n  GeometryLineOption,\n  GeometryOption,\n} from '../types';\n\n/**\n *  GeometryOption  geometry  line\n */\nexport function isLine(geometryOption: GeometryOption): geometryOption is GeometryLineOption {\n  return get(geometryOption, 'geometry') === DualAxesGeometry.Line;\n}\n\n/**\n *  GeometryOption  geometry  Column\n */\nexport function isColumn(geometryOption: GeometryOption): geometryOption is GeometryColumnOption {\n  return get(geometryOption, 'geometry') === DualAxesGeometry.Column;\n}\n\n/**\n *  GeometryOption\n * @param geometryOption\n * @param axis\n */\nexport function getGeometryOption(xField: string, yField: string, geometryOption: GeometryOption): GeometryOption {\n  // \n  return isColumn(geometryOption)\n    ? deepAssign(\n        {},\n        {\n          geometry: DualAxesGeometry.Column,\n          label:\n            geometryOption.label && geometryOption.isRange\n              ? {\n                  content: (item: object) => {\n                    return item[yField]?.join('-');\n                  },\n                }\n              : undefined,\n        },\n        geometryOption\n      )\n    : {\n        geometry: DualAxesGeometry.Line,\n        ...geometryOption,\n      };\n}\n\n/**\n *   arr  obj   yAxisannotations\n *  yField  object \n * @param yField\n * @param transformAttribute\n */\nexport function transformObjectToArray(\n  yField: DualAxesOptions['yField'],\n  transformAttribute: Record<string, any> | any[]\n): any[] {\n  const [y1, y2] = yField;\n\n  if (isArray(transformAttribute)) {\n    // \n    const [a1, a2] = transformAttribute;\n    return [a1, a2];\n  }\n  const a1 = get(transformAttribute, y1);\n  const a2 = get(transformAttribute, y2);\n  return [a1, a2];\n}\n\n/**\n * \n * @param yAxis\n * @param axisType\n */\nexport function getYAxisWithDefault(yAxis: Axis, axisType: AxisType): Axis {\n  if (axisType === AxisType.Left) {\n    return yAxis === false ? false : deepAssign({}, DEFAULT_LEFT_YAXIS_CONFIG, yAxis);\n  } else if (axisType === AxisType.Right) {\n    return yAxis === false ? false : deepAssign({}, DEFAULT_RIGHT_YAXIS_CONFIG, yAxis);\n  }\n  return yAxis;\n}\n","import { Util, View } from '@antv/g2';\nimport { get, isEmpty, isFunction, reduce } from '@antv/util';\nimport { Legend } from '../../../types/legend';\nimport { deepAssign, findGeometry } from '../../../utils';\nimport { GeometryOption } from '../types';\nimport { isLine } from './option';\n\n/**\n *  view  legendItem seriesField \n * @param params\n */\nexport function getViewLegendItems(params: {\n  view: View;\n  yField: string;\n  geometryOption: GeometryOption;\n  legend: Legend;\n}) {\n  const { view, geometryOption, yField, legend } = params;\n  const userMarker = get(legend, 'marker');\n\n  const geometry = findGeometry(view, isLine(geometryOption) ? 'line' : 'interval');\n  if (!geometryOption.seriesField) {\n    const legendItemName = get(view, `options.scales.${yField}.alias`) || yField;\n    //  g2 \n    const colorAttribute = geometry.getAttribute('color');\n    let color = view.getTheme().defaultColor;\n    if (colorAttribute) {\n      color = Util.getMappingValue(colorAttribute, legendItemName, get(colorAttribute, ['values', 0], color));\n    }\n\n    const marker =\n      (isFunction(userMarker)\n        ? userMarker\n        : !isEmpty(userMarker) &&\n          deepAssign(\n            {},\n            {\n              style: {\n                stroke: color,\n                fill: color,\n              },\n            },\n            userMarker\n          )) ||\n      (isLine(geometryOption)\n        ? {\n            symbol: (x: number, y: number, r: number) => {\n              return [\n                ['M', x - r, y],\n                ['L', x + r, y],\n              ];\n            },\n            style: {\n              lineWidth: 2,\n              r: 6,\n              stroke: color,\n            },\n          }\n        : {\n            symbol: 'square',\n            style: {\n              fill: color,\n            },\n          });\n    return [\n      {\n        value: yField,\n        name: legendItemName,\n        marker,\n        isGeometry: true,\n        viewId: view.id,\n      },\n    ];\n  }\n\n  const attributes = geometry.getGroupAttributes();\n  return reduce(\n    attributes,\n    (items, attr) => {\n      const attrItems = Util.getLegendItems(view, geometry, attr, view.getTheme(), userMarker);\n      return items.concat(attrItems);\n    },\n    []\n  );\n}\n","import { View } from '@antv/g2';\nimport { size, valuesOfKey } from '@antv/util';\nimport { isBetween } from '../../../utils';\n\n/**\n *  View  slider \n *  View ,  Slider  change  View\n * @param { View } view \n * @param { number[] } sliderValue \n * @returns void\n */\nexport const doSliderFilter = (view: View, sliderValue: [number, number]) => {\n  const [min, max] = sliderValue;\n  const data = view.getOptions().data;\n  const xScale = view.getXScale();\n  const dataSize = size(data);\n  if (!xScale || !dataSize) {\n    return;\n  }\n  const isHorizontal = true;\n  const values = valuesOfKey(data, xScale.field);\n  const xValues = isHorizontal ? values : values.reverse();\n  const xTickCount = size(xValues);\n  const minIndex = Math.floor(min * (xTickCount - 1));\n  const maxIndex = Math.floor(max * (xTickCount - 1));\n\n  //  x \n  view.filter(xScale.field, (value: any) => {\n    const idx: number = xValues.indexOf(value);\n    return idx > -1 ? isBetween(idx, minIndex, maxIndex) : true;\n  });\n  view.getRootView().render(true);\n};\n","import { Event, Scale, Types } from '@antv/g2';\nimport { each, every, find, findIndex, get, isBoolean, isEqual, isObject } from '@antv/util';\nimport {\n  animation as commonAnimation,\n  annotation as commonAnnotation,\n  interaction as commonInteraction,\n  limitInPlot as commonLimitInPlot,\n  scale,\n  theme as commonTheme,\n} from '../../adaptor/common';\nimport { Params } from '../../core/adaptor';\nimport { Datum } from '../../types';\nimport { deepAssign, flow } from '../../utils';\nimport { percent } from '../../utils/transform/percent';\nimport { findViewById } from '../../utils/view';\nimport { LEFT_AXES_VIEW, RIGHT_AXES_VIEW } from './constant';\nimport { AxisType, DualAxesGeometry, DualAxesOptions } from './types';\nimport { drawSingleGeometry } from './util/geometry';\nimport { getViewLegendItems } from './util/legend';\nimport { getGeometryOption, getYAxisWithDefault, isColumn, transformObjectToArray } from './util/option';\nimport { doSliderFilter } from './util/render-sider';\n\n/**\n * transformOptions\n * 1. get index getOptions:  appendPaddingsyncView \n * 2. get adpator transformOption: deepAssign \n *    2.1 defaultoption tooltiplegend\n *    2.2  options\n *    2.3  options  options yaxisGeometryOption deepAssign  assign \n *\n * @param params\n */\nexport function transformOptions(params: Params<DualAxesOptions>): Params<DualAxesOptions> {\n  const { options } = params;\n  const { geometryOptions = [], xField, yField } = options;\n  const allLine = every(\n    geometryOptions,\n    ({ geometry }) => geometry === DualAxesGeometry.Line || geometry === undefined\n  );\n  return deepAssign(\n    {},\n    {\n      options: {\n        geometryOptions: [],\n        meta: {\n          [xField]: {\n            //  cat \n            type: 'cat',\n            // x  scale \n            sync: true,\n            // \n            range: allLine ? [0, 1] : undefined,\n          },\n        },\n        tooltip: {\n          showMarkers: allLine,\n          //  crosshairs\n          showCrosshairs: allLine,\n          shared: true,\n          crosshairs: {\n            type: 'x',\n          },\n        },\n        interactions: !allLine\n          ? [{ type: 'legend-visible-filter' }, { type: 'active-region' }]\n          : [{ type: 'legend-visible-filter' }],\n        legend: {\n          position: 'top-left',\n        },\n      },\n    },\n    params,\n    {\n      options: {\n        // yAxis\n        yAxis: transformObjectToArray(yField, options.yAxis),\n        // geometryOptions\n        geometryOptions: [\n          getGeometryOption(xField, yField[0], geometryOptions[0]),\n          getGeometryOption(xField, yField[1], geometryOptions[1]),\n        ],\n        // annotations\n        annotations: transformObjectToArray(yField, options.annotations),\n      },\n    }\n  );\n}\n\n/**\n *    view theme \n * @param params\n */\nfunction createViews(params: Params<DualAxesOptions>): Params<DualAxesOptions> {\n  const { chart, options } = params;\n  const { geometryOptions } = options;\n\n  const SORT_MAP = { line: 0, column: 1 };\n\n  // id\n  const geometries = [\n    { type: geometryOptions[0]?.geometry, id: LEFT_AXES_VIEW },\n    { type: geometryOptions[1]?.geometry, id: RIGHT_AXES_VIEW },\n  ];\n\n  //  view \n  geometries.sort((a, b) => -SORT_MAP[a.type] + SORT_MAP[b.type]).forEach((g) => chart.createView({ id: g.id }));\n\n  return params;\n}\n\n/**\n * \n * @param params\n */\nfunction geometry(params: Params<DualAxesOptions>): Params<DualAxesOptions> {\n  const { chart, options } = params;\n  const { xField, yField, geometryOptions, data, tooltip } = options;\n\n  // id\n  const geometries = [\n    { ...geometryOptions[0], id: LEFT_AXES_VIEW, data: data[0], yField: yField[0] },\n    { ...geometryOptions[1], id: RIGHT_AXES_VIEW, data: data[1], yField: yField[1] },\n  ];\n\n  geometries.forEach((geometry) => {\n    const { id, data, yField } = geometry;\n    // \n    const isPercent = isColumn(geometry) && geometry.isPercent;\n    const formatData = isPercent ? percent(data, yField, xField, yField) : data;\n    const view = findViewById(chart, id).data(formatData);\n\n    const tooltipOptions = isPercent\n      ? {\n          formatter: (datum: Datum) => ({\n            name: datum[geometry.seriesField] || yField,\n            value: (Number(datum[yField]) * 100).toFixed(2) + '%',\n          }),\n          ...tooltip,\n        }\n      : tooltip;\n\n    // \n    drawSingleGeometry({\n      chart: view,\n      options: {\n        xField,\n        yField,\n        tooltip: tooltipOptions,\n        geometryOption: geometry,\n      },\n    });\n  });\n  return params;\n}\n\nexport function color(params: Params<DualAxesOptions>): Params<DualAxesOptions> {\n  const { chart, options } = params;\n  const { geometryOptions } = options;\n  const themeColor = chart.getTheme()?.colors10 || [];\n\n  let start = 0;\n  /*  geometry  color\n   * 1.  geometryOptions  color drawGeometry \n   * 2.   color Geometry group scales theme color 10 \n   * 3.  group  view  N   concat  themeColor\n   * 4.  Geometry group scales color\n   * 5.  view  g2\n   */\n  chart.once('beforepaint', () => {\n    each(geometryOptions, (geometryOption, index) => {\n      const view = findViewById(chart, index === 0 ? LEFT_AXES_VIEW : RIGHT_AXES_VIEW);\n      if (geometryOption.color) return;\n      const groupScale = view.getGroupScales();\n      const count = get(groupScale, [0, 'values', 'length'], 1);\n      const color = themeColor.slice(start, start + count).concat(index === 0 ? [] : themeColor);\n      view.geometries.forEach((geometry) => {\n        if (geometryOption.seriesField) {\n          geometry.color(geometryOption.seriesField, color);\n        } else {\n          geometry.color(color[0]);\n        }\n      });\n      start += count;\n    });\n    chart.render(true);\n  });\n\n  return params;\n}\n\n/**\n * meta \n * @param params\n */\nexport function meta(params: Params<DualAxesOptions>): Params<DualAxesOptions> {\n  const { chart, options } = params;\n  const { xAxis, yAxis, xField, yField } = options;\n\n  scale({\n    [xField]: xAxis,\n    [yField[0]]: yAxis[0],\n  })(deepAssign({}, params, { chart: findViewById(chart, LEFT_AXES_VIEW) }));\n\n  scale({\n    [xField]: xAxis,\n    [yField[1]]: yAxis[1],\n  })(deepAssign({}, params, { chart: findViewById(chart, RIGHT_AXES_VIEW) }));\n\n  return params;\n}\n\n/**\n * axis \n * @param params\n */\nexport function axis(params: Params<DualAxesOptions>): Params<DualAxesOptions> {\n  const { chart, options } = params;\n  const leftView = findViewById(chart, LEFT_AXES_VIEW);\n  const rightView = findViewById(chart, RIGHT_AXES_VIEW);\n  const { xField, yField, xAxis, yAxis } = options;\n\n  chart.axis(xField, false);\n  chart.axis(yField[0], false);\n  chart.axis(yField[1], false);\n\n  //  View\n  leftView.axis(xField, xAxis);\n  leftView.axis(yField[0], getYAxisWithDefault(yAxis[0], AxisType.Left));\n\n  //  Y \n  rightView.axis(xField, false);\n  rightView.axis(yField[1], getYAxisWithDefault(yAxis[1], AxisType.Right));\n\n  return params;\n}\n\n/**\n * tooltip \n * @param params\n */\nexport function tooltip(params: Params<DualAxesOptions>): Params<DualAxesOptions> {\n  const { chart, options } = params;\n  const { tooltip } = options;\n  const leftView = findViewById(chart, LEFT_AXES_VIEW);\n  const rightView = findViewById(chart, RIGHT_AXES_VIEW);\n  // tooltip  getDefaultOption  undefined\n  chart.tooltip(tooltip);\n  //  view  tooltip shared  interaction active-region \n  // view  chart  shared\n  leftView.tooltip({\n    shared: true,\n  });\n  rightView.tooltip({\n    shared: true,\n  });\n  return params;\n}\n\n/**\n * interaction \n * @param params\n */\nexport function interaction(params: Params<DualAxesOptions>): Params<DualAxesOptions> {\n  const { chart } = params;\n\n  commonInteraction(deepAssign({}, params, { chart: findViewById(chart, LEFT_AXES_VIEW) }));\n  commonInteraction(deepAssign({}, params, { chart: findViewById(chart, RIGHT_AXES_VIEW) }));\n\n  return params;\n}\n\n/**\n * annotation \n * @param params\n */\nexport function annotation(params: Params<DualAxesOptions>): Params<DualAxesOptions> {\n  const { chart, options } = params;\n  const { annotations } = options;\n\n  const a1 = get(annotations, [0]);\n  const a2 = get(annotations, [1]);\n\n  commonAnnotation(a1)(\n    deepAssign({}, params, {\n      chart: findViewById(chart, LEFT_AXES_VIEW),\n      options: {\n        annotations: a1,\n      },\n    })\n  );\n  commonAnnotation(a2)(\n    deepAssign({}, params, {\n      chart: findViewById(chart, RIGHT_AXES_VIEW),\n      options: {\n        annotations: a2,\n      },\n    })\n  );\n  return params;\n}\n\nexport function theme(params: Params<DualAxesOptions>): Params<DualAxesOptions> {\n  const { chart } = params;\n\n  /*\n   *  view  axisline chart  legend)\n   *  chart   view  theme G2 theme geometry > view > chart \n   */\n  commonTheme(deepAssign({}, params, { chart: findViewById(chart, LEFT_AXES_VIEW) }));\n  commonTheme(deepAssign({}, params, { chart: findViewById(chart, RIGHT_AXES_VIEW) }));\n  commonTheme(params);\n\n  return params;\n}\n\nexport function animation(params: Params<DualAxesOptions>): Params<DualAxesOptions> {\n  const { chart } = params;\n\n  commonAnimation(deepAssign({}, params, { chart: findViewById(chart, LEFT_AXES_VIEW) }));\n  commonAnimation(deepAssign({}, params, { chart: findViewById(chart, RIGHT_AXES_VIEW) }));\n\n  return params;\n}\n\n/**\n *  limitInPlot\n * @param params\n */\nexport function limitInPlot(params: Params<DualAxesOptions>): Params<DualAxesOptions> {\n  const { chart, options } = params;\n  const { yAxis } = options;\n\n  commonLimitInPlot(\n    deepAssign({}, params, {\n      chart: findViewById(chart, LEFT_AXES_VIEW),\n      options: {\n        yAxis: yAxis[0],\n      },\n    })\n  );\n\n  commonLimitInPlot(\n    deepAssign({}, params, {\n      chart: findViewById(chart, RIGHT_AXES_VIEW),\n      options: {\n        yAxis: yAxis[1],\n      },\n    })\n  );\n\n  return params;\n}\n\n/**\n * legend \n *  custom-\n * @param params\n */\nexport function legend(params: Params<DualAxesOptions>): Params<DualAxesOptions> {\n  const { chart, options } = params;\n  const { legend, geometryOptions, yField, data } = options;\n  const leftView = findViewById(chart, LEFT_AXES_VIEW);\n  const rightView = findViewById(chart, RIGHT_AXES_VIEW);\n\n  if (legend === false) {\n    chart.legend(false);\n  } else if (isObject(legend) && legend.custom === true) {\n    chart.legend(legend);\n  } else {\n    const leftLegend = get(geometryOptions, [0, 'legend'], legend);\n    const rightLegend = get(geometryOptions, [1, 'legend'], legend);\n    // \n    chart.once('beforepaint', () => {\n      const leftItems = data[0].length\n        ? getViewLegendItems({\n            view: leftView,\n            geometryOption: geometryOptions[0],\n            yField: yField[0],\n            legend: leftLegend,\n          })\n        : [];\n\n      const rightItems = data[1].length\n        ? getViewLegendItems({\n            view: rightView,\n            geometryOption: geometryOptions[1],\n            yField: yField[1],\n            legend: rightLegend,\n          })\n        : [];\n\n      chart.legend(\n        deepAssign({}, legend, {\n          custom: true,\n          // todo \n          // @ts-ignore\n          items: leftItems.concat(rightItems),\n        })\n      );\n    });\n\n    if (geometryOptions[0].seriesField) {\n      leftView.legend(geometryOptions[0].seriesField, leftLegend);\n    }\n    if (geometryOptions[1].seriesField) {\n      rightView.legend(geometryOptions[1].seriesField, rightLegend);\n    }\n\n    // \n    chart.on('legend-item:click', (evt) => {\n      const delegateObject = get(evt, 'gEvent.delegateObject', {});\n      if (delegateObject && delegateObject.item) {\n        const { value: field, isGeometry, viewId } = delegateObject.item;\n        // geometry  view.changeVisible\n        if (isGeometry) {\n          const idx = findIndex(yField, (yF: string) => yF === field);\n          if (idx > -1) {\n            const geometries = get(findViewById(chart, viewId), 'geometries');\n            each(geometries, (g) => {\n              g.changeVisible(!delegateObject.item.unchecked);\n            });\n          }\n        } else {\n          const legendItem = get(chart.getController('legend'), 'option.items', []);\n          // \n          each(chart.views, (view) => {\n            // \n            const groupScale = view.getGroupScales();\n            each(groupScale, (scale: Scale) => {\n              if (scale.values && scale.values.indexOf(field) > -1) {\n                view.filter(scale.field, (value) => {\n                  const curLegendItem: Types.LegendItem = find(\n                    legendItem,\n                    (item: Types.LegendItem) => item.value === value\n                  );\n                  //  legend  unchecked \n                  return !curLegendItem.unchecked;\n                });\n              }\n            });\n            chart.render(true);\n          });\n        }\n      }\n    });\n  }\n\n  return params;\n}\n\n/**\n *  slider \n * @param params\n */\nexport function slider(params: Params<DualAxesOptions>): Params<DualAxesOptions> {\n  const { chart, options } = params;\n  const { slider } = options;\n  const leftView = findViewById(chart, LEFT_AXES_VIEW);\n  const rightView = findViewById(chart, RIGHT_AXES_VIEW);\n  if (slider) {\n    //  View\n    leftView.option('slider', slider);\n    //  slider   View \n    leftView.on('slider:valuechanged', (evt: Event) => {\n      const {\n        event: { value, originValue },\n      } = evt;\n      if (isEqual(value, originValue)) {\n        return;\n      }\n      doSliderFilter(rightView, value);\n    });\n    chart.once('afterpaint', () => {\n      // \n      if (!isBoolean(slider)) {\n        const { start, end } = slider;\n        if (start || end) {\n          doSliderFilter(rightView, [start, end]);\n        }\n      }\n    });\n  }\n\n  return params;\n}\n\n/**\n * \n * @param chart\n * @param options\n */\nexport function adaptor(params: Params<DualAxesOptions>): Params<DualAxesOptions> {\n  // transformOptions color legend  beforepaint\n  return flow(\n    transformOptions,\n    createViews,\n    // \n    theme,\n    geometry,\n    meta,\n    axis,\n    limitInPlot,\n    tooltip,\n    interaction,\n    annotation,\n    animation,\n    color,\n    legend,\n    slider\n  )(params);\n}\n","import { Geometry } from '@antv/g2';\nimport { each } from '@antv/util';\nimport { line, point } from '../../../adaptor/geometries';\nimport { Params } from '../../../core/adaptor';\nimport { deepAssign, pick } from '../../../utils';\nimport { adaptor as columnAdaptor } from '../../column/adaptor';\nimport { GeometryOption } from '../types';\nimport { isColumn, isLine } from './option';\n\n/**\n * \n * @param params\n */\nexport function drawSingleGeometry<O extends { xField: string; yField: string; geometryOption: GeometryOption }>(\n  params: Params<O>\n): Params<O> {\n  const { options, chart } = params;\n  const { geometryOption } = options;\n  const { isStack, color, seriesField, groupField, isGroup } = geometryOption;\n\n  const FIELD_KEY = ['xField', 'yField'];\n  if (isLine(geometryOption)) {\n    // \n    line(\n      deepAssign({}, params, {\n        options: {\n          ...pick(options, FIELD_KEY),\n          ...geometryOption,\n          line: {\n            color: geometryOption.color,\n            style: geometryOption.lineStyle,\n          },\n        },\n      })\n    );\n    // \n    point(\n      deepAssign({}, params, {\n        options: {\n          ...pick(options, FIELD_KEY),\n          ...geometryOption,\n          point: geometryOption.point && {\n            color,\n            shape: 'circle',\n            ...geometryOption.point,\n          },\n        },\n      })\n    );\n    // adjust\n    const adjust = [];\n    if (isGroup) {\n      adjust.push({\n        type: 'dodge',\n        dodgeBy: groupField || seriesField,\n        customOffset: 0,\n      });\n    }\n    if (isStack) {\n      adjust.push({\n        type: 'stack',\n      });\n    }\n    if (adjust.length) {\n      each(chart.geometries, (g: Geometry) => {\n        g.adjust(adjust);\n      });\n    }\n  }\n\n  if (isColumn(geometryOption)) {\n    columnAdaptor(\n      deepAssign({}, params, {\n        options: {\n          ...pick(options, FIELD_KEY),\n          ...geometryOption,\n          widthRatio: geometryOption.columnWidthRatio,\n          interval: {\n            ...pick(geometryOption, ['color']),\n            style: geometryOption.columnStyle,\n          },\n        },\n      })\n    );\n  }\n\n  return params;\n}\n","import { Adaptor } from '../../core/adaptor';\nimport { Plot } from '../../core/plot';\nimport { deepAssign } from '../../utils';\nimport { adaptor } from './adaptor';\nimport { DualAxesOptions } from './types';\n\nexport type { DualAxesOptions };\n\nexport class DualAxes extends Plot<DualAxesOptions> {\n  /** :  */\n  public type: string = 'dual-axes';\n\n  /**\n   *   \n   */\n  protected getDefaultOptions(): Partial<DualAxesOptions> {\n    return deepAssign({}, super.getDefaultOptions(), {\n      yAxis: [],\n      syncViewPadding: true,\n    });\n  }\n\n  /**\n   * \n   */\n  protected getSchemaAdaptor(): Adaptor<DualAxesOptions> {\n    return adaptor;\n  }\n}\n","import { each, omit } from '@antv/util';\nimport { theme } from '../../adaptor/common';\nimport { AXIS_META_CONFIG_KEYS } from '../../constant';\nimport { Params } from '../../core/adaptor';\nimport { Axis, Interaction } from '../../types';\nimport { deepAssign, flow, pick } from '../../utils';\nimport { execPlotAdaptor } from '../mix/utils';\nimport { FacetOptions, IPlot, IView } from './types';\nimport { execViewAdaptor } from './utils';\n\nfunction facetAdaptor(params: Params<FacetOptions>): Params<FacetOptions> {\n  const { chart, options } = params;\n  const { type: facetType, data, fields, eachView } = options;\n\n  const restFacetCfg = omit(options as any, [\n    'type',\n    'data',\n    'fields',\n    'eachView',\n    'axes',\n    'meta',\n    'tooltip',\n    'coordinate',\n    'theme',\n    'legend',\n    'interactions',\n    'annotations',\n  ]);\n\n  // 1. data\n  chart.data(data);\n\n  // 2. facet\n  chart.facet(facetType, {\n    ...restFacetCfg,\n    fields,\n    eachView: (viewOfG2, facet) => {\n      const viewOptions = eachView(viewOfG2, facet);\n      if ((viewOptions as IView).geometries) {\n        execViewAdaptor(viewOfG2, viewOptions as IView);\n      } else {\n        const plot = viewOptions as IPlot;\n        const plotOptions = plot.options;\n        // @ts-ignore  tooltip\n        if (plotOptions.tooltip) {\n          //  tooltip \n          viewOfG2.interaction('tooltip');\n        }\n        execPlotAdaptor(plot.type, viewOfG2, plotOptions);\n      }\n    },\n  });\n\n  return params;\n}\n\nfunction component(params: Params<FacetOptions>): Params<FacetOptions> {\n  const { chart, options } = params;\n  const { axes, meta, tooltip, coordinate, theme, legend, interactions, annotations } = options;\n\n  // 3. meta \n  let scales: Record<string, any> = {};\n  if (axes) {\n    each(axes, (axis: Axis, field: string) => {\n      scales[field] = pick(axis, AXIS_META_CONFIG_KEYS);\n    });\n  }\n\n  scales = deepAssign({}, meta, scales);\n  chart.scale(scales);\n\n  // 4. coordinate \n  chart.coordinate(coordinate);\n\n  // 5. axis  ()\n  if (!axes) {\n    chart.axis(false);\n  } else {\n    each(axes, (axis: Axis, field: string) => {\n      chart.axis(field, axis);\n    });\n  }\n\n  // 6. tooltip \n  if (tooltip) {\n    chart.interaction('tooltip');\n    chart.tooltip(tooltip);\n  } else if (tooltip === false) {\n    chart.removeInteraction('tooltip');\n  }\n\n  // 7. legend \n  chart.legend(legend);\n\n  // theme \n  if (theme) {\n    chart.theme(theme);\n  }\n\n  // 8. interactions\n  each(interactions, (interaction: Interaction) => {\n    if (interaction.enable === false) {\n      chart.removeInteraction(interaction.type);\n    } else {\n      chart.interaction(interaction.type, interaction.cfg);\n    }\n  });\n\n  // 9. annotations\n  each(annotations, (annotation) => {\n    chart.annotation()[annotation.type]({\n      ...annotation,\n    });\n  });\n\n  return params;\n}\n\n/**\n * \n * @param chart\n * @param options\n */\nexport function adaptor(params: Params<FacetOptions>) {\n  // flow  G2 API\n  return flow(theme, facetAdaptor, component)(params);\n}\n","import { View } from '@antv/g2';\nimport { each } from '@antv/util';\nimport { geometry as geometryAdaptor } from '../../adaptor/geometries/base';\nimport { AXIS_META_CONFIG_KEYS } from '../../constant';\nimport { Axis, Interaction, Options } from '../../types';\nimport { addViewAnimation, deepAssign, pick } from '../../utils';\nimport { IView } from './types';\n\n/**\n *\n * @param params  \n * @returns facet eachView  view \n */\nexport function execViewAdaptor(viewOfG2: View, options: IView): void {\n  const { data, coordinate, interactions, annotations, animation, tooltip, axes, meta, geometries } = options;\n\n  // 1. data, optional\n  if (data) {\n    viewOfG2.data(data);\n  }\n\n  // 2. meta \n  let scales: Record<string, any> = {};\n  if (axes) {\n    each(axes, (axis: Axis, field: string) => {\n      scales[field] = pick(axis, AXIS_META_CONFIG_KEYS);\n    });\n  }\n\n  scales = deepAssign({}, meta, scales);\n  viewOfG2.scale(scales);\n\n  // 3. coordinate  ()\n  if (coordinate) {\n    viewOfG2.coordinate(coordinate);\n  }\n\n  // 4. axis  ( false )\n  if (axes === false) {\n    viewOfG2.axis(false);\n  } else {\n    each(axes, (axis: Axis, field: string) => {\n      viewOfG2.axis(field, axis);\n    });\n  }\n\n  each(geometries, (geometry) => {\n    // Geometry\n    const { ext } = geometryAdaptor({\n      chart: viewOfG2,\n      options: geometry,\n    });\n\n    // Geometry adjust\n    const { adjust } = geometry;\n    if (adjust) {\n      ext.geometry.adjust(adjust);\n    }\n  });\n\n  // 5. interactions\n  each(interactions, (interaction: Interaction) => {\n    if (interaction.enable === false) {\n      viewOfG2.removeInteraction(interaction.type);\n    } else {\n      viewOfG2.interaction(interaction.type, interaction.cfg);\n    }\n  });\n  // 6. annotations\n  each(annotations, (annotation) => {\n    viewOfG2.annotation()[annotation.type]({\n      ...annotation,\n    });\n  });\n\n  // 7. animation ()\n  addViewAnimation(viewOfG2, animation as Options['animation']);\n\n  if (tooltip) {\n    // 8. tooltip\n    viewOfG2.interaction('tooltip');\n    viewOfG2.tooltip(tooltip);\n  } else if (tooltip === false) {\n    viewOfG2.removeInteraction('tooltip');\n  }\n}\n","/**\n *  \n */\nexport const DEFAULT_OPTIONS = {\n  title: {\n    style: {\n      fontSize: 12,\n      fill: 'rgba(0,0,0,0.65)',\n    },\n  },\n  rowTitle: {\n    style: {\n      fontSize: 12,\n      fill: 'rgba(0,0,0,0.65)',\n    },\n  },\n  columnTitle: {\n    style: {\n      fontSize: 12,\n      fill: 'rgba(0,0,0,0.65)',\n    },\n  },\n};\n","import { Adaptor } from '../../core/adaptor';\nimport { Plot } from '../../core/plot';\nimport { adaptor } from './adaptor';\nimport { DEFAULT_OPTIONS } from './constant';\nimport { FacetOptions } from './types';\n\nexport type { FacetOptions };\n\nexport class Facet extends Plot<FacetOptions> {\n  /**\n   *   \n   * \n   */\n  static getDefaultOptions(): Partial<FacetOptions> {\n    return DEFAULT_OPTIONS;\n  }\n\n  /**  */\n  public type: string = 'area';\n\n  /**\n   *   \n   */\n  protected getDefaultOptions() {\n    return Facet.getDefaultOptions();\n  }\n\n  /**\n   *   \n   */\n  protected getSchemaAdaptor(): Adaptor<FacetOptions> {\n    return adaptor;\n  }\n}\n","import { get, isNumber } from '@antv/util';\nimport { animation, annotation, interaction, pattern, scale, state, theme, tooltip } from '../../adaptor/common';\nimport { geometry as geometryAdaptor } from '../../adaptor/geometries/base';\nimport { Params } from '../../core/adaptor';\nimport { deepAssign, findGeometry, flow, transformLabel } from '../../utils';\nimport { getTooltipMapping } from '../../utils/tooltip';\nimport { HeatmapOptions } from './types';\n\nfunction geometry(params: Params<HeatmapOptions>): Params<HeatmapOptions> {\n  const { chart, options } = params;\n  const { data, type, xField, yField, colorField, sizeField, sizeRatio, shape, color, tooltip, heatmapStyle, meta } =\n    options;\n\n  chart.data(data);\n  let geometryType = 'polygon';\n  if (type === 'density') {\n    geometryType = 'heatmap';\n  }\n\n  const { fields, formatter } = getTooltipMapping(tooltip, [xField, yField, colorField]);\n\n  /**\n   * The ratio between the actual size and the max available size, must be in range `[0,1]`.\n   *\n   * If the `sizeRatio` attribute is undefined or it exceeds the range,\n   * `checkedSizeRatio` would be set to 1 as default.\n   */\n  let checkedSizeRatio = 1;\n  if (sizeRatio || sizeRatio === 0) {\n    if (!shape && !sizeField) {\n      console.warn('sizeRatio is not in effect: Must define shape or sizeField first');\n    } else if (sizeRatio < 0 || sizeRatio > 1) {\n      console.warn('sizeRatio is not in effect: It must be a number in [0,1]');\n    } else {\n      checkedSizeRatio = sizeRatio;\n    }\n  }\n\n  geometryAdaptor(\n    deepAssign({}, params, {\n      options: {\n        type: geometryType,\n        colorField,\n        tooltipFields: fields,\n        shapeField: sizeField || '',\n        label: undefined,\n        mapping: {\n          tooltip: formatter,\n          shape:\n            shape &&\n            (sizeField\n              ? (dautm) => {\n                  const field = data.map((row) => row[sizeField]);\n                  let { min, max } = meta?.[sizeField] || {};\n                  min = isNumber(min) ? min : Math.min(...field);\n                  max = isNumber(max) ? max : Math.max(...field);\n                  return [shape, (get(dautm, sizeField) - min) / (max - min), checkedSizeRatio];\n                }\n              : () => [shape, 1, checkedSizeRatio]),\n          color: color || (colorField && chart.getTheme().sequenceColors.join('-')),\n          style: heatmapStyle,\n        },\n      },\n    })\n  );\n\n  return params;\n}\n\n/**\n * meta \n * @param params\n */\nfunction meta(params: Params<HeatmapOptions>): Params<HeatmapOptions> {\n  const { options } = params;\n  const { xAxis, yAxis, xField, yField } = options;\n\n  return flow(\n    scale({\n      [xField]: xAxis,\n      [yField]: yAxis,\n    })\n  )(params);\n}\n\n/**\n * axis \n * @param params\n */\nfunction axis(params: Params<HeatmapOptions>): Params<HeatmapOptions> {\n  const { chart, options } = params;\n  const { xAxis, yAxis, xField, yField } = options;\n\n  //  false \n  if (xAxis === false) {\n    chart.axis(xField, false);\n  } else {\n    chart.axis(xField, xAxis);\n  }\n\n  if (yAxis === false) {\n    chart.axis(yField, false);\n  } else {\n    chart.axis(yField, yAxis);\n  }\n\n  return params;\n}\n\n/**\n * legend \n * @param params\n */\nfunction legend(params: Params<HeatmapOptions>): Params<HeatmapOptions> {\n  const { chart, options } = params;\n  const { legend, colorField, sizeField, sizeLegend } = options;\n\n  /** legend  false, ,  color  */\n  const showLegend = legend !== false;\n\n  if (colorField) {\n    chart.legend(colorField, showLegend ? legend : false);\n  }\n\n  // :  sizeField  sizeLegend.  legend \n  if (sizeField) {\n    chart.legend(sizeField, sizeLegend === undefined ? legend : sizeLegend);\n  }\n\n  /**  sizeField */\n  if (!showLegend && !sizeLegend) {\n    chart.legend(false);\n  }\n\n  return params;\n}\n\n/**\n * fixme \n * \n * @param params\n */\nfunction label(params: Params<HeatmapOptions>): Params<HeatmapOptions> {\n  const { chart, options } = params;\n  const { label, colorField, type } = options;\n\n  const geometry = findGeometry(chart, type === 'density' ? 'heatmap' : 'polygon');\n\n  if (!label) {\n    geometry.label(false);\n  } else if (colorField) {\n    const { callback, ...cfg } = label;\n    geometry.label({\n      fields: [colorField],\n      callback,\n      cfg: transformLabel(cfg),\n    });\n  }\n\n  return params;\n}\n\n/**\n * \n * @param params\n */\nfunction coordinate(params: Params<HeatmapOptions>): Params<HeatmapOptions> {\n  const { chart, options } = params;\n  const { coordinate, reflect } = options;\n\n  const coordinateOption = deepAssign({ actions: [] }, coordinate ?? { type: 'rect' });\n\n  if (reflect) {\n    coordinateOption.actions?.push?.(['reflect', reflect]);\n  }\n\n  chart.coordinate(coordinateOption);\n\n  return params;\n}\n\n/**\n * \n * @param chart\n * @param options\n */\nexport function adaptor(params: Params<HeatmapOptions>) {\n  // flow  G2 API\n  return flow(\n    theme,\n    pattern('heatmapStyle'),\n    meta,\n    coordinate,\n    geometry,\n    axis,\n    legend,\n    tooltip,\n    label,\n    annotation(),\n    interaction,\n    animation,\n    state\n  )(params);\n}\n","import { Plot } from '../../core/plot';\nimport { deepAssign } from '../../utils';\n\n/**\n * \n */\nexport const DEFAULT_OPTIONS = deepAssign({}, Plot.getDefaultOptions(), {\n  type: 'polygon',\n  legend: false,\n  coordinate: {\n    type: 'rect',\n  },\n  xAxis: {\n    tickLine: null,\n    line: null,\n    grid: {\n      alignTick: false,\n      line: {\n        style: {\n          lineWidth: 1,\n          lineDash: null,\n          stroke: '#f0f0f0',\n        },\n      },\n    },\n  },\n  yAxis: {\n    grid: {\n      alignTick: false,\n      line: {\n        style: {\n          lineWidth: 1,\n          lineDash: null,\n          stroke: '#f0f0f0',\n        },\n      },\n    },\n  },\n});\n","import { IGroup, registerShape, Types } from '@antv/g2';\n\nregisterShape('polygon', 'circle', {\n  draw(cfg: Types.ShapeInfo, group: IGroup) {\n    const cx = cfg.x as number;\n    const cy = cfg.y as number;\n\n    const points = this.parsePoints(cfg.points);\n    const width = Math.abs(points[2].x - points[1].x);\n    const height = Math.abs(points[1].y - points[0].y);\n    const maxRadius = Math.min(width, height) / 2;\n\n    const value = Number(cfg.shape[1]);\n    const sizeRatio = Number(cfg.shape[2]);\n    const radiusRatio = Math.sqrt(sizeRatio);\n    const radius = maxRadius * radiusRatio * Math.sqrt(value);\n    const fill = cfg.style?.fill || cfg.color || cfg.defaultStyle?.fill;\n    const polygon = group.addShape('circle', {\n      attrs: {\n        x: cx,\n        y: cy,\n        r: radius,\n        ...cfg.defaultStyle,\n        ...cfg.style,\n        fill,\n      },\n    });\n    return polygon;\n  },\n});\n","import { IGroup, registerShape, Types } from '@antv/g2';\n\nregisterShape('polygon', 'square', {\n  draw(cfg: Types.ShapeInfo, group: IGroup) {\n    const cx = cfg.x as number;\n    const cy = cfg.y as number;\n\n    const points = this.parsePoints(cfg.points);\n    const width = Math.abs(points[2].x - points[1].x);\n    const height = Math.abs(points[1].y - points[0].y);\n    const maxSideLength = Math.min(width, height);\n\n    const value = Number(cfg.shape[1]);\n    const sizeRatio = Number(cfg.shape[2]);\n    const lenRatio = Math.sqrt(sizeRatio);\n    const sideLength = maxSideLength * lenRatio * Math.sqrt(value);\n    const fill = cfg.style?.fill || cfg.color || cfg.defaultStyle?.fill;\n    const polygon = group.addShape('rect', {\n      attrs: {\n        x: cx - sideLength / 2,\n        y: cy - sideLength / 2,\n        width: sideLength,\n        height: sideLength,\n        ...cfg.defaultStyle,\n        ...cfg.style,\n        fill,\n      },\n    });\n    return polygon;\n  },\n});\n","import { Adaptor } from '../../core/adaptor';\nimport { Plot } from '../../core/plot';\nimport { adaptor } from './adaptor';\nimport { DEFAULT_OPTIONS } from './constant';\n// registered shapes\nimport './shapes/circle';\nimport './shapes/square';\nimport { HeatmapOptions } from './types';\n\nexport type { HeatmapOptions };\n\nexport class Heatmap extends Plot<HeatmapOptions> {\n  /**\n   *   \n   * \n   */\n  static getDefaultOptions(): Partial<HeatmapOptions> {\n    return DEFAULT_OPTIONS;\n  }\n\n  /**  */\n  public type: string = 'heatmap';\n\n  /**\n   * \n   */\n  protected getSchemaAdaptor(): Adaptor<HeatmapOptions> {\n    return adaptor;\n  }\n\n  /**\n   *   \n   */\n  protected getDefaultOptions() {\n    return Heatmap.getDefaultOptions();\n  }\n}\n","const CAT_VALUE = 'liquid';\n\n/**\n * \n */\nexport function getLiquidData(percent: number) {\n  return [{ percent, type: CAT_VALUE }];\n}\n","import { Geometry } from '@antv/g2';\nimport { get, isNil } from '@antv/util';\nimport { animation, interaction, pattern, scale, theme } from '../../adaptor/common';\nimport { interval } from '../../adaptor/geometries';\nimport { Params } from '../../core/adaptor';\nimport { deepAssign, flow, renderStatistic } from '../../utils';\nimport { CustomInfo, LiquidOptions } from './types';\nimport { getLiquidData } from './utils';\n\n/**\n * geometry \n * @param params\n */\nfunction geometry(params: Params<LiquidOptions>): Params<LiquidOptions> {\n  const { chart, options } = params;\n  const { percent, liquidStyle, radius, outline, wave, shape, shapeStyle, animation } = options;\n\n  chart.scale({\n    percent: {\n      min: 0,\n      max: 1,\n    },\n  });\n\n  chart.data(getLiquidData(percent));\n\n  const color = options.color || chart.getTheme().defaultColor;\n\n  const p = deepAssign({}, params, {\n    options: {\n      xField: 'type',\n      yField: 'percent',\n      // radius  columnWidthRatio \n      //   radius \n      widthRatio: radius,\n      interval: {\n        color,\n        style: liquidStyle,\n        shape: 'liquid-fill-gauge',\n      },\n    },\n  });\n  const { ext } = interval(p);\n  const geometry = ext.geometry as Geometry;\n  const { background } = chart.getTheme();\n  const customInfo: CustomInfo = {\n    radius,\n    outline,\n    wave,\n    shape,\n    shapeStyle,\n    background,\n    animation,\n  };\n\n  //  radius  shape \n  geometry.customInfo(customInfo);\n\n  // \n  chart.legend(false);\n  chart.axis(false);\n  chart.tooltip(false);\n\n  return params;\n}\n\n/**\n * \n * @param params\n */\nexport function statistic(params: Params<LiquidOptions>, updated?: boolean): Params<LiquidOptions> {\n  const { chart, options } = params;\n  const { statistic, percent, meta } = options;\n\n  // \n  chart.getController('annotation').clear(true);\n\n  const metaFormatter = get(meta, ['percent', 'formatter']) || ((v) => `${(v * 100).toFixed(2)}%`);\n  let contentOpt = statistic.content;\n  if (contentOpt) {\n    contentOpt = deepAssign({}, contentOpt, {\n      content: !isNil(contentOpt.content) ? contentOpt.content : metaFormatter(percent),\n    });\n  }\n\n  renderStatistic(chart, { statistic: { ...statistic, content: contentOpt }, plotType: 'liquid' }, { percent });\n\n  if (updated) {\n    chart.render(true);\n  }\n\n  return params;\n}\n\n/**\n * \n * @param chart\n * @param options\n */\nexport function adaptor(params: Params<LiquidOptions>) {\n  // flow  G2 API ()\n  return flow(theme, pattern('liquidStyle'), geometry, statistic, scale({}), animation, interaction)(params);\n}\n","/**\n * \n */\nexport const DEFAULT_OPTIONS = {\n  radius: 0.9,\n  statistic: {\n    title: false as const,\n    content: {\n      style: {\n        opacity: 0.75,\n        fontSize: '30px',\n        lineHeight: '30px',\n        textAlign: 'center',\n      },\n    },\n  },\n  outline: {\n    border: 2,\n    distance: 0,\n  },\n  wave: {\n    count: 3,\n    length: 192,\n  },\n  shape: 'circle',\n};\n","import { IGroup, IShape } from '@antv/g-base';\nimport { registerShape } from '@antv/g2';\nimport { isNumber, mix, reduce } from '@antv/util';\nimport { Point, ShapeStyle } from '../../../types';\nimport { transform } from '../../../utils/matrix';\nimport { CustomInfo, LiquidOptions } from '../types';\n\nconst DURATION = 5000;\n\n/**\n * \n * @param min\n * @param max\n * @param factor\n */\nfunction lerp(min: number, max: number, factor: number) {\n  return min + (max - min) * factor;\n}\n\n/**\n *  attrs\n * @param cfg\n */\nfunction getFillAttrs(cfg: ShapeStyle) {\n  const attrs = { opacity: 1, ...cfg.style };\n\n  if (cfg.color && !attrs.fill) {\n    attrs.fill = cfg.color;\n  }\n\n  return attrs;\n}\n\n/**\n * shape  attrs\n * @param cfg\n */\nfunction getLineAttrs(cfg: ShapeStyle) {\n  const defaultAttrs = {\n    fill: '#fff',\n    fillOpacity: 0,\n    lineWidth: 4,\n  };\n  const attrs = mix({}, defaultAttrs, cfg.style);\n\n  if (cfg.color && !attrs.stroke) {\n    attrs.stroke = cfg.color;\n  }\n  if (isNumber(cfg.opacity)) {\n    attrs.opacity = attrs.strokeOpacity = cfg.opacity;\n  }\n\n  return attrs;\n}\n\n/**\n * \n * Using Bezier curves to fit sine wave.\n * There is 4 control points for each curve of wave,\n * which is at 1/4 wave length of the sine wave.\n *\n * The control points for a wave from (a) to (d) are a-b-c-d:\n *          c *----* d\n *     b *\n *       |\n * ... a * ..................\n *\n * whose positions are a: (0, 0), b: (0.5, 0.5), c: (1, 1), d: (PI / 2, 1)\n *\n * @param x          x position of the left-most point (a)\n * @param stage      0-3, stating which part of the wave it is\n * @param waveLength wave length of the sine wave\n * @param amplitude  wave amplitude\n * @return \n */\nfunction getWaterWavePositions(x: number, stage: number, waveLength: number, amplitude: number) {\n  if (stage === 0) {\n    return [\n      [x + ((1 / 2) * waveLength) / Math.PI / 2, amplitude / 2],\n      [x + ((1 / 2) * waveLength) / Math.PI, amplitude],\n      [x + waveLength / 4, amplitude],\n    ];\n  }\n  if (stage === 1) {\n    return [\n      [x + (((1 / 2) * waveLength) / Math.PI / 2) * (Math.PI - 2), amplitude],\n      [x + (((1 / 2) * waveLength) / Math.PI / 2) * (Math.PI - 1), amplitude / 2],\n      [x + waveLength / 4, 0],\n    ];\n  }\n  if (stage === 2) {\n    return [\n      [x + ((1 / 2) * waveLength) / Math.PI / 2, -amplitude / 2],\n      [x + ((1 / 2) * waveLength) / Math.PI, -amplitude],\n      [x + waveLength / 4, -amplitude],\n    ];\n  }\n  return [\n    [x + (((1 / 2) * waveLength) / Math.PI / 2) * (Math.PI - 2), -amplitude],\n    [x + (((1 / 2) * waveLength) / Math.PI / 2) * (Math.PI - 1), -amplitude / 2],\n    [x + waveLength / 4, 0],\n  ];\n}\n/**\n * \n * @param radius          \n * @param waterLevel      \n * @param waveLength      \n * @param phase           \n * @param amplitude       \n * @param cx              x\n * @param cy              y\n * @return path            \n * @reference http://gitlab.alipay-inc.com/datavis/g6/blob/1.2.0/src/graph/utils/path.js#L135\n */\nfunction getWaterWavePath(\n  radius: number,\n  waterLevel: number,\n  waveLength: number,\n  phase: number,\n  amplitude: number,\n  cx: number,\n  cy: number\n) {\n  const curves = Math.ceil(((2 * radius) / waveLength) * 4) * 4;\n  const path = [];\n  let _phase = phase;\n\n  // map phase to [-Math.PI * 2, 0]\n  while (_phase < -Math.PI * 2) {\n    _phase += Math.PI * 2;\n  }\n  while (_phase > 0) {\n    _phase -= Math.PI * 2;\n  }\n  _phase = (_phase / Math.PI / 2) * waveLength;\n\n  const left = cx - radius + _phase - radius * 2;\n  /**\n   * top-left corner as start point\n   *\n   * draws this point\n   *  |\n   * \\|/\n   *  ~~~~~~~~\n   *  |      |\n   *  +------+\n   */\n  path.push(['M', left, waterLevel]);\n\n  /**\n   * top wave\n   *\n   * ~~~~~~~~ <- draws this sine wave\n   * |      |\n   * +------+\n   */\n  let waveRight = 0;\n  for (let c = 0; c < curves; ++c) {\n    const stage = c % 4;\n    const pos = getWaterWavePositions((c * waveLength) / 4, stage, waveLength, amplitude);\n    path.push([\n      'C',\n      pos[0][0] + left,\n      -pos[0][1] + waterLevel,\n      pos[1][0] + left,\n      -pos[1][1] + waterLevel,\n      pos[2][0] + left,\n      -pos[2][1] + waterLevel,\n    ]);\n\n    if (c === curves - 1) {\n      waveRight = pos[2][0];\n    }\n  }\n\n  /**\n   * top-right corner\n   *\n   *                       ~~~~~~~~\n   * 3. draws this line -> |      | <- 1. draws this line\n   *                       +------+\n   *                          ^\n   *                          |\n   *                  2. draws this line\n   */\n  path.push(['L', waveRight + left, cy + radius]);\n  path.push(['L', left, cy + radius]);\n  path.push(['Z']);\n  // path.push(['L', left, waterLevel]);\n  return path;\n}\n\n/**\n * \n * @param x           x\n * @param y           y\n * @param level        01\n * @param waveCount   \n * @param waveAttrs      \n * @param group       \n * @param clip        \n * @param radius      \n * @param waveLength  \n */\nexport function addWaterWave(\n  x: number,\n  y: number,\n  level: number,\n  waveCount: number,\n  waveAttrs: ShapeStyle,\n  group: IGroup,\n  clip: IShape,\n  radius: number,\n  waveLength: number,\n  animation: LiquidOptions['animation']\n) {\n  //   \n  const { fill, opacity } = waveAttrs;\n  const bbox = clip.getBBox();\n  const width = bbox.maxX - bbox.minX;\n  const height = bbox.maxY - bbox.minY;\n\n  //  waveCount \n  for (let idx = 0; idx < waveCount; idx++) {\n    const factor = waveCount <= 1 ? 1 : idx / (waveCount - 1);\n\n    // \n    const wave = group.addShape('path', {\n      name: `waterwave-path`,\n      attrs: {\n        // \n        path: getWaterWavePath(\n          radius,\n          bbox.minY + height * level,\n          waveLength,\n          0,\n          width / 32, // \n          x,\n          y\n        ),\n        fill,\n        opacity: lerp(0.2, 0.9, factor) * opacity,\n      },\n    });\n\n    try {\n      //  underfind \n      if (animation === false) return;\n      const matrix = transform([['t', waveLength, 0]]);\n\n      wave.stopAnimate();\n      wave.animate(\n        { matrix },\n        {\n          duration: lerp(0.5 * DURATION, DURATION, factor),\n          repeat: true,\n        }\n      );\n    } catch (e) {\n      // TODO off-screen canvas  canvas\n      console.warn('off-screen group animate error!');\n    }\n  }\n}\n\n/**\n *\n * @param x  x\n * @param y  y\n * @param width \n * @param height \n */\nfunction pin(x: number, y: number, width: number, height: number) {\n  const w = (width * 2) / 3;\n  const h = Math.max(w, height);\n  const r = w / 2;\n\n  // attrs of the upper circle\n  const cx = x;\n  const cy = r + y - h / 2;\n  const theta = Math.asin(r / ((h - r) * 0.85));\n  const dy = Math.sin(theta) * r;\n  const dx = Math.cos(theta) * r;\n\n  // the start point of the path\n  const x0 = cx - dx;\n  const y0 = cy + dy;\n\n  // control point\n  const cpX = x;\n  const cpY = cy + r / Math.sin(theta);\n\n  return `\n      M ${x0} ${y0}\n      A ${r} ${r} 0 1 1 ${x0 + dx * 2} ${y0}\n      Q ${cpX} ${cpY} ${x} ${y + h / 2}\n      Q ${cpX} ${cpY} ${x0} ${y0}\n      Z \n    `;\n}\n\n/**\n *\n * @param x  x\n * @param y  y\n * @param width \n * @param height \n */\nfunction circle(x: number, y: number, width: number, height: number) {\n  const rx = width / 2;\n  const ry = height / 2;\n  return `\n      M ${x} ${y - ry} \n      a ${rx} ${ry} 0 1 0 0 ${ry * 2}\n      a ${rx} ${ry} 0 1 0 0 ${-ry * 2}\n      Z\n    `;\n}\n\n/**\n *\n * @param x  x\n * @param y  y\n * @param width \n * @param height \n */\nfunction diamond(x: number, y: number, width: number, height: number) {\n  const h = height / 2;\n  const w = width / 2;\n  return `\n      M ${x} ${y - h}\n      L ${x + w} ${y}\n      L ${x} ${y + h}\n      L ${x - w} ${y}\n      Z\n    `;\n}\n\n/**\n *\n * @param x  x\n * @param y  y\n * @param width \n * @param height \n */\nfunction triangle(x: number, y: number, width: number, height: number) {\n  const h = height / 2;\n  const w = width / 2;\n  return `\n      M ${x} ${y - h}\n      L ${x + w} ${y + h}\n      L ${x - w} ${y + h}\n      Z\n    `;\n}\n\n/**\n *\n * @param x  x\n * @param y  y\n * @param width \n * @param height \n */\nfunction rect(x: number, y: number, width: number, height: number) {\n  const GOLDEN_SECTION_RATIO = 0.618;\n  const h = height / 2;\n  const w = (width / 2) * GOLDEN_SECTION_RATIO;\n  return `\n      M ${x - w} ${y - h}\n      L ${x + w} ${y - h}\n      L ${x + w} ${y + h}\n      L ${x - w} ${y + h}\n      Z\n    `;\n}\n\nconst builtInShapeByName = {\n  pin,\n  circle,\n  diamond,\n  triangle,\n  rect,\n};\n\nregisterShape('interval', 'liquid-fill-gauge', {\n  draw(cfg: any, container: IGroup) {\n    const cx = 0.5;\n    const cy = 0.5;\n\n    const { customInfo } = cfg;\n    const { radius: radio, shape, shapeStyle, background, animation } = customInfo as CustomInfo;\n    const outline: LiquidOptions['outline'] = customInfo.outline;\n    const wave: LiquidOptions['wave'] = customInfo.wave;\n    const { border, distance } = outline;\n    const { count: waveCount, length: waveLength } = wave;\n\n    //  minX\n    const minX = reduce(\n      cfg.points as Point[],\n      (r: number, p: Point) => {\n        return Math.min(r, p.x);\n      },\n      Infinity\n    );\n\n    const center = this.parsePoint({ x: cx, y: cy });\n    const minXPoint = this.parsePoint({ x: minX, y: cy });\n    const halfWidth = center.x - minXPoint.x;\n\n    //   radius \n    const radius = Math.min(halfWidth, minXPoint.y * radio);\n    const waveAttrs = getFillAttrs(cfg);\n    const outlineAttrs = getLineAttrs(mix({}, cfg, outline));\n    const innerRadius = radius - border / 2;\n\n    const buildPath = typeof shape === 'function' ? shape : builtInShapeByName[shape] || builtInShapeByName['circle'];\n    const shapePath = buildPath(center.x, center.y, innerRadius * 2, innerRadius * 2);\n\n    // 1.  shapeStyle \n    if (shapeStyle) {\n      container.addShape('path', {\n        name: 'shape',\n        attrs: {\n          path: shapePath,\n          ...shapeStyle,\n        },\n      });\n    }\n\n    // 2. \n    const waves = container.addGroup({\n      name: 'waves',\n    });\n\n    // 3.  clip \n    const clipPath = waves.setClip({\n      type: 'path',\n      attrs: {\n        path: shapePath,\n      },\n    });\n\n    // 4. \n    addWaterWave(\n      center.x,\n      center.y,\n      1 - (cfg.points[1] as Point).y,\n      waveCount,\n      waveAttrs,\n      waves,\n      clipPath,\n      radius * 2,\n      waveLength,\n      animation\n    );\n\n    // 5.  distance  border\n    container.addShape('path', {\n      name: 'distance',\n      attrs: {\n        path: shapePath,\n        fill: 'transparent',\n        lineWidth: border + distance * 2,\n        stroke: background === 'transparent' ? '#fff' : background,\n      },\n    });\n\n    // 6.  border  border\n    container.addShape('path', {\n      name: 'wrap',\n      attrs: mix(outlineAttrs, {\n        path: shapePath,\n        fill: 'transparent',\n        lineWidth: border,\n      }),\n    });\n\n    return container;\n  },\n});\n","import { Event, VIEW_LIFE_CIRCLE } from '@antv/g2';\nimport { Adaptor } from '../../core/adaptor';\nimport { Plot } from '../../core/plot';\nimport { adaptor, statistic } from './adaptor';\nimport { DEFAULT_OPTIONS } from './constants';\n// register liquid shape\nimport './shapes/liquid';\nimport { LiquidOptions } from './types';\nimport { getLiquidData } from './utils';\n\nexport { addWaterWave } from './shapes/liquid';\nexport type { LiquidOptions };\n\n/**\n * \n */\nexport class Liquid extends Plot<LiquidOptions> {\n  /**\n   *   \n   * \n   */\n  static getDefaultOptions(): Partial<LiquidOptions> {\n    return DEFAULT_OPTIONS;\n  }\n\n  /**  */\n  public type: string = 'liquid';\n\n  /**\n   *   ,  base \n   */\n  protected getDefaultOptions(): Partial<LiquidOptions> {\n    return Liquid.getDefaultOptions();\n  }\n\n  /**\n   * \n   * @param percent\n   */\n  public changeData(percent: number) {\n    this.chart.emit(\n      VIEW_LIFE_CIRCLE.BEFORE_CHANGE_DATA,\n      Event.fromData(this.chart, VIEW_LIFE_CIRCLE.BEFORE_CHANGE_DATA, null)\n    );\n    this.updateOption({ percent });\n\n    this.chart.data(getLiquidData(percent));\n    statistic({ chart: this.chart, options: this.options }, true);\n\n    this.chart.emit(\n      VIEW_LIFE_CIRCLE.AFTER_CHANGE_DATA,\n      Event.fromData(this.chart, VIEW_LIFE_CIRCLE.AFTER_CHANGE_DATA, null)\n    );\n  }\n\n  /**\n   * \n   */\n  protected getSchemaAdaptor(): Adaptor<LiquidOptions> {\n    return adaptor;\n  }\n}\n","import { animation, annotation, interaction, legend, scale, theme, tooltip } from '../../adaptor/common';\nimport { area, line, point } from '../../adaptor/geometries';\nimport { Params } from '../../core/adaptor';\nimport { deepAssign, findGeometry, flow, transformLabel } from '../../utils';\nimport { RadarOptions } from './types';\n\n/**\n * geometry \n * @param params\n */\nfunction geometry(params: Params<RadarOptions>): Params<RadarOptions> {\n  const { chart, options } = params;\n  const { data, lineStyle, color, point: pointOptions, area: areaOptions } = options;\n\n  chart.data(data);\n\n  //   geometry\n  const primary = deepAssign({}, params, {\n    options: {\n      line: {\n        style: lineStyle,\n        color,\n      },\n      point: pointOptions\n        ? {\n            color,\n            ...pointOptions,\n          }\n        : pointOptions,\n      area: areaOptions\n        ? {\n            color,\n            ...areaOptions,\n          }\n        : areaOptions,\n      // label  geometry adaptor label adaptor \n      label: undefined,\n    },\n  });\n  //  Geometry\n  const second = deepAssign({}, primary, {\n    options: {\n      tooltip: false,\n    },\n  });\n  //  point.state,  state \n  const pointState = pointOptions?.state || options.state;\n  const pointParams = deepAssign({}, primary, { options: { tooltip: false, state: pointState } });\n\n  line(primary);\n  point(pointParams);\n  area(second);\n\n  return params;\n}\n\n/**\n * meta \n * @param params\n */\nfunction meta(params: Params<RadarOptions>): Params<RadarOptions> {\n  const { options } = params;\n  const { xAxis, yAxis, xField, yField } = options;\n\n  return flow(\n    scale({\n      [xField]: xAxis,\n      [yField]: yAxis,\n    })\n  )(params);\n}\n\n/**\n * coord \n * @param params\n */\nfunction coord(params: Params<RadarOptions>): Params<RadarOptions> {\n  const { chart, options } = params;\n  const { radius, startAngle, endAngle } = options;\n\n  chart.coordinate('polar', {\n    radius,\n    startAngle,\n    endAngle,\n  });\n  return params;\n}\n\n/**\n * axis \n * @param params\n */\nfunction axis(params: Params<RadarOptions>): Params<RadarOptions> {\n  const { chart, options } = params;\n  const { xField, xAxis, yField, yAxis } = options;\n\n  chart.axis(xField, xAxis);\n  chart.axis(yField, yAxis);\n\n  return params;\n}\n\n/**\n * label \n * @param params\n */\nfunction label(params: Params<RadarOptions>): Params<RadarOptions> {\n  const { chart, options } = params;\n  const { label, yField } = options;\n\n  const geometry = findGeometry(chart, 'line');\n\n  if (!label) {\n    geometry.label(false);\n  } else {\n    const { callback, ...cfg } = label;\n    geometry.label({\n      fields: [yField],\n      callback,\n      cfg: transformLabel(cfg),\n    });\n  }\n\n  return params;\n}\n\n/**\n * \n * @param chart\n * @param options\n */\nexport function adaptor(params: Params<RadarOptions>) {\n  // flow  G2 API\n  return flow(geometry, meta, theme, coord, axis, legend, tooltip, label, interaction, animation, annotation())(params);\n}\n","import { Action, registerComponentController, TooltipController, Util } from '@antv/g2';\nimport { isNil } from '@antv/util';\nimport { Point } from '../../../types';\n\nexport class RadarTooltipController extends TooltipController {\n  public get name(): string {\n    return 'radar-tooltip';\n  }\n\n  public getTooltipItems(point: Point) {\n    const { shared, title: cfgTitle } = this.getTooltipCfg();\n    const hintItems = super.getTooltipItems(point);\n\n    if (hintItems.length > 0) {\n      const geometry = this.view.geometries[0];\n      const dataArray = geometry.dataArray;\n      const title = hintItems[0].name;\n      const result = [];\n      dataArray.forEach((mappingData) => {\n        mappingData.forEach((d) => {\n          const items = Util.getTooltipItems(d, geometry);\n          const item = items[0];\n          if (!shared && item && item.name === title) {\n            const displayTitle = isNil(cfgTitle) ? title : cfgTitle;\n            result.push({ ...item, name: item.title, title: displayTitle });\n          } else if (shared && item) {\n            const displayTitle = isNil(cfgTitle) ? item.name || title : cfgTitle;\n            result.push({ ...item, name: item.title, title: displayTitle });\n          }\n        });\n      });\n\n      return result;\n    }\n    return [];\n  }\n}\nregisterComponentController('radar-tooltip', RadarTooltipController);\n\n/**\n *  tooltip  action\n */\nexport class RadarTooltipAction extends Action {\n  init() {\n    const { view } = this.context;\n    view.removeInteraction('tooltip');\n  }\n\n  public show() {\n    const { event } = this.context;\n    const controller = this.getTooltipController();\n    controller.showTooltip({ x: event.x, y: event.y });\n  }\n\n  public hide() {\n    const controller = this.getTooltipController();\n    controller.hideTooltip();\n  }\n\n  private getTooltipController() {\n    const { view } = this.context;\n    return view.getController('radar-tooltip') as TooltipController;\n  }\n}\n","import { registerAction, registerInteraction } from '@antv/g2';\nimport { RadarTooltipAction } from './radar-tooltip-action';\n\nregisterAction('radar-tooltip', RadarTooltipAction);\nregisterInteraction('radar-tooltip', {\n  start: [{ trigger: 'plot:mousemove', action: 'radar-tooltip:show' }],\n  end: [{ trigger: 'plot:mouseleave', action: 'radar-tooltip:hide' }],\n});\n","import { Adaptor } from '../../core/adaptor';\nimport { Plot } from '../../core/plot';\nimport { deepAssign } from '../../utils';\nimport { adaptor } from './adaptor';\nimport './interactions';\nimport { RadarOptions } from './types';\n\nexport type { RadarOptions };\n\nexport class Radar extends Plot<RadarOptions> {\n  /**  */\n  public type: string = 'radar';\n\n  /**\n   * @override\n   * @param data\n   */\n  public changeData(data) {\n    this.updateOption({ data });\n    this.chart.changeData(data);\n  }\n\n  /**\n   *   \n   */\n  protected getDefaultOptions(): Partial<RadarOptions> {\n    return deepAssign({}, super.getDefaultOptions(), {\n      xAxis: {\n        label: {\n          offset: 15,\n        },\n        grid: {\n          line: {\n            type: 'line',\n          },\n        },\n      },\n      yAxis: {\n        grid: {\n          line: {\n            type: 'circle',\n          },\n        },\n      },\n      legend: {\n        position: 'top',\n      },\n      tooltip: {\n        shared: true,\n        showCrosshairs: true,\n        showMarkers: true,\n        crosshairs: {\n          type: 'xy',\n          line: {\n            style: {\n              stroke: '#565656',\n              lineDash: [4],\n            },\n          },\n          follow: true,\n        },\n      },\n    });\n  }\n\n  /**\n   *   \n   */\n  protected getSchemaAdaptor(): Adaptor<RadarOptions> {\n    return adaptor;\n  }\n}\n","import { Data } from '../../types';\n\nexport function getScaleMax(maxAngle: number, yField: string, data: Data): number {\n  const yData = data.map((item) => item[yField]).filter((v) => v !== undefined);\n  const maxValue = yData.length > 0 ? Math.max(...yData) : 0;\n  const formatRadian = Math.abs(maxAngle) % 360;\n  if (!formatRadian) {\n    return maxValue;\n  }\n  return (maxValue * 360) / formatRadian;\n}\n\n/**\n * \n */\nexport function getStackedData(data: Data, xField: string, yField: string) {\n  const stackedData: Data = [];\n  data.forEach((item) => {\n    const valueItem = stackedData.find((v) => v[xField] === item[xField]);\n    if (valueItem) {\n      valueItem[yField] += item[yField] || null;\n    } else {\n      stackedData.push({ ...item });\n    }\n  });\n  return stackedData;\n}\n","import { animation, annotation, interaction, legend, scale, theme, tooltip } from '../../adaptor/common';\nimport { interval, point } from '../../adaptor/geometries';\nimport { pattern } from '../../adaptor/pattern';\nimport { Params } from '../../core/adaptor';\nimport { deepAssign, findGeometry, flow, processIllegalData, transformLabel } from '../../utils';\nimport { RadialBarOptions } from './types';\nimport { getScaleMax, getStackedData } from './utils';\n\n/**\n * geometry \n * @param params\n */\nfunction geometry(params: Params<RadialBarOptions>): Params<RadialBarOptions> {\n  const { chart, options } = params;\n  const { barStyle: style, color, tooltip, colorField, type, xField, yField, data } = options;\n\n  // \n  const processData = processIllegalData(data, yField);\n  chart.data(processData);\n\n  const p = deepAssign({}, params, {\n    options: {\n      tooltip,\n      seriesField: colorField,\n      interval: {\n        style,\n        color,\n        shape: type === 'line' ? 'line' : 'intervel',\n      },\n      // \n      minColumnWidth: options.minBarWidth,\n      maxColumnWidth: options.maxBarWidth,\n      columnBackground: options.barBackground,\n    },\n  });\n  interval(p);\n  if (type === 'line') {\n    point({\n      chart,\n      options: { xField, yField, seriesField: colorField, point: { shape: 'circle', color } },\n    });\n  }\n  return params;\n}\n\n/**\n * meta \n * @param params\n */\nexport function meta(params: Params<RadialBarOptions>): Params<RadialBarOptions> {\n  const { options } = params;\n  const { yField, xField, data, isStack, isGroup, colorField, maxAngle } = options;\n\n  const actualData = isStack && !isGroup && colorField ? getStackedData(data, xField, yField) : data;\n  const processData = processIllegalData(actualData, yField);\n  return flow(\n    scale({\n      [yField]: {\n        min: 0,\n        max: getScaleMax(maxAngle, yField, processData),\n      },\n    })\n  )(params);\n}\n\n/**\n * coordinate \n * @param params\n */\nfunction coordinate(params: Params<RadialBarOptions>): Params<RadialBarOptions> {\n  const { chart, options } = params;\n  const { radius, innerRadius, startAngle, endAngle } = options;\n\n  chart\n    .coordinate({\n      type: 'polar',\n      cfg: {\n        radius,\n        innerRadius,\n        startAngle,\n        endAngle,\n      },\n    })\n    .transpose();\n  return params;\n}\n\n/**\n * axis \n * @param params\n */\nexport function axis(params: Params<RadialBarOptions>): Params<RadialBarOptions> {\n  const { chart, options } = params;\n  const { xField, xAxis } = options;\n  chart.axis(xField, xAxis);\n  return params;\n}\n\n/**\n * \n * @param params\n */\nfunction label(params: Params<RadialBarOptions>): Params<RadialBarOptions> {\n  const { chart, options } = params;\n  const { label, yField } = options;\n\n  const intervalGeometry = findGeometry(chart, 'interval');\n\n  // label  false,   label\n  if (!label) {\n    intervalGeometry.label(false);\n  } else {\n    const { callback, ...cfg } = label;\n    intervalGeometry.label({\n      fields: [yField],\n      callback,\n      cfg: {\n        ...transformLabel(cfg),\n        type: 'polar',\n      },\n    });\n  }\n\n  return params;\n}\n\n/**\n * \n * @param chart\n * @param options\n */\nexport function adaptor(params: Params<RadialBarOptions>) {\n  return flow(\n    pattern('barStyle'),\n    geometry,\n    meta,\n    axis,\n    coordinate,\n    interaction,\n    animation,\n    theme,\n    tooltip,\n    legend,\n    annotation(),\n    label\n  )(params);\n}\n","import { Plot } from '../../core/plot';\nimport { deepAssign } from '../../utils';\n\n/**\n *  \n */\nexport const DEFAULT_OPTIONS = deepAssign({}, Plot.getDefaultOptions(), {\n  interactions: [{ type: 'element-active' }],\n  legend: false,\n  tooltip: {\n    showMarkers: false,\n  },\n  xAxis: {\n    grid: null,\n    tickLine: null,\n    line: null,\n  },\n  maxAngle: 240,\n});\n","import { Adaptor } from '../../core/adaptor';\nimport { Plot } from '../../core/plot';\nimport { adaptor, meta } from './adaptor';\nimport { DEFAULT_OPTIONS } from './constant';\nimport { RadialBarOptions } from './types';\n\nexport type { RadialBarOptions };\n\n/**\n * \n */\nexport class RadialBar extends Plot<RadialBarOptions> {\n  static getDefaultOptions(): Partial<RadialBarOptions> {\n    return DEFAULT_OPTIONS;\n  }\n  /**  */\n  public type: string = 'radial-bar';\n\n  /**\n   * @override\n   * @param data\n   */\n  public changeData(data) {\n    this.updateOption({ data });\n    //  scale\n    meta({ chart: this.chart, options: this.options });\n    this.chart.changeData(data);\n  }\n\n  /**\n   * \n   */\n  protected getDefaultOptions(): Partial<RadialBarOptions> {\n    return RadialBar.getDefaultOptions();\n  }\n\n  /**\n   * \n   */\n  protected getSchemaAdaptor(): Adaptor<RadialBarOptions> {\n    return adaptor;\n  }\n}\n","import { filter, isArray, isObject } from '@antv/util';\nimport { animation, annotation, interaction, pattern, scale, state, theme, tooltip } from '../../adaptor/common';\nimport { interval } from '../../adaptor/geometries';\nimport { Params } from '../../core/adaptor';\nimport { deepAssign, findGeometry, flow, LEVEL, log, transformLabel } from '../../utils';\nimport { RoseOptions } from './types';\n\n/**\n * geometry \n * @param params\n */\nfunction geometry(params: Params<RoseOptions>): Params<RoseOptions> {\n  const { chart, options } = params;\n  const { data, sectorStyle, color } = options;\n\n  // \n  chart.data(data);\n\n  flow(interval)(\n    deepAssign({}, params, {\n      options: {\n        marginRatio: 1,\n        interval: {\n          style: sectorStyle,\n          color,\n        },\n      },\n    })\n  );\n\n  return params;\n}\n\n/**\n * label \n * @param params\n */\nfunction label(params: Params<RoseOptions>): Params<RoseOptions> {\n  const { chart, options } = params;\n  const { label, xField } = options;\n  const geometry = findGeometry(chart, 'interval');\n\n  // label  false  label\n  if (label === false) {\n    geometry.label(false);\n  } else if (isObject(label)) {\n    const { callback, fields, ...cfg } = label;\n    const { offset } = cfg;\n    let layout = cfg.layout;\n\n    //  label  shape  'limit-in-shape' \n    //  label \n    if (offset === undefined || offset >= 0) {\n      layout = layout ? (isArray(layout) ? layout : [layout]) : [];\n      cfg.layout = filter(layout, (v) => v.type !== 'limit-in-shape');\n      cfg.layout.length || delete cfg.layout;\n    }\n\n    geometry.label({\n      fields: fields || [xField],\n      callback,\n      cfg: transformLabel(cfg),\n    });\n  } else {\n    log(LEVEL.WARN, label === null, 'the label option must be an Object.');\n    geometry.label({ fields: [xField] });\n  }\n\n  return params;\n}\n\n/**\n * legend \n * @param params\n */\nexport function legend(params: Params<RoseOptions>): Params<RoseOptions> {\n  const { chart, options } = params;\n  const { legend, seriesField } = options;\n\n  if (legend === false) {\n    chart.legend(false);\n  } else if (seriesField) {\n    chart.legend(seriesField, legend);\n  }\n\n  return params;\n}\n\n/**\n * coord \n * @param params\n */\nfunction coordinate(params: Params<RoseOptions>): Params<RoseOptions> {\n  const { chart, options } = params;\n  const { radius, innerRadius, startAngle, endAngle } = options;\n\n  chart.coordinate({\n    type: 'polar',\n    cfg: {\n      radius,\n      innerRadius,\n      startAngle,\n      endAngle,\n    },\n  });\n\n  return params;\n}\n\n/**\n * meta \n * @param params\n */\nfunction meta(params: Params<RoseOptions>): Params<RoseOptions> {\n  const { options } = params;\n  const { xAxis, yAxis, xField, yField } = options;\n\n  return flow(\n    scale({\n      [xField]: xAxis,\n      [yField]: yAxis,\n    })\n  )(params);\n}\n\n/**\n * axis \n * @param params\n */\nfunction axis(params: Params<RoseOptions>): Params<RoseOptions> {\n  const { chart, options } = params;\n  const { xAxis, yAxis, xField, yField } = options;\n\n  //  falsy \n  if (!xAxis) {\n    chart.axis(xField, false);\n  } else {\n    chart.axis(xField, xAxis);\n  }\n\n  if (!yAxis) {\n    chart.axis(yField, false);\n  } else {\n    chart.axis(yField, yAxis);\n  }\n\n  return params;\n}\n\n/**\n * \n * @param chart\n * @param options\n */\nexport function adaptor(params: Params<RoseOptions>) {\n  // flow  G2 API\n  flow(\n    pattern('sectorStyle'),\n    geometry,\n    meta,\n    label,\n    coordinate,\n    axis,\n    legend,\n    tooltip,\n    interaction,\n    animation,\n    theme,\n    annotation(),\n    state\n  )(params);\n}\n","import { Plot } from '../../core/plot';\nimport { deepAssign } from '../../utils';\n\n/**\n *  \n */\nexport const DEFAULT_OPTIONS = deepAssign({}, Plot.getDefaultOptions(), {\n  xAxis: false,\n  yAxis: false,\n  legend: {\n    position: 'right',\n    radio: {},\n  },\n  sectorStyle: {\n    stroke: '#fff',\n    lineWidth: 1,\n  },\n  label: {\n    layout: {\n      type: 'limit-in-shape',\n    },\n  },\n  tooltip: {\n    shared: true,\n    showMarkers: false,\n  },\n  interactions: [{ type: 'active-region' }],\n});\n","import { Adaptor } from '../../core/adaptor';\nimport { Plot } from '../../core/plot';\nimport { adaptor } from './adaptor';\nimport { DEFAULT_OPTIONS } from './constant';\nimport { RoseOptions } from './types';\n\nexport type { RoseOptions };\n\nexport class Rose extends Plot<RoseOptions> {\n  /**\n   *   \n   * \n   */\n  static getDefaultOptions(): Partial<RoseOptions> {\n    return DEFAULT_OPTIONS;\n  }\n\n  /**  */\n  public type: string = 'rose';\n\n  /**\n   * @override\n   * @param data\n   */\n  public changeData(data) {\n    this.updateOption({ data });\n    this.chart.changeData(data);\n  }\n\n  /**\n   *  options \n   */\n  protected getDefaultOptions(): Partial<RoseOptions> {\n    return Rose.getDefaultOptions();\n  }\n\n  /**\n   *   \n   */\n  protected getSchemaAdaptor(): Adaptor<RoseOptions> {\n    return adaptor;\n  }\n}\n","export const X_FIELD = 'x';\nexport const Y_FIELD = 'y';\nexport const COLOR_FIELD = 'name';\nexport const NODES_VIEW_ID = 'nodes';\nexport const EDGES_VIEW_ID = 'edges';\n","import { isArray } from '@antv/util';\nimport { Data } from '../../types';\n\n/**\n *  edges  node \n */\nexport function getNodes(edges: Data, sourceField: string, targetField: string): string[] {\n  const nodes = [];\n  edges.forEach((e) => {\n    const source = e[sourceField] as string;\n    const target = e[targetField] as string;\n    if (!nodes.includes(source)) {\n      nodes.push(source);\n    }\n    if (!nodes.includes(target)) {\n      nodes.push(target);\n    }\n  });\n  return nodes;\n}\n\n/**\n *  edges  dfs \n */\nexport function getMatrix(\n  edges: Data,\n  nodes: string[],\n  sourceField: string,\n  targetField: string\n): Record<string, Record<string, number>> {\n  const graphMatrix = {};\n\n  nodes.forEach((pre) => {\n    graphMatrix[pre] = {};\n    nodes.forEach((next) => {\n      graphMatrix[pre][next] = 0;\n    });\n  });\n\n  edges.forEach((edge) => {\n    graphMatrix[edge[sourceField]][edge[targetField]] = 1;\n  });\n\n  return graphMatrix;\n}\n\n/**\n *  DFS \n * @param data\n * @param sourceField\n * @param targetField\n */\nexport function cutoffCircle(edges: Data, sourceField: string, targetField: string): Data {\n  if (!isArray(edges)) return [];\n\n  // \n  const removedData = [];\n\n  // \n  const nodes = getNodes(edges, sourceField, targetField);\n  // \n  const graphMatrix = getMatrix(edges, nodes, sourceField, targetField);\n\n  // visited, 0,1, -1\n  const visited = {};\n  // visited\n  nodes.forEach((node) => {\n    visited[node] = 0;\n  });\n\n  // \n  function DFS(dfsNode) {\n    // \n    visited[dfsNode] = 1;\n    nodes.forEach((node) => {\n      if (graphMatrix[dfsNode][node] != 0) {\n        //  removeData\n        if (visited[node] == 1) {\n          // \n          removedData.push(`${dfsNode}_${node}`);\n        } else if (visited[node] == -1) {\n          // \n          return;\n        } else {\n          DFS(node); // \n        }\n      }\n    });\n    //-1\n    visited[dfsNode] = -1;\n  }\n\n  //  dfs \n  nodes.forEach((node) => {\n    //\n    if (visited[node] == -1) {\n      return;\n    }\n    DFS(node);\n  });\n\n  if (removedData.length !== 0) {\n    console.warn(`sankey data contains circle, ${removedData.length} records removed.`, removedData);\n  }\n\n  //  remove \n  return edges.filter((edge) => removedData.findIndex((i) => i === `${edge[sourceField]}_${edge[targetField]}`) < 0);\n}\n","import { minBy } from '@antv/util';\n\nfunction targetDepth(d) {\n  return d.target.depth;\n}\n\nexport function left(node) {\n  return node.depth;\n}\n\nexport function right(node, n) {\n  return n - 1 - node.height;\n}\n\nexport function justify(node, n) {\n  return node.sourceLinks.length ? node.depth : n - 1;\n}\n\nexport function center(node) {\n  return node.targetLinks.length ? node.depth : node.sourceLinks.length ? minBy(node.sourceLinks, targetDepth) - 1 : 0;\n}\n","export function constant(x: any) {\n  return function () {\n    return x;\n  };\n}\n\nexport function sumBy(arr, func) {\n  let r = 0;\n  for (let i = 0; i < arr.length; i++) {\n    r += func(arr[i]);\n  }\n\n  return r;\n}\n\n/**\n * \n * @param arr\n * @param func\n */\nexport function maxValueBy(arr, func): number {\n  let r = -Infinity;\n  for (let i = 0; i < arr.length; i++) {\n    r = Math.max(func(arr[i]), r);\n  }\n\n  return r;\n}\n\n/**\n * \n * @param arr\n * @param func\n */\nexport function minValueBy(arr, func): number {\n  let r = Infinity;\n  for (let i = 0; i < arr.length; i++) {\n    r = Math.min(func(arr[i]), r);\n  }\n\n  return r;\n}\n","import { justify } from './align';\nimport { constant, maxValueBy, minValueBy, sumBy } from './helper';\n\nfunction ascendingSourceBreadth(a, b) {\n  return ascendingBreadth(a.source, b.source) || a.index - b.index;\n}\n\nfunction ascendingTargetBreadth(a, b) {\n  return ascendingBreadth(a.target, b.target) || a.index - b.index;\n}\n\nfunction ascendingBreadth(a, b) {\n  return a.y0 - b.y0;\n}\n\nfunction value(d) {\n  return d.value;\n}\n\nfunction defaultId(d) {\n  return d.index;\n}\n\nfunction defaultNodes(graph) {\n  return graph.nodes;\n}\n\nfunction defaultLinks(graph) {\n  return graph.links;\n}\n\nfunction find(nodeById, id) {\n  const node = nodeById.get(id);\n  if (!node) throw new Error('missing: ' + id);\n  return node;\n}\n\nfunction computeLinkBreadths({ nodes }) {\n  for (const node of nodes) {\n    let y0 = node.y0;\n    let y1 = y0;\n    for (const link of node.sourceLinks) {\n      link.y0 = y0 + link.width / 2;\n      y0 += link.width;\n    }\n    for (const link of node.targetLinks) {\n      link.y1 = y1 + link.width / 2;\n      y1 += link.width;\n    }\n  }\n}\n\nexport function Sankey() {\n  let x0 = 0,\n    y0 = 0,\n    x1 = 1,\n    y1 = 1; // extent\n  let dx = 24; // nodeWidth\n  let dy = 8,\n    py; // nodePadding\n  let id = defaultId;\n  let align = justify;\n  let depth;\n  let sort;\n  let linkSort;\n  let nodes = defaultNodes;\n  let links = defaultLinks;\n  let iterations = 6;\n\n  function sankey(arg) {\n    const graph = {\n      nodes: nodes(arg),\n      links: links(arg),\n    };\n    computeNodeLinks(graph);\n    computeNodeValues(graph);\n    computeNodeDepths(graph);\n    computeNodeHeights(graph);\n    computeNodeBreadths(graph);\n    computeLinkBreadths(graph);\n    return graph;\n  }\n\n  sankey.update = function (graph) {\n    computeLinkBreadths(graph);\n    return graph;\n  };\n\n  sankey.nodeId = function (_) {\n    return arguments.length ? ((id = typeof _ === 'function' ? _ : constant(_)), sankey) : id;\n  };\n\n  sankey.nodeAlign = function (_) {\n    return arguments.length ? ((align = typeof _ === 'function' ? _ : constant(_)), sankey) : align;\n  };\n\n  sankey.nodeDepth = function (_) {\n    return arguments.length ? ((depth = typeof _ === 'function' ? _ : _), sankey) : depth;\n  };\n\n  sankey.nodeSort = function (_) {\n    return arguments.length ? ((sort = _), sankey) : sort;\n  };\n\n  sankey.nodeWidth = function (_) {\n    return arguments.length ? ((dx = +_), sankey) : dx;\n  };\n\n  sankey.nodePadding = function (_) {\n    return arguments.length ? ((dy = py = +_), sankey) : dy;\n  };\n\n  sankey.nodes = function (_) {\n    return arguments.length ? ((nodes = typeof _ === 'function' ? _ : constant(_)), sankey) : nodes;\n  };\n\n  sankey.links = function (_) {\n    return arguments.length ? ((links = typeof _ === 'function' ? _ : constant(_)), sankey) : links;\n  };\n\n  sankey.linkSort = function (_) {\n    return arguments.length ? ((linkSort = _), sankey) : linkSort;\n  };\n\n  sankey.size = function (_) {\n    return arguments.length ? ((x0 = y0 = 0), (x1 = +_[0]), (y1 = +_[1]), sankey) : [x1 - x0, y1 - y0];\n  };\n\n  sankey.extent = function (_) {\n    return arguments.length\n      ? ((x0 = +_[0][0]), (x1 = +_[1][0]), (y0 = +_[0][1]), (y1 = +_[1][1]), sankey)\n      : [\n          [x0, y0],\n          [x1, y1],\n        ];\n  };\n\n  sankey.iterations = function (_) {\n    return arguments.length ? ((iterations = +_), sankey) : iterations;\n  };\n\n  function computeNodeLinks({ nodes, links }) {\n    nodes.forEach((node, idx) => {\n      node.index = idx;\n      node.sourceLinks = [];\n      node.targetLinks = [];\n    });\n\n    const nodeById = new Map(nodes.map((d) => [id(d), d]));\n\n    links.forEach((link, idx) => {\n      link.index = idx;\n      let { source, target } = link;\n      if (typeof source !== 'object') source = link.source = find(nodeById, source);\n      if (typeof target !== 'object') target = link.target = find(nodeById, target);\n      source.sourceLinks.push(link);\n      target.targetLinks.push(link);\n    });\n\n    if (linkSort != null) {\n      for (const { sourceLinks, targetLinks } of nodes) {\n        sourceLinks.sort(linkSort);\n        targetLinks.sort(linkSort);\n      }\n    }\n  }\n\n  function computeNodeValues({ nodes }) {\n    for (const node of nodes) {\n      node.value =\n        node.fixedValue === undefined\n          ? Math.max(sumBy(node.sourceLinks, value), sumBy(node.targetLinks, value))\n          : node.fixedValue;\n    }\n  }\n\n  function computeNodeDepths({ nodes }) {\n    const n = nodes.length;\n    let current = new Set<any>(nodes);\n    let next = new Set();\n    let x = 0;\n    while (current.size) {\n      current.forEach((node) => {\n        node.depth = x;\n        for (const { target } of node.sourceLinks) {\n          next.add(target);\n        }\n      });\n      if (++x > n) throw new Error('circular link');\n      current = next;\n      next = new Set();\n    }\n\n    //  depth depth\n    if (depth) {\n      const maxDepth = Math.max(maxValueBy(nodes, (d: any) => d.depth) + 1, 0);\n\n      let node;\n      for (let i = 0; i < nodes.length; i++) {\n        node = nodes[i];\n        node.depth = depth.call(null, node, maxDepth);\n      }\n    }\n  }\n\n  function computeNodeHeights({ nodes }) {\n    const n = nodes.length;\n    let current = new Set<any>(nodes);\n    let next = new Set();\n    let x = 0;\n    while (current.size) {\n      current.forEach((node) => {\n        node.height = x;\n        for (const { source } of node.targetLinks) {\n          next.add(source);\n        }\n      });\n      if (++x > n) throw new Error('circular link');\n      current = next;\n      next = new Set();\n    }\n  }\n\n  function computeNodeLayers({ nodes }) {\n    const x = Math.max(maxValueBy(nodes, (d: any) => d.depth) + 1, 0);\n    const kx = (x1 - x0 - dx) / (x - 1);\n    const columns = new Array(x).fill(0).map(() => []);\n    for (const node of nodes) {\n      const i = Math.max(0, Math.min(x - 1, Math.floor(align.call(null, node, x))));\n      node.layer = i;\n      node.x0 = x0 + i * kx;\n      node.x1 = node.x0 + dx;\n      if (columns[i]) columns[i].push(node);\n      else columns[i] = [node];\n    }\n    if (sort)\n      for (const column of columns) {\n        column.sort(sort);\n      }\n    return columns;\n  }\n\n  function initializeNodeBreadths(columns) {\n    const ky = minValueBy(columns, (c: any[]) => (y1 - y0 - (c.length - 1) * py) / sumBy(c, value)) as any as number;\n    for (const nodes of columns) {\n      let y = y0;\n      for (const node of nodes) {\n        node.y0 = y;\n        node.y1 = y + node.value * ky;\n        y = node.y1 + py;\n        for (const link of node.sourceLinks) {\n          link.width = link.value * ky;\n        }\n      }\n      y = (y1 - y + py) / (nodes.length + 1);\n      for (let i = 0; i < nodes.length; ++i) {\n        const node = nodes[i];\n        node.y0 += y * (i + 1);\n        node.y1 += y * (i + 1);\n      }\n      reorderLinks(nodes);\n    }\n  }\n\n  function computeNodeBreadths(graph) {\n    const columns = computeNodeLayers(graph);\n    py = Math.min(dy, (y1 - y0) / ((maxValueBy(columns, (c: any[]) => c.length) as any as number) - 1));\n    initializeNodeBreadths(columns);\n    for (let i = 0; i < iterations; ++i) {\n      const alpha = Math.pow(0.99, i);\n      const beta = Math.max(1 - alpha, (i + 1) / iterations);\n      relaxRightToLeft(columns, alpha, beta);\n      relaxLeftToRight(columns, alpha, beta);\n    }\n  }\n\n  // Reposition each node based on its incoming (target) links.\n  function relaxLeftToRight(columns, alpha, beta) {\n    for (let i = 1, n = columns.length; i < n; ++i) {\n      const column = columns[i];\n      for (const target of column) {\n        let y = 0;\n        let w = 0;\n        for (const { source, value } of target.targetLinks) {\n          const v = value * (target.layer - source.layer);\n          y += targetTop(source, target) * v;\n          w += v;\n        }\n        if (!(w > 0)) continue;\n        const dy = (y / w - target.y0) * alpha;\n        target.y0 += dy;\n        target.y1 += dy;\n        reorderNodeLinks(target);\n      }\n      if (sort === undefined) column.sort(ascendingBreadth);\n      if (column.length) resolveCollisions(column, beta);\n    }\n  }\n\n  // Reposition each node based on its outgoing (source) links.\n  function relaxRightToLeft(columns, alpha, beta) {\n    for (let n = columns.length, i = n - 2; i >= 0; --i) {\n      const column = columns[i];\n      for (const source of column) {\n        let y = 0;\n        let w = 0;\n        for (const { target, value } of source.sourceLinks) {\n          const v = value * (target.layer - source.layer);\n          y += sourceTop(source, target) * v;\n          w += v;\n        }\n        if (!(w > 0)) continue;\n        const dy = (y / w - source.y0) * alpha;\n        source.y0 += dy;\n        source.y1 += dy;\n        reorderNodeLinks(source);\n      }\n      if (sort === undefined) column.sort(ascendingBreadth);\n      if (column.length) resolveCollisions(column, beta);\n    }\n  }\n\n  function resolveCollisions(nodes, alpha) {\n    const i = nodes.length >> 1;\n    const subject = nodes[i];\n    resolveCollisionsBottomToTop(nodes, subject.y0 - py, i - 1, alpha);\n    resolveCollisionsTopToBottom(nodes, subject.y1 + py, i + 1, alpha);\n    resolveCollisionsBottomToTop(nodes, y1, nodes.length - 1, alpha);\n    resolveCollisionsTopToBottom(nodes, y0, 0, alpha);\n  }\n\n  // Push any overlapping nodes down.\n  function resolveCollisionsTopToBottom(nodes, y, i, alpha) {\n    for (; i < nodes.length; ++i) {\n      const node = nodes[i];\n      const dy = (y - node.y0) * alpha;\n      if (dy > 1e-6) (node.y0 += dy), (node.y1 += dy);\n      y = node.y1 + py;\n    }\n  }\n\n  // Push any overlapping nodes up.\n  function resolveCollisionsBottomToTop(nodes, y, i, alpha) {\n    for (; i >= 0; --i) {\n      const node = nodes[i];\n      const dy = (node.y1 - y) * alpha;\n      if (dy > 1e-6) (node.y0 -= dy), (node.y1 -= dy);\n      y = node.y0 - py;\n    }\n  }\n\n  function reorderNodeLinks({ sourceLinks, targetLinks }) {\n    if (linkSort === undefined) {\n      for (const {\n        source: { sourceLinks },\n      } of targetLinks) {\n        sourceLinks.sort(ascendingTargetBreadth);\n      }\n      for (const {\n        target: { targetLinks },\n      } of sourceLinks) {\n        targetLinks.sort(ascendingSourceBreadth);\n      }\n    }\n  }\n\n  function reorderLinks(nodes) {\n    if (linkSort === undefined) {\n      for (const { sourceLinks, targetLinks } of nodes) {\n        sourceLinks.sort(ascendingTargetBreadth);\n        targetLinks.sort(ascendingSourceBreadth);\n      }\n    }\n  }\n\n  // Returns the target.y0 that would produce an ideal link from source to target.\n  function targetTop(source, target) {\n    let y = source.y0 - ((source.sourceLinks.length - 1) * py) / 2;\n    for (const { target: node, width } of source.sourceLinks) {\n      if (node === target) break;\n      y += width + py;\n    }\n    for (const { source: node, width } of target.targetLinks) {\n      if (node === source) break;\n      y -= width;\n    }\n    return y;\n  }\n\n  // Returns the source.y0 that would produce an ideal link from source to target.\n  function sourceTop(source, target) {\n    let y = target.y0 - ((target.targetLinks.length - 1) * py) / 2;\n    for (const { source: node, width } of target.targetLinks) {\n      if (node === source) break;\n      y += width + py;\n    }\n    for (const { target: node, width } of source.sourceLinks) {\n      if (node === target) break;\n      y -= width;\n    }\n    return y;\n  }\n\n  return sankey;\n}\n","import { assign, isFunction, isString } from '@antv/util';\nimport { Datum } from '../../types';\nimport { center, justify, left, right, sankey } from './sankey';\n\nconst ALIGN_METHOD = {\n  left,\n  right,\n  center,\n  justify,\n};\n\ntype InputNode = {\n  readonly name: string;\n};\n\ntype InputLink = {\n  readonly source: number;\n  readonly target: number;\n  readonly value: number;\n};\n\ntype OutputNode = {\n  readonly name: string;\n  readonly x0: number;\n  readonly x1: number;\n  readonly y0: number;\n  readonly y1: number;\n  readonly depth: number;\n  readonly value: number;\n\n  //  polygon\n  x: number[];\n  y: number[];\n};\n\ntype OutputLink = {\n  readonly source: OutputNode;\n  readonly target: OutputNode;\n  readonly value: number;\n  readonly width: number;\n  readonly y0: number;\n  readonly y1: number;\n\n  //  edge\n  x?: number[];\n  y?: number[];\n};\n\n/**\n * \n */\nexport type SankeyLayoutInputData = {\n  readonly nodes: InputNode[];\n  readonly links: InputLink[];\n};\n\ntype SankeyLayoutOutputData = {\n  readonly nodes: OutputNode[];\n  readonly links: OutputLink[];\n};\n\n/**\n * \n */\nexport type NodeAlign = keyof typeof ALIGN_METHOD | Function;\n\n/**\n *  depth \n */\nexport type NodeDepth = (datum: Datum, maxDepth: number) => number;\n\n/**\n * \n */\nexport type NodeSort = (a: Datum, b: Datum) => number;\n\n/**\n * \n */\nexport type SankeyLayoutOptions = {\n  readonly nodeId?: (node: Datum) => any;\n  // readonly value?: (node: Datum) => any;\n  // readonly source?: (edge: Datum) => any;\n  // readonly target?: (edge: Datum) => any;\n  // sankey.nodeSort(undefined) is the default and resorts by ascending breadth during each iteration.\n  // sankey.nodeSort(null) specifies the input order of nodes and never sorts.\n  // sankey.nodeSort(function) specifies the given order as a comparator function and sorts once on initialization.\n  readonly nodeSort?: (a: any, b: any) => number;\n  readonly nodeAlign?: NodeAlign;\n  readonly nodeWidth?: number;\n  readonly nodePadding?: number;\n  readonly nodeDepth?: NodeDepth;\n};\n\n/**\n * \n */\nconst DEFAULT_OPTIONS: Partial<SankeyLayoutOptions> = {\n  nodeId: (node: Datum) => node.index,\n  nodeAlign: 'justify',\n  nodeWidth: 0.008,\n  nodePadding: 0.03,\n  nodeSort: undefined,\n};\n\n/**\n *  align function\n * @param nodeAlign\n * @param nodeDepth\n */\nexport function getNodeAlignFunction(nodeAlign: NodeAlign) {\n  const func = isString(nodeAlign) ? ALIGN_METHOD[nodeAlign] : isFunction(nodeAlign) ? nodeAlign : null;\n\n  return func || justify;\n}\n\nexport function getDefaultOptions(sankeyLayoutOptions: SankeyLayoutOptions) {\n  return assign({}, DEFAULT_OPTIONS, sankeyLayoutOptions);\n}\n\n/**\n * 0 - 1 \n *  data \n * @param sankeyLayoutOptions\n * @param data\n */\nexport function sankeyLayout(\n  sankeyLayoutOptions: SankeyLayoutOptions,\n  data: SankeyLayoutInputData\n): SankeyLayoutOutputData {\n  const options = getDefaultOptions(sankeyLayoutOptions);\n\n  const { nodeId, nodeSort, nodeAlign, nodeWidth, nodePadding, nodeDepth } = options;\n\n  const sankeyProcessor = sankey()\n    // .links((d: any) => d.links)\n    // .nodes((d: any) => d.nodes)\n    .nodeSort(nodeSort)\n    .nodeWidth(nodeWidth)\n    .nodePadding(nodePadding)\n    .nodeDepth(nodeDepth)\n    .nodeAlign(getNodeAlignFunction(nodeAlign))\n    .extent([\n      [0, 0],\n      [1, 1],\n    ])\n    .nodeId(nodeId);\n\n  // \n  const layoutData: SankeyLayoutOutputData = sankeyProcessor(data);\n\n  // post process (x, y), etc.\n  const nodes = layoutData.nodes\n    .map((node) => {\n      const { x0, x1, y0, y1 } = node;\n      /* points\n       * 3---2\n       * |   |\n       * 0---1\n       */\n      node.x = [x0, x1, x1, x0];\n      node.y = [y0, y0, y1, y1];\n\n      return node;\n    })\n    .filter((node) => {\n      return node.name !== null;\n    });\n\n  const links = layoutData.links\n    .map((edge) => {\n      const { source, target } = edge;\n      const sx = source.x1;\n      const tx = target.x0;\n      edge.x = [sx, sx, tx, tx];\n      const offset = edge.width / 2;\n      edge.y = [edge.y0 + offset, edge.y0 - offset, edge.y1 + offset, edge.y1 - offset];\n\n      return edge;\n    })\n    .filter((edge) => {\n      const { source, target } = edge;\n      return source.name !== null && target.name !== null;\n    });\n\n  return { nodes, links };\n}\n","import { Data } from '../../types';\nimport { isRealNumber, pick } from '../../utils';\nimport { transformDataToNodeLinkData } from '../../utils/data';\nimport { cutoffCircle } from './circle';\nimport { sankeyLayout, SankeyLayoutInputData } from './layout';\nimport { SankeyOptions } from './types';\n\n/**\n *  node-link \n * @param dataTyp\n * @returns\n */\nfunction isNodeLink(dataType: string) {\n  return dataType === 'node-link';\n}\n\nexport function getNodeWidthRatio(nodeWidth: number, nodeWidthRatio: number, width: number) {\n  return isRealNumber(nodeWidth) ? nodeWidth / width : nodeWidthRatio;\n}\n\nexport function getNodePaddingRatio(nodePadding: number, nodePaddingRatio: number, height: number) {\n  return isRealNumber(nodePadding) ? nodePadding / height : nodePaddingRatio;\n}\n\n/**\n *  layout view \n * @param options\n * @param width\n * @param height\n */\nexport function transformToViewsData(options: SankeyOptions, width: number, height: number) {\n  const {\n    dataType,\n    data,\n    sourceField,\n    targetField,\n    weightField,\n    nodeAlign,\n    nodeSort,\n    nodePadding,\n    nodePaddingRatio,\n    nodeWidth,\n    nodeWidthRatio,\n    nodeDepth,\n    rawFields = [],\n  } = options;\n\n  let sankeyLayoutInputData: unknown;\n\n  if (!isNodeLink(dataType)) {\n    sankeyLayoutInputData = transformDataToNodeLinkData(\n      cutoffCircle(data as Data, sourceField, targetField),\n      sourceField,\n      targetField,\n      weightField,\n      rawFields\n    );\n  } else {\n    sankeyLayoutInputData = data;\n  }\n\n  // 3. layout \n  const { nodes, links } = sankeyLayout(\n    {\n      nodeAlign,\n      nodePadding: getNodePaddingRatio(nodePadding, nodePaddingRatio, height),\n      nodeWidth: getNodeWidthRatio(nodeWidth, nodeWidthRatio, width),\n      nodeSort,\n      nodeDepth,\n    },\n    sankeyLayoutInputData as SankeyLayoutInputData\n  );\n\n  // 4. \n  return {\n    nodes: nodes.map((node) => {\n      return {\n        ...pick(node, ['x', 'y', 'name', ...rawFields]),\n        isNode: true,\n      };\n    }),\n    edges: links.map((link) => {\n      return {\n        source: link.source.name,\n        target: link.target.name,\n        name: link.source.name || link.target.name,\n        ...pick(link, ['x', 'y', 'value', ...rawFields]),\n        isNode: false,\n      };\n    }),\n  };\n}\n","import { uniq } from '@antv/util';\nimport { theme } from '../../adaptor/common';\nimport { edge, polygon } from '../../adaptor/geometries';\nimport { Params } from '../../core/adaptor';\nimport { deepAssign, findViewById, flow } from '../../utils';\nimport { addViewAnimation } from '../../utils/view';\nimport { COLOR_FIELD, EDGES_VIEW_ID, NODES_VIEW_ID, X_FIELD, Y_FIELD } from './constant';\nimport { transformToViewsData } from './helper';\nimport { SankeyOptions } from './types';\n\n/**\n *  \n * @param params\n */\nfunction defaultOptions(params: Params<SankeyOptions>): Params<SankeyOptions> {\n  const { options } = params;\n  const { rawFields = [] } = options;\n\n  return deepAssign(\n    {},\n    {\n      options: {\n        tooltip: {\n          fields: uniq(['name', 'source', 'target', 'value', 'isNode', ...rawFields]),\n        },\n        label: {\n          fields: uniq(['x', 'name', ...rawFields]),\n        },\n      },\n    },\n    params\n  );\n}\n\n/**\n * geometry \n * @param params\n */\nfunction geometry(params: Params<SankeyOptions>): Params<SankeyOptions> {\n  const { chart, options } = params;\n  const { color, nodeStyle, edgeStyle, label, tooltip, nodeState, edgeState } = options;\n\n  // 1.  view \n  chart.legend(false);\n  chart.tooltip(tooltip);\n  chart.axis(false);\n  // y \n  chart.coordinate().reflect('y');\n\n  // 2. node edge views\n  // @ts-ignore\n  const { nodes, edges } = transformToViewsData(options, chart.width, chart.height);\n\n  // edge view\n  const edgeView = chart.createView({ id: EDGES_VIEW_ID });\n  edgeView.data(edges);\n\n  edge({\n    chart: edgeView,\n    // @ts-ignore\n    options: {\n      xField: X_FIELD,\n      yField: Y_FIELD,\n      seriesField: COLOR_FIELD,\n      edge: {\n        color,\n        style: edgeStyle,\n        shape: 'arc',\n      },\n      tooltip,\n      state: edgeState,\n    },\n  });\n\n  const nodeView = chart.createView({ id: NODES_VIEW_ID });\n  nodeView.data(nodes);\n\n  polygon({\n    chart: nodeView,\n    options: {\n      xField: X_FIELD,\n      yField: Y_FIELD,\n      seriesField: COLOR_FIELD,\n      polygon: {\n        color,\n        style: nodeStyle,\n      },\n      label,\n      tooltip,\n      state: nodeState,\n    },\n  });\n\n  chart.interaction('element-active');\n\n  // scale\n  chart.scale({\n    x: { sync: true, nice: true, min: 0, max: 1, minLimit: 0, maxLimit: 1 },\n    y: { sync: true, nice: true, min: 0, max: 1, minLimit: 0, maxLimit: 1 },\n    name: { sync: 'color', type: 'cat' },\n  });\n\n  return params;\n}\n\n/**\n * \n * @param params\n */\nexport function animation(params: Params<SankeyOptions>): Params<SankeyOptions> {\n  const { chart, options } = params;\n  const { animation } = options;\n\n  const geometries = [...chart.views[0].geometries, ...chart.views[1].geometries];\n\n  addViewAnimation(chart, animation, geometries);\n\n  return params;\n}\n\n/**\n * \n * @param params\n */\nexport function nodeDraggable(params: Params<SankeyOptions>): Params<SankeyOptions> {\n  const { chart, options } = params;\n  const { nodeDraggable } = options;\n\n  const DRAG_INTERACTION = 'sankey-node-draggable';\n\n  if (nodeDraggable) {\n    chart.interaction(DRAG_INTERACTION);\n  } else {\n    chart.removeInteraction(DRAG_INTERACTION);\n  }\n\n  return params;\n}\n\n/**\n * Interaction \n * @param params\n */\nfunction interaction(params: Params<SankeyOptions>): Params<SankeyOptions> {\n  const { chart, options } = params;\n  const { interactions = [] } = options;\n\n  const nodeInteractions = [].concat(interactions, options.nodeInteractions || []);\n  const edgeInteractions = [].concat(interactions, options.edgeInteractions || []);\n\n  const nodeView = findViewById(chart, NODES_VIEW_ID);\n  const edgeView = findViewById(chart, EDGES_VIEW_ID);\n\n  nodeInteractions.forEach((i) => {\n    if (i?.enable === false) {\n      nodeView.removeInteraction(i.type);\n    } else {\n      nodeView.interaction(i.type, i.cfg || {});\n    }\n  });\n\n  edgeInteractions.forEach((i) => {\n    if (i?.enable === false) {\n      edgeView.removeInteraction(i.type);\n    } else {\n      edgeView.interaction(i.type, i.cfg || {});\n    }\n  });\n\n  return params;\n}\n\n/**\n * \n * @param chart\n * @param options\n */\nexport function adaptor(params: Params<SankeyOptions>) {\n  // flow  G2 API\n  return flow(\n    defaultOptions,\n    geometry,\n    interaction,\n    nodeDraggable,\n    animation,\n    theme\n    // ...  adaptor flow\n  )(params);\n}\n","import { Action, Element } from '@antv/g2';\nimport { get } from '@antv/util';\nimport { Datum, Point } from '../../../../types';\nimport { findViewById } from '../../../../utils';\nimport { EDGES_VIEW_ID, NODES_VIEW_ID } from '../../constant';\n\nexport class SankeyNodeDragAction extends Action {\n  /**\n   * \n   */\n  private isDragging = false;\n\n  /**\n   * \n   */\n  private prevPoint: Point;\n  /**\n   * \n   */\n  private prevNodeAnimateCfg: any;\n  /**\n   * \n   */\n  private prevEdgeAnimateCfg: any;\n  /**\n   *  element \n   */\n  private currentElementIdx: number;\n\n  /**\n   *  element\n   */\n  private isNodeElement() {\n    const shape = get(this.context, 'event.target');\n    if (shape) {\n      const element = shape.get('element');\n      return element && element.getModel().data.isNode;\n    }\n    return false;\n  }\n\n  private getNodeView() {\n    return findViewById(this.context.view, NODES_VIEW_ID);\n  }\n\n  private getEdgeView() {\n    return findViewById(this.context.view, EDGES_VIEW_ID);\n  }\n\n  /**\n   *  index\n   * @param element\n   */\n  private getCurrentDatumIdx(element: Element) {\n    return this.getNodeView().geometries[0].elements.indexOf(element);\n  }\n\n  /**\n   * \n   */\n  public start() {\n    // \n    if (this.isNodeElement()) {\n      this.prevPoint = {\n        x: get(this.context, 'event.x'),\n        y: get(this.context, 'event.y'),\n      };\n\n      const element = this.context.event.target.get('element');\n      const idx = this.getCurrentDatumIdx(element);\n\n      if (idx === -1) {\n        return;\n      }\n\n      this.currentElementIdx = idx;\n      this.context.isDragging = true;\n      this.isDragging = true;\n\n      // \n      this.prevNodeAnimateCfg = this.getNodeView().getOptions().animate;\n      this.prevEdgeAnimateCfg = this.getEdgeView().getOptions().animate;\n      this.getNodeView().animate(false);\n      this.getEdgeView().animate(false);\n    }\n  }\n\n  /**\n   * \n   */\n  public translate() {\n    if (this.isDragging) {\n      const chart = this.context.view;\n\n      const currentPoint = {\n        x: get(this.context, 'event.x'),\n        y: get(this.context, 'event.y'),\n      };\n\n      const x = currentPoint.x - this.prevPoint.x;\n      const y = currentPoint.y - this.prevPoint.y;\n\n      const nodeView = this.getNodeView();\n      const element = nodeView.geometries[0].elements[this.currentElementIdx];\n\n      // \n      if (element && element.getModel()) {\n        const prevDatum: Datum = element.getModel().data;\n        const data = nodeView.getOptions().data;\n        const coordinate = nodeView.getCoordinate();\n\n        const datumGap = {\n          x: x / coordinate.getWidth(),\n          y: y / coordinate.getHeight(),\n        };\n\n        const nextDatum = {\n          ...prevDatum,\n          x: prevDatum.x.map((x: number) => (x += datumGap.x)),\n          y: prevDatum.y.map((y: number) => (y += datumGap.y)),\n        };\n        //  [0, 1] \n\n        // 1.  node \n        const newData = [...data];\n        newData[this.currentElementIdx] = nextDatum;\n        nodeView.data(newData);\n\n        // 2.  edge \n        const name = prevDatum.name;\n        const edgeView = this.getEdgeView();\n        const edgeData = edgeView.getOptions().data;\n\n        edgeData.forEach((datum) => {\n          // 2.1  node  source  [x0, x1, x2, x3]  x0, x1\n          if (datum.source === name) {\n            datum.x[0] += datumGap.x;\n            datum.x[1] += datumGap.x;\n            datum.y[0] += datumGap.y;\n            datum.y[1] += datumGap.y;\n          }\n\n          // 2.2  node  target  [x0, x1, x2, x3]  x2, x3\n          if (datum.target === name) {\n            datum.x[2] += datumGap.x;\n            datum.x[3] += datumGap.x;\n            datum.y[2] += datumGap.y;\n            datum.y[3] += datumGap.y;\n          }\n        });\n        edgeView.data(edgeData);\n\n        // 3. \n        this.prevPoint = currentPoint;\n\n        // node edge  render\n        chart.render(true);\n      }\n    }\n  }\n\n  /**\n   * \n   */\n  public end() {\n    this.isDragging = false;\n    this.context.isDragging = false;\n    this.prevPoint = null;\n    this.currentElementIdx = null;\n\n    // \n    this.getNodeView().animate(this.prevNodeAnimateCfg);\n    this.getEdgeView().animate(this.prevEdgeAnimateCfg);\n  }\n}\n","import { registerAction, registerInteraction } from '@antv/g2';\nimport { SankeyNodeDragAction } from './actions/node-drag';\n\nregisterAction('sankey-node-drag', SankeyNodeDragAction);\n\nregisterInteraction('sankey-node-draggable', {\n  showEnable: [\n    { trigger: 'polygon:mouseenter', action: 'cursor:pointer' },\n    { trigger: 'polygon:mouseleave', action: 'cursor:default' },\n  ],\n  start: [{ trigger: 'polygon:mousedown', action: 'sankey-node-drag:start' }],\n  processing: [\n    { trigger: 'plot:mousemove', action: 'sankey-node-drag:translate' },\n    { isEnable: (context) => context.isDragging, trigger: 'plot:mousemove', action: 'cursor:move' },\n  ],\n  end: [{ trigger: 'plot:mouseup', action: 'sankey-node-drag:end' }],\n});\n","import { get } from '@antv/util';\nimport { Adaptor } from '../../core/adaptor';\nimport { Plot } from '../../core/plot';\nimport { Data, Datum } from '../../types';\nimport { findViewById } from '../../utils';\nimport { adaptor } from './adaptor';\nimport { EDGES_VIEW_ID, NODES_VIEW_ID } from './constant';\nimport { transformToViewsData } from './helper';\n// \nimport './interactions';\nimport { SankeyOptions } from './types';\n\nexport type { SankeyOptions };\n\n/**\n *   Sankey\n */\nexport class Sankey extends Plot<SankeyOptions> {\n  /**  */\n  public type: string = 'sankey';\n\n  static getDefaultOptions(): Partial<SankeyOptions> {\n    return {\n      appendPadding: 8,\n      syncViewPadding: true,\n      nodeStyle: {\n        opacity: 1,\n        fillOpacity: 1,\n        lineWidth: 1,\n      },\n      edgeStyle: {\n        opacity: 0.3,\n        lineWidth: 0,\n      },\n      edgeState: {\n        active: {\n          style: {\n            opacity: 0.8,\n            lineWidth: 0,\n          },\n        },\n      },\n      label: {\n        formatter: ({ name }) => name,\n        callback: (x: number[]) => {\n          const isLast = x[1] === 1; // \n          return {\n            style: {\n              fill: '#545454',\n              textAlign: isLast ? 'end' : 'start',\n            },\n            offsetX: isLast ? -8 : 8,\n          };\n        },\n        layout: [\n          {\n            type: 'hide-overlap',\n          },\n        ],\n      },\n      tooltip: {\n        showTitle: false,\n        showMarkers: false,\n        shared: false,\n        // node  tooltipedge  tooltip\n        showContent: (items) => {\n          return !get(items, [0, 'data', 'isNode']);\n        },\n        formatter: (datum: Datum) => {\n          const { source, target, value } = datum;\n          return {\n            name: source + ' -> ' + target,\n            value,\n          };\n        },\n      },\n      nodeWidthRatio: 0.008,\n      nodePaddingRatio: 0.01,\n      animation: {\n        appear: {\n          animation: 'wave-in',\n        },\n        enter: {\n          animation: 'wave-in',\n        },\n      },\n    };\n  }\n\n  /**\n   * @override\n   * @param data\n   */\n  public changeData(data: Data) {\n    this.updateOption({ data });\n\n    const { nodes, edges } = transformToViewsData(this.options, this.chart.width, this.chart.height);\n\n    const nodesView = findViewById(this.chart, NODES_VIEW_ID);\n    const edgesView = findViewById(this.chart, EDGES_VIEW_ID);\n\n    nodesView.changeData(nodes);\n    edgesView.changeData(edges);\n  }\n\n  /**\n   * \n   */\n  protected getSchemaAdaptor(): Adaptor<SankeyOptions> {\n    return adaptor;\n  }\n\n  /**\n   *   \n   */\n  protected getDefaultOptions() {\n    return Sankey.getDefaultOptions();\n  }\n}\n","import { Plot } from '../../core/plot';\nimport { deepAssign } from '../../utils';\nimport { CHILD_NODE_COUNT, NODE_ANCESTORS_FIELD, NODE_INDEX_FIELD } from '../../utils/hierarchy/util';\nimport { SunburstOptions } from './types';\n\n/**\n *  root \n */\nexport const SUNBURST_ANCESTOR_FIELD = 'ancestor-node';\nexport const SUNBURST_Y_FIELD = 'value';\nexport const SUNBURST_PATH_FIELD = 'path';\n\n/**  */\nexport const RAW_FIELDS = [\n  SUNBURST_PATH_FIELD,\n  NODE_INDEX_FIELD,\n  NODE_ANCESTORS_FIELD,\n  CHILD_NODE_COUNT,\n  'name',\n  'depth',\n  'height',\n];\n\n/**\n *  \n */\nexport const DEFAULT_OPTIONS: Partial<SunburstOptions> = deepAssign({}, Plot.getDefaultOptions(), {\n  innerRadius: 0,\n  radius: 0.85,\n\n  // \n  hierarchyConfig: {\n    //  value\n    field: 'value',\n  },\n\n  // \n  tooltip: {\n    shared: true,\n    showMarkers: false,\n    offset: 20,\n    showTitle: false,\n  },\n  legend: false,\n\n  // \n  sunburstStyle: {\n    lineWidth: 0.5,\n    stroke: '#FFF',\n  },\n\n  // \n  drilldown: { enabled: true },\n});\n","export default function(node) {\n  node.x0 = Math.round(node.x0);\n  node.y0 = Math.round(node.y0);\n  node.x1 = Math.round(node.x1);\n  node.y1 = Math.round(node.y1);\n}\n","export default function(parent, x0, y0, x1, y1) {\n  var nodes = parent.children,\n      node,\n      i = -1,\n      n = nodes.length,\n      k = parent.value && (x1 - x0) / parent.value;\n\n  while (++i < n) {\n    node = nodes[i], node.y0 = y0, node.y1 = y1;\n    node.x0 = x0, node.x1 = x0 += node.value * k;\n  }\n}\n","import roundNode from \"./treemap/round.js\";\nimport treemapDice from \"./treemap/dice.js\";\n\nexport default function() {\n  var dx = 1,\n      dy = 1,\n      padding = 0,\n      round = false;\n\n  function partition(root) {\n    var n = root.height + 1;\n    root.x0 =\n    root.y0 = padding;\n    root.x1 = dx;\n    root.y1 = dy / n;\n    root.eachBefore(positionNode(dy, n));\n    if (round) root.eachBefore(roundNode);\n    return root;\n  }\n\n  function positionNode(dy, n) {\n    return function(node) {\n      if (node.children) {\n        treemapDice(node, node.x0, dy * (node.depth + 1) / n, node.x1, dy * (node.depth + 2) / n);\n      }\n      var x0 = node.x0,\n          y0 = node.y0,\n          x1 = node.x1 - padding,\n          y1 = node.y1 - padding;\n      if (x1 < x0) x0 = x1 = (x0 + x1) / 2;\n      if (y1 < y0) y0 = y1 = (y0 + y1) / 2;\n      node.x0 = x0;\n      node.y0 = y0;\n      node.x1 = x1;\n      node.y1 = y1;\n    };\n  }\n\n  partition.round = function(x) {\n    return arguments.length ? (round = !!x, partition) : round;\n  };\n\n  partition.size = function(x) {\n    return arguments.length ? (dx = +x[0], dy = +x[1], partition) : [dx, dy];\n  };\n\n  partition.padding = function(x) {\n    return arguments.length ? (padding = +x, partition) : padding;\n  };\n\n  return partition;\n}\n","import { assign, isArray, reduce, size } from '@antv/util';\nimport * as d3Hierarchy from 'd3-hierarchy';\nimport { getAllNodes, getField } from './util';\n\nconst DEFAULT_OPTIONS: Options = {\n  field: 'value',\n  size: [1, 1], // width, height\n  round: false,\n  padding: 0,\n  // \n  sort: (a, b) => b.value - a.value,\n  as: ['x', 'y'],\n  //  parentValue,  true \n  ignoreParentValue: true,\n};\n\nexport interface Options {\n  field: string;\n  size?: [number, number];\n  round?: boolean;\n  ratio?: number;\n  padding?: number;\n  sort?: Function;\n  as?: [string, string];\n\n  ignoreParentValue?: boolean;\n}\n\nexport function partition(data: any, options: Options): any[] {\n  options = assign({} as Options, DEFAULT_OPTIONS, options);\n  const as = options.as;\n  if (!isArray(as) || as.length !== 2) {\n    throw new TypeError('Invalid as: it must be an array with 2 strings (e.g. [ \"x\", \"y\" ])!');\n  }\n\n  let field;\n  try {\n    field = getField(options);\n  } catch (e) {\n    console.warn(e);\n  }\n\n  const partition = (data) =>\n    d3Hierarchy.partition().size(options.size).round(options.round).padding(options.padding)(\n      /**\n       * d3Hierarchy  sum  node  node  post-order traversal  value  node\n       * for example:\n       * { node: 'parent', value: 10, children: [{node: 'child1', value: 5}, {node: 'child2', value: 5}, ]}\n       * parent  sum(node(parent)) + sum(node(child1)) + sum(node(child2))\n       * sum d  data, children \n       */\n      d3Hierarchy\n        .hierarchy(data)\n        .sum((d) =>\n          size(d.children)\n            ? options.ignoreParentValue\n              ? 0\n              : d[field] - reduce(d.children, (a, b) => a + b[field], 0)\n            : d[field]\n        )\n        .sort(options.sort)\n    );\n  const root = partition(data);\n\n  /*\n   * points:\n   *   3  2\n   *   0  1\n   */\n  const x = as[0];\n  const y = as[1];\n\n  root.each((node) => {\n    node[x] = [node.x0, node.x1, node.x1, node.x0];\n    node[y] = [node.y1, node.y1, node.y0, node.y0];\n    //  \n    node.name = node.name || node.data?.name || node.data?.label;\n    node.data.name = node.name;\n\n    ['x0', 'x1', 'y0', 'y1'].forEach((prop) => {\n      if (as.indexOf(prop) === -1) {\n        delete node[prop];\n      }\n    });\n  });\n\n  return getAllNodes(root);\n}\n","function defaultSeparation(a, b) {\n  return a.parent === b.parent ? 1 : 2;\n}\n\nfunction meanX(children) {\n  return children.reduce(meanXReduce, 0) / children.length;\n}\n\nfunction meanXReduce(x, c) {\n  return x + c.x;\n}\n\nfunction maxY(children) {\n  return 1 + children.reduce(maxYReduce, 0);\n}\n\nfunction maxYReduce(y, c) {\n  return Math.max(y, c.y);\n}\n\nfunction leafLeft(node) {\n  var children;\n  while (children = node.children) node = children[0];\n  return node;\n}\n\nfunction leafRight(node) {\n  var children;\n  while (children = node.children) node = children[children.length - 1];\n  return node;\n}\n\nexport default function() {\n  var separation = defaultSeparation,\n      dx = 1,\n      dy = 1,\n      nodeSize = false;\n\n  function cluster(root) {\n    var previousNode,\n        x = 0;\n\n    // First walk, computing the initial x & y values.\n    root.eachAfter(function(node) {\n      var children = node.children;\n      if (children) {\n        node.x = meanX(children);\n        node.y = maxY(children);\n      } else {\n        node.x = previousNode ? x += separation(node, previousNode) : 0;\n        node.y = 0;\n        previousNode = node;\n      }\n    });\n\n    var left = leafLeft(root),\n        right = leafRight(root),\n        x0 = left.x - separation(left, right) / 2,\n        x1 = right.x + separation(right, left) / 2;\n\n    // Second walk, normalizing x & y to the desired size.\n    return root.eachAfter(nodeSize ? function(node) {\n      node.x = (node.x - root.x) * dx;\n      node.y = (root.y - node.y) * dy;\n    } : function(node) {\n      node.x = (node.x - x0) / (x1 - x0) * dx;\n      node.y = (1 - (root.y ? node.y / root.y : 1)) * dy;\n    });\n  }\n\n  cluster.separation = function(x) {\n    return arguments.length ? (separation = x, cluster) : separation;\n  };\n\n  cluster.size = function(x) {\n    return arguments.length ? (nodeSize = false, dx = +x[0], dy = +x[1], cluster) : (nodeSize ? null : [dx, dy]);\n  };\n\n  cluster.nodeSize = function(x) {\n    return arguments.length ? (nodeSize = true, dx = +x[0], dy = +x[1], cluster) : (nodeSize ? [dx, dy] : null);\n  };\n\n  return cluster;\n}\n","import {required} from \"./accessors.js\";\nimport {Node, computeHeight} from \"./hierarchy/index.js\";\n\nvar preroot = {depth: -1},\n    ambiguous = {};\n\nfunction defaultId(d) {\n  return d.id;\n}\n\nfunction defaultParentId(d) {\n  return d.parentId;\n}\n\nexport default function() {\n  var id = defaultId,\n      parentId = defaultParentId;\n\n  function stratify(data) {\n    var nodes = Array.from(data),\n        n = nodes.length,\n        d,\n        i,\n        root,\n        parent,\n        node,\n        nodeId,\n        nodeKey,\n        nodeByKey = new Map;\n\n    for (i = 0; i < n; ++i) {\n      d = nodes[i], node = nodes[i] = new Node(d);\n      if ((nodeId = id(d, i, data)) != null && (nodeId += \"\")) {\n        nodeKey = node.id = nodeId;\n        nodeByKey.set(nodeKey, nodeByKey.has(nodeKey) ? ambiguous : node);\n      }\n      if ((nodeId = parentId(d, i, data)) != null && (nodeId += \"\")) {\n        node.parent = nodeId;\n      }\n    }\n\n    for (i = 0; i < n; ++i) {\n      node = nodes[i];\n      if (nodeId = node.parent) {\n        parent = nodeByKey.get(nodeId);\n        if (!parent) throw new Error(\"missing: \" + nodeId);\n        if (parent === ambiguous) throw new Error(\"ambiguous: \" + nodeId);\n        if (parent.children) parent.children.push(node);\n        else parent.children = [node];\n        node.parent = parent;\n      } else {\n        if (root) throw new Error(\"multiple roots\");\n        root = node;\n      }\n    }\n\n    if (!root) throw new Error(\"no root\");\n    root.parent = preroot;\n    root.eachBefore(function(node) { node.depth = node.parent.depth + 1; --n; }).eachBefore(computeHeight);\n    root.parent = null;\n    if (n > 0) throw new Error(\"cycle\");\n\n    return root;\n  }\n\n  stratify.id = function(x) {\n    return arguments.length ? (id = required(x), stratify) : id;\n  };\n\n  stratify.parentId = function(x) {\n    return arguments.length ? (parentId = required(x), stratify) : parentId;\n  };\n\n  return stratify;\n}\n","import {Node} from \"./hierarchy/index.js\";\n\nfunction defaultSeparation(a, b) {\n  return a.parent === b.parent ? 1 : 2;\n}\n\n// function radialSeparation(a, b) {\n//   return (a.parent === b.parent ? 1 : 2) / a.depth;\n// }\n\n// This function is used to traverse the left contour of a subtree (or\n// subforest). It returns the successor of v on this contour. This successor is\n// either given by the leftmost child of v or by the thread of v. The function\n// returns null if and only if v is on the highest level of its subtree.\nfunction nextLeft(v) {\n  var children = v.children;\n  return children ? children[0] : v.t;\n}\n\n// This function works analogously to nextLeft.\nfunction nextRight(v) {\n  var children = v.children;\n  return children ? children[children.length - 1] : v.t;\n}\n\n// Shifts the current subtree rooted at w+. This is done by increasing\n// prelim(w+) and mod(w+) by shift.\nfunction moveSubtree(wm, wp, shift) {\n  var change = shift / (wp.i - wm.i);\n  wp.c -= change;\n  wp.s += shift;\n  wm.c += change;\n  wp.z += shift;\n  wp.m += shift;\n}\n\n// All other shifts, applied to the smaller subtrees between w- and w+, are\n// performed by this function. To prepare the shifts, we have to adjust\n// change(w+), shift(w+), and change(w-).\nfunction executeShifts(v) {\n  var shift = 0,\n      change = 0,\n      children = v.children,\n      i = children.length,\n      w;\n  while (--i >= 0) {\n    w = children[i];\n    w.z += shift;\n    w.m += shift;\n    shift += w.s + (change += w.c);\n  }\n}\n\n// If vi-s ancestor is a sibling of v, returns vi-s ancestor. Otherwise,\n// returns the specified (default) ancestor.\nfunction nextAncestor(vim, v, ancestor) {\n  return vim.a.parent === v.parent ? vim.a : ancestor;\n}\n\nfunction TreeNode(node, i) {\n  this._ = node;\n  this.parent = null;\n  this.children = null;\n  this.A = null; // default ancestor\n  this.a = this; // ancestor\n  this.z = 0; // prelim\n  this.m = 0; // mod\n  this.c = 0; // change\n  this.s = 0; // shift\n  this.t = null; // thread\n  this.i = i; // number\n}\n\nTreeNode.prototype = Object.create(Node.prototype);\n\nfunction treeRoot(root) {\n  var tree = new TreeNode(root, 0),\n      node,\n      nodes = [tree],\n      child,\n      children,\n      i,\n      n;\n\n  while (node = nodes.pop()) {\n    if (children = node._.children) {\n      node.children = new Array(n = children.length);\n      for (i = n - 1; i >= 0; --i) {\n        nodes.push(child = node.children[i] = new TreeNode(children[i], i));\n        child.parent = node;\n      }\n    }\n  }\n\n  (tree.parent = new TreeNode(null, 0)).children = [tree];\n  return tree;\n}\n\n// Node-link tree diagram using the Reingold-Tilford \"tidy\" algorithm\nexport default function() {\n  var separation = defaultSeparation,\n      dx = 1,\n      dy = 1,\n      nodeSize = null;\n\n  function tree(root) {\n    var t = treeRoot(root);\n\n    // Compute the layout using Buchheim et al.s algorithm.\n    t.eachAfter(firstWalk), t.parent.m = -t.z;\n    t.eachBefore(secondWalk);\n\n    // If a fixed node size is specified, scale x and y.\n    if (nodeSize) root.eachBefore(sizeNode);\n\n    // If a fixed tree size is specified, scale x and y based on the extent.\n    // Compute the left-most, right-most, and depth-most nodes for extents.\n    else {\n      var left = root,\n          right = root,\n          bottom = root;\n      root.eachBefore(function(node) {\n        if (node.x < left.x) left = node;\n        if (node.x > right.x) right = node;\n        if (node.depth > bottom.depth) bottom = node;\n      });\n      var s = left === right ? 1 : separation(left, right) / 2,\n          tx = s - left.x,\n          kx = dx / (right.x + s + tx),\n          ky = dy / (bottom.depth || 1);\n      root.eachBefore(function(node) {\n        node.x = (node.x + tx) * kx;\n        node.y = node.depth * ky;\n      });\n    }\n\n    return root;\n  }\n\n  // Computes a preliminary x-coordinate for v. Before that, FIRST WALK is\n  // applied recursively to the children of v, as well as the function\n  // APPORTION. After spacing out the children by calling EXECUTE SHIFTS, the\n  // node v is placed to the midpoint of its outermost children.\n  function firstWalk(v) {\n    var children = v.children,\n        siblings = v.parent.children,\n        w = v.i ? siblings[v.i - 1] : null;\n    if (children) {\n      executeShifts(v);\n      var midpoint = (children[0].z + children[children.length - 1].z) / 2;\n      if (w) {\n        v.z = w.z + separation(v._, w._);\n        v.m = v.z - midpoint;\n      } else {\n        v.z = midpoint;\n      }\n    } else if (w) {\n      v.z = w.z + separation(v._, w._);\n    }\n    v.parent.A = apportion(v, w, v.parent.A || siblings[0]);\n  }\n\n  // Computes all real x-coordinates by summing up the modifiers recursively.\n  function secondWalk(v) {\n    v._.x = v.z + v.parent.m;\n    v.m += v.parent.m;\n  }\n\n  // The core of the algorithm. Here, a new subtree is combined with the\n  // previous subtrees. Threads are used to traverse the inside and outside\n  // contours of the left and right subtree up to the highest common level. The\n  // vertices used for the traversals are vi+, vi-, vo-, and vo+, where the\n  // superscript o means outside and i means inside, the subscript - means left\n  // subtree and + means right subtree. For summing up the modifiers along the\n  // contour, we use respective variables si+, si-, so-, and so+. Whenever two\n  // nodes of the inside contours conflict, we compute the left one of the\n  // greatest uncommon ancestors using the function ANCESTOR and call MOVE\n  // SUBTREE to shift the subtree and prepare the shifts of smaller subtrees.\n  // Finally, we add a new thread (if necessary).\n  function apportion(v, w, ancestor) {\n    if (w) {\n      var vip = v,\n          vop = v,\n          vim = w,\n          vom = vip.parent.children[0],\n          sip = vip.m,\n          sop = vop.m,\n          sim = vim.m,\n          som = vom.m,\n          shift;\n      while (vim = nextRight(vim), vip = nextLeft(vip), vim && vip) {\n        vom = nextLeft(vom);\n        vop = nextRight(vop);\n        vop.a = v;\n        shift = vim.z + sim - vip.z - sip + separation(vim._, vip._);\n        if (shift > 0) {\n          moveSubtree(nextAncestor(vim, v, ancestor), v, shift);\n          sip += shift;\n          sop += shift;\n        }\n        sim += vim.m;\n        sip += vip.m;\n        som += vom.m;\n        sop += vop.m;\n      }\n      if (vim && !nextRight(vop)) {\n        vop.t = vim;\n        vop.m += sim - sop;\n      }\n      if (vip && !nextLeft(vom)) {\n        vom.t = vip;\n        vom.m += sip - som;\n        ancestor = v;\n      }\n    }\n    return ancestor;\n  }\n\n  function sizeNode(node) {\n    node.x *= dx;\n    node.y = node.depth * dy;\n  }\n\n  tree.separation = function(x) {\n    return arguments.length ? (separation = x, tree) : separation;\n  };\n\n  tree.size = function(x) {\n    return arguments.length ? (nodeSize = false, dx = +x[0], dy = +x[1], tree) : (nodeSize ? null : [dx, dy]);\n  };\n\n  tree.nodeSize = function(x) {\n    return arguments.length ? (nodeSize = true, dx = +x[0], dy = +x[1], tree) : (nodeSize ? [dx, dy] : null);\n  };\n\n  return tree;\n}\n","export default function(parent, x0, y0, x1, y1) {\n  var nodes = parent.children,\n      node,\n      i = -1,\n      n = nodes.length,\n      k = parent.value && (y1 - y0) / parent.value;\n\n  while (++i < n) {\n    node = nodes[i], node.x0 = x0, node.x1 = x1;\n    node.y0 = y0, node.y1 = y0 += node.value * k;\n  }\n}\n","import treemapDice from \"./dice.js\";\nimport treemapSlice from \"./slice.js\";\n\nexport var phi = (1 + Math.sqrt(5)) / 2;\n\nexport function squarifyRatio(ratio, parent, x0, y0, x1, y1) {\n  var rows = [],\n      nodes = parent.children,\n      row,\n      nodeValue,\n      i0 = 0,\n      i1 = 0,\n      n = nodes.length,\n      dx, dy,\n      value = parent.value,\n      sumValue,\n      minValue,\n      maxValue,\n      newRatio,\n      minRatio,\n      alpha,\n      beta;\n\n  while (i0 < n) {\n    dx = x1 - x0, dy = y1 - y0;\n\n    // Find the next non-empty node.\n    do sumValue = nodes[i1++].value; while (!sumValue && i1 < n);\n    minValue = maxValue = sumValue;\n    alpha = Math.max(dy / dx, dx / dy) / (value * ratio);\n    beta = sumValue * sumValue * alpha;\n    minRatio = Math.max(maxValue / beta, beta / minValue);\n\n    // Keep adding nodes while the aspect ratio maintains or improves.\n    for (; i1 < n; ++i1) {\n      sumValue += nodeValue = nodes[i1].value;\n      if (nodeValue < minValue) minValue = nodeValue;\n      if (nodeValue > maxValue) maxValue = nodeValue;\n      beta = sumValue * sumValue * alpha;\n      newRatio = Math.max(maxValue / beta, beta / minValue);\n      if (newRatio > minRatio) { sumValue -= nodeValue; break; }\n      minRatio = newRatio;\n    }\n\n    // Position and record the row orientation.\n    rows.push(row = {value: sumValue, dice: dx < dy, children: nodes.slice(i0, i1)});\n    if (row.dice) treemapDice(row, x0, y0, x1, value ? y0 += dy * sumValue / value : y1);\n    else treemapSlice(row, x0, y0, value ? x0 += dx * sumValue / value : x1, y1);\n    value -= sumValue, i0 = i1;\n  }\n\n  return rows;\n}\n\nexport default (function custom(ratio) {\n\n  function squarify(parent, x0, y0, x1, y1) {\n    squarifyRatio(ratio, parent, x0, y0, x1, y1);\n  }\n\n  squarify.ratio = function(x) {\n    return custom((x = +x) > 1 ? x : 1);\n  };\n\n  return squarify;\n})(phi);\n","import roundNode from \"./round.js\";\nimport squarify from \"./squarify.js\";\nimport {required} from \"../accessors.js\";\nimport constant, {constantZero} from \"../constant.js\";\n\nexport default function() {\n  var tile = squarify,\n      round = false,\n      dx = 1,\n      dy = 1,\n      paddingStack = [0],\n      paddingInner = constantZero,\n      paddingTop = constantZero,\n      paddingRight = constantZero,\n      paddingBottom = constantZero,\n      paddingLeft = constantZero;\n\n  function treemap(root) {\n    root.x0 =\n    root.y0 = 0;\n    root.x1 = dx;\n    root.y1 = dy;\n    root.eachBefore(positionNode);\n    paddingStack = [0];\n    if (round) root.eachBefore(roundNode);\n    return root;\n  }\n\n  function positionNode(node) {\n    var p = paddingStack[node.depth],\n        x0 = node.x0 + p,\n        y0 = node.y0 + p,\n        x1 = node.x1 - p,\n        y1 = node.y1 - p;\n    if (x1 < x0) x0 = x1 = (x0 + x1) / 2;\n    if (y1 < y0) y0 = y1 = (y0 + y1) / 2;\n    node.x0 = x0;\n    node.y0 = y0;\n    node.x1 = x1;\n    node.y1 = y1;\n    if (node.children) {\n      p = paddingStack[node.depth + 1] = paddingInner(node) / 2;\n      x0 += paddingLeft(node) - p;\n      y0 += paddingTop(node) - p;\n      x1 -= paddingRight(node) - p;\n      y1 -= paddingBottom(node) - p;\n      if (x1 < x0) x0 = x1 = (x0 + x1) / 2;\n      if (y1 < y0) y0 = y1 = (y0 + y1) / 2;\n      tile(node, x0, y0, x1, y1);\n    }\n  }\n\n  treemap.round = function(x) {\n    return arguments.length ? (round = !!x, treemap) : round;\n  };\n\n  treemap.size = function(x) {\n    return arguments.length ? (dx = +x[0], dy = +x[1], treemap) : [dx, dy];\n  };\n\n  treemap.tile = function(x) {\n    return arguments.length ? (tile = required(x), treemap) : tile;\n  };\n\n  treemap.padding = function(x) {\n    return arguments.length ? treemap.paddingInner(x).paddingOuter(x) : treemap.paddingInner();\n  };\n\n  treemap.paddingInner = function(x) {\n    return arguments.length ? (paddingInner = typeof x === \"function\" ? x : constant(+x), treemap) : paddingInner;\n  };\n\n  treemap.paddingOuter = function(x) {\n    return arguments.length ? treemap.paddingTop(x).paddingRight(x).paddingBottom(x).paddingLeft(x) : treemap.paddingTop();\n  };\n\n  treemap.paddingTop = function(x) {\n    return arguments.length ? (paddingTop = typeof x === \"function\" ? x : constant(+x), treemap) : paddingTop;\n  };\n\n  treemap.paddingRight = function(x) {\n    return arguments.length ? (paddingRight = typeof x === \"function\" ? x : constant(+x), treemap) : paddingRight;\n  };\n\n  treemap.paddingBottom = function(x) {\n    return arguments.length ? (paddingBottom = typeof x === \"function\" ? x : constant(+x), treemap) : paddingBottom;\n  };\n\n  treemap.paddingLeft = function(x) {\n    return arguments.length ? (paddingLeft = typeof x === \"function\" ? x : constant(+x), treemap) : paddingLeft;\n  };\n\n  return treemap;\n}\n","export default function(parent, x0, y0, x1, y1) {\n  var nodes = parent.children,\n      i, n = nodes.length,\n      sum, sums = new Array(n + 1);\n\n  for (sums[0] = sum = i = 0; i < n; ++i) {\n    sums[i + 1] = sum += nodes[i].value;\n  }\n\n  partition(0, n, parent.value, x0, y0, x1, y1);\n\n  function partition(i, j, value, x0, y0, x1, y1) {\n    if (i >= j - 1) {\n      var node = nodes[i];\n      node.x0 = x0, node.y0 = y0;\n      node.x1 = x1, node.y1 = y1;\n      return;\n    }\n\n    var valueOffset = sums[i],\n        valueTarget = (value / 2) + valueOffset,\n        k = i + 1,\n        hi = j - 1;\n\n    while (k < hi) {\n      var mid = k + hi >>> 1;\n      if (sums[mid] < valueTarget) k = mid + 1;\n      else hi = mid;\n    }\n\n    if ((valueTarget - sums[k - 1]) < (sums[k] - valueTarget) && i + 1 < k) --k;\n\n    var valueLeft = sums[k] - valueOffset,\n        valueRight = value - valueLeft;\n\n    if ((x1 - x0) > (y1 - y0)) {\n      var xk = value ? (x0 * valueRight + x1 * valueLeft) / value : x1;\n      partition(i, k, valueLeft, x0, y0, xk, y1);\n      partition(k, j, valueRight, xk, y0, x1, y1);\n    } else {\n      var yk = value ? (y0 * valueRight + y1 * valueLeft) / value : y1;\n      partition(i, k, valueLeft, x0, y0, x1, yk);\n      partition(k, j, valueRight, x0, yk, x1, y1);\n    }\n  }\n}\n","import dice from \"./dice.js\";\nimport slice from \"./slice.js\";\n\nexport default function(parent, x0, y0, x1, y1) {\n  (parent.depth & 1 ? slice : dice)(parent, x0, y0, x1, y1);\n}\n","import treemapDice from \"./dice.js\";\nimport treemapSlice from \"./slice.js\";\nimport {phi, squarifyRatio} from \"./squarify.js\";\n\nexport default (function custom(ratio) {\n\n  function resquarify(parent, x0, y0, x1, y1) {\n    if ((rows = parent._squarify) && (rows.ratio === ratio)) {\n      var rows,\n          row,\n          nodes,\n          i,\n          j = -1,\n          n,\n          m = rows.length,\n          value = parent.value;\n\n      while (++j < m) {\n        row = rows[j], nodes = row.children;\n        for (i = row.value = 0, n = nodes.length; i < n; ++i) row.value += nodes[i].value;\n        if (row.dice) treemapDice(row, x0, y0, x1, value ? y0 += (y1 - y0) * row.value / value : y1);\n        else treemapSlice(row, x0, y0, value ? x0 += (x1 - x0) * row.value / value : x1, y1);\n        value -= row.value;\n      }\n    } else {\n      parent._squarify = rows = squarifyRatio(ratio, parent, x0, y0, x1, y1);\n      rows.ratio = ratio;\n    }\n  }\n\n  resquarify.ratio = function(x) {\n    return custom((x = +x) > 1 ? x : 1);\n  };\n\n  return resquarify;\n})(phi);\n","import { assign, isArray } from '@antv/util';\nimport * as d3Hierarchy from 'd3-hierarchy';\nimport { HierarchyOption } from './types';\nimport { getAllNodes, getField } from './util';\n\nconst DEFAULT_OPTIONS: HierarchyOption = {\n  field: 'value',\n  tile: 'treemapSquarify', // treemapBinary, treemapDice, treemapSlice, treemapSliceDice, treemapSquarify, treemapResquarify\n  size: [1, 1], // width, height\n  round: false,\n  ignoreParentValue: true,\n  padding: 0,\n  paddingInner: 0,\n  paddingOuter: 0,\n  paddingTop: 0,\n  paddingRight: 0,\n  paddingBottom: 0,\n  paddingLeft: 0,\n  as: ['x', 'y'],\n  // \n  sort: (a, b) => b.value - a.value,\n  // , treemapSquarify \n  ratio: 0.5 * (1 + Math.sqrt(5)),\n};\n\nexport function getTileMethod(tile: string, ratio: number) {\n  return tile === 'treemapSquarify' ? d3Hierarchy[tile].ratio(ratio) : d3Hierarchy[tile];\n}\n\nexport function treemap(data: any, options: HierarchyOption): any[] {\n  options = assign({} as HierarchyOption, DEFAULT_OPTIONS, options);\n  const as = options.as;\n  if (!isArray(as) || as.length !== 2) {\n    throw new TypeError('Invalid as: it must be an array with 2 strings (e.g. [ \"x\", \"y\" ])!');\n  }\n\n  let field;\n  try {\n    field = getField(options);\n  } catch (e) {\n    console.warn(e);\n  }\n\n  const tileMethod = getTileMethod(options.tile, options.ratio);\n\n  const partition = (data) =>\n    d3Hierarchy\n      .treemap()\n      .tile(tileMethod)\n      .size(options.size)\n      .round(options.round)\n      .padding(options.padding)\n      .paddingInner(options.paddingInner)\n      .paddingOuter(options.paddingOuter)\n      .paddingTop(options.paddingTop)\n      .paddingRight(options.paddingRight)\n      .paddingBottom(options.paddingBottom)\n      .paddingLeft(options.paddingLeft)(\n      /**\n       * d3Hierarchy  sum  node  node  post-order traversal  value  node\n       * for example:\n       * { node: 'parent', value: 10, children: [{node: 'child1', value: 5}, {node: 'child2', value: 5}, ]}\n       * parent  sum(node(parent)) + sum(node(child1)) + sum(node(child2))\n       * ignoreParentValue  true()  0 + 5 + 5 = 10\n       * ignoreParentValue  false   10 + 5 + 5 = 20\n       * sum d  data, children \n       */\n      d3Hierarchy\n        .hierarchy(data)\n        .sum((d) => (options.ignoreParentValue && d.children ? 0 : d[field]))\n        .sort(options.sort)\n    );\n  const root = partition(data);\n\n  /*\n   * points:\n   *   3  2\n   *   0  1\n   */\n  const x = as[0];\n  const y = as[1];\n  root.each((node) => {\n    node[x] = [node.x0, node.x1, node.x1, node.x0];\n    node[y] = [node.y1, node.y1, node.y0, node.y0];\n    ['x0', 'x1', 'y0', 'y1'].forEach((prop) => {\n      if (as.indexOf(prop) === -1) {\n        delete node[prop];\n      }\n    });\n  });\n\n  return getAllNodes(root);\n}\n","import { omit } from '@antv/util';\nimport { HIERARCHY_DATA_TRANSFORM_PARAMS } from '../../interactions/actions/drill-down';\nimport { pick } from '../../utils';\nimport { partition } from '../../utils/hierarchy/partition';\nimport { treemap } from '../../utils/hierarchy/treemap';\nimport { SUNBURST_ANCESTOR_FIELD, SUNBURST_PATH_FIELD } from './constant';\nimport { SunburstOptions } from './types';\n\n/**\n * sunburst \n * @param options\n */\nexport function transformData(options: Pick<SunburstOptions, 'data' | 'colorField' | 'rawFields' | 'hierarchyConfig'>) {\n  const { data, colorField, rawFields, hierarchyConfig = {} } = options;\n  const { activeDepth } = hierarchyConfig;\n  const transform = {\n    partition: partition,\n    treemap: treemap,\n  };\n  // @ts-ignore  seriesField  hierarchyConfig.field\n  const seriesField = options.seriesField;\n  // @ts-ignore \n  const type = options.type || 'partition';\n\n  const nodes = transform[type](data, {\n    field: seriesField || 'value',\n    ...omit(hierarchyConfig, ['activeDepth']),\n    // @ts-ignore\n    type: `hierarchy.${type}`,\n    as: ['x', 'y'],\n  });\n\n  const result = [];\n\n  nodes.forEach((node) => {\n    if (node.depth === 0) {\n      return null;\n    }\n    if (activeDepth > 0 && node.depth > activeDepth) {\n      return null;\n    }\n\n    let path = node.data.name;\n    let ancestorNode = { ...node };\n    while (ancestorNode.depth > 1) {\n      path = `${ancestorNode.parent.data?.name} / ${path}`;\n      ancestorNode = ancestorNode.parent;\n    }\n\n    const nodeInfo = {\n      ...pick(node.data, [...(rawFields || []), hierarchyConfig.field]),\n      [SUNBURST_PATH_FIELD]: path,\n      [SUNBURST_ANCESTOR_FIELD]: ancestorNode.data.name,\n      ...node,\n    };\n    // note: \n    if (seriesField) {\n      nodeInfo[seriesField] = node.data[seriesField] || node.parent?.data?.[seriesField];\n    }\n    if (colorField) {\n      nodeInfo[colorField] = node.data[colorField] || node.parent?.data?.[colorField];\n    }\n    nodeInfo.ext = hierarchyConfig;\n    nodeInfo[HIERARCHY_DATA_TRANSFORM_PARAMS] = { hierarchyConfig, colorField, rawFields };\n    result.push(nodeInfo);\n  });\n\n  return result;\n}\n","import { Types } from '@antv/g2';\nimport { get, isFunction, uniq } from '@antv/util';\nimport {\n  animation,\n  annotation,\n  interaction as baseInteraction,\n  legend,\n  pattern,\n  scale,\n  theme,\n} from '../../adaptor/common';\nimport { polygon as polygonAdaptor } from '../../adaptor/geometries';\nimport { Params } from '../../core/adaptor';\nimport { Datum } from '../../types';\nimport { deepAssign, findGeometry, flow, transformLabel } from '../../utils';\nimport { getAdjustAppendPadding } from '../../utils/padding';\nimport { RAW_FIELDS, SUNBURST_ANCESTOR_FIELD, SUNBURST_PATH_FIELD, SUNBURST_Y_FIELD } from './constant';\nimport { SunburstOptions } from './types';\nimport { transformData } from './utils';\n\n/**\n * geometry \n * @param params\n */\nfunction geometry(params: Params<SunburstOptions>): Params<SunburstOptions> {\n  const { chart, options } = params;\n  const { color, colorField = SUNBURST_ANCESTOR_FIELD, sunburstStyle, rawFields = [] } = options;\n  const data = transformData(options);\n  chart.data(data);\n\n  //  fillOpacity \n  let style;\n  if (sunburstStyle) {\n    style = (datum: Datum) => {\n      return deepAssign(\n        {},\n        {\n          fillOpacity: 0.85 ** datum.depth,\n        },\n        isFunction(sunburstStyle) ? sunburstStyle(datum) : sunburstStyle\n      );\n    };\n  }\n\n  // geometry\n  polygonAdaptor(\n    deepAssign({}, params, {\n      options: {\n        xField: 'x',\n        yField: 'y',\n        seriesField: colorField,\n        rawFields: uniq([...RAW_FIELDS, ...rawFields]),\n        polygon: {\n          color,\n          style,\n        },\n      },\n    })\n  );\n\n  return params;\n}\n\n/**\n * axis \n * @param params\n */\nexport function axis(params: Params<SunburstOptions>): Params<SunburstOptions> {\n  const { chart } = params;\n  chart.axis(false);\n  return params;\n}\n\n/**\n * \n * @param params\n */\nfunction label(params: Params<SunburstOptions>): Params<SunburstOptions> {\n  const { chart, options } = params;\n  const { label } = options;\n\n  const geometry = findGeometry(chart, 'polygon');\n\n  // undefined \n  if (!label) {\n    geometry.label(false);\n  } else {\n    const { fields = ['name'], callback, ...cfg } = label;\n    geometry.label({\n      fields,\n      callback,\n      cfg: transformLabel(cfg),\n    });\n  }\n\n  return params;\n}\n\n/**\n * coord \n * @param params\n */\nfunction coordinate(params: Params<SunburstOptions>): Params<SunburstOptions> {\n  const { chart, options } = params;\n  const { innerRadius, radius, reflect } = options;\n\n  const coord = chart.coordinate({\n    type: 'polar',\n    cfg: {\n      innerRadius,\n      radius,\n    },\n  });\n  if (reflect) {\n    coord.reflect(reflect);\n  }\n\n  return params;\n}\n/**\n * meta \n * @param params\n */\nexport function meta(params: Params<SunburstOptions>): Params<SunburstOptions> {\n  const { options } = params;\n  const { hierarchyConfig, meta } = options;\n\n  return flow(\n    scale(\n      {},\n      {\n        [SUNBURST_Y_FIELD]: get(meta, get(hierarchyConfig, ['field'], 'value')),\n      }\n    )\n  )(params);\n}\n\n/**\n * tooltip \n * @param params\n */\nexport function tooltip(params: Params<SunburstOptions>): Params<SunburstOptions> {\n  const { chart, options } = params;\n  const { tooltip } = options;\n\n  if (tooltip === false) {\n    chart.tooltip(false);\n  } else {\n    let tooltipOptions = tooltip;\n    //  fields customItems ;  formatter  fields\n    if (!get(tooltip, 'fields')) {\n      tooltipOptions = deepAssign(\n        {},\n        {\n          customItems: (items: Types.TooltipItem[]) =>\n            items.map((item) => {\n              const scales = get(chart.getOptions(), 'scales');\n              const pathFormatter = get(scales, [SUNBURST_PATH_FIELD, 'formatter'], (v) => v);\n              const valueFormatter = get(scales, [SUNBURST_Y_FIELD, 'formatter'], (v) => v);\n              return {\n                ...item,\n                name: pathFormatter(item.data[SUNBURST_PATH_FIELD]),\n                value: valueFormatter(item.data.value),\n              };\n            }),\n        },\n        tooltipOptions\n      );\n    }\n    chart.tooltip(tooltipOptions);\n  }\n\n  return params;\n}\n\nfunction adaptorInteraction(options: SunburstOptions): SunburstOptions {\n  const { drilldown, interactions = [] } = options;\n\n  if (drilldown?.enabled) {\n    return deepAssign({}, options, {\n      interactions: [\n        ...interactions,\n        {\n          type: 'drill-down',\n          cfg: { drillDownConfig: drilldown, transformData },\n        },\n      ],\n    });\n  }\n  return options;\n}\n\n/**\n * \n * @param params\n * @returns\n */\nfunction interaction(params: Params<SunburstOptions>): Params<SunburstOptions> {\n  const { chart, options } = params;\n\n  const { drilldown } = options;\n\n  baseInteraction({\n    chart,\n    options: adaptorInteraction(options),\n  });\n\n  // \n  if (drilldown?.enabled) {\n    //  25px \n    chart.appendPadding = getAdjustAppendPadding(chart.appendPadding, get(drilldown, ['breadCrumb', 'position']));\n  }\n\n  return params;\n}\n\n/**\n * \n * @param chart\n * @param options\n */\nexport function adaptor(params: Params<SunburstOptions>) {\n  // flow  G2 API\n  return flow(\n    theme,\n    pattern('sunburstStyle'),\n    geometry,\n    axis,\n    meta,\n    legend,\n    coordinate,\n    tooltip,\n    label,\n    interaction,\n    animation,\n    annotation()\n  )(params);\n}\n","import { Adaptor } from '../../core/adaptor';\nimport { Plot } from '../../core/plot';\nimport { NODE_ANCESTORS_FIELD } from '../../utils/hierarchy/util';\nimport { adaptor } from './adaptor';\nimport { DEFAULT_OPTIONS, SUNBURST_ANCESTOR_FIELD, SUNBURST_PATH_FIELD } from './constant';\nimport './interactions';\nimport { SunburstOptions } from './types';\n\nexport type { SunburstOptions };\n\nexport class Sunburst extends Plot<SunburstOptions> {\n  /**\n   *   \n   * \n   */\n  static getDefaultOptions(): Partial<SunburstOptions> {\n    return DEFAULT_OPTIONS;\n  }\n\n  /**   */\n  static SUNBURST_ANCESTOR_FIELD = SUNBURST_ANCESTOR_FIELD;\n  /**   */\n  static SUNBURST_PATH_FIELD = SUNBURST_PATH_FIELD;\n  /**  */\n  static NODE_ANCESTORS_FIELD = NODE_ANCESTORS_FIELD;\n\n  /**  */\n  public type: string = 'sunburst';\n\n  /**\n   *   \n   */\n  protected getDefaultOptions() {\n    return Sunburst.getDefaultOptions();\n  }\n\n  /**\n   * \n   */\n  protected getSchemaAdaptor(): Adaptor<SunburstOptions> {\n    return adaptor;\n  }\n}\n","import { View } from '@antv/g2';\nimport { get, isArray } from '@antv/util';\nimport { HIERARCHY_DATA_TRANSFORM_PARAMS } from '../../interactions/actions/drill-down';\nimport { Interaction } from '../../types/interaction';\nimport { treemap } from '../../utils/hierarchy/treemap';\nimport { TreemapOptions } from './types';\n\nexport function findInteraction(\n  interactions: TreemapOptions['interactions'],\n  interactionType: string\n): undefined | Interaction {\n  if (!isArray(interactions)) return undefined;\n  return interactions.find((i) => i.type === interactionType);\n}\n\nexport function enableInteraction(interactions: TreemapOptions['interactions'], interactionType: string): boolean {\n  const interaction = findInteraction(interactions, interactionType);\n  return interaction && interaction.enable !== false;\n}\n\n/**\n * \n * @param interactions\n * @param interactionType\n * @returns\n */\nexport function enableDrillInteraction(options: TreemapOptions): boolean {\n  const { interactions, drilldown } = options;\n  // , treemap-drill-down\n  return get(drilldown, 'enabled') || enableInteraction(interactions, 'treemap-drill-down');\n}\n\nexport function resetDrillDown(chart: View) {\n  const drillDownInteraction = chart.interactions['drill-down'];\n\n  if (!drillDownInteraction) return;\n\n  // @ts-ignore\n  const drillDownAction = drillDownInteraction.context.actions.find((i) => i.name === 'drill-down-action');\n\n  drillDownAction.reset();\n}\n\ninterface TransformDataOptions {\n  data: TreemapOptions['data'];\n  colorField: TreemapOptions['colorField'];\n  enableDrillDown: boolean;\n  hierarchyConfig: TreemapOptions['hierarchyConfig'];\n}\n\nexport function transformData(options: TransformDataOptions) {\n  const { data, colorField, enableDrillDown, hierarchyConfig } = options;\n\n  const nodes = treemap(data, {\n    ...hierarchyConfig,\n    // @ts-ignore\n    type: 'hierarchy.treemap',\n    field: 'value',\n    as: ['x', 'y'],\n  });\n\n  const result = [];\n  nodes.forEach((node) => {\n    if (node.depth === 0) {\n      return null;\n    }\n\n    //  depth === 1 \n    if (enableDrillDown && node.depth !== 1) {\n      return null;\n    }\n\n    // \n    if (!enableDrillDown && node.children) {\n      return null;\n    }\n\n    // path (x, y), ( depth)\n    const curPath = node.ancestors().map((n) => ({\n      data: n.data,\n      height: n.height,\n      value: n.value,\n    }));\n    // data.path) \n    const path = enableDrillDown && isArray(data.path) ? curPath.concat(data.path.slice(1)) : curPath;\n\n    const nodeInfo = Object.assign({}, node.data, {\n      x: node.x,\n      y: node.y,\n      depth: node.depth,\n      value: node.value,\n      path,\n      ...node,\n    });\n    if (!node.data[colorField] && node.parent) {\n      const ancestorNode = node.ancestors().find((n) => n.data[colorField]);\n      nodeInfo[colorField] = ancestorNode?.data[colorField];\n    } else {\n      nodeInfo[colorField] = node.data[colorField];\n    }\n\n    nodeInfo[HIERARCHY_DATA_TRANSFORM_PARAMS] = { hierarchyConfig, colorField, enableDrillDown };\n    result.push(nodeInfo);\n  });\n  return result;\n}\n","import { get } from '@antv/util';\nimport { animation, annotation, interaction as commonInteraction, legend, theme, tooltip } from '../../adaptor/common';\nimport { polygon as basePolygon } from '../../adaptor/geometries/polygon';\nimport { pattern } from '../../adaptor/pattern';\nimport { Params } from '../../core/adaptor';\nimport { deepAssign, flow } from '../../utils';\nimport { getAdjustAppendPadding } from '../../utils/padding';\nimport { TreemapOptions } from './types';\nimport { enableDrillInteraction, findInteraction, transformData } from './utils';\n\n/**\n *  option\n * @param params\n */\nfunction defaultOptions(params: Params<TreemapOptions>): Params<TreemapOptions> {\n  const { options } = params;\n  const { colorField } = options;\n\n  return deepAssign(\n    {\n      options: {\n        rawFields: ['value'],\n        tooltip: {\n          fields: ['name', 'value', colorField, 'path'],\n          formatter: (data) => {\n            return {\n              name: data.name,\n              value: data.value,\n            };\n          },\n        },\n      },\n    },\n    params\n  );\n}\n\n/**\n * \n * @param params\n */\nfunction geometry(params: Params<TreemapOptions>): Params<TreemapOptions> {\n  const { chart, options } = params;\n  const { color, colorField, rectStyle, hierarchyConfig, rawFields } = options;\n\n  const data = transformData({\n    data: options.data,\n    colorField: options.colorField,\n    enableDrillDown: enableDrillInteraction(options),\n    hierarchyConfig,\n  });\n\n  chart.data(data);\n\n  // geometry\n  basePolygon(\n    deepAssign({}, params, {\n      options: {\n        xField: 'x',\n        yField: 'y',\n        seriesField: colorField,\n        rawFields: rawFields,\n        polygon: {\n          color,\n          style: rectStyle,\n        },\n      },\n    })\n  );\n\n  // \n  chart.coordinate().reflect('y');\n\n  return params;\n}\n\n/**\n * \n * @param params\n */\nfunction axis(params: Params<TreemapOptions>): Params<TreemapOptions> {\n  const { chart } = params;\n  chart.axis(false);\n  return params;\n}\n\nfunction adaptorInteraction(options: TreemapOptions): TreemapOptions {\n  const { drilldown, interactions = [] } = options;\n\n  const enableDrillDown = enableDrillInteraction(options);\n  if (enableDrillDown) {\n    return deepAssign({}, options, {\n      interactions: [\n        ...interactions,\n        {\n          type: 'drill-down',\n          //   API\n          cfg: { drillDownConfig: drilldown, transformData },\n        },\n      ],\n    });\n  }\n  return options;\n}\n\n/**\n * Interaction \n * @param params\n */\nexport function interaction(params: Params<TreemapOptions>): Params<TreemapOptions> {\n  const { chart, options } = params;\n  const { interactions, drilldown } = options;\n\n  commonInteraction({\n    chart,\n    options: adaptorInteraction(options),\n  });\n\n  //  view-zoom\n  const viewZoomInteraction = findInteraction(interactions, 'view-zoom');\n\n  if (viewZoomInteraction) {\n    //  interaction \n    if (viewZoomInteraction.enable !== false) {\n      chart.getCanvas().on('mousewheel', (ev) => {\n        ev.preventDefault();\n      });\n    } else {\n      //  viewZoomInteraction \n      chart.getCanvas().off('mousewheel');\n    }\n  }\n\n  // \n  const enableDrillDown = enableDrillInteraction(options);\n  if (enableDrillDown) {\n    //  25px \n    chart.appendPadding = getAdjustAppendPadding(chart.appendPadding, get(drilldown, ['breadCrumb', 'position']));\n  }\n  return params;\n}\n\n/**\n * \n * @param chart\n * @param options\n */\nexport function adaptor(params: Params<TreemapOptions>) {\n  return flow(\n    defaultOptions,\n    theme,\n    pattern('rectStyle'),\n    geometry,\n    axis,\n    legend,\n    tooltip,\n    interaction,\n    animation,\n    annotation()\n  )(params);\n}\n","export const DEFAULT_OPTIONS = {\n  //  name \n  colorField: 'name',\n  rectStyle: {\n    lineWidth: 1,\n    stroke: '#fff',\n  },\n  hierarchyConfig: {\n    tile: 'treemapSquarify' as const,\n  },\n  label: {\n    fields: ['name'],\n    layout: {\n      type: 'limit-in-shape',\n    },\n  },\n  tooltip: {\n    showMarkers: false,\n    showTitle: false,\n  },\n  // \n  drilldown: {\n    enabled: false,\n    breadCrumb: {\n      position: 'bottom-left' as const,\n      rootText: '',\n      dividerText: '/',\n      textStyle: {\n        fontSize: 12,\n        fill: 'rgba(0, 0, 0, 0.65)',\n        cursor: 'pointer',\n      },\n      activeTextStyle: {\n        fill: '#87B5FF',\n      },\n    },\n  },\n};\n","import { Adaptor } from '../../core/adaptor';\nimport { Plot } from '../../core/plot';\nimport { adaptor } from './adaptor';\nimport { DEFAULT_OPTIONS } from './constant';\nimport './interactions';\nimport { TreemapOptions } from './types';\nimport { enableInteraction, resetDrillDown, transformData } from './utils';\n\nexport type { TreemapOptions };\n\nexport class Treemap extends Plot<TreemapOptions> {\n  /**\n   *   \n   * \n   */\n  static getDefaultOptions(): Partial<TreemapOptions> {\n    return DEFAULT_OPTIONS;\n  }\n\n  /**  */\n  public type: string = 'treemap';\n\n  /**\n   * changeData\n   */\n  public changeData(data) {\n    const { colorField, interactions, hierarchyConfig } = this.options;\n    this.updateOption({ data });\n    const transData = transformData({\n      data,\n      colorField,\n      enableDrillDown: enableInteraction(interactions, 'treemap-drill-down'),\n      hierarchyConfig,\n    });\n    this.chart.changeData(transData);\n\n    resetDrillDown(this.chart);\n  }\n\n  /**\n   *   \n   */\n  protected getDefaultOptions() {\n    return Treemap.getDefaultOptions();\n  }\n\n  protected getSchemaAdaptor(): Adaptor<TreemapOptions> {\n    return adaptor;\n  }\n}\n","import { VennOptions } from './types';\n\n// \nexport const ID_FIELD = 'id';\nexport const PATH_FIELD = 'path';\n\n/**\n *  \n */\nexport const DEFAULT_OPTIONS: Partial<VennOptions> = {\n  appendPadding: [10, 0, 20, 0],\n  blendMode: 'multiply',\n  tooltip: {\n    showTitle: false,\n    showMarkers: false,\n    fields: ['id', 'size'],\n    formatter: (datum) => {\n      return { name: datum.id, value: datum.size };\n    },\n  },\n  legend: { position: 'top-left' },\n  label: {\n    style: {\n      textAlign: 'center',\n      fill: '#fff',\n    },\n  },\n  //  \n  interactions: [{ type: 'legend-filter', enable: false }],\n  state: {\n    active: {\n      style: {\n        stroke: '#000',\n      },\n    },\n    selected: {\n      style: {\n        stroke: '#000',\n        lineWidth: 2,\n      },\n    },\n    inactive: {\n      style: {\n        fillOpacity: 0.3,\n        strokeOpacity: 0.3,\n      },\n    },\n  },\n  // \n  defaultInteractions: ['tooltip', 'venn-legend-active'],\n};\n","import { View } from '@antv/g2';\n\n/** tofront:   */\nexport function placeElementsOrdered(view: View) {\n  if (!view) {\n    return;\n  }\n  const elements = view.geometries[0].elements;\n  elements.forEach((elem) => {\n    elem.shape.toFront();\n  });\n}\n","import { getActionClass } from '@antv/g2';\nimport { placeElementsOrdered } from '../util';\n\nconst ElementActiveAction: any = getActionClass('element-active');\n\nexport class VennElementActive extends ElementActiveAction {\n  /**\n   * \n   */\n  protected syncElementsPos() {\n    placeElementsOrdered(this.context.view);\n  }\n\n  /**  */\n  public active() {\n    super.active();\n    this.syncElementsPos();\n  }\n\n  /** toggle  */\n  public toggle() {\n    super.toggle();\n    this.syncElementsPos();\n  }\n\n  /**  */\n  public reset() {\n    super.reset();\n    this.syncElementsPos();\n  }\n}\n","import { getActionClass } from '@antv/g2';\nimport { placeElementsOrdered } from '../util';\n\nconst ElementHighlightAction: any = getActionClass('element-highlight');\n\nexport class VennElementHighlight extends ElementHighlightAction {\n  /**\n   * \n   */\n  protected syncElementsPos() {\n    placeElementsOrdered(this.context.view);\n  }\n\n  /**  */\n  public highlight() {\n    super.highlight();\n    this.syncElementsPos();\n  }\n\n  /** toggle  */\n  public toggle() {\n    super.toggle();\n    this.syncElementsPos();\n  }\n\n  /**  */\n  public clear() {\n    super.clear();\n    this.syncElementsPos();\n  }\n\n  /**  */\n  public reset() {\n    super.reset();\n    this.syncElementsPos();\n  }\n}\n","import { getActionClass } from '@antv/g2';\nimport { placeElementsOrdered } from '../util';\n\nconst ElementSelectedAction: any = getActionClass('element-selected');\nconst ElementSingleSelectedAction: any = getActionClass('element-single-selected');\n\n/**\n *  \n */\nexport class VennElementSelected extends ElementSelectedAction {\n  /**\n   * \n   */\n  protected syncElementsPos() {\n    placeElementsOrdered(this.context.view);\n  }\n\n  /**  */\n  public selected() {\n    super.selected();\n    this.syncElementsPos();\n  }\n\n  /** toggle  */\n  public toggle() {\n    super.toggle();\n    this.syncElementsPos();\n  }\n\n  /**  */\n  public reset() {\n    super.reset();\n    this.syncElementsPos();\n  }\n}\n\n/**\n *  \n */\nexport class VennElementSingleSelected extends ElementSingleSelectedAction {\n  /**\n   * \n   */\n  protected syncElementsPos() {\n    placeElementsOrdered(this.context.view);\n  }\n\n  /**  */\n  public selected() {\n    super.selected();\n    this.syncElementsPos();\n  }\n\n  /** toggle  */\n  public toggle() {\n    super.toggle();\n    this.syncElementsPos();\n  }\n\n  /**  */\n  public reset() {\n    super.reset();\n    this.syncElementsPos();\n  }\n}\n","import { registerAction, registerInteraction } from '@antv/g2';\nimport { VennElementActive } from './actions/active';\nimport { VennElementHighlight } from './actions/highlight';\nimport { VennElementSelected, VennElementSingleSelected } from './actions/selected';\n\n/** ==================  aciton ================== */\n\nregisterAction('venn-element-active', VennElementActive as any);\nregisterAction('venn-element-highlight', VennElementHighlight as any);\nregisterAction('venn-element-selected', VennElementSelected as any);\nregisterAction('venn-element-single-selected', VennElementSingleSelected as any);\n\n/** ==================  ================== */\n\n// ========= Active  =========\nregisterInteraction('venn-element-active', {\n  start: [{ trigger: 'element:mouseenter', action: 'venn-element-active:active' }],\n  end: [{ trigger: 'element:mouseleave', action: 'venn-element-active:reset' }],\n});\n\n// =========   =========\nregisterInteraction('venn-element-highlight', {\n  start: [{ trigger: 'element:mouseenter', action: 'venn-element-highlight:highlight' }],\n  end: [{ trigger: 'element:mouseleave', action: 'venn-element-highlight:reset' }],\n});\n\n// ========= Selected  =========\n//  venn element \nregisterInteraction('venn-element-selected', {\n  start: [{ trigger: 'element:click', action: 'venn-element-selected:toggle' }],\n  rollback: [{ trigger: 'dblclick', action: ['venn-element-selected:reset'] }],\n});\n//  venn element \nregisterInteraction('venn-element-single-selected', {\n  start: [{ trigger: 'element:click', action: 'venn-element-single-selected:toggle' }],\n  rollback: [{ trigger: 'dblclick', action: ['venn-element-single-selected:reset'] }],\n});\n\n// =========  =========\n// legend hoverelement active\nregisterInteraction('venn-legend-active', {\n  start: [{ trigger: 'legend-item:mouseenter', action: ['list-active:active', 'venn-element-active:active'] }],\n  end: [{ trigger: 'legend-item:mouseleave', action: ['list-active:reset', 'venn-element-active:reset'] }],\n});\n\n// legend hoverelement active\nregisterInteraction('venn-legend-highlight', {\n  start: [\n    {\n      trigger: 'legend-item:mouseenter',\n      action: ['legend-item-highlight:highlight', 'venn-element-highlight:highlight'],\n    },\n  ],\n  end: [{ trigger: 'legend-item:mouseleave', action: ['legend-item-highlight:reset', 'venn-element-highlight:reset'] }],\n});\n","import { GeometryLabel, registerGeometryLabel } from '@antv/g2';\n\n// Step 1\n//  Label \n//  GeometryLabel \nclass VennLabel extends GeometryLabel {\n  /**\n   *  label \n   * @param labelCfg\n   * @param mappingData\n   * @param index\n   * @returns label point\n   */\n  protected getLabelPoint(labelCfg, mappingData, index: number) {\n    const { x, y } = labelCfg.data;\n    const { offsetX, offsetY } = labelCfg.customLabelInfo;\n    return {\n      content: labelCfg.content[index],\n      x: x + offsetX,\n      y: y + offsetY,\n    };\n  }\n}\n\n// Step 2:  CustomLabel\nregisterGeometryLabel('venn', VennLabel);\n","import { IGroup } from '@antv/g-base';\nimport { registerShape, Types, Util } from '@antv/g2';\nimport { parsePathString } from '@antv/path-util';\nimport { Datum, Point } from '../../types';\nimport { deepAssign } from '../../utils';\nimport { PATH_FIELD } from './constant';\nimport { CustomInfo } from './types';\n\n/**\n * \n * @param cfg \n */\nfunction getFillAttrs(cfg: Types.ShapeInfo) {\n  // style.fill \n  return deepAssign({}, cfg.defaultStyle, { fill: cfg.color }, cfg.style);\n}\n\nregisterShape('schema', 'venn', {\n  draw(cfg: Types.ShapeInfo & { points: Point[]; nextPoints: Point[] }, container: IGroup) {\n    const data = cfg.data as Datum;\n    const segments = parsePathString(data[PATH_FIELD]);\n    const fillAttrs = getFillAttrs(cfg);\n\n    const group = container.addGroup({ name: 'venn-shape' });\n\n    group.addShape('path', {\n      attrs: {\n        ...fillAttrs,\n        path: segments,\n      },\n      name: 'venn-path',\n    });\n\n    const { offsetX, offsetY } = cfg.customInfo as CustomInfo;\n\n    const matrix = Util.transform(null, [['t', offsetX, offsetY]]);\n    group.setMatrix(matrix);\n\n    return group;\n  },\n  getMarker(markerCfg: Types.ShapeMarkerCfg) {\n    const { color } = markerCfg;\n    return {\n      symbol: 'circle',\n      style: {\n        lineWidth: 0,\n        stroke: color,\n        fill: color,\n        r: 4,\n      },\n    };\n  },\n});\n","import colorUtil from '@antv/color-util';\n/*\n * interpolates between a set of colors uzing a bezier spline\n * blend mode formulas taken from http://www.venture-ware.com/kevin/coding/lets-learn-math-photoshop-blend-modes/\n */\n\nconst each =\n  (f) =>\n  (c0: number[], c1: number[]): number[] => {\n    const out = [];\n    out[0] = f(c0[0], c1[0]);\n    out[1] = f(c0[1], c1[1]);\n    out[2] = f(c0[2], c1[2]);\n    return out;\n  };\n\n/**\n * \n */\nconst blendObject = {\n  normal: (a: number) => a,\n  multiply: (a: number, b: number) => (a * b) / 255,\n  screen: (a: number, b: number) => 255 * (1 - (1 - a / 255) * (1 - b / 255)),\n  overlay: (a: number, b: number) => (b < 128 ? (2 * a * b) / 255 : 255 * (1 - 2 * (1 - a / 255) * (1 - b / 255))),\n  darken: (a: number, b: number) => (a > b ? b : a),\n  lighten: (a: number, b: number) => (a > b ? a : b),\n  dodge: (a: number, b: number) => {\n    if (a === 255) return 255;\n    a = (255 * (b / 255)) / (1 - a / 255);\n    return a > 255 ? 255 : a;\n  },\n  burn: (a: number, b: number) => {\n    //  w3c  0 \n    if (b === 255) return 255;\n    else if (a === 0) return 0;\n    else return 255 * (1 - Math.min(1, (1 - b / 255) / (a / 255)));\n  },\n};\n\n/**\n * \n */\nexport const innerBlend = (mode: string) => {\n  if (!blendObject[mode]) {\n    throw new Error('unknown blend mode ' + mode);\n  }\n  return blendObject[mode];\n};\n\n/**\n * \n * https://www.w3.org/TR/compositing/#blending\n * @param c0\n * @param c1\n * @param mode \n * @return rbga\n */\nexport function blend(c0: string, c1: string, mode = 'normal') {\n  // blendRgbArr:  blend color: [r, g, b]\n  const blendRgbArr = each(innerBlend(mode))(colorToArr(c0), colorToArr(c1));\n\n  const [r0, g0, b0, a0] = colorToArr(c0);\n  const [r1, g1, b1, a1] = colorToArr(c1);\n\n  const a = Number((a0 + a1 * (1 - a0)).toFixed(2));\n\n  const r = Math.round(\n    ((a0 * (1 - a1) * (r0 / 255) + a0 * a1 * (blendRgbArr[0] / 255) + (1 - a0) * a1 * (r1 / 255)) / a) * 255\n  );\n  const g = Math.round(\n    ((a0 * (1 - a1) * (g0 / 255) + a0 * a1 * (blendRgbArr[1] / 255) + (1 - a0) * a1 * (g1 / 255)) / a) * 255\n  );\n  const b = Math.round(\n    ((a0 * (1 - a1) * (b0 / 255) + a0 * a1 * (blendRgbArr[2] / 255) + (1 - a0) * a1 * (b1 / 255)) / a) * 255\n  );\n\n  return `rgba(${r}, ${g}, ${b}, ${a})`;\n}\n\n/**\n *  [r, g, b, a]\n * https://www.w3.org/TR/compositing/#blending\n * @param c color\n * @return [r, g, b, a]\n */\nexport function colorToArr(c: string): number[] {\n  const color = c.replace('/s+/g', ''); // \n  let rgbaArr: any[];\n\n  // 'red' -> [r, g, b, 1]\n  if (typeof color === 'string' && !color.startsWith('rgba') && !color.startsWith('#')) {\n    return (rgbaArr = colorUtil.rgb2arr(colorUtil.toRGB(color)).concat([1]));\n  }\n\n  // rgba(255, 200, 125, 0.5) -> [r, g, b, a]\n  if (color.startsWith('rgba')) rgbaArr = color.replace('rgba(', '').replace(')', '').split(',');\n\n  // '#fff000' -> [r, g, b, 1]\n  if (color.startsWith('#')) rgbaArr = colorUtil.rgb2arr(color).concat([1]); //  16 6  1\n\n  // [r, g, b, a] \n  return rgbaArr.map((item, index) => (index === 3 ? Number(item) : item | 0));\n}\n","const SMALL = 1e-10;\n\n/** Returns the intersection area of a bunch of circles (where each circle\n is an object having an x,y and radius property) */\nexport function intersectionArea(circles, stats?: any) {\n  // get all the intersection points of the circles\n  const intersectionPoints = getIntersectionPoints(circles);\n\n  // filter out points that aren't included in all the circles\n  const innerPoints = intersectionPoints.filter(function (p) {\n    return containedInCircles(p, circles);\n  });\n\n  let arcArea = 0,\n    polygonArea = 0,\n    i;\n  const arcs = [];\n  // if we have intersection points that are within all the circles,\n  // then figure out the area contained by them\n  if (innerPoints.length > 1) {\n    // sort the points by angle from the center of the polygon, which lets\n    // us just iterate over points to get the edges\n    const center = getCenter(innerPoints);\n    for (i = 0; i < innerPoints.length; ++i) {\n      const p = innerPoints[i];\n      p.angle = Math.atan2(p.x - center.x, p.y - center.y);\n    }\n    innerPoints.sort(function (a, b) {\n      return b.angle - a.angle;\n    });\n\n    // iterate over all points, get arc between the points\n    // and update the areas\n    let p2 = innerPoints[innerPoints.length - 1];\n    for (i = 0; i < innerPoints.length; ++i) {\n      const p1 = innerPoints[i];\n\n      // polygon area updates easily ...\n      polygonArea += (p2.x + p1.x) * (p1.y - p2.y);\n\n      // updating the arc area is a little more involved\n      const midPoint = { x: (p1.x + p2.x) / 2, y: (p1.y + p2.y) / 2 };\n      let arc = null;\n\n      for (let j = 0; j < p1.parentIndex.length; ++j) {\n        if (p2.parentIndex.indexOf(p1.parentIndex[j]) > -1) {\n          // figure out the angle halfway between the two points\n          // on the current circle\n          const circle = circles[p1.parentIndex[j]],\n            a1 = Math.atan2(p1.x - circle.x, p1.y - circle.y),\n            a2 = Math.atan2(p2.x - circle.x, p2.y - circle.y);\n\n          let angleDiff = a2 - a1;\n          if (angleDiff < 0) {\n            angleDiff += 2 * Math.PI;\n          }\n\n          // and use that angle to figure out the width of the\n          // arc\n          const a = a2 - angleDiff / 2;\n          let width = distance(midPoint, {\n            x: circle.x + circle.radius * Math.sin(a),\n            y: circle.y + circle.radius * Math.cos(a),\n          });\n\n          // clamp the width to the largest is can actually be\n          // (sometimes slightly overflows because of FP errors)\n          if (width > circle.radius * 2) {\n            width = circle.radius * 2;\n          }\n\n          // pick the circle whose arc has the smallest width\n          if (arc === null || arc.width > width) {\n            arc = { circle: circle, width: width, p1: p1, p2: p2 };\n          }\n        }\n      }\n\n      if (arc !== null) {\n        arcs.push(arc);\n        arcArea += circleArea(arc.circle.radius, arc.width);\n        p2 = p1;\n      }\n    }\n  } else {\n    // no intersection points, is either disjoint - or is completely\n    // overlapped. figure out which by examining the smallest circle\n    let smallest = circles[0];\n    for (i = 1; i < circles.length; ++i) {\n      if (circles[i].radius < smallest.radius) {\n        smallest = circles[i];\n      }\n    }\n\n    // make sure the smallest circle is completely contained in all\n    // the other circles\n    let disjoint = false;\n    for (i = 0; i < circles.length; ++i) {\n      if (distance(circles[i], smallest) > Math.abs(smallest.radius - circles[i].radius)) {\n        disjoint = true;\n        break;\n      }\n    }\n\n    if (disjoint) {\n      arcArea = polygonArea = 0;\n    } else {\n      arcArea = smallest.radius * smallest.radius * Math.PI;\n      arcs.push({\n        circle: smallest,\n        p1: { x: smallest.x, y: smallest.y + smallest.radius },\n        p2: { x: smallest.x - SMALL, y: smallest.y + smallest.radius },\n        width: smallest.radius * 2,\n      });\n    }\n  }\n\n  polygonArea /= 2;\n  if (stats) {\n    stats.area = arcArea + polygonArea;\n    stats.arcArea = arcArea;\n    stats.polygonArea = polygonArea;\n    stats.arcs = arcs;\n    stats.innerPoints = innerPoints;\n    stats.intersectionPoints = intersectionPoints;\n  }\n\n  return arcArea + polygonArea;\n}\n\n/** returns whether a point is contained by all of a list of circles */\nexport function containedInCircles(point, circles) {\n  for (let i = 0; i < circles.length; ++i) {\n    if (distance(point, circles[i]) > circles[i].radius + SMALL) {\n      return false;\n    }\n  }\n  return true;\n}\n\n/** Gets all intersection points between a bunch of circles */\nfunction getIntersectionPoints(circles) {\n  const ret = [];\n  for (let i = 0; i < circles.length; ++i) {\n    for (let j = i + 1; j < circles.length; ++j) {\n      const intersect = circleCircleIntersection(circles[i], circles[j]);\n      for (let k = 0; k < intersect.length; ++k) {\n        const p: any = intersect[k];\n        p.parentIndex = [i, j];\n        ret.push(p);\n      }\n    }\n  }\n  return ret;\n}\n\n/** Circular segment area calculation. See http://mathworld.wolfram.com/CircularSegment.html */\nexport function circleArea(r, width) {\n  return r * r * Math.acos(1 - width / r) - (r - width) * Math.sqrt(width * (2 * r - width));\n}\n\n/** euclidean distance between two points */\nexport function distance(p1, p2) {\n  return Math.sqrt((p1.x - p2.x) * (p1.x - p2.x) + (p1.y - p2.y) * (p1.y - p2.y));\n}\n\n/** Returns the overlap area of two circles of radius r1 and r2 - that\nhave their centers separated by distance d. Simpler faster\ncircle intersection for only two circles */\nexport function circleOverlap(r1, r2, d) {\n  // no overlap\n  if (d >= r1 + r2) {\n    return 0;\n  }\n\n  // completely overlapped\n  if (d <= Math.abs(r1 - r2)) {\n    return Math.PI * Math.min(r1, r2) * Math.min(r1, r2);\n  }\n\n  const w1 = r1 - (d * d - r2 * r2 + r1 * r1) / (2 * d),\n    w2 = r2 - (d * d - r1 * r1 + r2 * r2) / (2 * d);\n  return circleArea(r1, w1) + circleArea(r2, w2);\n}\n\n/** Given two circles (containing a x/y/radius attributes),\nreturns the intersecting points if possible.\nnote: doesn't handle cases where there are infinitely many\nintersection points (circles are equivalent):, or only one intersection point*/\nexport function circleCircleIntersection(p1, p2) {\n  const d = distance(p1, p2),\n    r1 = p1.radius,\n    r2 = p2.radius;\n\n  // if to far away, or self contained - can't be done\n  if (d >= r1 + r2 || d <= Math.abs(r1 - r2)) {\n    return [];\n  }\n\n  const a = (r1 * r1 - r2 * r2 + d * d) / (2 * d),\n    h = Math.sqrt(r1 * r1 - a * a),\n    x0 = p1.x + (a * (p2.x - p1.x)) / d,\n    y0 = p1.y + (a * (p2.y - p1.y)) / d,\n    rx = -(p2.y - p1.y) * (h / d),\n    ry = -(p2.x - p1.x) * (h / d);\n\n  return [\n    { x: x0 + rx, y: y0 - ry },\n    { x: x0 - rx, y: y0 + ry },\n  ];\n}\n\n/** Returns the center of a bunch of points */\nexport function getCenter(points) {\n  const center = { x: 0, y: 0 };\n  for (let i = 0; i < points.length; ++i) {\n    center.x += points[i].x;\n    center.y += points[i].y;\n  }\n  center.x /= points.length;\n  center.y /= points.length;\n  return center;\n}\n","import { nelderMead } from 'fmin';\nimport { distance, getCenter, intersectionArea } from './circleintersection';\n\nfunction circleMargin(current, interior, exterior) {\n  let margin = interior[0].radius - distance(interior[0], current),\n    i,\n    m;\n  for (i = 1; i < interior.length; ++i) {\n    m = interior[i].radius - distance(interior[i], current);\n    if (m <= margin) {\n      margin = m;\n    }\n  }\n\n  for (i = 0; i < exterior.length; ++i) {\n    m = distance(exterior[i], current) - exterior[i].radius;\n    if (m <= margin) {\n      margin = m;\n    }\n  }\n  return margin;\n}\n\n// compute the center of some circles by maximizing the margin of\n// the center point relative to the circles (interior) after subtracting\n// nearby circles (exterior)\nexport function computeTextCentre(interior, exterior) {\n  // get an initial estimate by sampling around the interior circles\n  // and taking the point with the biggest margin\n  const points = [];\n  let i;\n  for (i = 0; i < interior.length; ++i) {\n    const c = interior[i];\n    points.push({ x: c.x, y: c.y });\n    points.push({ x: c.x + c.radius / 2, y: c.y });\n    points.push({ x: c.x - c.radius / 2, y: c.y });\n    points.push({ x: c.x, y: c.y + c.radius / 2 });\n    points.push({ x: c.x, y: c.y - c.radius / 2 });\n  }\n  let initial = points[0],\n    margin = circleMargin(points[0], interior, exterior);\n  for (i = 1; i < points.length; ++i) {\n    const m = circleMargin(points[i], interior, exterior);\n    if (m >= margin) {\n      initial = points[i];\n      margin = m;\n    }\n  }\n\n  // maximize the margin numerically\n  const solution = nelderMead(\n    function (p) {\n      return -1 * circleMargin({ x: p[0], y: p[1] }, interior, exterior);\n    },\n    [initial.x, initial.y],\n    { maxIterations: 500, minErrorDelta: 1e-10 }\n  ).x;\n  let ret: any = { x: solution[0], y: solution[1] };\n\n  // check solution, fallback as needed (happens if fully overlapped\n  // etc)\n  let valid = true;\n  for (i = 0; i < interior.length; ++i) {\n    if (distance(ret, interior[i]) > interior[i].radius) {\n      valid = false;\n      break;\n    }\n  }\n\n  for (i = 0; i < exterior.length; ++i) {\n    if (distance(ret, exterior[i]) < exterior[i].radius) {\n      valid = false;\n      break;\n    }\n  }\n\n  if (!valid) {\n    if (interior.length == 1) {\n      ret = { x: interior[0].x, y: interior[0].y };\n    } else {\n      const areaStats: any = {};\n      intersectionArea(interior, areaStats);\n\n      if (areaStats.arcs.length === 0) {\n        ret = { x: 0, y: -1000, disjoint: true };\n      } else if (areaStats.arcs.length == 1) {\n        ret = { x: areaStats.arcs[0].circle.x, y: areaStats.arcs[0].circle.y };\n      } else if (exterior.length) {\n        // try again without other circles\n        ret = computeTextCentre(interior, []);\n      } else {\n        // take average of all the points in the intersection\n        // polygon. this should basically never happen\n        // and has some issues:\n        // https://github.com/benfred/venn.js/issues/48#issuecomment-146069777\n        ret = getCenter(\n          areaStats.arcs.map(function (a) {\n            return a.p1;\n          })\n        );\n      }\n    }\n  }\n\n  return ret;\n}\n\n// given a dictionary of {setid : circle}, returns\n// a dictionary of setid to list of circles that completely overlap it\nfunction getOverlappingCircles(circles) {\n  const ret = {},\n    circleids = [];\n  for (const circleid in circles) {\n    circleids.push(circleid);\n    ret[circleid] = [];\n  }\n  for (let i = 0; i < circleids.length; i++) {\n    const a = circles[circleids[i]];\n    for (let j = i + 1; j < circleids.length; ++j) {\n      const b = circles[circleids[j]],\n        d = distance(a, b);\n\n      if (d + b.radius <= a.radius + 1e-10) {\n        ret[circleids[j]].push(circleids[i]);\n      } else if (d + a.radius <= b.radius + 1e-10) {\n        ret[circleids[i]].push(circleids[j]);\n      }\n    }\n  }\n  return ret;\n}\n\nexport function computeTextCentres(circles, areas) {\n  const ret = {},\n    overlapped = getOverlappingCircles(circles);\n  for (let i = 0; i < areas.length; ++i) {\n    const area = areas[i].sets,\n      areaids = {},\n      exclude = {};\n    for (let j = 0; j < area.length; ++j) {\n      areaids[area[j]] = true;\n      const overlaps = overlapped[area[j]];\n      // keep track of any circles that overlap this area,\n      // and don't consider for purposes of computing the text\n      // centre\n      for (let k = 0; k < overlaps.length; ++k) {\n        exclude[overlaps[k]] = true;\n      }\n    }\n\n    const interior = [],\n      exterior = [];\n    for (const setid in circles) {\n      if (setid in areaids) {\n        interior.push(circles[setid]);\n      } else if (!(setid in exclude)) {\n        exterior.push(circles[setid]);\n      }\n    }\n    const centre = computeTextCentre(interior, exterior);\n    ret[area] = centre;\n    if (centre.disjoint && areas[i].size > 0) {\n      console.log('WARNING: area ' + area + ' not represented on screen');\n    }\n  }\n  return ret;\n}\n\n/**\n * (x, y)  r  path\n * @param x  x\n * @param y  y\n * @param r \n * @returns  path\n */\nexport function circlePath(x, y, r) {\n  const ret = [];\n  // ret.push('\\nM', x, y);\n  // ret.push('\\nm', -r, 0);\n  // ret.push('\\na', r, r, 0, 1, 0, r * 2, 0);\n  // ret.push('\\na', r, r, 0, 1, 0, -r * 2, 0);\n  const x0 = x - r;\n  const y0 = y;\n  ret.push('M', x0, y0);\n  ret.push('A', r, r, 0, 1, 0, x0 + 2 * r, y0);\n  ret.push('A', r, r, 0, 1, 0, x0, y0);\n\n  return ret.join(' ');\n}\n\n// inverse of the circlePath function, returns a circle object from an svg path\nexport function circleFromPath(path) {\n  const tokens = path.split(' ');\n  return { x: parseFloat(tokens[1]), y: parseFloat(tokens[2]), radius: -parseFloat(tokens[4]) };\n}\n\n/** returns a svg path of the intersection area of a bunch of circles */\nexport function intersectionAreaPath(circles) {\n  const stats: any = {};\n  intersectionArea(circles, stats);\n  const arcs = stats.arcs;\n\n  if (arcs.length === 0) {\n    return 'M 0 0';\n  } else if (arcs.length == 1) {\n    const circle = arcs[0].circle;\n    return circlePath(circle.x, circle.y, circle.radius);\n  } else {\n    // draw path around arcs\n    const ret = ['\\nM', arcs[0].p2.x, arcs[0].p2.y];\n    for (let i = 0; i < arcs.length; ++i) {\n      const arc = arcs[i],\n        r = arc.circle.radius,\n        wide = arc.width > r;\n      ret.push('\\nA', r, r, 0, wide ? 1 : 0, 1, arc.p1.x, arc.p1.y);\n    }\n    return ret.join(' ');\n  }\n}\n","import { bisect, conjugateGradient, nelderMead, norm2, scale, zeros, zerosM } from 'fmin';\nimport { circleCircleIntersection, circleOverlap, distance, intersectionArea } from './circleintersection';\n\n/** given a list of set objects, and their corresponding overlaps.\nupdates the (x, y, radius) attribute on each set such that their positions\nroughly correspond to the desired overlaps */\nexport function venn(areas, parameters?: any) {\n  parameters = parameters || {};\n  parameters.maxIterations = parameters.maxIterations || 500;\n  const initialLayout = parameters.initialLayout || bestInitialLayout;\n  const loss = parameters.lossFunction || lossFunction;\n\n  // add in missing pairwise areas as having 0 size\n  areas = addMissingAreas(areas);\n\n  // initial layout is done greedily\n  const circles = initialLayout(areas, parameters);\n\n  // transform x/y coordinates to a vector to optimize\n  const initial = [],\n    setids = [];\n  let setid;\n  for (setid in circles) {\n    // eslint-disable-next-line\n    if (circles.hasOwnProperty(setid)) {\n      initial.push(circles[setid].x);\n      initial.push(circles[setid].y);\n      setids.push(setid);\n    }\n  }\n\n  // optimize initial layout from our loss function\n  const solution = nelderMead(\n    function (values) {\n      const current = {};\n      for (let i = 0; i < setids.length; ++i) {\n        const setid = setids[i];\n        current[setid] = {\n          x: values[2 * i],\n          y: values[2 * i + 1],\n          radius: circles[setid].radius,\n          // size : circles[setid].size\n        };\n      }\n      return loss(current, areas);\n    },\n    initial,\n    parameters\n  );\n\n  // transform solution vector back to x/y points\n  const positions = solution.x;\n  for (let i = 0; i < setids.length; ++i) {\n    setid = setids[i];\n    circles[setid].x = positions[2 * i];\n    circles[setid].y = positions[2 * i + 1];\n  }\n\n  return circles;\n}\n\nconst SMALL = 1e-10;\n\n/** Returns the distance necessary for two circles of radius r1 + r2 to\nhave the overlap area 'overlap' */\nexport function distanceFromIntersectArea(r1, r2, overlap) {\n  // handle complete overlapped circles\n  if (Math.min(r1, r2) * Math.min(r1, r2) * Math.PI <= overlap + SMALL) {\n    return Math.abs(r1 - r2);\n  }\n\n  return bisect(\n    function (distance) {\n      return circleOverlap(r1, r2, distance) - overlap;\n    },\n    0,\n    r1 + r2\n  );\n}\n\n/** Missing pair-wise intersection area data can cause problems:\n treating as an unknown means that sets will be laid out overlapping,\n which isn't what people expect. To reflect that we want disjoint sets\n here, set the overlap to 0 for all missing pairwise set intersections */\nfunction addMissingAreas(areas) {\n  areas = areas.slice();\n\n  // two circle intersections that aren't defined\n  const ids: number[] = [],\n    pairs: any = {};\n  let i, j, a, b;\n  for (i = 0; i < areas.length; ++i) {\n    const area = areas[i];\n    if (area.sets.length == 1) {\n      ids.push(area.sets[0]);\n    } else if (area.sets.length == 2) {\n      a = area.sets[0];\n      b = area.sets[1];\n      // @ts-ignore\n      pairs[[a, b]] = true;\n      // @ts-ignore\n      pairs[[b, a]] = true;\n    }\n  }\n  ids.sort((a, b) => {\n    return a > b ? 1 : -1;\n  });\n\n  for (i = 0; i < ids.length; ++i) {\n    a = ids[i];\n    for (j = i + 1; j < ids.length; ++j) {\n      b = ids[j];\n      // @ts-ignore\n      if (!([a, b] in pairs)) {\n        areas.push({ sets: [a, b], size: 0 });\n      }\n    }\n  }\n  return areas;\n}\n\n/// Returns two matrices, one of the euclidean distances between the sets\n/// and the other indicating if there are subset or disjoint set relationships\nexport function getDistanceMatrices(areas, sets, setids) {\n  // initialize an empty distance matrix between all the points\n  const distances = zerosM(sets.length, sets.length),\n    constraints = zerosM(sets.length, sets.length);\n\n  // compute required distances between all the sets such that\n  // the areas match\n  areas\n    .filter(function (x) {\n      return x.sets.length == 2;\n    })\n    .map(function (current) {\n      const left = setids[current.sets[0]],\n        right = setids[current.sets[1]],\n        r1 = Math.sqrt(sets[left].size / Math.PI),\n        r2 = Math.sqrt(sets[right].size / Math.PI),\n        distance = distanceFromIntersectArea(r1, r2, current.size);\n\n      distances[left][right] = distances[right][left] = distance;\n\n      // also update constraints to indicate if its a subset or disjoint\n      // relationship\n      let c = 0;\n      if (current.size + 1e-10 >= Math.min(sets[left].size, sets[right].size)) {\n        c = 1;\n      } else if (current.size <= 1e-10) {\n        c = -1;\n      }\n      constraints[left][right] = constraints[right][left] = c;\n    });\n\n  return { distances: distances, constraints: constraints };\n}\n\n/// computes the gradient and loss simulatenously for our constrained MDS optimizer\nfunction constrainedMDSGradient(x, fxprime, distances, constraints) {\n  let loss = 0,\n    i;\n  for (i = 0; i < fxprime.length; ++i) {\n    fxprime[i] = 0;\n  }\n\n  for (i = 0; i < distances.length; ++i) {\n    const xi = x[2 * i],\n      yi = x[2 * i + 1];\n    for (let j = i + 1; j < distances.length; ++j) {\n      const xj = x[2 * j],\n        yj = x[2 * j + 1],\n        dij = distances[i][j],\n        constraint = constraints[i][j];\n\n      const squaredDistance = (xj - xi) * (xj - xi) + (yj - yi) * (yj - yi),\n        distance = Math.sqrt(squaredDistance),\n        delta = squaredDistance - dij * dij;\n\n      if ((constraint > 0 && distance <= dij) || (constraint < 0 && distance >= dij)) {\n        continue;\n      }\n\n      loss += 2 * delta * delta;\n\n      fxprime[2 * i] += 4 * delta * (xi - xj);\n      fxprime[2 * i + 1] += 4 * delta * (yi - yj);\n\n      fxprime[2 * j] += 4 * delta * (xj - xi);\n      fxprime[2 * j + 1] += 4 * delta * (yj - yi);\n    }\n  }\n  return loss;\n}\n\n/// takes the best working variant of either constrained MDS or greedy\nexport function bestInitialLayout(areas, params) {\n  let initial = greedyLayout(areas, params);\n  const loss = params.lossFunction || lossFunction;\n\n  // greedylayout is sufficient for all 2/3 circle cases. try out\n  // constrained MDS for higher order problems, take its output\n  // if it outperforms. (greedy is aesthetically better on 2/3 circles\n  // since it axis aligns)\n  if (areas.length >= 8) {\n    const constrained = constrainedMDSLayout(areas, params),\n      constrainedLoss = loss(constrained, areas),\n      greedyLoss = loss(initial, areas);\n\n    if (constrainedLoss + 1e-8 < greedyLoss) {\n      initial = constrained;\n    }\n  }\n  return initial;\n}\n\n/// use the constrained MDS variant to generate an initial layout\nexport function constrainedMDSLayout(areas, params) {\n  params = params || {};\n  const restarts = params.restarts || 10;\n\n  // bidirectionally map sets to a rowid  (so we can create a matrix)\n  const sets = [],\n    setids = {};\n  let i;\n  for (i = 0; i < areas.length; ++i) {\n    const area = areas[i];\n    if (area.sets.length == 1) {\n      setids[area.sets[0]] = sets.length;\n      sets.push(area);\n    }\n  }\n\n  const matrices = getDistanceMatrices(areas, sets, setids);\n  let distances = matrices.distances;\n  const constraints = matrices.constraints;\n\n  // keep distances bounded, things get messed up otherwise.\n  // TODO: proper preconditioner?\n  const norm = norm2(distances.map(norm2)) / distances.length;\n  distances = distances.map(function (row) {\n    return row.map(function (value) {\n      return value / norm;\n    });\n  });\n\n  const obj = function (x, fxprime) {\n    return constrainedMDSGradient(x, fxprime, distances, constraints);\n  };\n\n  let best, current;\n  for (i = 0; i < restarts; ++i) {\n    const initial = zeros(distances.length * 2).map(Math.random);\n\n    current = conjugateGradient(obj, initial, params);\n    if (!best || current.fx < best.fx) {\n      best = current;\n    }\n  }\n  const positions = best.x;\n\n  // translate rows back to (x,y,radius) coordinates\n  const circles = {};\n  for (i = 0; i < sets.length; ++i) {\n    const set = sets[i];\n    circles[set.sets[0]] = {\n      x: positions[2 * i] * norm,\n      y: positions[2 * i + 1] * norm,\n      radius: Math.sqrt(set.size / Math.PI),\n    };\n  }\n\n  if (params.history) {\n    for (i = 0; i < params.history.length; ++i) {\n      scale(params.history[i].x, norm);\n    }\n  }\n  return circles;\n}\n\n/** Lays out a Venn diagram greedily, going from most overlapped sets to\nleast overlapped, attempting to position each new set such that the\noverlapping areas to already positioned sets are basically right */\nexport function greedyLayout(areas, params) {\n  const loss = params && params.lossFunction ? params.lossFunction : lossFunction;\n  // define a circle for each set\n  const circles = {},\n    setOverlaps = {};\n  let set;\n  for (let i = 0; i < areas.length; ++i) {\n    const area = areas[i];\n    if (area.sets.length == 1) {\n      set = area.sets[0];\n      circles[set] = {\n        x: 1e10,\n        y: 1e10,\n        // rowid: circles.length, // fix to ->\n        rowid: Object.keys(circles).length,\n        size: area.size,\n        radius: Math.sqrt(area.size / Math.PI),\n      };\n      setOverlaps[set] = [];\n    }\n  }\n  areas = areas.filter(function (a) {\n    return a.sets.length == 2;\n  });\n\n  // map each set to a list of all the other sets that overlap it\n  for (let i = 0; i < areas.length; ++i) {\n    const current = areas[i];\n    // eslint-disable-next-line\n    let weight = current.hasOwnProperty('weight') ? current.weight : 1.0;\n    const left = current.sets[0],\n      right = current.sets[1];\n\n    // completely overlapped circles shouldn't be positioned early here\n    if (current.size + SMALL >= Math.min(circles[left].size, circles[right].size)) {\n      weight = 0;\n    }\n\n    setOverlaps[left].push({ set: right, size: current.size, weight: weight });\n    setOverlaps[right].push({ set: left, size: current.size, weight: weight });\n  }\n\n  // get list of most overlapped sets\n  const mostOverlapped = [];\n  for (set in setOverlaps) {\n    // eslint-disable-next-line\n    if (setOverlaps.hasOwnProperty(set)) {\n      let size = 0;\n      for (let i = 0; i < setOverlaps[set].length; ++i) {\n        size += setOverlaps[set][i].size * setOverlaps[set][i].weight;\n      }\n\n      mostOverlapped.push({ set: set, size: size });\n    }\n  }\n\n  // sort by size desc\n  function sortOrder(a, b) {\n    return b.size - a.size;\n  }\n  mostOverlapped.sort(sortOrder);\n\n  // keep track of what sets have been laid out\n  const positioned = {};\n  function isPositioned(element) {\n    return element.set in positioned;\n  }\n\n  // adds a point to the output\n  function positionSet(point, index) {\n    circles[index].x = point.x;\n    circles[index].y = point.y;\n    positioned[index] = true;\n  }\n\n  // add most overlapped set at (0,0)\n  positionSet({ x: 0, y: 0 }, mostOverlapped[0].set);\n\n  // get distances between all points. TODO, necessary?\n  // answer: probably not\n  // var distances = venn.getDistanceMatrices(circles, areas).distances;\n  for (let i = 1; i < mostOverlapped.length; ++i) {\n    const setIndex = mostOverlapped[i].set,\n      overlap = setOverlaps[setIndex].filter(isPositioned);\n    set = circles[setIndex];\n    overlap.sort(sortOrder);\n\n    if (overlap.length === 0) {\n      // this shouldn't happen anymore with addMissingAreas\n      throw 'ERROR: missing pairwise overlap information';\n    }\n\n    const points = [];\n    for (let j = 0; j < overlap.length; ++j) {\n      // get appropriate distance from most overlapped already added set\n      const p1 = circles[overlap[j].set],\n        d1 = distanceFromIntersectArea(set.radius, p1.radius, overlap[j].size);\n\n      // sample positions at 90 degrees for maximum aesthetics\n      points.push({ x: p1.x + d1, y: p1.y });\n      points.push({ x: p1.x - d1, y: p1.y });\n      points.push({ y: p1.y + d1, x: p1.x });\n      points.push({ y: p1.y - d1, x: p1.x });\n\n      // if we have at least 2 overlaps, then figure out where the\n      // set should be positioned analytically and try those too\n      for (let k = j + 1; k < overlap.length; ++k) {\n        const p2 = circles[overlap[k].set],\n          d2 = distanceFromIntersectArea(set.radius, p2.radius, overlap[k].size);\n\n        const extraPoints = circleCircleIntersection(\n          { x: p1.x, y: p1.y, radius: d1 },\n          { x: p2.x, y: p2.y, radius: d2 }\n        );\n\n        for (let l = 0; l < extraPoints.length; ++l) {\n          points.push(extraPoints[l]);\n        }\n      }\n    }\n\n    // we have some candidate positions for the set, examine loss\n    // at each position to figure out where to put it at\n    let bestLoss = 1e50,\n      bestPoint = points[0];\n    for (let j = 0; j < points.length; ++j) {\n      circles[setIndex].x = points[j].x;\n      circles[setIndex].y = points[j].y;\n      const localLoss = loss(circles, areas);\n      if (localLoss < bestLoss) {\n        bestLoss = localLoss;\n        bestPoint = points[j];\n      }\n    }\n\n    positionSet(bestPoint, setIndex);\n  }\n\n  return circles;\n}\n\n/** Given a bunch of sets, and the desired overlaps between these sets - computes\nthe distance from the actual overlaps to the desired overlaps. Note that\nthis method ignores overlaps of more than 2 circles */\nexport function lossFunction(sets, overlaps) {\n  let output = 0;\n\n  function getCircles(indices) {\n    return indices.map(function (i) {\n      return sets[i];\n    });\n  }\n\n  for (let i = 0; i < overlaps.length; ++i) {\n    const area = overlaps[i];\n    let overlap;\n    if (area.sets.length == 1) {\n      continue;\n    } else if (area.sets.length == 2) {\n      const left = sets[area.sets[0]],\n        right = sets[area.sets[1]];\n      overlap = circleOverlap(left.radius, right.radius, distance(left, right));\n    } else {\n      overlap = intersectionArea(getCircles(area.sets));\n    }\n\n    // eslint-disable-next-line\n    const weight = area.hasOwnProperty('weight') ? area.weight : 1.0;\n    output += weight * (overlap - area.size) * (overlap - area.size);\n  }\n\n  return output;\n}\n\n// orientates a bunch of circles to point in orientation\nfunction orientateCircles(circles, orientation, orientationOrder) {\n  if (orientationOrder === null) {\n    circles.sort(function (a, b) {\n      return b.radius - a.radius;\n    });\n  } else {\n    circles.sort(orientationOrder);\n  }\n\n  let i;\n  // shift circles so largest circle is at (0, 0)\n  if (circles.length > 0) {\n    const largestX = circles[0].x,\n      largestY = circles[0].y;\n\n    for (i = 0; i < circles.length; ++i) {\n      circles[i].x -= largestX;\n      circles[i].y -= largestY;\n    }\n  }\n\n  if (circles.length == 2) {\n    // if the second circle is a subset of the first, arrange so that\n    // it is off to one side. hack for https://github.com/benfred/venn.js/issues/120\n    const dist = distance(circles[0], circles[1]);\n    if (dist < Math.abs(circles[1].radius - circles[0].radius)) {\n      circles[1].x = circles[0].x + circles[0].radius - circles[1].radius - 1e-10;\n      circles[1].y = circles[0].y;\n    }\n  }\n\n  // rotate circles so that second largest is at an angle of 'orientation'\n  // from largest\n  if (circles.length > 1) {\n    const rotation = Math.atan2(circles[1].x, circles[1].y) - orientation;\n    let x, y;\n    const c = Math.cos(rotation),\n      s = Math.sin(rotation);\n    for (i = 0; i < circles.length; ++i) {\n      x = circles[i].x;\n      y = circles[i].y;\n      circles[i].x = c * x - s * y;\n      circles[i].y = s * x + c * y;\n    }\n  }\n\n  // mirror solution if third solution is above plane specified by\n  // first two circles\n  if (circles.length > 2) {\n    let angle = Math.atan2(circles[2].x, circles[2].y) - orientation;\n    while (angle < 0) {\n      angle += 2 * Math.PI;\n    }\n    while (angle > 2 * Math.PI) {\n      angle -= 2 * Math.PI;\n    }\n    if (angle > Math.PI) {\n      const slope = circles[1].y / (1e-10 + circles[1].x);\n      for (i = 0; i < circles.length; ++i) {\n        const d = (circles[i].x + slope * circles[i].y) / (1 + slope * slope);\n        circles[i].x = 2 * d - circles[i].x;\n        circles[i].y = 2 * d * slope - circles[i].y;\n      }\n    }\n  }\n}\n\nexport function disjointCluster(circles) {\n  // union-find clustering to get disjoint sets\n  circles.map(function (circle) {\n    circle.parent = circle;\n  });\n\n  // path compression step in union find\n  function find(circle) {\n    if (circle.parent !== circle) {\n      circle.parent = find(circle.parent);\n    }\n    return circle.parent;\n  }\n\n  function union(x, y) {\n    const xRoot = find(x),\n      yRoot = find(y);\n    xRoot.parent = yRoot;\n  }\n\n  // get the union of all overlapping sets\n  for (let i = 0; i < circles.length; ++i) {\n    for (let j = i + 1; j < circles.length; ++j) {\n      const maxDistance = circles[i].radius + circles[j].radius;\n      if (distance(circles[i], circles[j]) + 1e-10 < maxDistance) {\n        union(circles[j], circles[i]);\n      }\n    }\n  }\n\n  // find all the disjoint clusters and group them together\n  const disjointClusters = {};\n  let setid;\n  for (let i = 0; i < circles.length; ++i) {\n    setid = find(circles[i]).parent.setid;\n    if (!(setid in disjointClusters)) {\n      disjointClusters[setid] = [];\n    }\n    disjointClusters[setid].push(circles[i]);\n  }\n\n  // cleanup bookkeeping\n  circles.map(function (circle) {\n    delete circle.parent;\n  });\n\n  // return in more usable form\n  const ret = [];\n  for (setid in disjointClusters) {\n    // eslint-disable-next-line\n    if (disjointClusters.hasOwnProperty(setid)) {\n      ret.push(disjointClusters[setid]);\n    }\n  }\n  return ret;\n}\n\nfunction getBoundingBox(circles) {\n  const minMax = function (d) {\n    const hi = Math.max.apply(\n        null,\n        circles.map(function (c) {\n          return c[d] + c.radius;\n        })\n      ),\n      lo = Math.min.apply(\n        null,\n        circles.map(function (c) {\n          return c[d] - c.radius;\n        })\n      );\n    return { max: hi, min: lo };\n  };\n\n  return { xRange: minMax('x'), yRange: minMax('y') };\n}\n\nexport function normalizeSolution(solution, orientation, orientationOrder) {\n  if (orientation === null) {\n    orientation = Math.PI / 2;\n  }\n\n  // work with a list instead of a dictionary, and take a copy so we\n  // don't mutate input\n  let circles = [],\n    i,\n    setid;\n  for (setid in solution) {\n    // eslint-disable-next-line\n    if (solution.hasOwnProperty(setid)) {\n      const previous = solution[setid];\n      circles.push({ x: previous.x, y: previous.y, radius: previous.radius, setid: setid });\n    }\n  }\n\n  // get all the disjoint clusters\n  const clusters = disjointCluster(circles);\n\n  // orientate all disjoint sets, get sizes\n  for (i = 0; i < clusters.length; ++i) {\n    orientateCircles(clusters[i], orientation, orientationOrder);\n    const bounds = getBoundingBox(clusters[i]);\n    clusters[i].size = (bounds.xRange.max - bounds.xRange.min) * (bounds.yRange.max - bounds.yRange.min);\n    clusters[i].bounds = bounds;\n  }\n  clusters.sort(function (a, b) {\n    return b.size - a.size;\n  });\n\n  // orientate the largest at 0,0, and get the bounds\n  circles = clusters[0];\n  // @ts-ignore fixme \n  let returnBounds = circles.bounds;\n\n  const spacing = (returnBounds.xRange.max - returnBounds.xRange.min) / 50;\n\n  function addCluster(cluster, right, bottom) {\n    if (!cluster) return;\n\n    const bounds = cluster.bounds;\n    let xOffset, yOffset, centreing;\n\n    if (right) {\n      xOffset = returnBounds.xRange.max - bounds.xRange.min + spacing;\n    } else {\n      xOffset = returnBounds.xRange.max - bounds.xRange.max;\n      centreing = (bounds.xRange.max - bounds.xRange.min) / 2 - (returnBounds.xRange.max - returnBounds.xRange.min) / 2;\n      if (centreing < 0) xOffset += centreing;\n    }\n\n    if (bottom) {\n      yOffset = returnBounds.yRange.max - bounds.yRange.min + spacing;\n    } else {\n      yOffset = returnBounds.yRange.max - bounds.yRange.max;\n      centreing = (bounds.yRange.max - bounds.yRange.min) / 2 - (returnBounds.yRange.max - returnBounds.yRange.min) / 2;\n      if (centreing < 0) yOffset += centreing;\n    }\n\n    for (let j = 0; j < cluster.length; ++j) {\n      cluster[j].x += xOffset;\n      cluster[j].y += yOffset;\n      circles.push(cluster[j]);\n    }\n  }\n\n  let index = 1;\n  while (index < clusters.length) {\n    addCluster(clusters[index], true, false);\n    addCluster(clusters[index + 1], false, true);\n    addCluster(clusters[index + 2], true, true);\n    index += 3;\n\n    // have one cluster (in top left). lay out next three relative\n    // to it in a grid\n    returnBounds = getBoundingBox(circles);\n  }\n\n  // convert back to solution form\n  const ret = {};\n  for (i = 0; i < circles.length; ++i) {\n    ret[circles[i].setid] = circles[i];\n  }\n  return ret;\n}\n\n/** Scales a solution from venn.venn or venn.greedyLayout such that it fits in\na rectangle of width/height - with padding around the borders. also\ncenters the diagram in the available space at the same time */\nexport function scaleSolution(solution, width, height, padding) {\n  const circles = [],\n    setids = [];\n  for (const setid in solution) {\n    // eslint-disable-next-line\n    if (solution.hasOwnProperty(setid)) {\n      setids.push(setid);\n      circles.push(solution[setid]);\n    }\n  }\n\n  width -= 2 * padding;\n  height -= 2 * padding;\n\n  const bounds = getBoundingBox(circles),\n    xRange = bounds.xRange,\n    yRange = bounds.yRange;\n\n  if (xRange.max == xRange.min || yRange.max == yRange.min) {\n    console.log('not scaling solution: zero size detected');\n    return solution;\n  }\n\n  const xScaling = width / (xRange.max - xRange.min),\n    yScaling = height / (yRange.max - yRange.min),\n    scaling = Math.min(yScaling, xScaling),\n    // while we're at it, center the diagram too\n    xOffset = (width - (xRange.max - xRange.min) * scaling) / 2,\n    yOffset = (height - (yRange.max - yRange.min) * scaling) / 2;\n\n  const scaled = {};\n  for (let i = 0; i < circles.length; ++i) {\n    const circle = circles[i];\n    scaled[setids[i]] = {\n      radius: scaling * circle.radius,\n      x: padding + xOffset + (circle.x - xRange.min) * scaling,\n      y: padding + yOffset + (circle.y - yRange.min) * scaling,\n    };\n  }\n\n  return scaled;\n}\n","import { assign, memoize } from '@antv/util';\nimport { LEVEL, log } from '../../utils';\nimport { blend } from '../../utils/color/blend';\nimport { ID_FIELD, PATH_FIELD } from './constant';\nimport { computeTextCentres, intersectionAreaPath } from './layout/diagram';\nimport { scaleSolution, venn } from './layout/layout';\nimport { VennData, VennOptions } from './types';\n\ntype ColorMapFunction = (\n  colorPalette: string[],\n  data: VennData,\n  blendMode: VennOptions['blendMode'],\n  setsField: VennOptions['setsField']\n) => Map<string, string>;\n\n/**\n *  \n * @usage colorMap.get(id) => color\n *\n * @returns Map<string, string>\n */\nexport const getColorMap = memoize(\n  ((colorPalette, data, blendMode, setsField) => {\n    const colorMap = new Map<string /** id */, string /** color */>();\n    const colorPaletteLen = colorPalette.length;\n    data.forEach((d, idx) => {\n      if (d[setsField].length === 1) {\n        colorMap.set(d[ID_FIELD], colorPalette[(idx + colorPaletteLen) % colorPaletteLen]);\n      } else {\n        /**   */\n        const colorArr = d[setsField].map((id) => colorMap.get(id));\n        colorMap.set(\n          d[ID_FIELD],\n          colorArr.slice(1).reduce((a, b) => blend(a, b, blendMode), colorArr[0])\n        );\n      }\n    });\n\n    return colorMap;\n  }) as ColorMapFunction,\n  (...params) => JSON.stringify(params)\n) as ColorMapFunction;\n\n/**\n * \n *\n * @param data\n * @param width\n * @param height\n * @param padding\n * @returns \n */\nexport function layoutVennData(options: VennOptions, width: number, height: number, padding: number = 0): VennData {\n  const { data, setsField, sizeField } = options;\n\n  // \n  if (data.length === 0) {\n    log(LEVEL.WARN, false, 'warn: %s', '');\n    return [];\n  }\n\n  const vennData: VennData = data.map((d) => ({\n    ...d,\n    sets: d[setsField] || [],\n    size: d[sizeField],\n    [PATH_FIELD]: '',\n    [ID_FIELD]: '',\n  }));\n  // 1. \n  vennData.sort((a, b) => a.sets.length - b.sets.length);\n  // todo 2.  crash\n\n  const solution = venn(vennData);\n  const circles = scaleSolution(solution, width, height, padding);\n  const textCenters = computeTextCentres(circles, vennData);\n  vennData.forEach((row) => {\n    const sets = row.sets;\n    const id = sets.join(',');\n    row[ID_FIELD] = id;\n    //  vennText \n    const setCircles = sets.map((set) => circles[set]);\n    let path = intersectionAreaPath(setCircles);\n    if (!/[zZ]$/.test(path)) {\n      path += ' Z';\n    }\n    row[PATH_FIELD] = path;\n    const center = textCenters[id] || { x: 0, y: 0 };\n    assign(row, center);\n  });\n  return vennData;\n}\n\n/**\n *  \n * @param legalArr ['A', 'B']\n * @param testArr ['A', 'B', 'C'] or ['A', 'C'] 'C'\n * @return boolean\n */\nexport function islegalSets(legalArr: any[], testArr: any[]): boolean {\n  for (let i = 0; i < testArr.length; i++) {\n    if (!legalArr.includes(testArr[i])) {\n      return false;\n    }\n  }\n  return true;\n}\n","import { Geometry } from '@antv/g2';\nimport { deepMix, get, isArray, isEqual } from '@antv/util';\nimport { animation, interaction, scale, theme, tooltip } from '../../adaptor/common';\nimport { schema as schemaGeometry } from '../../adaptor/geometries';\nimport { Params } from '../../core/adaptor';\nimport { Datum } from '../../types';\nimport {\n  deepAssign,\n  findGeometry,\n  flow,\n  getAdjustAppendPadding,\n  LEVEL,\n  log,\n  normalPadding,\n  resolveAllPadding,\n  transformLabel,\n} from '../../utils';\nimport { ID_FIELD } from './constant';\nimport './interactions';\nimport './label';\nimport './shape';\nimport { CustomInfo, VennData, VennOptions } from './types';\nimport { getColorMap, islegalSets, layoutVennData } from './utils';\n\n/**  */\nexport const LEGEND_SPACE = 40;\n\n/**\n *  color \n */\nfunction colorMap(params: Params<VennOptions>, data: VennData, colorPalette?: string[]) {\n  const { chart, options } = params;\n  const { blendMode, setsField } = options;\n  const { colors10, colors20 } = chart.getTheme();\n  let palette = colorPalette;\n  if (!isArray(palette)) {\n    palette = data.filter((d) => d[setsField].length === 1).length <= 10 ? colors10 : colors20;\n  }\n  const map = getColorMap(palette, data, blendMode, setsField);\n\n  return (id: string) => map.get(id) || palette[0];\n}\n\n/**\n * color options \n */\nfunction transformColor(params: Params<VennOptions>, data: VennData): VennOptions['color'] {\n  const { options } = params;\n  const { color } = options;\n\n  if (typeof color !== 'function') {\n    const colorPalette = typeof color === 'string' ? [color] : color;\n    const map = colorMap(params, data, colorPalette);\n    return (datum: Datum) => map(datum[ID_FIELD]);\n  }\n  return color;\n}\n\n/**\n *  padding\n */\nfunction padding(params: Params<VennOptions>): Params<VennOptions> {\n  const { chart, options } = params;\n  const { legend, appendPadding, padding } = options;\n\n  //  legend .  40px,  appendPadding \n  let tempPadding: number[] = normalPadding(appendPadding);\n  if (legend !== false) {\n    tempPadding = getAdjustAppendPadding(appendPadding, get(legend, 'position'), LEGEND_SPACE);\n  }\n\n  chart.appendPadding = resolveAllPadding([tempPadding, padding]);\n\n  return params;\n}\n\n/**\n * \n * @param params\n */\nfunction data(params: Params<VennOptions>): Params<VennOptions> {\n  const { options } = params;\n\n  /*     \n   * \n   * data = [\n   *   { sets: ['A'], size: 3 }, // \n   *   { sets: ['B'], size: 4 }, // \n   *   { sets: ['A', 'B'], size: 2 }, // \n   *   { sets: ['A', 'B', 'C'], size: 2 }, //  ( C)\n   *   ...\n   * ]\n   */\n\n  let data = options['data'];\n  if (!data) {\n    log(LEVEL.WARN, false, 'warn: %s', '');\n    data = [];\n  }\n\n  // ['A', 'B']\n  const currSets = data.filter((datum) => datum.sets.length === 1).map((datum) => datum.sets[0]);\n  //  data\n  const filterSets = data.filter((datum) => {\n    const sets = datum.sets;\n    // \n    return islegalSets(currSets, sets);\n  });\n\n  if (!isEqual(filterSets, data)) log(LEVEL.WARN, false, 'warn: %s', ', ');\n\n  return deepMix({}, params, {\n    options: {\n      data: filterSets,\n    },\n  });\n}\n\n/**\n * geometry \n * @param params\n */\nfunction geometry(params: Params<VennOptions>): Params<VennOptions> {\n  const { chart, options } = params;\n  const { pointStyle, setsField, sizeField } = options;\n\n  // \n  const [t, r, b, l] = normalPadding(chart.appendPadding);\n  //  legend .  40px,  appendPadding \n  const customInfo: CustomInfo = { offsetX: l, offsetY: t };\n  // coordinateBBox + appendPadding = viewBBox,  appendPadding  viewBBox\n  const { width, height } = chart.viewBBox;\n  // padding w  h \n  const vennData: VennData = layoutVennData(options, Math.max(width - (r + l), 0), Math.max(height - (t + b), 0), 0);\n  chart.data(vennData);\n\n  const { ext } = schemaGeometry(\n    deepAssign({}, params, {\n      options: {\n        xField: 'x',\n        yField: 'y',\n        sizeField: sizeField,\n        seriesField: ID_FIELD,\n        rawFields: [setsField, sizeField],\n        schema: {\n          shape: 'venn',\n          style: pointStyle,\n        },\n      },\n    })\n  );\n\n  const geometry = ext.geometry as Geometry;\n  geometry.customInfo(customInfo);\n\n  const colorOptions = transformColor(params, vennData);\n  // , color .  datum\n  if (typeof colorOptions === 'function') {\n    geometry.color(ID_FIELD, (id) => {\n      const datum = vennData.find((d) => d[ID_FIELD] === id);\n      const defaultColor = colorMap(params, vennData)(id);\n      return colorOptions(datum, defaultColor);\n    });\n  }\n\n  return params;\n}\n\n/**\n *  label\n * @param params\n */\nfunction label(params: Params<VennOptions>): Params<VennOptions> {\n  const { chart, options } = params;\n  const { label } = options;\n\n  // \n  const [t, , , l] = normalPadding(chart.appendPadding);\n  //  label  \n  const customLabelInfo = { offsetX: l, offsetY: t };\n\n  const geometry = findGeometry(chart, 'schema');\n\n  if (!label) {\n    geometry.label(false);\n  } else {\n    const { callback, ...cfg } = label;\n    geometry.label({\n      fields: ['id'],\n      callback,\n      cfg: deepMix({}, transformLabel(cfg), {\n        //  G2  label \n        type: 'venn',\n        customLabelInfo,\n      }),\n    });\n  }\n\n  return params;\n}\n\n/**\n * legend \n * @param params\n */\nexport function legend(params: Params<VennOptions>): Params<VennOptions> {\n  const { chart, options } = params;\n  const { legend, sizeField } = options;\n\n  chart.legend(ID_FIELD, legend);\n  //  \n  chart.legend(sizeField, false);\n\n  return params;\n}\n\n/**\n * \n * @param params\n */\nexport function axis(params: Params<VennOptions>): Params<VennOptions> {\n  const { chart } = params;\n  chart.axis(false);\n\n  return params;\n}\n\n/**\n *  interaction \n */\nfunction vennInteraction(params: Params<VennOptions>): Params<VennOptions> {\n  const { options, chart } = params;\n  const { interactions } = options;\n\n  if (interactions) {\n    const MAP = {\n      'legend-active': 'venn-legend-active',\n      'legend-highlight': 'venn-legend-highlight',\n    };\n    interaction(\n      deepAssign({}, params, {\n        options: {\n          interactions: interactions.map((i) => ({\n            ...i,\n            type: MAP[i.type] || i.type,\n          })),\n        },\n      })\n    );\n  }\n\n  chart.removeInteraction('legend-active');\n  chart.removeInteraction('legend-highlight');\n  return params;\n}\n\n/**\n * \n * @param chart\n * @param options\n */\nexport function adaptor(params: Params<VennOptions>) {\n  // flow  G2 API\n  return flow(\n    padding,\n    theme,\n    data,\n    geometry,\n    label,\n    scale({}),\n    legend,\n    axis,\n    tooltip,\n    vennInteraction,\n    animation\n    // ...  adaptor flow\n  )(params);\n}\n","import { Adaptor } from '../../core/adaptor';\nimport { Plot } from '../../core/plot';\nimport { adaptor } from './adaptor';\nimport { DEFAULT_OPTIONS } from './constant';\nimport { VennOptions } from './types';\n\nexport type { VennOptions };\n\n/**\n *  \n */\nexport class Venn extends Plot<VennOptions> {\n  /**  */\n  public type: string = 'venn';\n\n  static getDefaultOptions() {\n    return DEFAULT_OPTIONS;\n  }\n\n  /**\n   *   \n   */\n  protected getDefaultOptions() {\n    return Venn.getDefaultOptions();\n  }\n\n  /**\n   * \n   */\n  protected getSchemaAdaptor(): Adaptor<VennOptions> {\n    return adaptor;\n  }\n\n  /**\n   * \n   */\n  protected triggerResize() {\n    if (!this.chart.destroyed) {\n      // \n      this.chart.forceFit(); // g2  changeSizechangeSize  render(true)\n      this.chart.clear();\n      this.execAdaptor(); // \n      // \n      this.chart.render(true);\n    }\n  }\n}\n","import { Plot } from '../../core/plot';\nimport { deepAssign } from '../../utils';\nimport { ViolinOptions } from './types';\n\nexport const X_FIELD = 'x';\nexport const VIOLIN_Y_FIELD = 'violinY';\nexport const VIOLIN_SIZE_FIELD = 'violinSize';\nexport const MIN_MAX_FIELD = 'minMax';\nexport const QUANTILE_FIELD = 'quantile';\nexport const MEDIAN_FIELD = 'median';\n\nexport const VIOLIN_VIEW_ID = 'violin_view';\nexport const MIN_MAX_VIEW_ID = 'min_max_view';\nexport const QUANTILE_VIEW_ID = 'quantile_view';\nexport const MEDIAN_VIEW_ID = 'median_view';\n\nexport const DEFAULT_OPTIONS = deepAssign({}, Plot.getDefaultOptions(), {\n  //  view  view padding \n  syncViewPadding: true,\n  // \n  kde: {\n    type: 'triangular',\n    sampleSize: 32,\n    width: 3,\n  },\n\n  // \n  violinStyle: {\n    lineWidth: 1,\n    fillOpacity: 0.3,\n    strokeOpacity: 0.75,\n  },\n  // \n  xAxis: {\n    grid: {\n      line: null,\n    },\n    tickLine: {\n      alignTick: false,\n    },\n  },\n  yAxis: {\n    grid: {\n      line: {\n        style: {\n          lineWidth: 0.5,\n          lineDash: [4, 4],\n        },\n      },\n    },\n  },\n  // \n  legend: {\n    position: 'top-left',\n  },\n  // Tooltip\n  tooltip: {\n    showMarkers: false,\n  },\n  // \n  // interactions: [{ type: 'active-region' }],\n} as Partial<ViolinOptions>);\n","// from https://github.com/simple-statistics\n\n/**\n * This is the internal implementation of quantiles: when you know\n * that the order is sorted, you don't need to re-sort it, and the computations\n * are faster.\n *\n * @param {Array<number>} x sample of one or more data points\n * @param {number} p desired quantile: a number between 0 to 1, inclusive\n * @returns {number} quantile value\n * @throws {Error} if p ix outside of the range from 0 to 1\n * @throws {Error} if x is empty\n * @example\n * quantileSorted([3, 6, 7, 8, 8, 9, 10, 13, 15, 16, 20], 0.5); // => 9\n */\nexport function quantileSorted(x: number[], p: number) {\n  const idx = x.length * p;\n  if (x.length === 0) {\n    throw new Error('quantile requires at least one data point.');\n  } else if (p < 0 || p > 1) {\n    throw new Error('quantiles must be between 0 and 1');\n  } else if (p === 1) {\n    // If p is 1, directly return the last element\n    return x[x.length - 1];\n  } else if (p === 0) {\n    // If p is 0, directly return the first element\n    return x[0];\n  } else if (idx % 1 !== 0) {\n    // If p is not integer, return the next element in array\n    return x[Math.ceil(idx) - 1];\n  } else if (x.length % 2 === 0) {\n    // If the list has even-length, we'll take the average of this number\n    // and the next value, if there is one\n    return (x[idx - 1] + x[idx]) / 2;\n  } else {\n    // Finally, in the simple case of an integer value\n    // with an odd-length list, return the x value at the index.\n    return x[idx];\n  }\n}\n\n/**\n * \n * @param arr T[]\n * @param i number\n * @param j number\n */\nexport function swap<T = any>(arr: T[], i: number, j: number): void {\n  const tmp = arr[i];\n  arr[i] = arr[j];\n  arr[j] = tmp;\n}\n\n/**\n * Rearrange items in `arr` so that all items in `[left, k]` range are the smallest.\n * The `k`-th element will have the `(k - left + 1)`-th smallest value in `[left, right]`.\n *\n * Implements Floyd-Rivest selection algorithm https://en.wikipedia.org/wiki/Floyd-Rivest_algorithm\n *\n * @param {Array<number>} arr input array\n * @param {number} k pivot index\n * @param {number} [left] left index\n * @param {number} [right] right index\n * @returns {void} mutates input array\n * @example\n * var arr = [65, 28, 59, 33, 21, 56, 22, 95, 50, 12, 90, 53, 28, 77, 39];\n * quickselect(arr, 8);\n * // = [39, 28, 28, 33, 21, 12, 22, 50, 53, 56, 59, 65, 90, 77, 95]\n */\nexport function quickselect(arr: number[], k, left?: number, right?: number): void {\n  left = left || 0;\n  right = right || arr.length - 1;\n\n  while (right > left) {\n    // 600 and 0.5 are arbitrary constants chosen in the original paper to minimize execution time\n    if (right - left > 600) {\n      const n = right - left + 1;\n      const m = k - left + 1;\n      const z = Math.log(n);\n      const s = 0.5 * Math.exp((2 * z) / 3);\n      let sd = 0.5 * Math.sqrt((z * s * (n - s)) / n);\n      if (m - n / 2 < 0) sd *= -1;\n      const newLeft = Math.max(left, Math.floor(k - (m * s) / n + sd));\n      const newRight = Math.min(right, Math.floor(k + ((n - m) * s) / n + sd));\n      quickselect(arr, k, newLeft, newRight);\n    }\n\n    const t = arr[k];\n    let i = left;\n    let j = right;\n\n    swap(arr, left, k);\n    if (arr[right] > t) swap(arr, left, right);\n\n    while (i < j) {\n      swap(arr, i, j);\n      i++;\n      j--;\n      while (arr[i] < t) i++;\n      while (arr[j] > t) j--;\n    }\n\n    if (arr[left] === t) swap(arr, left, j);\n    else {\n      j++;\n      swap(arr, j, right);\n    }\n\n    if (j <= k) left = j + 1;\n    if (k <= j) right = j - 1;\n  }\n}\n\n/**\n * The [quantile](https://en.wikipedia.org/wiki/Quantile):\n * this is a population quantile, since we assume to know the entire\n * dataset in this library. This is an implementation of the\n * [Quantiles of a Population](http://en.wikipedia.org/wiki/Quantile#Quantiles_of_a_population)\n * algorithm from wikipedia.\n *\n * Sample is a one-dimensional array of numbers,\n * and p is either a decimal number from 0 to 1 or an array of decimal\n * numbers from 0 to 1.\n * In terms of a k/q quantile, p = k/q - it's just dealing with fractions or dealing\n * with decimal values.\n * When p is an array, the result of the function is also an array containing the appropriate\n * quantiles in input order\n *\n * @param {Array<number>} x sample of one or more numbers\n * @param {Array<number> | number} p the desired quantile, as a number between 0 and 1\n * @returns {number} quantile\n * @example\n * quantile([3, 6, 7, 8, 8, 9, 10, 13, 15, 16, 20], 0.5); // => 9\n */\nfunction quantile(x: number[], p: number): number;\nfunction quantile(x: number[], p: number[]): number[];\nfunction quantile(x: any, p: any): any {\n  const copy = x.slice();\n\n  if (Array.isArray(p)) {\n    // rearrange elements so that each element corresponding to a requested\n    // quantile is on a place it would be if the array was fully sorted\n    multiQuantileSelect(copy, p);\n    // Initialize the result array\n    const results: number[] = [];\n    // For each requested quantile\n    for (let i = 0; i < p.length; i++) {\n      results[i] = quantileSorted(copy, p[i]);\n    }\n    return results;\n  } else {\n    const idx = quantileIndex(copy.length, p);\n    quantileSelect(copy, idx, 0, copy.length - 1);\n    return quantileSorted(copy, p);\n  }\n}\n\nfunction quantileSelect(arr, k, left, right) {\n  if (k % 1 === 0) {\n    quickselect(arr, k, left, right);\n  } else {\n    k = Math.floor(k);\n    quickselect(arr, k, left, right);\n    quickselect(arr, k + 1, k + 1, right);\n  }\n}\n\nfunction multiQuantileSelect(arr, p) {\n  const indices = [0];\n  for (let i = 0; i < p.length; i++) {\n    indices.push(quantileIndex(arr.length, p[i]));\n  }\n  indices.push(arr.length - 1);\n  indices.sort(compare);\n\n  const stack = [0, indices.length - 1];\n\n  while (stack.length) {\n    const r = Math.ceil(stack.pop());\n    const l = Math.floor(stack.pop());\n    if (r - l <= 1) continue;\n\n    const m = Math.floor((l + r) / 2);\n    quantileSelect(arr, indices[m], Math.floor(indices[l]), Math.ceil(indices[r]));\n\n    stack.push(l, m, m, r);\n  }\n}\n\nfunction compare(a, b) {\n  return a - b;\n}\n\nfunction quantileIndex(len, p) {\n  const idx = len * p;\n  if (p === 1) {\n    // If p is 1, directly return the last index\n    return len - 1;\n  } else if (p === 0) {\n    // If p is 0, directly return the first index\n    return 0;\n  } else if (idx % 1 !== 0) {\n    // If index is not integer, return the next index in array\n    return Math.ceil(idx) - 1;\n  } else if (len % 2 === 0) {\n    // If the list has even-length, we'll return the middle of two indices\n    // around quantile to indicate that we need an average value of the two\n    return idx - 0.5;\n  } else {\n    // Finally, in the simple case of an integer index\n    // with an odd-length list, return the index\n    return idx;\n  }\n}\n\nexport { quantile };\n","import { groupBy, max, min } from '@antv/util';\nimport pdf from 'pdfast';\nimport { quantile } from '../../utils/transform/quantile';\nimport { ViolinOptions } from './types';\n\nexport type ViolinData = {\n  /** X */\n  x: string;\n\n  /**  size  */\n  violinSize: number[];\n  /**  y  */\n  violinY: number[];\n\n  // \n  /**  */\n  high: number;\n  /**  */\n  low: number;\n  /**  */\n  q1: number;\n  /**  */\n  q3: number;\n  /**  */\n  median: number[];\n\n  /**  */\n  minMax: number[];\n  /**  */\n  quantile: number[];\n};\n\nexport type PdfOptions = {\n  min: number;\n  max: number;\n  size: number;\n  width: number;\n};\n\nexport const toBoxValue = (values: number[]) => {\n  return {\n    low: min(values),\n    high: max(values),\n    q1: quantile(values, 0.25),\n    q3: quantile(values, 0.75),\n    median: quantile(values, [0.5]),\n    minMax: [min(values), max(values)],\n    quantile: [quantile(values, 0.25), quantile(values, 0.75)],\n  };\n};\n\nexport const toViolinValue = (values: number[], pdfOptions: PdfOptions) => {\n  const pdfResults: Array<{ x: number; y: number }> = pdf.create(values, pdfOptions);\n  return {\n    violinSize: pdfResults.map((result) => result.y),\n    violinY: pdfResults.map((result) => result.x),\n  };\n};\n\nexport const transformViolinData = (options: ViolinOptions): ViolinData[] => {\n  const { xField, yField, seriesField, data, kde } = options;\n\n  /**  */\n  const pdfOptions: PdfOptions = {\n    min: kde.min,\n    max: kde.max,\n    size: kde.sampleSize,\n    width: kde.width,\n  };\n\n  // \n  if (!seriesField) {\n    const group = groupBy(data, xField);\n    return Object.keys(group).map((x) => {\n      const records = group[x];\n      const values = records.map((record) => record[yField]);\n      return {\n        x,\n        ...toViolinValue(values, pdfOptions),\n        ...toBoxValue(values),\n      };\n    });\n  }\n\n  // \n  const resultList: ViolinData[] = [];\n  const seriesGroup = groupBy(data, seriesField);\n  Object.keys(seriesGroup).forEach((series) => {\n    const group = groupBy(seriesGroup[series], xField);\n    return Object.keys(group).forEach((key) => {\n      const records = group[key];\n      const values = records.map((record) => record[yField]);\n      resultList.push({\n        x: key,\n        [seriesField]: series,\n        ...toViolinValue(values, pdfOptions),\n        ...toBoxValue(values),\n      });\n    });\n  });\n  return resultList;\n};\n","import { each, get, omit, set } from '@antv/util';\nimport { annotation as baseAnnotation, interaction, theme, tooltip } from '../../adaptor/common';\nimport { interval, point, violin } from '../../adaptor/geometries';\nimport { AXIS_META_CONFIG_KEYS } from '../../constant';\nimport { Params } from '../../core/adaptor';\nimport { deepAssign, findViewById, flow, pick } from '../../utils';\nimport { addViewAnimation } from '../../utils/view';\nimport {\n  MEDIAN_FIELD,\n  MEDIAN_VIEW_ID,\n  MIN_MAX_FIELD,\n  MIN_MAX_VIEW_ID,\n  QUANTILE_FIELD,\n  QUANTILE_VIEW_ID,\n  VIOLIN_SIZE_FIELD,\n  VIOLIN_VIEW_ID,\n  VIOLIN_Y_FIELD,\n  X_FIELD,\n} from './constant';\nimport { ViolinOptions } from './types';\nimport { transformViolinData } from './utils';\n\nconst TOOLTIP_FIELDS = ['low', 'high', 'q1', 'q3', 'median'];\n\nconst adjustCfg = [\n  {\n    type: 'dodge',\n    marginRatio: 1 / 32,\n  } as const,\n];\n\n/**  */\nfunction data(params: Params<ViolinOptions>): Params<ViolinOptions> {\n  const { chart, options } = params;\n  chart.data(transformViolinData(options));\n  return params;\n}\n\n/**  */\nfunction violinView(params: Params<ViolinOptions>): Params<ViolinOptions> {\n  const { chart, options } = params;\n  const { seriesField, color, shape = 'violin', violinStyle, tooltip, state } = options;\n\n  const view = chart.createView({ id: VIOLIN_VIEW_ID });\n  violin({\n    chart: view,\n    options: {\n      xField: X_FIELD,\n      yField: VIOLIN_Y_FIELD,\n      seriesField: seriesField ? seriesField : X_FIELD,\n      sizeField: VIOLIN_SIZE_FIELD,\n      tooltip: {\n        fields: TOOLTIP_FIELDS,\n        ...tooltip,\n      },\n      violin: {\n        style: violinStyle,\n        color,\n        shape,\n      },\n      state,\n    },\n  });\n  view.geometries[0].adjust(adjustCfg);\n\n  return params;\n}\n\n/**  */\nfunction boxView(params: Params<ViolinOptions>): Params<ViolinOptions> {\n  const { chart, options } = params;\n  const { seriesField, color, tooltip, box } = options;\n\n  //  `box`  false \n  if (box === false) return params;\n\n  // \n  const minMaxView = chart.createView({ id: MIN_MAX_VIEW_ID });\n  interval({\n    chart: minMaxView,\n    options: {\n      xField: X_FIELD,\n      yField: MIN_MAX_FIELD,\n      seriesField: seriesField ? seriesField : X_FIELD,\n      tooltip: {\n        fields: TOOLTIP_FIELDS,\n        ...tooltip,\n      },\n      state: typeof box === 'object' ? box.state : {},\n      interval: {\n        color,\n        size: 1,\n        style: {\n          lineWidth: 0,\n        },\n      },\n    },\n  });\n  minMaxView.geometries[0].adjust(adjustCfg);\n\n  // \n  const quantileView = chart.createView({ id: QUANTILE_VIEW_ID });\n  interval({\n    chart: quantileView,\n    options: {\n      xField: X_FIELD,\n      yField: QUANTILE_FIELD,\n      seriesField: seriesField ? seriesField : X_FIELD,\n      tooltip: {\n        fields: TOOLTIP_FIELDS,\n        ...tooltip,\n      },\n      state: typeof box === 'object' ? box.state : {},\n      interval: {\n        color,\n        size: 8,\n        style: {\n          fillOpacity: 1,\n        },\n      },\n    },\n  });\n  quantileView.geometries[0].adjust(adjustCfg);\n\n  // \n  const medianView = chart.createView({ id: MEDIAN_VIEW_ID });\n  point({\n    chart: medianView,\n    options: {\n      xField: X_FIELD,\n      yField: MEDIAN_FIELD,\n      seriesField: seriesField ? seriesField : X_FIELD,\n      tooltip: {\n        fields: TOOLTIP_FIELDS,\n        ...tooltip,\n      },\n      state: typeof box === 'object' ? box.state : {},\n      point: {\n        color,\n        size: 1,\n        style: {\n          fill: 'white',\n          lineWidth: 0,\n        },\n      },\n    },\n  });\n  medianView.geometries[0].adjust(adjustCfg);\n\n  //  view \n  quantileView.axis(false);\n  minMaxView.axis(false);\n  medianView.axis(false);\n\n  //  view \n  medianView.legend(false);\n  minMaxView.legend(false);\n  quantileView.legend(false);\n\n  return params;\n}\n\n/**\n * meta \n */\nfunction meta(params: Params<ViolinOptions>): Params<ViolinOptions> {\n  const { chart, options } = params;\n  const { meta, xAxis, yAxis } = options;\n\n  const baseMeta = {};\n\n  const scales = deepAssign(baseMeta, meta, {\n    [X_FIELD]: {\n      sync: true,\n      ...pick(xAxis, AXIS_META_CONFIG_KEYS),\n      // fix:  dodge is not support linear attribute, please use category attribute!\n      //  x \n      type: 'cat',\n    },\n    [VIOLIN_Y_FIELD]: {\n      sync: true,\n      ...pick(yAxis, AXIS_META_CONFIG_KEYS),\n    },\n    [MIN_MAX_FIELD]: {\n      sync: VIOLIN_Y_FIELD,\n      ...pick(yAxis, AXIS_META_CONFIG_KEYS),\n    },\n    [QUANTILE_FIELD]: {\n      sync: VIOLIN_Y_FIELD,\n      ...pick(yAxis, AXIS_META_CONFIG_KEYS),\n    },\n    [MEDIAN_FIELD]: {\n      sync: VIOLIN_Y_FIELD,\n      ...pick(yAxis, AXIS_META_CONFIG_KEYS),\n    },\n  });\n\n  chart.scale(scales);\n\n  return params;\n}\n\n/**\n * axis \n */\nfunction axis(params: Params<ViolinOptions>): Params<ViolinOptions> {\n  const { chart, options } = params;\n  const { xAxis, yAxis } = options;\n\n  const view = findViewById(chart, VIOLIN_VIEW_ID);\n\n  //  false \n  if (xAxis === false) {\n    view.axis(X_FIELD, false);\n  } else {\n    view.axis(X_FIELD, xAxis);\n  }\n\n  if (yAxis === false) {\n    view.axis(VIOLIN_Y_FIELD, false);\n  } else {\n    view.axis(VIOLIN_Y_FIELD, yAxis);\n  }\n\n  chart.axis(false);\n\n  return params;\n}\n\n/**\n *\n * @param params\n * @returns\n */\nfunction legend(params: Params<ViolinOptions>): Params<ViolinOptions> {\n  const { chart, options } = params;\n  const { legend, seriesField, shape } = options;\n\n  if (legend === false) {\n    chart.legend(false);\n  } else {\n    const legendField = seriesField ? seriesField : X_FIELD;\n    // fixme \n    const legendOptions = omit(legend as any, ['selected']);\n    if (!shape || !shape.startsWith('hollow')) {\n      if (!get(legendOptions, ['marker', 'style', 'lineWidth'])) {\n        set(legendOptions, ['marker', 'style', 'lineWidth'], 0);\n      }\n    }\n    chart.legend(legendField, legendOptions);\n    //  fixme G2 \n    if (get(legend, 'selected')) {\n      each(chart.views, (view) => view.legend(legendField, legend));\n    }\n  }\n\n  return params;\n}\n\n/**\n * annotation, apply to violin view.\n * @param params\n * @returns\n */\nfunction annotation(params: Params<ViolinOptions>): Params<ViolinOptions> {\n  const { chart } = params;\n\n  const violinView = findViewById(chart, VIOLIN_VIEW_ID);\n  baseAnnotation()({ ...params, chart: violinView });\n\n  return params;\n}\n\n/**\n * \n * @param params\n */\nexport function animation(params: Params<ViolinOptions>): Params<ViolinOptions> {\n  const { chart, options } = params;\n  const { animation } = options;\n\n  //  Geometry \n  each(chart.views, (view) => {\n    addViewAnimation(view, animation);\n  });\n\n  return params;\n}\n\n/**\n * \n * @param params\n */\nexport function adaptor(params: Params<ViolinOptions>) {\n  return flow(\n    theme,\n    data,\n    violinView,\n    boxView,\n    meta,\n    tooltip,\n    axis,\n    legend,\n    interaction,\n    annotation,\n    animation\n  )(params);\n}\n","import { Params } from '../../core/adaptor';\nimport { deepAssign } from '../../utils';\nimport { getTooltipMapping } from '../../utils/tooltip';\nimport { geometry, GeometryOptions, MappingOptions } from './base';\n\nexport interface ViolinGeometryOptions extends GeometryOptions {\n  /** x  */\n  readonly xField?: string;\n  /** y Y */\n  readonly yField?: string;\n  /**  */\n  readonly seriesField?: string;\n  /** size  */\n  readonly sizeField?: string;\n  /** violin  */\n  readonly violin?: MappingOptions;\n}\n\n/**\n * violin \n * @param params\n */\nexport function violin<O extends ViolinGeometryOptions>(params: Params<O>): Params<O> {\n  const { options } = params;\n  const { violin, xField, yField, seriesField, sizeField, tooltip } = options;\n\n  const { fields, formatter } = getTooltipMapping(tooltip, [xField, yField, seriesField, sizeField]);\n\n  return violin\n    ? geometry(\n        deepAssign({}, params, {\n          options: {\n            type: 'violin',\n            colorField: seriesField,\n            tooltipFields: fields,\n            mapping: {\n              tooltip: formatter,\n              ...violin,\n            },\n          },\n        })\n      )\n    : params;\n}\n","import { Adaptor } from '../../core/adaptor';\nimport { Plot } from '../../core/plot';\nimport { adaptor } from './adaptor';\nimport { DEFAULT_OPTIONS } from './constant';\nimport { ViolinOptions } from './types';\nimport { transformViolinData } from './utils';\nexport type { ViolinOptions };\n\nexport class Violin extends Plot<ViolinOptions> {\n  /**\n   *  \n   * \n   */\n  static getDefaultOptions(): Partial<ViolinOptions> {\n    return DEFAULT_OPTIONS;\n  }\n\n  /**  */\n  public type: string = 'violin';\n\n  /**\n   * @override\n   */\n  public changeData(data: ViolinOptions['data']) {\n    this.updateOption({ data });\n    this.chart.changeData(transformViolinData(this.options));\n  }\n\n  /**\n   *   \n   */\n  protected getDefaultOptions(): Partial<ViolinOptions> {\n    return Violin.getDefaultOptions();\n  }\n\n  /**\n   *   \n   */\n  protected getSchemaAdaptor(): Adaptor<ViolinOptions> {\n    return adaptor;\n  }\n}\n","export const Y_FIELD = '$$yField$$';\nexport const DIFF_FIELD = '$$diffField$$';\nexport const ABSOLUTE_FIELD = '$$absoluteField$$';\nexport const IS_TOTAL = '$$isTotal$$';\n\n/**\n *  \n */\nexport const DEFAULT_OPTIONS = {\n  /** default: show label */\n  label: {},\n  /** default: show leaderLine */\n  leaderLine: {\n    style: {\n      lineWidth: 1,\n      stroke: '#8c8c8c',\n      lineDash: [4, 2],\n    },\n  },\n  /** default: show total */\n  total: {\n    style: {\n      fill: 'rgba(0, 0, 0, 0.25)',\n    },\n  },\n  interactions: [{ type: 'element-active' }],\n  risingFill: '#f4664a',\n  fallingFill: '#30bf78',\n  waterfallStyle: {\n    fill: 'rgba(0, 0, 0, 0.25)',\n  },\n  yAxis: {\n    grid: {\n      line: {\n        style: {\n          lineDash: [4, 2],\n        },\n      },\n    },\n  },\n};\n","import { get, isNumber, isObject, isUndefined, reduce } from '@antv/util';\nimport { Options } from '../../types';\nimport { LEVEL, log } from '../../utils';\nimport { ABSOLUTE_FIELD, DIFF_FIELD, IS_TOTAL, Y_FIELD } from './constant';\n\n/**\n * @desc [start, end]\n * @param data\n * @param xField\n * @param yField\n * @param totalLabel\n */\nexport function processData(\n  data: Options['data'],\n  xField: string,\n  yField: string,\n  newYField: string,\n  total?: false | { label?: string }\n) {\n  const newData = [];\n  reduce(\n    data,\n    (r, d) => {\n      // \n      log(LEVEL.WARN, isNumber(d[yField]), `${d[yField]} is not a valid number`);\n      const value = isUndefined(d[yField]) ? null : d[yField];\n      newData.push({ ...d, [newYField]: [r, r + value] });\n\n      return r + value;\n    },\n    0\n  );\n  // \n  if (newData.length && total) {\n    const sum = get(newData, [[data.length - 1], newYField, [1]]);\n    newData.push({\n      [xField]: total.label,\n      [yField]: sum,\n      [newYField]: [0, sum],\n    });\n  }\n  return newData;\n}\n\n/**\n *   \n */\nexport function transformData(\n  data: Options['data'],\n  xField: string,\n  yField: string,\n  total?: false | { label?: string }\n) {\n  const processed = processData(data, xField, yField, Y_FIELD, total);\n  return processed.map((d, dIdx) => {\n    if (!isObject(d)) {\n      return d;\n    }\n    return {\n      ...d,\n      [ABSOLUTE_FIELD]: d[Y_FIELD][1],\n      [DIFF_FIELD]: d[Y_FIELD][1] - d[Y_FIELD][0],\n      [IS_TOTAL]: dIdx === data.length,\n    };\n  });\n}\n","import { Geometry } from '@antv/g2';\nimport { get } from '@antv/util';\nimport { animation, annotation, interaction, scale, state, theme } from '../../adaptor/common';\nimport { interval } from '../../adaptor/geometries';\nimport { Params } from '../../core/adaptor';\nimport { getLocale } from '../../core/locale';\nimport { Datum } from '../../types';\nimport { deepAssign, findGeometry, flow, transformLabel } from '../../utils';\nimport { ABSOLUTE_FIELD, DIFF_FIELD, IS_TOTAL, Y_FIELD } from './constant';\nimport './shape';\nimport { WaterfallOptions } from './types';\nimport { transformData } from './utils';\n\n/**\n *  \n * @param params\n * @returns\n */\nfunction defaultOptions(params: Params<WaterfallOptions>): Params<WaterfallOptions> {\n  const { locale, total } = params.options;\n\n  const localeTotalLabel = getLocale(locale).get(['waterfall', 'total']);\n\n  if (total && typeof total.label !== 'string' && localeTotalLabel) {\n    // @ts-ignore\n    params.options.total.label = localeTotalLabel;\n  }\n\n  return params;\n}\n\n/**\n * \n * @param params\n */\nfunction geometry(params: Params<WaterfallOptions>): Params<WaterfallOptions> {\n  const { chart, options } = params;\n  const { data, xField, yField, total, leaderLine, columnWidthRatio, waterfallStyle, risingFill, fallingFill, color } =\n    options;\n\n  // \n  chart.data(transformData(data, xField, yField, total));\n\n  //  colorMapping\n  const colorMapping =\n    color ||\n    function (datum: Datum) {\n      if (get(datum, [IS_TOTAL])) {\n        return get(total, ['style', 'fill'], '');\n      }\n      return get(datum, [Y_FIELD, 1]) - get(datum, [Y_FIELD, 0]) > 0 ? risingFill : fallingFill;\n    };\n\n  const p = deepAssign({}, params, {\n    options: {\n      xField: xField,\n      yField: Y_FIELD,\n      seriesField: xField,\n      rawFields: [yField, DIFF_FIELD, IS_TOTAL, Y_FIELD],\n      widthRatio: columnWidthRatio,\n      interval: {\n        style: waterfallStyle,\n        shape: 'waterfall',\n        color: colorMapping,\n      },\n    },\n  });\n  const { ext } = interval(p);\n  const geometry = ext.geometry as Geometry;\n\n  //  waterfall leaderLineCfg  shape \n  geometry.customInfo({ leaderLine });\n\n  return params;\n}\n\n/**\n * meta \n * @param params\n */\nfunction meta(params: Params<WaterfallOptions>): Params<WaterfallOptions> {\n  const { options } = params;\n  const { xAxis, yAxis, xField, yField, meta } = options;\n\n  const Y_FIELD_META = deepAssign({}, { alias: yField }, get(meta, yField));\n\n  return flow(\n    scale(\n      {\n        [xField]: xAxis,\n        [yField]: yAxis,\n        [Y_FIELD]: yAxis,\n      },\n      deepAssign({}, meta, { [Y_FIELD]: Y_FIELD_META, [DIFF_FIELD]: Y_FIELD_META, [ABSOLUTE_FIELD]: Y_FIELD_META })\n    )\n  )(params);\n}\n\n/**\n * axis \n * @param params\n */\nfunction axis(params: Params<WaterfallOptions>): Params<WaterfallOptions> {\n  const { chart, options } = params;\n  const { xAxis, yAxis, xField, yField } = options;\n\n  //  false \n  if (xAxis === false) {\n    chart.axis(xField, false);\n  } else {\n    chart.axis(xField, xAxis);\n  }\n\n  if (yAxis === false) {\n    chart.axis(yField, false);\n    chart.axis(Y_FIELD, false);\n  } else {\n    chart.axis(yField, yAxis);\n    chart.axis(Y_FIELD, yAxis);\n  }\n\n  return params;\n}\n\n/**\n * legend  todo  hover \n * @param params\n */\nfunction legend(params: Params<WaterfallOptions>): Params<WaterfallOptions> {\n  const { chart, options } = params;\n  const { legend, total, risingFill, fallingFill, locale } = options;\n\n  const i18n = getLocale(locale);\n\n  if (legend === false) {\n    chart.legend(false);\n  } else {\n    const items = [\n      {\n        name: i18n.get(['general', 'increase']),\n        value: 'increase',\n        marker: { symbol: 'square', style: { r: 5, fill: risingFill } },\n      },\n      {\n        name: i18n.get(['general', 'decrease']),\n        value: 'decrease',\n        marker: { symbol: 'square', style: { r: 5, fill: fallingFill } },\n      },\n    ];\n\n    if (total) {\n      items.push({\n        name: total.label || '',\n        value: 'total',\n        marker: {\n          symbol: 'square',\n          style: deepAssign({}, { r: 5 }, get(total, 'style')),\n        },\n      });\n    }\n    chart.legend(\n      deepAssign(\n        {},\n        {\n          custom: true,\n          position: 'top',\n          items,\n        },\n        legend\n      )\n    );\n    chart.removeInteraction('legend-filter');\n  }\n\n  return params;\n}\n\n/**\n * \n * @param params\n */\nfunction label(params: Params<WaterfallOptions>): Params<WaterfallOptions> {\n  const { chart, options } = params;\n  const { label, labelMode, xField } = options;\n\n  const geometry = findGeometry(chart, 'interval');\n\n  if (!label) {\n    geometry.label(false);\n  } else {\n    const { callback, ...cfg } = label;\n    geometry.label({\n      fields: labelMode === 'absolute' ? [ABSOLUTE_FIELD, xField] : [DIFF_FIELD, xField],\n      callback,\n      cfg: transformLabel(cfg),\n    });\n  }\n\n  return params;\n}\n\n/**\n * tooltip \n * @param params\n */\nexport function tooltip(params: Params<WaterfallOptions>): Params<WaterfallOptions> {\n  const { chart, options } = params;\n  const { tooltip, xField, yField } = options;\n\n  if (tooltip !== false) {\n    chart.tooltip({\n      showCrosshairs: false,\n      showMarkers: false,\n      shared: true,\n      // tooltip  y \n      fields: [yField],\n      ...tooltip,\n    });\n    //  yField  tooltip \n    const geometry = chart.geometries[0];\n    tooltip?.formatter ? geometry.tooltip(`${xField}*${yField}`, tooltip.formatter) : geometry.tooltip(yField);\n  } else {\n    chart.tooltip(false);\n  }\n\n  return params;\n}\n\n/**\n * \n * @param params\n */\nexport function adaptor(params: Params<WaterfallOptions>) {\n  return flow(\n    defaultOptions,\n    theme,\n    geometry,\n    meta,\n    axis,\n    legend,\n    tooltip,\n    label,\n    state,\n    interaction,\n    animation,\n    annotation()\n  )(params);\n}\n","import { IGroup } from '@antv/g-base';\nimport { registerShape, Types } from '@antv/g2';\nimport { get } from '@antv/util';\nimport { Point } from '../../types';\nimport { deepAssign } from '../../utils';\n\n/**\n *  path\n * @param points\n */\nfunction getRectPath(points: Point[]) {\n  const path = [];\n  for (let i = 0; i < points.length; i++) {\n    const point = points[i];\n    if (point) {\n      const action = i === 0 ? 'M' : 'L';\n      path.push([action, point.x, point.y]);\n    }\n  }\n\n  const first = points[0];\n  path.push(['L', first.x, first.y]);\n  path.push(['z']);\n\n  return path;\n}\n\n/**\n * \n * @param cfg \n */\nfunction getFillAttrs(cfg: Types.ShapeInfo) {\n  return deepAssign({}, cfg.defaultStyle, cfg.style, { fill: cfg.color });\n}\n\nregisterShape('interval', 'waterfall', {\n  draw(cfg: Types.ShapeInfo & { points: Point[]; nextPoints: Point[] }, container: IGroup) {\n    const { customInfo, points, nextPoints } = cfg;\n\n    const group = container.addGroup();\n\n    //  \n    const rectPath = this.parsePath(getRectPath(points));\n    const fillAttrs = getFillAttrs(cfg);\n\n    group.addShape('path', {\n      attrs: {\n        ...fillAttrs,\n        path: rectPath,\n      },\n    });\n\n    //  \n    const leaderLineCfg = get(customInfo, 'leaderLine');\n    if (leaderLineCfg && nextPoints) {\n      let linkPath = [\n        ['M', points[2].x, points[2].y],\n        ['L', nextPoints[0].x, nextPoints[0].y],\n      ];\n\n      if (points[2].y === nextPoints[1].y) {\n        linkPath[1] = ['L', nextPoints[1].x, nextPoints[1].y];\n      }\n\n      linkPath = this.parsePath(linkPath);\n      group.addShape('path', {\n        attrs: {\n          path: linkPath,\n          ...(leaderLineCfg.style || {}),\n        },\n      });\n    }\n\n    return group;\n  },\n});\n","import { Adaptor } from '../../core/adaptor';\nimport { Plot } from '../../core/plot';\nimport { adaptor } from './adaptor';\nimport { DEFAULT_OPTIONS } from './constant';\nimport { WaterfallOptions } from './types';\nimport { transformData } from './utils';\n\nexport type { WaterfallOptions };\n\n/**\n * \n */\nexport class Waterfall extends Plot<WaterfallOptions> {\n  /**\n   *   \n   * \n   */\n  static getDefaultOptions(): Partial<WaterfallOptions> {\n    return DEFAULT_OPTIONS;\n  }\n\n  /**  */\n  public readonly type: string = 'waterfall';\n\n  /**\n   * @override\n   * @param data\n   */\n  public changeData(data) {\n    const { xField, yField, total } = this.options;\n    this.updateOption({ data });\n    this.chart.changeData(transformData(data, xField, yField, total));\n  }\n\n  /**\n   *   \n   */\n  protected getSchemaAdaptor(): Adaptor<WaterfallOptions> {\n    return adaptor;\n  }\n\n  /**\n   *   \n   */\n  protected getDefaultOptions(): Partial<WaterfallOptions> {\n    return Waterfall.getDefaultOptions();\n  }\n}\n","import { Plot } from '../../core/plot';\nimport { Datum } from '../../types';\nimport { deepAssign } from '../../utils';\n\n/**  color  */\nexport const WORD_CLOUD_COLOR_FIELD = 'color';\n\n/**\n *  \n */\nexport const DEFAULT_OPTIONS = deepAssign({}, Plot.getDefaultOptions(), {\n  timeInterval: 2000,\n  legend: false,\n  tooltip: {\n    showTitle: false,\n    showMarkers: false,\n    showCrosshairs: false,\n    fields: ['text', 'value', WORD_CLOUD_COLOR_FIELD],\n    formatter: (datum: Datum) => {\n      return { name: datum.text, value: datum.value };\n    },\n  },\n  wordStyle: {\n    fontFamily: 'Verdana',\n    fontWeight: 'normal',\n    padding: 1,\n    fontSize: [12, 60],\n    rotation: [0, 90],\n    rotationSteps: 2,\n    rotateRatio: 0.5,\n  },\n});\n","import { assign, isFunction, isNil } from '@antv/util';\r\nimport { Tag, Word } from '../../plots/word-cloud/types';\r\n\r\ntype FontWeight = number | 'normal' | 'bold' | 'bolder' | 'lighter';\r\n\r\nexport interface Options {\r\n  size: [number, number];\r\n  font?: string | ((row: Word, index?: number, words?: Word[]) => string);\r\n  fontSize?: number | ((row: Word, index?: number, words?: Word[]) => number);\r\n  fontWeight?: FontWeight | ((row: Word, index?: number, words?: Word[]) => FontWeight);\r\n  rotate?: number | ((row: Word, index?: number, words?: Word[]) => number);\r\n  padding?: number | ((row: Word, index?: number, words?: Word[]) => number);\r\n  spiral?: 'archimedean' | 'rectangular' | ((size: [number, number]) => (t: number) => number[]);\r\n  random?: number | (() => number);\r\n  timeInterval?: number;\r\n  imageMask?: HTMLImageElement;\r\n}\r\n\r\nconst DEFAULT_OPTIONS: Options = {\r\n  font: () => 'serif',\r\n  padding: 1,\r\n  size: [500, 500],\r\n  spiral: 'archimedean', // 'archimedean' || 'rectangular' || {function}\r\n  // timeInterval: Infinity // max execute time\r\n  timeInterval: 3000, // max execute time\r\n  // imageMask: '', // instance of Image, must be loaded\r\n};\r\n\r\n/**\r\n * \r\n * \r\n * \r\n * @param words\r\n * @param options\r\n */\r\nexport function wordCloud(words: Word[], options?: Partial<Options>): Tag[] {\r\n  // \r\n  options = assign({} as Options, DEFAULT_OPTIONS, options);\r\n  return transform(words, options as Options);\r\n}\r\n\r\n/**\r\n * \r\n * @param words\r\n * @param options\r\n */\r\nexport function transform(words: Word[], options: Options) {\r\n  // \r\n  const layout = tagCloud();\r\n  ['font', 'fontSize', 'fontWeight', 'padding', 'rotate', 'size', 'spiral', 'timeInterval', 'random'].forEach(\r\n    (key: string) => {\r\n      if (!isNil(options[key])) {\r\n        layout[key](options[key]);\r\n      }\r\n    }\r\n  );\r\n\r\n  layout.words(words);\r\n  if (options.imageMask) {\r\n    layout.createMask(options.imageMask);\r\n  }\r\n\r\n  const result = layout.start();\r\n  const tags: any[] = result._tags;\r\n\r\n  tags.forEach((tag) => {\r\n    tag.x += options.size[0] / 2;\r\n    tag.y += options.size[1] / 2;\r\n  });\r\n\r\n  const [w, h] = options.size;\r\n  // \r\n  // \r\n  // \r\n  // \r\n  tags.push({\r\n    text: '',\r\n    value: 0,\r\n    x: 0,\r\n    y: 0,\r\n    opacity: 0,\r\n  });\r\n  tags.push({\r\n    text: '',\r\n    value: 0,\r\n    x: w,\r\n    y: h,\r\n    opacity: 0,\r\n  });\r\n\r\n  return tags;\r\n}\r\n\r\n/*\r\n * Synchronous version of d3-cloud\r\n */\r\n// Word cloud layout by Jason Davies, https://www.jasondavies.com/wordcloud/\r\n// Algorithm due to Jonathan Feinberg, http://static.mrfeinberg.com/bv_ch03.pdf\r\n/* eslint-disable no-return-assign, no-cond-assign */\r\n\r\ninterface Item {\r\n  value: number;\r\n  text: string;\r\n  sprite: boolean;\r\n}\r\n\r\nconst cloudRadians = Math.PI / 180,\r\n  cw = (1 << 11) >> 5,\r\n  ch = 1 << 11;\r\n\r\nfunction cloudText(d: Item) {\r\n  return d.text;\r\n}\r\n\r\nfunction cloudFont() {\r\n  return 'serif';\r\n}\r\n\r\nfunction cloudFontNormal() {\r\n  return 'normal';\r\n}\r\n\r\nfunction cloudFontSize(d: Item) {\r\n  return d.value;\r\n}\r\n\r\nfunction cloudRotate() {\r\n  return ~~(Math.random() * 2) * 90;\r\n}\r\n\r\nfunction cloudPadding() {\r\n  return 1;\r\n}\r\n\r\n// Fetches a monochrome sprite bitmap for the specified text.\r\n// Load in batches for speed.\r\nfunction cloudSprite(contextAndRatio, d, data, di) {\r\n  if (d.sprite) return;\r\n  const c = contextAndRatio.context,\r\n    ratio = contextAndRatio.ratio;\r\n\r\n  c.clearRect(0, 0, (cw << 5) / ratio, ch / ratio);\r\n  let x = 0,\r\n    y = 0,\r\n    maxh = 0;\r\n  const n = data.length;\r\n  --di;\r\n  while (++di < n) {\r\n    d = data[di];\r\n    c.save();\r\n    c.font = d.style + ' ' + d.weight + ' ' + ~~((d.size + 1) / ratio) + 'px ' + d.font;\r\n    let w = c.measureText(d.text + 'm').width * ratio,\r\n      h = d.size << 1;\r\n    if (d.rotate) {\r\n      const sr = Math.sin(d.rotate * cloudRadians),\r\n        cr = Math.cos(d.rotate * cloudRadians),\r\n        wcr = w * cr,\r\n        wsr = w * sr,\r\n        hcr = h * cr,\r\n        hsr = h * sr;\r\n      w = ((Math.max(Math.abs(wcr + hsr), Math.abs(wcr - hsr)) + 0x1f) >> 5) << 5;\r\n      h = ~~Math.max(Math.abs(wsr + hcr), Math.abs(wsr - hcr));\r\n    } else {\r\n      w = ((w + 0x1f) >> 5) << 5;\r\n    }\r\n    if (h > maxh) maxh = h;\r\n    if (x + w >= cw << 5) {\r\n      x = 0;\r\n      y += maxh;\r\n      maxh = 0;\r\n    }\r\n    if (y + h >= ch) break;\r\n    c.translate((x + (w >> 1)) / ratio, (y + (h >> 1)) / ratio);\r\n    if (d.rotate) c.rotate(d.rotate * cloudRadians);\r\n    c.fillText(d.text, 0, 0);\r\n    if (d.padding) {\r\n      c.lineWidth = 2 * d.padding;\r\n      c.strokeText(d.text, 0, 0);\r\n    }\r\n    c.restore();\r\n    d.width = w;\r\n    d.height = h;\r\n    d.xoff = x;\r\n    d.yoff = y;\r\n    d.x1 = w >> 1;\r\n    d.y1 = h >> 1;\r\n    d.x0 = -d.x1;\r\n    d.y0 = -d.y1;\r\n    d.hasText = true;\r\n    x += w;\r\n  }\r\n  const pixels = c.getImageData(0, 0, (cw << 5) / ratio, ch / ratio).data,\r\n    sprite = [];\r\n  while (--di >= 0) {\r\n    d = data[di];\r\n    if (!d.hasText) continue;\r\n    const w = d.width,\r\n      w32 = w >> 5;\r\n    let h = d.y1 - d.y0;\r\n    // Zero the buffer\r\n    for (let i = 0; i < h * w32; i++) sprite[i] = 0;\r\n    x = d.xoff;\r\n    if (x == null) return;\r\n    y = d.yoff;\r\n    let seen = 0,\r\n      seenRow = -1;\r\n    for (let j = 0; j < h; j++) {\r\n      for (let i = 0; i < w; i++) {\r\n        const k = w32 * j + (i >> 5),\r\n          m = pixels[((y + j) * (cw << 5) + (x + i)) << 2] ? 1 << (31 - (i % 32)) : 0;\r\n        sprite[k] |= m;\r\n        seen |= m;\r\n      }\r\n      if (seen) seenRow = j;\r\n      else {\r\n        d.y0++;\r\n        h--;\r\n        j--;\r\n        y++;\r\n      }\r\n    }\r\n    d.y1 = d.y0 + seenRow;\r\n    d.sprite = sprite.slice(0, (d.y1 - d.y0) * w32);\r\n  }\r\n}\r\n\r\n// Use mask-based collision detection.\r\nfunction cloudCollide(tag, board, sw) {\r\n  sw >>= 5;\r\n  const sprite = tag.sprite,\r\n    w = tag.width >> 5,\r\n    lx = tag.x - (w << 4),\r\n    sx = lx & 0x7f,\r\n    msx = 32 - sx,\r\n    h = tag.y1 - tag.y0;\r\n  let x = (tag.y + tag.y0) * sw + (lx >> 5),\r\n    last;\r\n  for (let j = 0; j < h; j++) {\r\n    last = 0;\r\n    for (let i = 0; i <= w; i++) {\r\n      if (((last << msx) | (i < w ? (last = sprite[j * w + i]) >>> sx : 0)) & board[x + i]) return true;\r\n    }\r\n    x += sw;\r\n  }\r\n  return false;\r\n}\r\n\r\nfunction cloudBounds(bounds, d) {\r\n  const b0 = bounds[0],\r\n    b1 = bounds[1];\r\n  if (d.x + d.x0 < b0.x) b0.x = d.x + d.x0;\r\n  if (d.y + d.y0 < b0.y) b0.y = d.y + d.y0;\r\n  if (d.x + d.x1 > b1.x) b1.x = d.x + d.x1;\r\n  if (d.y + d.y1 > b1.y) b1.y = d.y + d.y1;\r\n}\r\n\r\nfunction collideRects(a, b) {\r\n  return a.x + a.x1 > b[0].x && a.x + a.x0 < b[1].x && a.y + a.y1 > b[0].y && a.y + a.y0 < b[1].y;\r\n}\r\n\r\nfunction archimedeanSpiral(size) {\r\n  const e = size[0] / size[1];\r\n  return function (t) {\r\n    return [e * (t *= 0.1) * Math.cos(t), t * Math.sin(t)];\r\n  };\r\n}\r\n\r\nfunction rectangularSpiral(size) {\r\n  const dy = 4,\r\n    dx = (dy * size[0]) / size[1];\r\n  let x = 0,\r\n    y = 0;\r\n  return function (t) {\r\n    const sign = t < 0 ? -1 : 1;\r\n    // See triangular numbers: T_n = n * (n + 1) / 2.\r\n    switch ((Math.sqrt(1 + 4 * sign * t) - sign) & 3) {\r\n      case 0:\r\n        x += dx;\r\n        break;\r\n      case 1:\r\n        y += dy;\r\n        break;\r\n      case 2:\r\n        x -= dx;\r\n        break;\r\n      default:\r\n        y -= dy;\r\n        break;\r\n    }\r\n    return [x, y];\r\n  };\r\n}\r\n\r\n// TODO reuse arrays?\r\nfunction zeroArray(n) {\r\n  const a = [];\r\n  let i = -1;\r\n  while (++i < n) a[i] = 0;\r\n  return a;\r\n}\r\n\r\nfunction cloudCanvas() {\r\n  return document.createElement('canvas');\r\n}\r\n\r\nexport function functor(d) {\r\n  return isFunction(d)\r\n    ? d\r\n    : function () {\r\n        return d;\r\n      };\r\n}\r\n\r\nconst spirals = {\r\n  archimedean: archimedeanSpiral,\r\n  rectangular: rectangularSpiral,\r\n};\r\n\r\nfunction tagCloud() {\r\n  let size = [256, 256],\r\n    font = cloudFont,\r\n    fontSize = cloudFontSize,\r\n    fontWeight = cloudFontNormal,\r\n    rotate = cloudRotate,\r\n    padding = cloudPadding,\r\n    spiral = archimedeanSpiral,\r\n    random = Math.random,\r\n    words = [],\r\n    timeInterval = Infinity;\r\n\r\n  const text = cloudText;\r\n  const fontStyle = cloudFontNormal;\r\n  const canvas = cloudCanvas;\r\n  const cloud: any = {};\r\n\r\n  cloud.start = function () {\r\n    const [width, height] = size;\r\n    const contextAndRatio = getContext(canvas()),\r\n      board = cloud.board ? cloud.board : zeroArray((size[0] >> 5) * size[1]),\r\n      n = words.length,\r\n      tags = [],\r\n      data = words\r\n        .map(function (d, i, data) {\r\n          d.text = text.call(this, d, i, data);\r\n          d.font = font.call(this, d, i, data);\r\n          d.style = fontStyle.call(this, d, i, data);\r\n          d.weight = fontWeight.call(this, d, i, data);\r\n          d.rotate = rotate.call(this, d, i, data);\r\n          d.size = ~~fontSize.call(this, d, i, data);\r\n          d.padding = padding.call(this, d, i, data);\r\n          return d;\r\n        })\r\n        .sort(function (a, b) {\r\n          return b.size - a.size;\r\n        });\r\n    let i = -1,\r\n      bounds = !cloud.board\r\n        ? null\r\n        : [\r\n            {\r\n              x: 0,\r\n              y: 0,\r\n            },\r\n            {\r\n              x: width,\r\n              y: height,\r\n            },\r\n          ];\r\n\r\n    step();\r\n\r\n    function step() {\r\n      const start = Date.now();\r\n      while (Date.now() - start < timeInterval && ++i < n) {\r\n        const d = data[i];\r\n        d.x = (width * (random() + 0.5)) >> 1;\r\n        d.y = (height * (random() + 0.5)) >> 1;\r\n        cloudSprite(contextAndRatio, d, data, i);\r\n        if (d.hasText && place(board, d, bounds)) {\r\n          tags.push(d);\r\n          if (bounds) {\r\n            if (!cloud.hasImage) {\r\n              // update bounds if image mask not set\r\n              cloudBounds(bounds, d);\r\n            }\r\n          } else {\r\n            bounds = [\r\n              { x: d.x + d.x0, y: d.y + d.y0 },\r\n              { x: d.x + d.x1, y: d.y + d.y1 },\r\n            ];\r\n          }\r\n          // Temporary hack\r\n          d.x -= size[0] >> 1;\r\n          d.y -= size[1] >> 1;\r\n        }\r\n      }\r\n      cloud._tags = tags;\r\n      cloud._bounds = bounds;\r\n    }\r\n\r\n    return cloud;\r\n  };\r\n\r\n  function getContext(canvas: HTMLCanvasElement) {\r\n    canvas.width = canvas.height = 1;\r\n    const ratio = Math.sqrt(canvas.getContext('2d')!.getImageData(0, 0, 1, 1).data.length >> 2);\r\n    canvas.width = (cw << 5) / ratio;\r\n    canvas.height = ch / ratio;\r\n\r\n    const context = canvas.getContext('2d') as CanvasRenderingContext2D;\r\n    context.fillStyle = context.strokeStyle = 'red';\r\n    context.textAlign = 'center';\r\n    return { context, ratio };\r\n  }\r\n\r\n  function place(board, tag, bounds) {\r\n    // const perimeter = [{ x: 0, y: 0 }, { x: size[0], y: size[1] }],\r\n    const startX = tag.x,\r\n      startY = tag.y,\r\n      maxDelta = Math.sqrt(size[0] * size[0] + size[1] * size[1]),\r\n      s = spiral(size),\r\n      dt = random() < 0.5 ? 1 : -1;\r\n    let dxdy,\r\n      t = -dt,\r\n      dx,\r\n      dy;\r\n\r\n    while ((dxdy = s((t += dt)))) {\r\n      dx = ~~dxdy[0];\r\n      dy = ~~dxdy[1];\r\n\r\n      if (Math.min(Math.abs(dx), Math.abs(dy)) >= maxDelta) break;\r\n\r\n      tag.x = startX + dx;\r\n      tag.y = startY + dy;\r\n\r\n      if (tag.x + tag.x0 < 0 || tag.y + tag.y0 < 0 || tag.x + tag.x1 > size[0] || tag.y + tag.y1 > size[1]) continue;\r\n      // TODO only check for collisions within current bounds.\r\n      if (!bounds || !cloudCollide(tag, board, size[0])) {\r\n        if (!bounds || collideRects(tag, bounds)) {\r\n          const sprite = tag.sprite,\r\n            w = tag.width >> 5,\r\n            sw = size[0] >> 5,\r\n            lx = tag.x - (w << 4),\r\n            sx = lx & 0x7f,\r\n            msx = 32 - sx,\r\n            h = tag.y1 - tag.y0;\r\n          let last,\r\n            x = (tag.y + tag.y0) * sw + (lx >> 5);\r\n          for (let j = 0; j < h; j++) {\r\n            last = 0;\r\n            for (let i = 0; i <= w; i++) {\r\n              board[x + i] |= (last << msx) | (i < w ? (last = sprite[j * w + i]) >>> sx : 0);\r\n            }\r\n            x += sw;\r\n          }\r\n          delete tag.sprite;\r\n          return true;\r\n        }\r\n      }\r\n    }\r\n    return false;\r\n  }\r\n\r\n  cloud.createMask = (img: HTMLImageElement) => {\r\n    const can: HTMLCanvasElement = document.createElement('canvas');\r\n    const [width, height] = size;\r\n\r\n    //  width  height  0  cxt.getImageData \r\n    if (!width || !height) {\r\n      return;\r\n    }\r\n    const w32 = width >> 5;\r\n    const board = zeroArray((width >> 5) * height);\r\n    can.width = width;\r\n    can.height = height;\r\n    const cxt = can.getContext('2d') as CanvasRenderingContext2D;\r\n    cxt.drawImage(img, 0, 0, img.width, img.height, 0, 0, width, height);\r\n    const imageData = cxt.getImageData(0, 0, width, height).data;\r\n    for (let j = 0; j < height; j++) {\r\n      for (let i = 0; i < width; i++) {\r\n        const k = w32 * j + (i >> 5);\r\n        const tmp = (j * width + i) << 2;\r\n        const flag = imageData[tmp] >= 250 && imageData[tmp + 1] >= 250 && imageData[tmp + 2] >= 250;\r\n        const m = flag ? 1 << (31 - (i % 32)) : 0;\r\n        board[k] |= m;\r\n      }\r\n    }\r\n    cloud.board = board;\r\n    cloud.hasImage = true;\r\n  };\r\n\r\n  cloud.timeInterval = function (_) {\r\n    timeInterval = _ == null ? Infinity : _;\r\n  };\r\n\r\n  cloud.words = function (_) {\r\n    words = _;\r\n  };\r\n\r\n  cloud.size = function (_) {\r\n    size = [+_[0], +_[1]];\r\n  };\r\n\r\n  cloud.font = function (_) {\r\n    font = functor(_);\r\n  };\r\n\r\n  cloud.fontWeight = function (_) {\r\n    fontWeight = functor(_);\r\n  };\r\n\r\n  cloud.rotate = function (_) {\r\n    rotate = functor(_);\r\n  };\r\n\r\n  cloud.spiral = function (_) {\r\n    spiral = spirals[_] || _;\r\n  };\r\n\r\n  cloud.fontSize = function (_) {\r\n    fontSize = functor(_);\r\n  };\r\n\r\n  cloud.padding = function (_) {\r\n    padding = functor(_);\r\n  };\r\n\r\n  cloud.random = function (_) {\r\n    random = functor(_);\r\n  };\r\n\r\n  return cloud;\r\n}\r\n","import { Chart, Types } from '@antv/g2';\r\nimport { isArray, isFunction, isString } from '@antv/util';\r\nimport { Params } from '../../core/adaptor';\r\nimport { Datum } from '../../types';\r\nimport { getContainerSize, LEVEL, log } from '../../utils';\r\nimport { normalPadding } from '../../utils/padding';\r\nimport { functor, wordCloud } from '../../utils/transform/word-cloud';\r\nimport { Tag, Word, WordCloudOptions, WordStyle } from './types';\r\n\r\n/**\r\n *  DataSet \r\n * @param params\r\n */\r\nexport function transform(params: Params<WordCloudOptions>): Tag[] {\r\n  const { options: rawOptions, chart } = params;\r\n  const { width, height, padding: chartPadding, appendPadding, ele } = chart as Chart;\r\n  const {\r\n    data,\r\n    imageMask,\r\n    wordField,\r\n    weightField,\r\n    colorField,\r\n    wordStyle,\r\n    timeInterval,\r\n    random,\r\n    spiral,\r\n    autoFit = true,\r\n    placementStrategy,\r\n  } = rawOptions;\r\n  if (!data || !data.length) {\r\n    return [];\r\n  }\r\n  const { fontFamily, fontWeight, padding, fontSize } = wordStyle;\r\n  const arr = getSingleKeyValues(data, weightField);\r\n  const range = [min(arr), max(arr)] as [number, number];\r\n\r\n  //  text  value \r\n  const words = data.map(\r\n    (datum: Datum): Word => ({\r\n      text: datum[wordField],\r\n      value: datum[weightField],\r\n      color: datum[colorField],\r\n      datum, // \r\n    })\r\n  );\r\n\r\n  const options = {\r\n    imageMask: imageMask as HTMLImageElement,\r\n    font: fontFamily,\r\n    fontSize: getFontSizeMapping(fontSize, range),\r\n    fontWeight: fontWeight,\r\n    //  padding \r\n    size: getSize({\r\n      width,\r\n      height,\r\n      padding: chartPadding,\r\n      appendPadding,\r\n      autoFit,\r\n      container: ele,\r\n    }),\r\n    padding: padding,\r\n    timeInterval,\r\n    random,\r\n    spiral,\r\n    rotate: getRotate(rawOptions),\r\n  };\r\n\r\n  // \r\n  if (isFunction(placementStrategy)) {\r\n    const result = words.map((word: Word, index: number, words: Word[]) => ({\r\n      ...word,\r\n      hasText: !!word.text,\r\n      font: functor(options.font)(word, index, words),\r\n      weight: functor(options.fontWeight)(word, index, words),\r\n      rotate: functor(options.rotate)(word, index, words),\r\n      size: functor(options.fontSize)(word, index, words),\r\n      style: 'normal',\r\n      ...placementStrategy.call(chart, word, index, words),\r\n    }));\r\n\r\n    // \r\n    result.push({\r\n      text: '',\r\n      value: 0,\r\n      x: 0,\r\n      y: 0,\r\n      opacity: 0,\r\n    });\r\n    result.push({\r\n      text: '',\r\n      value: 0,\r\n      x: options.size[0],\r\n      y: options.size[1],\r\n      opacity: 0,\r\n    });\r\n\r\n    return result;\r\n  }\r\n\r\n  // wordCloud \r\n  return wordCloud(words, options);\r\n}\r\n\r\n/**\r\n * [width, height]\r\n * @param chart\r\n */\r\nexport function getSize(options: {\r\n  width: number;\r\n  height: number;\r\n  padding: Types.ViewPadding;\r\n  appendPadding: Types.ViewAppendPadding;\r\n  autoFit: boolean;\r\n  container: HTMLElement;\r\n}): [number, number] {\r\n  let { width, height } = options;\r\n  const { container, autoFit, padding, appendPadding } = options;\r\n\r\n  //  DataSet \r\n  //  DataSet \r\n  //  DataSet \r\n  // \r\n  if (autoFit) {\r\n    const containerSize = getContainerSize(container);\r\n    width = containerSize.width;\r\n    height = containerSize.height;\r\n  }\r\n\r\n  //  0\r\n  width = width || 400;\r\n  height = height || 400;\r\n\r\n  const [top, right, bottom, left] = resolvePadding({ padding, appendPadding });\r\n  const result = [width - (left + right), height - (top + bottom)];\r\n\r\n  return result as [number, number];\r\n}\r\n\r\n/**\r\n *  padding  appendPadding  padding\r\n * @param chart\r\n */\r\nfunction resolvePadding(options: { padding: Types.ViewPadding; appendPadding: Types.ViewAppendPadding }) {\r\n  const padding = normalPadding(options.padding);\r\n  const appendPadding = normalPadding(options.appendPadding);\r\n  const top = padding[0] + appendPadding[0];\r\n  const right = padding[1] + appendPadding[1];\r\n  const bottom = padding[2] + appendPadding[2];\r\n  const left = padding[3] + appendPadding[3];\r\n\r\n  return [top, right, bottom, left];\r\n}\r\n\r\n/**\r\n *  imageMask  url \r\n * @param  {HTMLImageElement | string} img\r\n * @return {Promise}\r\n */\r\nexport function processImageMask(img: HTMLImageElement | string): Promise<HTMLImageElement> {\r\n  return new Promise((res, rej) => {\r\n    if (img instanceof HTMLImageElement) {\r\n      res(img);\r\n      return;\r\n    }\r\n    if (isString(img)) {\r\n      const image = new Image();\r\n      image.crossOrigin = 'anonymous';\r\n      image.src = img;\r\n      image.onload = () => {\r\n        res(image);\r\n      };\r\n      image.onerror = () => {\r\n        log(LEVEL.ERROR, false, 'image %s load failed !!!', img);\r\n        rej();\r\n      };\r\n      return;\r\n    }\r\n    log(LEVEL.WARN, img === undefined, 'The type of imageMask option must be String or HTMLImageElement.');\r\n    rej();\r\n  });\r\n}\r\n\r\n/**\r\n *  fontSize  DataSet \r\n * @param options\r\n * @param range\r\n */\r\nexport function getFontSizeMapping(fontSize: WordStyle['fontSize'], range?: [number, number]) {\r\n  if (isFunction(fontSize)) {\r\n    return fontSize;\r\n  }\r\n  if (isArray(fontSize)) {\r\n    const [fMin, fMax] = fontSize;\r\n    if (!range) {\r\n      return () => (fMax + fMin) / 2;\r\n    }\r\n    const [min, max] = range;\r\n    if (max === min) {\r\n      return () => (fMax + fMin) / 2;\r\n    }\r\n    return function fontSize({ value }) {\r\n      return ((fMax - fMin) / (max - min)) * (value - min) + fMin;\r\n    };\r\n  }\r\n  return () => fontSize;\r\n}\r\n\r\nexport function getSingleKeyValues(data: Datum[], key: string) {\r\n  return data\r\n    .map((v) => v[key])\r\n    .filter((v) => {\r\n      //  number\r\n      if (typeof v === 'number' && !isNaN(v)) return true;\r\n      return false;\r\n    });\r\n}\r\n\r\n/**\r\n *  DataSet \r\n * @param options\r\n */\r\nfunction getRotate(options: WordCloudOptions) {\r\n  const { rotation, rotationSteps } = resolveRotate(options);\r\n  if (!isArray(rotation)) return rotation;\r\n  const min = rotation[0];\r\n  const max = rotation[1];\r\n  //  1  0\r\n  const perSize = rotationSteps === 1 ? 0 : (max - min) / (rotationSteps - 1);\r\n  return function rotate() {\r\n    if (max === min) return max;\r\n    return Math.floor(Math.random() * rotationSteps) * perSize;\r\n  };\r\n}\r\n\r\n/**\r\n * \r\n * @param options\r\n */\r\nfunction resolveRotate(options: WordCloudOptions) {\r\n  let { rotationSteps } = options.wordStyle;\r\n  if (rotationSteps < 1) {\r\n    log(LEVEL.WARN, false, 'The rotationSteps option must be greater than or equal to 1.');\r\n    rotationSteps = 1;\r\n  }\r\n  return {\r\n    rotation: options.wordStyle.rotation,\r\n    rotationSteps,\r\n  };\r\n}\r\n\r\n/**\r\n * \r\n * \r\n * @param numbers\r\n */\r\nfunction min(numbers: number[]) {\r\n  return Math.min(...numbers);\r\n}\r\n\r\n/**\r\n * \r\n * \r\n * @param numbers\r\n */\r\nfunction max(numbers: number[]) {\r\n  return Math.max(...numbers);\r\n}\r\n","import { get, isFunction } from '@antv/util';\nimport { animation, interaction, scale, state, theme, tooltip } from '../../adaptor/common';\nimport { point } from '../../adaptor/geometries';\nimport { Params } from '../../core/adaptor';\nimport { deepAssign, flow } from '../../utils';\nimport { WORD_CLOUD_COLOR_FIELD } from './constant';\nimport { WordCloudOptions } from './types';\nimport { transform } from './utils';\n\n/**\n * geometry \n * @param params\n */\nfunction geometry(params: Params<WordCloudOptions>): Params<WordCloudOptions> {\n  const { chart, options } = params;\n  const { colorField, color } = options;\n  const data = transform(params);\n\n  chart.data(data);\n\n  const p = deepAssign({}, params, {\n    options: {\n      xField: 'x',\n      yField: 'y',\n      seriesField: colorField && WORD_CLOUD_COLOR_FIELD,\n      rawFields: isFunction(color) && [...get(options, 'rawFields', []), 'datum'],\n      point: {\n        color,\n        shape: 'word-cloud',\n      },\n    },\n  });\n\n  const { ext } = point(p);\n  ext.geometry.label(false);\n\n  chart.coordinate().reflect('y');\n  chart.axis(false);\n\n  return params;\n}\n\n/**\n * meta \n * @param params\n */\nfunction meta(params: Params<WordCloudOptions>): Params<WordCloudOptions> {\n  return flow(\n    scale({\n      x: { nice: false },\n      y: { nice: false },\n    })\n  )(params);\n}\n\n/**\n *  legend \n * @param params\n */\nexport function legend(params: Params<WordCloudOptions>): Params<WordCloudOptions> {\n  const { chart, options } = params;\n  const { legend, colorField } = options;\n\n  if (legend === false) {\n    chart.legend(false);\n  } else if (colorField) {\n    chart.legend(WORD_CLOUD_COLOR_FIELD, legend);\n  }\n\n  return params;\n}\n\n/**\n * \n * @param chart\n * @param options\n */\nexport function adaptor(params: Params<WordCloudOptions>) {\n  // flow  G2 API\n  flow(geometry, meta, tooltip, legend, interaction, animation, theme, state)(params);\n}\n","import { IGroup, registerShape, ShapeAttrs, Types, Util } from '@antv/g2';\nimport { Tag } from '../types';\n\ntype Config = Types.ShapeInfo & { data: Tag };\n\nregisterShape('point', 'word-cloud', {\n  draw(cfg: Config, group: IGroup) {\n    const cx = cfg.x as number;\n    const cy = cfg.y as number;\n\n    const shape = group.addShape('text', {\n      attrs: {\n        ...getTextAttrs(cfg),\n        x: cx,\n        y: cy,\n      },\n    });\n    const rotate = cfg.data.rotate;\n    if (typeof rotate === 'number') {\n      Util.rotate(shape, (rotate * Math.PI) / 180);\n    }\n\n    return shape;\n  },\n});\n\nfunction getTextAttrs(cfg: Config): ShapeAttrs {\n  return {\n    fontSize: cfg.data.size,\n    text: cfg.data.text,\n    textAlign: 'center',\n    fontFamily: cfg.data.font,\n    fontWeight: cfg.data.weight,\n    fill: cfg.color || cfg.defaultStyle.stroke,\n    textBaseline: 'alphabetic',\n  };\n}\n","import { Adaptor } from '../../core/adaptor';\nimport { Plot } from '../../core/plot';\nimport { adaptor } from './adaptor';\nimport { DEFAULT_OPTIONS } from './constant';\n// shape\nimport './shapes/word-cloud';\nimport { WordCloudOptions } from './types';\nimport { processImageMask, transform } from './utils';\n\nexport type { WordCloudOptions };\n\nexport class WordCloud extends Plot<WordCloudOptions> {\n  /**\n   *   \n   * \n   */\n  static getDefaultOptions(): Partial<WordCloudOptions> {\n    return DEFAULT_OPTIONS;\n  }\n\n  /**  */\n  public type: string = 'word-cloud';\n\n  /**\n   * @override\n   * @param data\n   */\n  public changeData(data) {\n    this.updateOption({ data });\n    if (this.options.imageMask) {\n      this.render();\n    } else {\n      this.chart.changeData(transform({ chart: this.chart, options: this.options }));\n    }\n  }\n\n  /**\n   *  options \n   */\n  protected getDefaultOptions(): Partial<WordCloudOptions> {\n    return WordCloud.getDefaultOptions();\n  }\n\n  /**\n   * \n   */\n  public render() {\n    return new Promise<void>((res) => {\n      const { imageMask } = this.options;\n\n      if (!imageMask) {\n        // \n        super.render();\n        res();\n        return;\n      }\n\n      const handler = (img: HTMLImageElement) => {\n        this.options = {\n          ...this.options,\n          imageMask: img || null,\n        };\n\n        // \n        super.render();\n        res();\n      };\n\n      processImageMask(imageMask).then(handler).catch(handler);\n    });\n  }\n\n  /**\n   *   \n   */\n  protected getSchemaAdaptor(): Adaptor<WordCloudOptions> {\n    return adaptor;\n  }\n\n  /**\n   *   \n   */\n  protected triggerResize() {\n    if (!this.chart.destroyed) {\n      // \n      //  adaptor\n      // \n      this.execAdaptor();\n\n      // \n      // TODO: \n      window.setTimeout(() => {\n        // \n        super.triggerResize();\n      });\n    }\n  }\n}\n","import { Adaptor } from '../core/adaptor';\nimport { PickOptions, Plot } from '../core/plot';\nimport { deepAssign } from '../utils';\n/**\n *  G2Plot  G2Plot \n * 1. \n * 2. \n * 3. \n * \n *\n * \n *\n * ```ts\n * import { P } from '@antv/g2plot';\n * import { GeoWorldMap, GeoWorldMapOptions } from 'g2plot-geo-world-map';\n *\n * const plot = new P('container', {\n *   geoJson: '',\n *   longitude: '',\n *   latitude: '',\n * }, GeoWorldMap, defaultOptions);\n *\n * plot.render();\n * ```\n */\nexport class P<O extends PickOptions> extends Plot<O> {\n  /**  any plot */\n  public readonly type = 'g2-plot';\n\n  /**  defaultOptions */\n  private defaultOptions: Partial<O>;\n\n  /**  adaptor  */\n  private adaptor: Adaptor<O>;\n\n  /**\n   *  adaptor \n   * @param container\n   * @param options\n   * @param adaptor\n   * @param defaultOptions\n   */\n  constructor(container: string | HTMLElement, options: O, adaptor: Adaptor<O>, defaultOptions?: Partial<O>) {\n    super(container, deepAssign({}, defaultOptions, options));\n\n    this.defaultOptions = defaultOptions;\n    this.adaptor = adaptor;\n  }\n\n  /**\n   * \n   */\n  protected getDefaultOptions() {\n    return this.defaultOptions;\n  }\n\n  /**\n   * \n   */\n  protected getSchemaAdaptor(): Adaptor<O> {\n    return this.adaptor;\n  }\n}\n","import { Locale } from '../types/locale';\n\nexport const EN_US_LOCALE: Locale = {\n  locale: 'en-US',\n\n  // General\n  general: {\n    increase: 'Increase',\n    decrease: 'Decrease',\n    root: 'Root',\n  },\n\n  // Plot Components\n  /** statistic text component */\n  statistic: {\n    total: 'Total',\n  },\n  /** conversionTag component */\n  conversionTag: {\n    label: 'Rate',\n  },\n  legend: {},\n  tooltip: {},\n  slider: {},\n  scrollbar: {},\n\n  // Plots\n  waterfall: {\n    total: 'Total',\n  },\n};\n","import { Locale } from '../types/locale';\n\nexport const ZH_CN_LOCALE: Locale = {\n  locale: 'zh-CN',\n\n  // \n  general: {\n    increase: '',\n    decrease: '',\n    root: '',\n  },\n\n  // \n  /**  */\n  statistic: {\n    total: '',\n  },\n  /**  */\n  conversionTag: {\n    label: '',\n  },\n  legend: {},\n  tooltip: {},\n  slider: {},\n  scrollbar: {},\n\n  // \n  waterfall: {\n    total: '',\n  },\n};\n","import defineProperty from \"./defineProperty.js\";\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    enumerableOnly && (symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    })), keys.push.apply(keys, symbols);\n  }\n  return keys;\n}\nexport default function _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = null != arguments[i] ? arguments[i] : {};\n    i % 2 ? ownKeys(Object(source), !0).forEach(function (key) {\n      defineProperty(target, key, source[key]);\n    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) {\n      Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n    });\n  }\n  return target;\n}","import type * as React from 'react';\nimport * as ReactDOM from 'react-dom';\nimport type { Root } from 'react-dom/client';\n\n// Let compiler not to search module usage\nconst fullClone = {\n  ...ReactDOM,\n} as typeof ReactDOM & {\n  __SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED?: {\n    usingClientEntryPoint?: boolean;\n  };\n  createRoot?: CreateRoot;\n};\n\ntype CreateRoot = (container: ContainerType) => Root;\n\nconst { version, render: reactRender, unmountComponentAtNode } = fullClone;\n\nlet createRoot: CreateRoot;\ntry {\n  const mainVersion = Number((version || '').split('.')[0]);\n  if (mainVersion >= 18) {\n    ({ createRoot } = fullClone);\n  }\n} catch (e) {\n  // Do nothing;\n}\n\nfunction toggleWarning(skip: boolean) {\n  const { __SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED } = fullClone;\n\n  if (\n    __SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED &&\n    typeof __SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED === 'object'\n  ) {\n    __SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.usingClientEntryPoint = skip;\n  }\n}\n\nconst MARK = '__rc_react_root__';\n\n// ========================== Render ==========================\ntype ContainerType = (Element | DocumentFragment) & {\n  [MARK]?: Root;\n};\n\nfunction modernRender(node: React.ReactNode, container: ContainerType) {\n  toggleWarning(true);\n  const root = container[MARK] || createRoot(container);\n  toggleWarning(false);\n\n  root.render(node);\n\n  container[MARK] = root;\n}\n\nfunction legacyRender(node: React.ReactElement, container: ContainerType) {\n  reactRender(node, container);\n}\n\n/** @private Test usage. Not work in prod */\nexport function _r(node: React.ReactElement, container: ContainerType) {\n  if (process.env.NODE_ENV !== 'production') {\n    return legacyRender(node, container);\n  }\n}\n\nexport function render(node: React.ReactElement, container: ContainerType) {\n  if (createRoot) {\n    modernRender(node, container);\n    return;\n  }\n\n  legacyRender(node, container);\n}\n\n// ========================= Unmount ==========================\nasync function modernUnmount(container: ContainerType) {\n  // Delay to unmount to avoid React 18 sync warning\n  return Promise.resolve().then(() => {\n    container[MARK]?.unmount();\n\n    delete container[MARK];\n  });\n}\n\nfunction legacyUnmount(container: ContainerType) {\n  unmountComponentAtNode(container);\n}\n\n/** @private Test usage. Not work in prod */\nexport function _u(container: ContainerType) {\n  if (process.env.NODE_ENV !== 'production') {\n    return legacyUnmount(container);\n  }\n}\n\nexport async function unmount(container: ContainerType) {\n  if (createRoot !== undefined) {\n    // Delay to unmount to avoid React 18 sync warning\n    return modernUnmount(container);\n  }\n\n  legacyUnmount(container);\n}\n","import React from 'react';\nimport { render } from './render';\n\nconst TOOLTIP_CONTAINER_MAPPING = new Map();\n\nconst createNode = (children: React.ReactElement, type?: string, uuid?: string) => {\n  let mountPoint = document.createElement('div');\n  if (type === 'tooltip') {\n    mountPoint.setAttribute('data-uuid', uuid);\n    if (TOOLTIP_CONTAINER_MAPPING.has(uuid)) {\n      mountPoint = TOOLTIP_CONTAINER_MAPPING.get(uuid);\n    } else {\n      TOOLTIP_CONTAINER_MAPPING.set(uuid, mountPoint);\n    }\n    mountPoint.className = 'g2-tooltip';\n  }\n  render(children, mountPoint);\n  return mountPoint;\n};\n\nexport default createNode;\n","/* eslint-disable no-restricted-syntax */\n// \nexport const isType = (value: any, type: string): boolean => {\n  const { toString } = {};\n  return toString.call(value) === `[object ${type}]`;\n};\n\nexport const clone = (source: Object) => {\n  if (!source) {\n    return source;\n  }\n  const target = {};\n  // eslint-disable-next-line guard-for-in\n  for (const k in source) {\n    target[k] = source[k];\n  }\n  return target;\n};\n\nexport const getType = (n: Object) => {\n  return Object.prototype.toString.call(n).slice(8, -1);\n};\n\n/**\n * \n * @param source \n */\nexport const deepClone = (source: Object | undefined) => {\n  if (!source || typeof source !== 'object') {\n    return source;\n  }\n\n  let target;\n  if (Array.isArray(source)) {\n    target = source.map((item) => deepClone(item));\n  } else {\n    target = {};\n    Object.keys(source).forEach((key) => {\n      return (target[key] = deepClone(source[key]));\n    });\n  }\n\n  return target;\n};\n\n/**\n *  undefined\n */\nexport const hasPath = (source: any, path: string[]) => {\n  let current = source;\n  for (let i = 0; i < path.length; i += 1) {\n    if (current?.[path[i]]) {\n      current = current[path[i]];\n    } else {\n      current = undefined;\n      break;\n    }\n  }\n  return current;\n};\n\n/**\n *  params \n */\nexport const setPath = (source: object, path: string[], value?: any) => {\n  if (!source) {\n    return source;\n  }\n  let o = source;\n  path.forEach((key: string, idx: number) => {\n    // \n    if (idx < path.length - 1) {\n      o = o[key];\n    } else {\n      o[key] = value;\n    }\n  });\n  return source;\n};\n\nexport const uuid = () => {\n  return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, (c) => {\n    const r = (Math.random() * 16) | 0;\n    const v = c == 'x' ? r : (r & 0x3) | 0x8;\n    return v.toString(16);\n  });\n};\n","import { useRef, useEffect } from 'react';\nimport { isEqual, get } from '@antv/util';\nimport { G2 } from '@antv/g2plot';\nimport createNode from '../utils/createNode';\nimport { hasPath, isType, deepClone, clone, setPath, uuid } from '../utils';\nimport { BasePlot, BaseConfig, AllBaseConfig } from '../interface';\n\ninterface Base extends BaseConfig<AllBaseConfig> {\n  data?: any;\n  value?: number;\n  /** GaugeLiquidProgressRingProgress */\n  percent?: number;\n}\n\nexport default function useInit<T extends BasePlot, U extends Base>(ChartClass: any, config: U) {\n  const chart = useRef<T>();\n  const chartOptions = useRef<U>();\n  const container = useRef<HTMLDivElement>(null);\n  const { onReady, onEvent } = config;\n\n  /**\n   * Get data base64\n   * @param {string} type A DOMString indicating the image format. The default format type is image/png.\n   * @param {number} encoderOptions A Number between 0 and 1 indicating the image quality\n   */\n  const toDataURL = (type = 'image/png', encoderOptions?: number) => {\n    return chart.current?.chart.canvas.cfg.el.toDataURL(type, encoderOptions);\n  };\n\n  /**\n   * Download Iamge\n   * @param {string} name A name of image\n   * @param {string} type A DOMString indicating the image format. The default format type is image/png.\n   * @param {number} encoderOptions A Number between 0 and 1 indicating the image quality\n   */\n  const downloadImage = (name = 'download', type = 'image/png', encoderOptions?: number): string => {\n    let imageName = name;\n    if (name.indexOf('.') === -1) {\n      imageName = `${name}.${type.split('/')[1]}`;\n    }\n    const base64 = chart.current?.chart.canvas.cfg.el.toDataURL(type, encoderOptions);\n    let a: HTMLAnchorElement | null = document.createElement('a');\n    a.href = base64;\n    a.download = imageName;\n    document.body.appendChild(a);\n    a.click();\n    document.body.removeChild(a);\n    a = null;\n    return imageName;\n  };\n\n  const reactDomToString = (source: U, path: string[], type?: string, _uuid?: string) => {\n    const statisticCustomHtml = hasPath(source, path);\n    setPath(source, path, (...arg: any[]) => {\n      const statisticDom = isType(statisticCustomHtml, 'Function') ? statisticCustomHtml(...arg) : statisticCustomHtml;\n      if (isType(statisticDom, 'String') || isType(statisticDom, 'Number') || isType(statisticDom, 'HTMLDivElement')) {\n        return statisticDom;\n      }\n      return createNode(statisticDom, type, _uuid);\n    });\n  };\n\n  const processConfig = () => {\n    const _uuid = uuid();\n    // statistic\n    if (hasPath(config, ['statistic', 'content', 'customHtml'])) {\n      reactDomToString(config, ['statistic', 'content', 'customHtml']);\n    }\n    if (hasPath(config, ['statistic', 'title', 'customHtml'])) {\n      reactDomToString(config, ['statistic', 'title', 'customHtml']);\n    }\n    // tooltip\n    if (typeof config.tooltip === 'object') {\n      if (hasPath(config, ['tooltip', 'container'])) {\n        reactDomToString(config, ['tooltip', 'container'], 'tooltip', _uuid);\n      }\n      if (hasPath(config, ['tooltip', 'customContent'])) {\n        reactDomToString(config, ['tooltip', 'customContent'], 'tooltip', _uuid);\n      }\n    }\n  };\n\n  useEffect(() => {\n    if (chart.current && !isEqual(chartOptions.current, config)) {\n      let changeData = false;\n      if (chartOptions.current) {\n        //  options  data value  percent \n        const {\n          data: currentData,\n          value: currentValue,\n          percent: currentPercent,\n          ...currentConfig\n        } = chartOptions.current;\n        const { data: inputData, value: inputValue, percent: inputPercent, ...inputConfig } = config;\n        changeData = isEqual(currentConfig, inputConfig);\n      }\n      chartOptions.current = deepClone(config);\n      if (changeData && get(config, 'chartType') !== 'Mix') {\n        let changeType = 'data';\n        const typeMaps = ['percent']; //  data  RingProgress\n        const currentKeys = Object.keys(config);\n        typeMaps.forEach((type: string) => {\n          if (currentKeys.includes(type)) {\n            changeType = type;\n          }\n        });\n        chart.current.changeData(config?.[changeType] || []);\n        chart.current.render();\n      } else {\n        processConfig();\n        chart.current.update(config);\n      }\n    }\n  }, [config]);\n\n  useEffect(() => {\n    if (!container.current) {\n      return () => null;\n    }\n    if (!chartOptions.current) {\n      chartOptions.current = deepClone(config);\n    }\n    processConfig();\n    const chartInstance: T = new (ChartClass as any)(container.current, {\n      ...config,\n    });\n\n    chartInstance.toDataURL = (type?: string, encoderOptions?: number) => {\n      return toDataURL(type, encoderOptions);\n    };\n    chartInstance.downloadImage = (name?: string, type?: string, encoderOptions?: number) => {\n      return downloadImage(name, type, encoderOptions);\n    };\n    chartInstance.render();\n    chart.current = clone(chartInstance) as T;\n    if (onReady) {\n      onReady(chartInstance);\n    }\n    const handler = (event: G2.Event) => {\n      if (onEvent) {\n        onEvent(chartInstance, event);\n      }\n    };\n    chartInstance.on('*', handler);\n\n    // \n    return () => {\n      if (chart.current) {\n        chart.current.destroy();\n        chart.current.off('*', handler);\n        chart.current = undefined;\n      }\n    };\n  }, []);\n\n  return {\n    chart,\n    container,\n  };\n}\n","import { isFunction } from '@antv/util';\nimport { ChartRefConfig } from '../interface';\n\n/**\n * \n */\nexport const getChart = (chartRef: ChartRefConfig | undefined, chart: any) => {\n  if (!chartRef) {\n    return;\n  }\n  if (isFunction(chartRef)) {\n    chartRef(chart);\n  } else {\n    chartRef.current = chart;\n  }\n};\n","export default function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}","import toPropertyKey from \"./toPropertyKey.js\";\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, toPropertyKey(descriptor.key), descriptor);\n  }\n}\nexport default function _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  Object.defineProperty(Constructor, \"prototype\", {\n    writable: false\n  });\n  return Constructor;\n}","export default function _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n  return self;\n}","export default function _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n  return _setPrototypeOf(o, p);\n}","export default function _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}","import _typeof from \"./typeof.js\";\nimport assertThisInitialized from \"./assertThisInitialized.js\";\nexport default function _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  } else if (call !== void 0) {\n    throw new TypeError(\"Derived constructors may only return object or undefined\");\n  }\n  return assertThisInitialized(self);\n}","import React, { Fragment } from 'react';\n\nclass ErrorBoundary extends React.Component<any> {\n  static getDerivedStateFromError(error: Error) {\n    return { hasError: true, error };\n  }\n\n  static getDerivedStateFromProps(nextProps: any, state: any) {\n    if (state.children !== nextProps.children) {\n      return {\n        children: nextProps.children,\n        hasError: false,\n        error: undefined,\n      };\n    }\n    return null;\n  }\n\n  state: {\n    hasError: boolean;\n    error?: Error;\n  } = {\n    hasError: false,\n  };\n\n  renderError = (e: Error) => {\n    const { errorTemplate } = this.props;\n    switch (e) {\n      default:\n        if (typeof errorTemplate === 'function') {\n          return errorTemplate(e);\n        }\n        return errorTemplate ? errorTemplate : <h5> {e.message}</h5>;\n    }\n  };\n\n  render() {\n    if (this.state.hasError) {\n      return this.renderError(this.state.error!);\n    }\n    return <Fragment>{this.props.children}</Fragment>;\n  }\n}\n\nexport default ErrorBoundary;\n","import setPrototypeOf from \"./setPrototypeOf.js\";\nexport default function _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  Object.defineProperty(subClass, \"prototype\", {\n    writable: false\n  });\n  if (superClass) setPrototypeOf(subClass, superClass);\n}","import getPrototypeOf from \"./getPrototypeOf.js\";\nimport isNativeReflectConstruct from \"./isNativeReflectConstruct.js\";\nimport possibleConstructorReturn from \"./possibleConstructorReturn.js\";\nexport default function _createSuper(Derived) {\n  var hasNativeReflectConstruct = isNativeReflectConstruct();\n  return function _createSuperInternal() {\n    var Super = getPrototypeOf(Derived),\n      result;\n    if (hasNativeReflectConstruct) {\n      var NewTarget = getPrototypeOf(this).constructor;\n      result = Reflect.construct(Super, arguments, NewTarget);\n    } else {\n      result = Super.apply(this, arguments);\n    }\n    return possibleConstructorReturn(this, result);\n  };\n}","export default function _isNativeReflectConstruct() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n  try {\n    Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}","import * as React from 'react'\n\nimport uid from '../shared/uid'\nimport { IContentLoaderProps } from './'\n\nconst SVG: React.FC<IContentLoaderProps> = ({\n  animate,\n  backgroundColor,\n  backgroundOpacity,\n  baseUrl,\n  children,\n  foregroundColor,\n  foregroundOpacity,\n  gradientRatio,\n  uniqueKey,\n  interval,\n  rtl,\n  speed,\n  style,\n  title,\n  ...props\n}) => {\n  const fixedId = uniqueKey || uid()\n  const idClip = `${fixedId}-diff`\n  const idGradient = `${fixedId}-animated-diff`\n  const idAria = `${fixedId}-aria`\n\n  const rtlStyle = rtl ? { transform: 'scaleX(-1)' } : null\n  const keyTimes = `0; ${interval}; 1`\n  const dur = `${speed}s`\n\n  return (\n    <svg\n      aria-labelledby={idAria}\n      role=\"img\"\n      style={{ ...style, ...rtlStyle }}\n      {...props}\n    >\n      {title ? <title id={idAria}>{title}</title> : null}\n      <rect\n        role=\"presentation\"\n        x=\"0\"\n        y=\"0\"\n        width=\"100%\"\n        height=\"100%\"\n        clipPath={`url(${baseUrl}#${idClip})`}\n        style={{ fill: `url(${baseUrl}#${idGradient})` }}\n      />\n\n      <defs role=\"presentation\">\n        <clipPath id={idClip}>{children}</clipPath>\n\n        <linearGradient id={idGradient}>\n          <stop\n            offset=\"0%\"\n            stopColor={backgroundColor}\n            stopOpacity={backgroundOpacity}\n          >\n            {animate && (\n              <animate\n                attributeName=\"offset\"\n                values={`${-gradientRatio}; ${-gradientRatio}; 1`}\n                keyTimes={keyTimes}\n                dur={dur}\n                repeatCount=\"indefinite\"\n              />\n            )}\n          </stop>\n\n          <stop\n            offset=\"50%\"\n            stopColor={foregroundColor}\n            stopOpacity={foregroundOpacity}\n          >\n            {animate && (\n              <animate\n                attributeName=\"offset\"\n                values={`${-gradientRatio / 2}; ${-gradientRatio / 2}; ${1 +\n                  gradientRatio / 2}`}\n                keyTimes={keyTimes}\n                dur={dur}\n                repeatCount=\"indefinite\"\n              />\n            )}\n          </stop>\n\n          <stop\n            offset=\"100%\"\n            stopColor={backgroundColor}\n            stopOpacity={backgroundOpacity}\n          >\n            {animate && (\n              <animate\n                attributeName=\"offset\"\n                values={`0; 0; ${1 + gradientRatio}`}\n                keyTimes={keyTimes}\n                dur={dur}\n                repeatCount=\"indefinite\"\n              />\n            )}\n          </stop>\n        </linearGradient>\n      </defs>\n    </svg>\n  )\n}\n\nSVG.defaultProps = {\n  animate: true,\n  backgroundColor: '#f5f6f7',\n  backgroundOpacity: 1,\n  baseUrl: '',\n  foregroundColor: '#eee',\n  foregroundOpacity: 1,\n  gradientRatio: 2,\n  id: null,\n  interval: 0.25,\n  rtl: false,\n  speed: 1.2,\n  style: {},\n  title: 'Loading...',\n}\n\nexport default SVG\n","export default (): string =>\n  Math.random()\n    .toString(36)\n    .substring(6)\n","import * as React from 'react'\n\nimport { Facebook, IContentLoaderProps } from '.'\nimport Svg from './Svg'\n\nconst ContentLoader: React.FC<IContentLoaderProps> = props =>\n  props.children ? <Svg {...props} /> : <Facebook {...props} />\n\nexport default ContentLoader\n","import * as React from 'react'\n\nimport { IContentLoaderProps } from '..'\nimport ContentLoader from '../ContentLoader'\n\nconst ReactContentLoaderFacebook: React.FC<IContentLoaderProps> = props => (\n  <ContentLoader viewBox=\"0 0 476 124\" {...props}>\n    <rect x=\"48\" y=\"8\" width=\"88\" height=\"6\" rx=\"3\" />\n    <rect x=\"48\" y=\"26\" width=\"52\" height=\"6\" rx=\"3\" />\n    <rect x=\"0\" y=\"56\" width=\"410\" height=\"6\" rx=\"3\" />\n    <rect x=\"0\" y=\"72\" width=\"380\" height=\"6\" rx=\"3\" />\n    <rect x=\"0\" y=\"88\" width=\"178\" height=\"6\" rx=\"3\" />\n    <circle cx=\"20\" cy=\"20\" r=\"20\" />\n  </ContentLoader>\n)\n\nexport default ReactContentLoaderFacebook\n","import React from 'react';\nimport ContentLoader from 'react-content-loader';\n\ninterface Props {\n  /**\n   * @title \n   * @description \n   * @title.en_US Theme\n   * @description.en_US Configure theme colors\n   */\n  theme?: string | object;\n  /**\n   * @title \n   * @description \n   * @title.en_US Load template\n   * @description.en_US Chart loading\n   */\n  loadingTemplate?: React.ReactElement;\n}\n\nconst ChartLoading = ({ loadingTemplate, theme = 'light' }: Props) => {\n  const renderLoading = () => {\n    if (loadingTemplate) {\n      return loadingTemplate;\n    }\n    return (\n      <ContentLoader\n        viewBox=\"0 0 400 180\"\n        width={200}\n        height={90}\n        speed={1}\n        backgroundColor={theme === 'dark' ? '#262626' : '#D9D9D9'}\n      >\n        <rect x=\"20\" y=\"5\" rx=\"0\" ry=\"0\" width=\"1\" height=\"170\" />\n        <rect x=\"20\" y=\"175\" rx=\"0\" ry=\"0\" width=\"360\" height=\"1\" />\n        <rect x=\"40\" y=\"75\" rx=\"0\" ry=\"0\" width=\"35\" height=\"100\" />\n        <rect x=\"80\" y=\"125\" rx=\"0\" ry=\"0\" width=\"35\" height=\"50\" />\n        <rect x=\"120\" y=\"105\" rx=\"0\" ry=\"0\" width=\"35\" height=\"70\" />\n        <rect x=\"160\" y=\"35\" rx=\"0\" ry=\"0\" width=\"35\" height=\"140\" />\n        <rect x=\"200\" y=\"55\" rx=\"0\" ry=\"0\" width=\"35\" height=\"120\" />\n        <rect x=\"240\" y=\"15\" rx=\"0\" ry=\"0\" width=\"35\" height=\"160\" />\n        <rect x=\"280\" y=\"135\" rx=\"0\" ry=\"0\" width=\"35\" height=\"40\" />\n        <rect x=\"320\" y=\"85\" rx=\"0\" ry=\"0\" width=\"35\" height=\"90\" />\n      </ContentLoader>\n    );\n  };\n\n  return (\n    <div\n      className=\"charts-loading-container\"\n      style={{\n        position: 'absolute',\n        width: '100%',\n        height: '100%',\n        display: 'flex',\n        alignItems: 'center',\n        justifyContent: 'center',\n        left: 0,\n        top: 0,\n        zIndex: 99,\n        backgroundColor: theme === 'dark' ? 'rgb(20, 20, 20)' : 'rgb(255, 255, 255)',\n      }}\n    >\n      {renderLoading()}\n    </div>\n  );\n};\n\nexport default ChartLoading;\n","import React, { useEffect, useImperativeHandle, forwardRef } from 'react';\nimport { Area as G2plotArea, AreaOptions as G2plotConfig } from '@antv/g2plot';\nimport useChart from '../../hooks/useChart';\nimport { getChart } from '../../utils';\nimport { BaseConfig } from '../../interface';\nimport ErrorBoundary from '../../errorBoundary';\nimport ChartLoading from '../../utils/createLoading';\n\nexport interface AreaConfig extends Omit<G2plotConfig, 'tooltip'>, BaseConfig<G2plotConfig> {}\n\nconst AreaChart = forwardRef((props: AreaConfig, ref) => {\n  const {\n    chartRef,\n    style = {\n      height: 'inherit',\n    },\n    className,\n    loading,\n    loadingTemplate,\n    errorTemplate,\n    ...rest\n  } = props;\n  const { chart, container } = useChart<G2plotArea, AreaConfig>(G2plotArea, rest);\n  useEffect(() => {\n    getChart(chartRef, chart.current);\n  }, [chart.current]);\n  useImperativeHandle(ref, () => ({\n    getChart: () => chart.current,\n  }));\n  return (\n    <ErrorBoundary errorTemplate={errorTemplate}>\n      {loading && <ChartLoading loadingTemplate={loadingTemplate} theme={props.theme} />}\n      <div className={className} style={style} ref={container} />\n    </ErrorBoundary>\n  );\n});\n\nexport default AreaChart;\n","import React, { useEffect, useImperativeHandle, forwardRef } from 'react';\nimport { Bar as G2plotBar, BarOptions as G2plotConfig } from '@antv/g2plot';\nimport useChart from '../../hooks/useChart';\nimport { getChart } from '../../utils';\nimport { BaseConfig } from '../../interface';\nimport ErrorBoundary from '../../errorBoundary';\nimport ChartLoading from '../../utils/createLoading';\n\nexport interface BarConfig extends Omit<G2plotConfig, 'tooltip'>, BaseConfig<G2plotConfig> {}\n\nconst BarChart = forwardRef((props: BarConfig, ref) => {\n  const {\n    chartRef,\n    style = {\n      height: 'inherit',\n    },\n    className,\n    loading,\n    loadingTemplate,\n    errorTemplate,\n    ...rest\n  } = props;\n  const { chart, container } = useChart<G2plotBar, BarConfig>(G2plotBar, rest);\n  useEffect(() => {\n    getChart(chartRef, chart.current);\n  }, [chart.current]);\n  useImperativeHandle(ref, () => ({\n    getChart: () => chart.current,\n  }));\n  return (\n    <ErrorBoundary errorTemplate={errorTemplate}>\n      {loading && <ChartLoading loadingTemplate={loadingTemplate} theme={props.theme} />}\n      <div className={className} style={style} ref={container} />\n    </ErrorBoundary>\n  );\n});\n\nexport default BarChart;\n","import React, { useEffect, useImperativeHandle, forwardRef } from 'react';\nimport { Bullet as G2plotBullet, BulletOptions as G2plotConfig } from '@antv/g2plot';\nimport useChart from '../../hooks/useChart';\nimport { getChart } from '../../utils';\nimport { BaseConfig } from '../../interface';\nimport ErrorBoundary from '../../errorBoundary';\nimport ChartLoading from '../../utils/createLoading';\n\nexport interface BulletConfig extends Omit<G2plotConfig, 'tooltip'>, BaseConfig<G2plotConfig> {}\n\nconst BulletChart = forwardRef((props: BulletConfig, ref) => {\n  const {\n    chartRef,\n    style = {\n      height: 'inherit',\n    },\n    className,\n    loading,\n    loadingTemplate,\n    errorTemplate,\n    ...rest\n  } = props;\n  const { chart, container } = useChart<G2plotBullet, BulletConfig>(G2plotBullet, rest);\n  useEffect(() => {\n    getChart(chartRef, chart.current);\n  }, [chart.current]);\n  useImperativeHandle(ref, () => ({\n    getChart: () => chart.current,\n  }));\n  return (\n    <ErrorBoundary errorTemplate={errorTemplate}>\n      {loading && <ChartLoading loadingTemplate={loadingTemplate} theme={props.theme} />}\n      <div className={className} style={style} ref={container} />\n    </ErrorBoundary>\n  );\n});\n\nexport default BulletChart;\n","import React, { useEffect, useImperativeHandle, forwardRef } from 'react';\nimport { Column as G2plotColumn, ColumnOptions as G2plotConfig } from '@antv/g2plot';\nimport useChart from '../../hooks/useChart';\nimport { getChart } from '../../utils';\nimport { BaseConfig } from '../../interface';\nimport ErrorBoundary from '../../errorBoundary';\nimport ChartLoading from '../../utils/createLoading';\n\nexport interface ColumnConfig extends Omit<G2plotConfig, 'tooltip'>, BaseConfig<G2plotConfig> {}\n\nconst ColumnChart = forwardRef((props: ColumnConfig, ref) => {\n  const {\n    chartRef,\n    style = {\n      height: 'inherit',\n    },\n    className,\n    loading,\n    loadingTemplate,\n    errorTemplate,\n    ...rest\n  } = props;\n  const { chart, container } = useChart<G2plotColumn, ColumnConfig>(G2plotColumn, rest);\n  useEffect(() => {\n    getChart(chartRef, chart.current);\n  }, [chart.current]);\n  useImperativeHandle(ref, () => ({\n    getChart: () => chart.current,\n  }));\n  return (\n    <ErrorBoundary errorTemplate={errorTemplate}>\n      {loading && <ChartLoading loadingTemplate={loadingTemplate} theme={props.theme} />}\n      <div className={className} style={style} ref={container} />\n    </ErrorBoundary>\n  );\n});\n\nexport default ColumnChart;\n","import React, { useEffect, useImperativeHandle, forwardRef } from 'react';\nimport { Funnel as G2plotFunnel, FunnelOptions as G2plotConfig } from '@antv/g2plot';\nimport useChart from '../../hooks/useChart';\nimport { getChart } from '../../utils';\nimport { BaseConfig } from '../../interface';\nimport ErrorBoundary from '../../errorBoundary';\nimport ChartLoading from '../../utils/createLoading';\n\nexport interface FunnelConfig extends Omit<G2plotConfig, 'tooltip'>, BaseConfig<G2plotConfig> {}\n\nconst FunnelChart = forwardRef((props: FunnelConfig, ref) => {\n  const {\n    chartRef,\n    style = {\n      height: 'inherit',\n    },\n    className,\n    loading,\n    loadingTemplate,\n    errorTemplate,\n    ...rest\n  } = props;\n  const { chart, container } = useChart<G2plotFunnel, FunnelConfig>(G2plotFunnel, rest);\n  useEffect(() => {\n    getChart(chartRef, chart.current);\n  }, [chart.current]);\n  useImperativeHandle(ref, () => ({\n    getChart: () => chart.current,\n  }));\n  return (\n    <ErrorBoundary errorTemplate={errorTemplate}>\n      {loading && <ChartLoading loadingTemplate={loadingTemplate} theme={props.theme} />}\n      <div className={className} style={style} ref={container} />\n    </ErrorBoundary>\n  );\n});\n\nexport default FunnelChart;\n","import React, { useEffect, useImperativeHandle, forwardRef } from 'react';\nimport { Histogram as G2plotHistogram, HistogramOptions as G2plotConfig } from '@antv/g2plot';\nimport useChart from '../../hooks/useChart';\nimport { getChart } from '../../utils';\nimport { BaseConfig } from '../../interface';\nimport ErrorBoundary from '../../errorBoundary';\nimport ChartLoading from '../../utils/createLoading';\n\nexport interface HistogramConfig extends Omit<G2plotConfig, 'tooltip'>, BaseConfig<G2plotConfig> {}\n\nconst HistogramChart = forwardRef((props: HistogramConfig, ref) => {\n  const {\n    chartRef,\n    style = {\n      height: 'inherit',\n    },\n    className,\n    loading,\n    loadingTemplate,\n    errorTemplate,\n    ...rest\n  } = props;\n  const { chart, container } = useChart<G2plotHistogram, HistogramConfig>(G2plotHistogram, rest);\n  useEffect(() => {\n    getChart(chartRef, chart.current);\n  }, [chart.current]);\n  useImperativeHandle(ref, () => ({\n    getChart: () => chart.current,\n  }));\n  return (\n    <ErrorBoundary errorTemplate={errorTemplate}>\n      {loading && <ChartLoading loadingTemplate={loadingTemplate} theme={props.theme} />}\n      <div className={className} style={style} ref={container} />\n    </ErrorBoundary>\n  );\n});\n\nexport default HistogramChart;\n","import React, { useEffect, useImperativeHandle, forwardRef } from 'react';\nimport { Line as G2plotLine, LineOptions as G2plotConfig } from '@antv/g2plot';\nimport useChart from '../../hooks/useChart';\nimport { getChart } from '../../utils';\nimport { BaseConfig } from '../../interface';\nimport ErrorBoundary from '../../errorBoundary';\nimport ChartLoading from '../../utils/createLoading';\n\nexport interface LineConfig extends Omit<G2plotConfig, 'tooltip'>, BaseConfig<G2plotConfig> {}\n\nconst LineChart = forwardRef((props: LineConfig, ref) => {\n  const {\n    chartRef,\n    style = {\n      height: 'inherit',\n    },\n    className,\n    loading,\n    loadingTemplate,\n    errorTemplate,\n    ...rest\n  } = props;\n  const { chart, container } = useChart<G2plotLine, LineConfig>(G2plotLine, rest);\n  useEffect(() => {\n    getChart(chartRef, chart.current);\n  }, [chart.current]);\n  useImperativeHandle(ref, () => ({\n    getChart: () => chart.current,\n  }));\n  return (\n    <ErrorBoundary errorTemplate={errorTemplate}>\n      {loading && <ChartLoading loadingTemplate={loadingTemplate} theme={props.theme} />}\n      <div className={className} style={style} ref={container} />\n    </ErrorBoundary>\n  );\n});\n\nexport default LineChart;\n","import React, { useEffect, useImperativeHandle, forwardRef } from 'react';\nimport { Box as G2plotBox, BoxOptions as G2plotConfig } from '@antv/g2plot';\nimport useChart from '../../hooks/useChart';\nimport { getChart } from '../../utils';\nimport { BaseConfig } from '../../interface';\nimport ErrorBoundary from '../../errorBoundary';\nimport ChartLoading from '../../utils/createLoading';\n\nexport interface BoxConfig extends Omit<G2plotConfig, 'tooltip'>, BaseConfig<G2plotConfig> {}\n\nconst BoxChart = forwardRef((props: BoxConfig, ref) => {\n  const {\n    chartRef,\n    style = {\n      height: 'inherit',\n    },\n    className,\n    loading,\n    loadingTemplate,\n    errorTemplate,\n    ...rest\n  } = props;\n  const { chart, container } = useChart<G2plotBox, BoxConfig>(G2plotBox, rest);\n  useEffect(() => {\n    getChart(chartRef, chart.current);\n  }, [chart.current]);\n  useImperativeHandle(ref, () => ({\n    getChart: () => chart.current,\n  }));\n  return (\n    <ErrorBoundary errorTemplate={errorTemplate}>\n      {loading && <ChartLoading loadingTemplate={loadingTemplate} theme={props.theme} />}\n      <div className={className} style={style} ref={container} />\n    </ErrorBoundary>\n  );\n});\n\nexport default BoxChart;\n","import React, { useEffect, useImperativeHandle, forwardRef } from 'react';\nimport { Liquid as G2plotLiquid, LiquidOptions as G2plotConfig } from '@antv/g2plot';\nimport useChart from '../../hooks/useChart';\nimport { getChart } from '../../utils';\nimport { BaseConfig } from '../../interface';\nimport ErrorBoundary from '../../errorBoundary';\nimport ChartLoading from '../../utils/createLoading';\n\nexport interface LiquidConfig extends Omit<G2plotConfig, 'tooltip'>, BaseConfig<G2plotConfig> {}\n\nconst LiquidChart = forwardRef((props: LiquidConfig, ref) => {\n  const {\n    chartRef,\n    style = {\n      height: 'inherit',\n    },\n    className,\n    loading,\n    loadingTemplate,\n    errorTemplate,\n    ...rest\n  } = props;\n  const { chart, container } = useChart<G2plotLiquid, LiquidConfig>(G2plotLiquid, rest);\n  useEffect(() => {\n    getChart(chartRef, chart.current);\n  }, [chart.current]);\n  useImperativeHandle(ref, () => ({\n    getChart: () => chart.current,\n  }));\n  return (\n    <ErrorBoundary errorTemplate={errorTemplate}>\n      {loading && <ChartLoading loadingTemplate={loadingTemplate} theme={props.theme} />}\n      <div className={className} style={style} ref={container} />\n    </ErrorBoundary>\n  );\n});\n\nexport default LiquidChart;\n","import React, { useEffect, useImperativeHandle, forwardRef } from 'react';\nimport { Heatmap as G2plotHeatmap, HeatmapOptions as G2plotConfig } from '@antv/g2plot';\nimport useChart from '../../hooks/useChart';\nimport { getChart } from '../../utils';\nimport { BaseConfig } from '../../interface';\nimport ErrorBoundary from '../../errorBoundary';\nimport ChartLoading from '../../utils/createLoading';\n\nexport interface HeatmapConfig extends Omit<G2plotConfig, 'tooltip'>, BaseConfig<G2plotConfig> {}\n\nconst HeatmapChart = forwardRef((props: HeatmapConfig, ref) => {\n  const {\n    chartRef,\n    style = {\n      height: 'inherit',\n    },\n    className,\n    loading,\n    loadingTemplate,\n    errorTemplate,\n    ...rest\n  } = props;\n  const { chart, container } = useChart<G2plotHeatmap, HeatmapConfig>(G2plotHeatmap, rest);\n  useEffect(() => {\n    getChart(chartRef, chart.current);\n  }, [chart.current]);\n  useImperativeHandle(ref, () => ({\n    getChart: () => chart.current,\n  }));\n  return (\n    <ErrorBoundary errorTemplate={errorTemplate}>\n      {loading && <ChartLoading loadingTemplate={loadingTemplate} theme={props.theme} />}\n      <div className={className} style={style} ref={container} />\n    </ErrorBoundary>\n  );\n});\n\nexport default HeatmapChart;\n","import React, { useEffect, useImperativeHandle, forwardRef } from 'react';\nimport { Pie as G2plotPie, PieOptions as G2plotConfig } from '@antv/g2plot';\nimport useChart from '../../hooks/useChart';\nimport { getChart } from '../../utils';\nimport { BaseConfig } from '../../interface';\nimport ErrorBoundary from '../../errorBoundary';\nimport ChartLoading from '../../utils/createLoading';\n\nexport interface PieConfig extends Omit<G2plotConfig, 'tooltip'>, BaseConfig<G2plotConfig> {}\n\nconst PieChart = forwardRef((props: PieConfig, ref) => {\n  const {\n    chartRef,\n    style = {\n      height: 'inherit',\n    },\n    className,\n    loading,\n    loadingTemplate,\n    errorTemplate,\n    ...rest\n  } = props;\n  const { chart, container } = useChart<G2plotPie, PieConfig>(G2plotPie, rest);\n  useEffect(() => {\n    getChart(chartRef, chart.current);\n  }, [chart.current]);\n  useImperativeHandle(ref, () => ({\n    getChart: () => chart.current,\n  }));\n  return (\n    <ErrorBoundary errorTemplate={errorTemplate}>\n      {loading && <ChartLoading loadingTemplate={loadingTemplate} theme={props.theme} />}\n      <div className={className} style={style} ref={container} />\n    </ErrorBoundary>\n  );\n});\n\nexport default PieChart;\n","import React, { useEffect, useImperativeHandle, forwardRef } from 'react';\nimport { Gauge as G2plotGauge, GaugeOptions as G2plotConfig } from '@antv/g2plot';\nimport useChart from '../../hooks/useChart';\nimport { getChart } from '../../utils';\nimport { BaseConfig } from '../../interface';\nimport ErrorBoundary from '../../errorBoundary';\nimport ChartLoading from '../../utils/createLoading';\n\nexport interface GaugeConfig extends Omit<G2plotConfig, 'tooltip'>, BaseConfig<G2plotConfig> {}\n\nconst GaugeChart = forwardRef((props: GaugeConfig, ref) => {\n  const {\n    chartRef,\n    style = {\n      height: 'inherit',\n    },\n    className,\n    loading,\n    loadingTemplate,\n    errorTemplate,\n    ...rest\n  } = props;\n  const { chart, container } = useChart<G2plotGauge, GaugeConfig>(G2plotGauge, rest);\n  useEffect(() => {\n    getChart(chartRef, chart.current);\n  }, [chart.current]);\n  useImperativeHandle(ref, () => ({\n    getChart: () => chart.current,\n  }));\n  return (\n    <ErrorBoundary errorTemplate={errorTemplate}>\n      {loading && <ChartLoading loadingTemplate={loadingTemplate} theme={props.theme} />}\n      <div className={className} style={style} ref={container} />\n    </ErrorBoundary>\n  );\n});\n\nexport default GaugeChart;\n","import React, { useEffect, useImperativeHandle, forwardRef } from 'react';\nimport { Progress as G2plotProgress, ProgressOptions as G2plotConfig } from '@antv/g2plot';\nimport useChart from '../../hooks/useChart';\nimport { getChart } from '../../utils';\nimport { BaseConfig } from '../../interface';\nimport ErrorBoundary from '../../errorBoundary';\nimport ChartLoading from '../../utils/createLoading';\n\nexport interface ProgressConfig extends Omit<G2plotConfig, 'tooltip'>, BaseConfig<G2plotConfig> {}\n\nconst ProgressChart = forwardRef((props: ProgressConfig, ref) => {\n  const {\n    chartRef,\n    style = {\n      height: 'inherit',\n    },\n    className,\n    loading,\n    loadingTemplate,\n    errorTemplate,\n    ...rest\n  } = props;\n  const { chart, container } = useChart<G2plotProgress, ProgressConfig>(G2plotProgress, rest);\n  useEffect(() => {\n    getChart(chartRef, chart.current);\n  }, [chart.current]);\n  useImperativeHandle(ref, () => ({\n    getChart: () => chart.current,\n  }));\n  return (\n    <ErrorBoundary errorTemplate={errorTemplate}>\n      {loading && <ChartLoading loadingTemplate={loadingTemplate} theme={props.theme} />}\n      <div className={className} style={style} ref={container} />\n    </ErrorBoundary>\n  );\n});\n\nexport default ProgressChart;\n","import React, { useEffect, useImperativeHandle, forwardRef } from 'react';\nimport { Radar as G2plotRadar, RadarOptions as G2plotConfig } from '@antv/g2plot';\nimport useChart from '../../hooks/useChart';\nimport { getChart } from '../../utils';\nimport { BaseConfig } from '../../interface';\nimport ErrorBoundary from '../../errorBoundary';\nimport ChartLoading from '../../utils/createLoading';\n\nexport interface RadarConfig extends Omit<G2plotConfig, 'tooltip'>, BaseConfig<G2plotConfig> {}\n\nconst RadarChart = forwardRef((props: RadarConfig, ref) => {\n  const {\n    chartRef,\n    style = {\n      height: 'inherit',\n    },\n    className,\n    loading,\n    loadingTemplate,\n    errorTemplate,\n    ...rest\n  } = props;\n  const { chart, container } = useChart<G2plotRadar, RadarConfig>(G2plotRadar, rest);\n  useEffect(() => {\n    getChart(chartRef, chart.current);\n  }, [chart.current]);\n  useImperativeHandle(ref, () => ({\n    getChart: () => chart.current,\n  }));\n  return (\n    <ErrorBoundary errorTemplate={errorTemplate}>\n      {loading && <ChartLoading loadingTemplate={loadingTemplate} theme={props.theme} />}\n      <div className={className} style={style} ref={container} />\n    </ErrorBoundary>\n  );\n});\n\nexport default RadarChart;\n","import React, { useEffect, useImperativeHandle, forwardRef } from 'react';\nimport { RingProgress as G2plotRingProgress, RingProgressOptions as G2plotConfig } from '@antv/g2plot';\nimport useChart from '../../hooks/useChart';\nimport { getChart } from '../../utils';\nimport { BaseConfig } from '../../interface';\nimport ErrorBoundary from '../../errorBoundary';\nimport ChartLoading from '../../utils/createLoading';\n\nexport interface RingProgressConfig extends Omit<G2plotConfig, 'tooltip'>, BaseConfig<G2plotConfig> {}\n\nconst RingProgressChart = forwardRef((props: RingProgressConfig, ref) => {\n  const {\n    chartRef,\n    style = {\n      height: 'inherit',\n    },\n    className,\n    loading,\n    loadingTemplate,\n    errorTemplate,\n    ...rest\n  } = props;\n  const { chart, container } = useChart<G2plotRingProgress, RingProgressConfig>(G2plotRingProgress, rest);\n  useEffect(() => {\n    getChart(chartRef, chart.current);\n  }, [chart.current]);\n  useImperativeHandle(ref, () => ({\n    getChart: () => chart.current,\n  }));\n  return (\n    <ErrorBoundary errorTemplate={errorTemplate}>\n      {loading && <ChartLoading loadingTemplate={loadingTemplate} theme={props.theme} />}\n      <div className={className} style={style} ref={container} />\n    </ErrorBoundary>\n  );\n});\n\nexport default RingProgressChart;\n","import React, { useEffect, useImperativeHandle, forwardRef } from 'react';\nimport { Rose as G2plotRose, RoseOptions as G2plotConfig } from '@antv/g2plot';\nimport useChart from '../../hooks/useChart';\nimport { getChart } from '../../utils';\nimport { BaseConfig } from '../../interface';\nimport ErrorBoundary from '../../errorBoundary';\nimport ChartLoading from '../../utils/createLoading';\n\nexport interface RoseConfig extends Omit<G2plotConfig, 'tooltip'>, BaseConfig<G2plotConfig> {}\n\nconst RoseChart = forwardRef((props: RoseConfig, ref) => {\n  const {\n    chartRef,\n    style = {\n      height: 'inherit',\n    },\n    className,\n    loading,\n    loadingTemplate,\n    errorTemplate,\n    ...rest\n  } = props;\n  const { chart, container } = useChart<G2plotRose, RoseConfig>(G2plotRose, rest);\n  useEffect(() => {\n    getChart(chartRef, chart.current);\n  }, [chart.current]);\n  useImperativeHandle(ref, () => ({\n    getChart: () => chart.current,\n  }));\n  return (\n    <ErrorBoundary errorTemplate={errorTemplate}>\n      {loading && <ChartLoading loadingTemplate={loadingTemplate} theme={props.theme} />}\n      <div className={className} style={style} ref={container} />\n    </ErrorBoundary>\n  );\n});\n\nexport default RoseChart;\n","import React, { useEffect, useImperativeHandle, forwardRef } from 'react';\nimport { Chord as G2plotChord, ChordOptions as G2plotConfig } from '@antv/g2plot';\nimport useChart from '../../hooks/useChart';\nimport { getChart } from '../../utils';\nimport { BaseConfig } from '../../interface';\nimport ErrorBoundary from '../../errorBoundary';\nimport ChartLoading from '../../utils/createLoading';\n\nexport interface ChordConfig extends Omit<G2plotConfig, 'tooltip'>, BaseConfig<G2plotConfig> {}\n\nconst ChordChart = forwardRef((props: ChordConfig, ref) => {\n  const {\n    chartRef,\n    style = {\n      height: 'inherit',\n    },\n    className,\n    loading,\n    loadingTemplate,\n    errorTemplate,\n    ...rest\n  } = props;\n  const { chart, container } = useChart<G2plotChord, ChordConfig>(G2plotChord, rest);\n  useEffect(() => {\n    getChart(chartRef, chart.current);\n  }, [chart.current]);\n  useImperativeHandle(ref, () => ({\n    getChart: () => chart.current,\n  }));\n  return (\n    <ErrorBoundary errorTemplate={errorTemplate}>\n      {loading && <ChartLoading loadingTemplate={loadingTemplate} theme={props.theme} />}\n      <div className={className} style={style} ref={container} />\n    </ErrorBoundary>\n  );\n});\n\nexport default ChordChart;\n","import React, { useEffect, useImperativeHandle, forwardRef } from 'react';\nimport { Scatter as G2plotScatter, ScatterOptions as G2plotConfig } from '@antv/g2plot';\nimport useChart from '../../hooks/useChart';\nimport { getChart } from '../../utils';\nimport { BaseConfig } from '../../interface';\nimport ErrorBoundary from '../../errorBoundary';\nimport ChartLoading from '../../utils/createLoading';\n\nexport interface ScatterConfig extends Omit<G2plotConfig, 'tooltip'>, BaseConfig<G2plotConfig> {}\n\nconst ScatterChart = forwardRef((props: ScatterConfig, ref) => {\n  const {\n    chartRef,\n    style = {\n      height: 'inherit',\n    },\n    className,\n    loading,\n    loadingTemplate,\n    errorTemplate,\n    ...rest\n  } = props;\n  const { chart, container } = useChart<G2plotScatter, ScatterConfig>(G2plotScatter, rest);\n  useEffect(() => {\n    getChart(chartRef, chart.current);\n  }, [chart.current]);\n  useImperativeHandle(ref, () => ({\n    getChart: () => chart.current,\n  }));\n  return (\n    <ErrorBoundary errorTemplate={errorTemplate}>\n      {loading && <ChartLoading loadingTemplate={loadingTemplate} theme={props.theme} />}\n      <div className={className} style={style} ref={container} />\n    </ErrorBoundary>\n  );\n});\n\nexport default ScatterChart;\n","import React, { useEffect, useImperativeHandle, forwardRef } from 'react';\nimport { TinyArea as G2plotTinyArea, TinyAreaOptions as G2plotConfig } from '@antv/g2plot';\nimport useChart from '../../hooks/useChart';\nimport { getChart } from '../../utils';\nimport { BaseConfig } from '../../interface';\nimport ErrorBoundary from '../../errorBoundary';\nimport ChartLoading from '../../utils/createLoading';\n\nexport interface TinyAreaConfig extends Omit<G2plotConfig, 'tooltip'>, BaseConfig<G2plotConfig> {}\n\nconst TinyAreaChart = forwardRef((props: TinyAreaConfig, ref) => {\n  const {\n    chartRef,\n    style = {\n      height: 'inherit',\n    },\n    className,\n    loading,\n    loadingTemplate,\n    errorTemplate,\n    ...rest\n  } = props;\n  const { chart, container } = useChart<G2plotTinyArea, TinyAreaConfig>(G2plotTinyArea, rest);\n  useEffect(() => {\n    getChart(chartRef, chart.current);\n  }, [chart.current]);\n  useImperativeHandle(ref, () => ({\n    getChart: () => chart.current,\n  }));\n  return (\n    <ErrorBoundary errorTemplate={errorTemplate}>\n      {loading && <ChartLoading loadingTemplate={loadingTemplate} theme={props.theme} />}\n      <div className={className} style={style} ref={container} />\n    </ErrorBoundary>\n  );\n});\n\nexport default TinyAreaChart;\n","import React, { useEffect, useImperativeHandle, forwardRef } from 'react';\nimport { TinyColumn as G2plotTinyColumn, TinyColumnOptions as G2plotConfig } from '@antv/g2plot';\nimport useChart from '../../hooks/useChart';\nimport { getChart } from '../../utils';\nimport { BaseConfig } from '../../interface';\nimport ErrorBoundary from '../../errorBoundary';\nimport ChartLoading from '../../utils/createLoading';\n\nexport interface TinyColumnConfig extends Omit<G2plotConfig, 'tooltip'>, BaseConfig<G2plotConfig> {}\n\nconst TinyColumnChart = forwardRef((props: TinyColumnConfig, ref) => {\n  const {\n    chartRef,\n    style = {\n      height: 'inherit',\n    },\n    className,\n    loading,\n    loadingTemplate,\n    errorTemplate,\n    ...rest\n  } = props;\n  const { chart, container } = useChart<G2plotTinyColumn, TinyColumnConfig>(G2plotTinyColumn, rest);\n  useEffect(() => {\n    getChart(chartRef, chart.current);\n  }, [chart.current]);\n  useImperativeHandle(ref, () => ({\n    getChart: () => chart.current,\n  }));\n  return (\n    <ErrorBoundary errorTemplate={errorTemplate}>\n      {loading && <ChartLoading loadingTemplate={loadingTemplate} theme={props.theme} />}\n      <div className={className} style={style} ref={container} />\n    </ErrorBoundary>\n  );\n});\n\nexport default TinyColumnChart;\n","import React, { useEffect, useImperativeHandle, forwardRef } from 'react';\nimport { DualAxes as G2plotDualAxes, DualAxesOptions as G2plotConfig } from '@antv/g2plot';\nimport useChart from '../../hooks/useChart';\nimport { getChart } from '../../utils';\nimport { BaseConfig } from '../../interface';\nimport ErrorBoundary from '../../errorBoundary';\nimport ChartLoading from '../../utils/createLoading';\n\nexport interface DualAxesConfig extends Omit<G2plotConfig, 'tooltip'>, BaseConfig<G2plotConfig> {}\n\nconst DualAxesChart = forwardRef((props: DualAxesConfig, ref) => {\n  const {\n    chartRef,\n    style = {\n      height: 'inherit',\n    },\n    className,\n    loading,\n    loadingTemplate,\n    errorTemplate,\n    ...rest\n  } = props;\n  // @ts-ignore annotations \n  const { chart, container } = useChart<G2plotDualAxes, DualAxesConfig>(G2plotDualAxes, rest);\n  useEffect(() => {\n    getChart(chartRef, chart.current);\n  }, [chart.current]);\n  useImperativeHandle(ref, () => ({\n    getChart: () => chart.current,\n  }));\n  return (\n    <ErrorBoundary errorTemplate={errorTemplate}>\n      {loading && <ChartLoading loadingTemplate={loadingTemplate} theme={props.theme} />}\n      <div className={className} style={style} ref={container} />\n    </ErrorBoundary>\n  );\n});\n\nexport default DualAxesChart;\n","import React, { useEffect, useImperativeHandle, forwardRef } from 'react';\nimport { TinyLine as G2plotTinyLine, TinyLineOptions as G2plotConfig } from '@antv/g2plot';\nimport useChart from '../../hooks/useChart';\nimport { getChart } from '../../utils';\nimport { BaseConfig } from '../../interface';\nimport ErrorBoundary from '../../errorBoundary';\nimport ChartLoading from '../../utils/createLoading';\n\nexport interface TinyLineConfig extends Omit<G2plotConfig, 'tooltip'>, BaseConfig<G2plotConfig> {}\n\nconst TinyLineChart = forwardRef((props: TinyLineConfig, ref) => {\n  const {\n    chartRef,\n    style = {\n      height: 'inherit',\n    },\n    className,\n    loading,\n    loadingTemplate,\n    errorTemplate,\n    ...rest\n  } = props;\n  const { chart, container } = useChart<G2plotTinyLine, TinyLineConfig>(G2plotTinyLine, rest);\n  useEffect(() => {\n    getChart(chartRef, chart.current);\n  }, [chart.current]);\n  useImperativeHandle(ref, () => ({\n    getChart: () => chart.current,\n  }));\n  return (\n    <ErrorBoundary errorTemplate={errorTemplate}>\n      {loading && <ChartLoading loadingTemplate={loadingTemplate} theme={props.theme} />}\n      <div className={className} style={style} ref={container} />\n    </ErrorBoundary>\n  );\n});\n\nexport default TinyLineChart;\n","import React, { useEffect, useImperativeHandle, forwardRef } from 'react';\nimport { Waterfall as G2plotWaterfall, WaterfallOptions as G2plotConfig } from '@antv/g2plot';\nimport useChart from '../../hooks/useChart';\nimport { getChart } from '../../utils';\nimport { BaseConfig } from '../../interface';\nimport ErrorBoundary from '../../errorBoundary';\nimport ChartLoading from '../../utils/createLoading';\n\nexport interface WaterfallConfig extends Omit<G2plotConfig, 'tooltip'>, BaseConfig<G2plotConfig> {}\n\nconst WaterfallChart = forwardRef((props: WaterfallConfig, ref) => {\n  const {\n    chartRef,\n    style = {\n      height: 'inherit',\n    },\n    className,\n    loading,\n    loadingTemplate,\n    errorTemplate,\n    ...rest\n  } = props;\n  const { chart, container } = useChart<G2plotWaterfall, WaterfallConfig>(G2plotWaterfall, rest);\n  useEffect(() => {\n    getChart(chartRef, chart.current);\n  }, [chart.current]);\n  useImperativeHandle(ref, () => ({\n    getChart: () => chart.current,\n  }));\n  return (\n    <ErrorBoundary errorTemplate={errorTemplate}>\n      {loading && <ChartLoading loadingTemplate={loadingTemplate} theme={props.theme} />}\n      <div className={className} style={style} ref={container} />\n    </ErrorBoundary>\n  );\n});\n\nexport default WaterfallChart;\n","import React, { useEffect, useImperativeHandle, forwardRef } from 'react';\nimport { WordCloud as G2plotWordCloud, WordCloudOptions as G2plotConfig } from '@antv/g2plot';\nimport useChart from '../../hooks/useChart';\nimport { getChart } from '../../utils';\nimport { BaseConfig } from '../../interface';\nimport ErrorBoundary from '../../errorBoundary';\nimport ChartLoading from '../../utils/createLoading';\n\nexport interface WordCloudConfig extends Omit<G2plotConfig, 'tooltip'>, BaseConfig<G2plotConfig> {}\n\nconst WordCloudChart = forwardRef((props: WordCloudConfig, ref) => {\n  const {\n    chartRef,\n    style = {\n      height: 'inherit',\n    },\n    className,\n    loading,\n    loadingTemplate,\n    errorTemplate,\n    ...rest\n  } = props;\n  const { chart, container } = useChart<G2plotWordCloud, WordCloudConfig>(G2plotWordCloud, rest);\n  useEffect(() => {\n    getChart(chartRef, chart.current);\n  }, [chart.current]);\n  useImperativeHandle(ref, () => ({\n    getChart: () => chart.current,\n  }));\n  return (\n    <ErrorBoundary errorTemplate={errorTemplate}>\n      {loading && <ChartLoading loadingTemplate={loadingTemplate} theme={props.theme} />}\n      <div className={className} style={style} ref={container} />\n    </ErrorBoundary>\n  );\n});\n\nexport default WordCloudChart;\n","import React, { useEffect, useImperativeHandle, forwardRef } from 'react';\nimport { Sunburst as G2plotSunburst, SunburstOptions as G2plotConfig } from '@antv/g2plot';\nimport useChart from '../../hooks/useChart';\nimport { getChart } from '../../utils';\nimport { BaseConfig } from '../../interface';\nimport ErrorBoundary from '../../errorBoundary';\nimport ChartLoading from '../../utils/createLoading';\n\nexport interface SunburstConfig extends Omit<G2plotConfig, 'tooltip'>, BaseConfig<G2plotConfig> {}\n\nconst SunburstChart = forwardRef((props: SunburstConfig, ref) => {\n  const {\n    chartRef,\n    style = {\n      height: 'inherit',\n    },\n    className,\n    loading,\n    loadingTemplate,\n    errorTemplate,\n    ...rest\n  } = props;\n  const { chart, container } = useChart<G2plotSunburst, SunburstConfig>(G2plotSunburst, rest);\n  useEffect(() => {\n    getChart(chartRef, chart.current);\n  }, [chart.current]);\n  useImperativeHandle(ref, () => ({\n    getChart: () => chart.current,\n  }));\n  return (\n    <ErrorBoundary errorTemplate={errorTemplate}>\n      {loading && <ChartLoading loadingTemplate={loadingTemplate} theme={props.theme} />}\n      <div className={className} style={style} ref={container} />\n    </ErrorBoundary>\n  );\n});\n\nexport default SunburstChart;\n","import React, { useEffect, useImperativeHandle, forwardRef } from 'react';\nimport { Stock as G2plotStock, StockOptions as G2plotConfig } from '@antv/g2plot';\nimport useChart from '../../hooks/useChart';\nimport { getChart } from '../../utils';\nimport { BaseConfig } from '../../interface';\nimport ErrorBoundary from '../../errorBoundary';\nimport ChartLoading from '../../utils/createLoading';\n\nexport interface StockConfig extends Omit<G2plotConfig, 'tooltip'>, BaseConfig<G2plotConfig> {}\n\nconst StockChart = forwardRef((props: StockConfig, ref) => {\n  const {\n    chartRef,\n    style = {\n      height: 'inherit',\n    },\n    className,\n    loading,\n    loadingTemplate,\n    errorTemplate,\n    ...rest\n  } = props;\n  const { chart, container } = useChart<G2plotStock, StockConfig>(G2plotStock, rest);\n  useEffect(() => {\n    getChart(chartRef, chart.current);\n  }, [chart.current]);\n  useImperativeHandle(ref, () => ({\n    getChart: () => chart.current,\n  }));\n  return (\n    <ErrorBoundary errorTemplate={errorTemplate}>\n      {loading && <ChartLoading loadingTemplate={loadingTemplate} theme={props.theme} />}\n      <div className={className} style={style} ref={container} />\n    </ErrorBoundary>\n  );\n});\n\nexport default StockChart;\n","import React, { useEffect, useImperativeHandle, forwardRef } from 'react';\nimport { RadialBar as G2plotRadialBar, RadialBarOptions as G2plotConfig } from '@antv/g2plot';\nimport useChart from '../../hooks/useChart';\nimport { getChart } from '../../utils';\nimport { BaseConfig } from '../../interface';\nimport ErrorBoundary from '../../errorBoundary';\nimport ChartLoading from '../../utils/createLoading';\n\nexport interface RadialBarConfig extends Omit<G2plotConfig, 'tooltip'>, BaseConfig<G2plotConfig> {}\n\nconst RadialBarChart = forwardRef((props: RadialBarConfig, ref) => {\n  const {\n    chartRef,\n    style = {\n      height: 'inherit',\n    },\n    className,\n    loading,\n    loadingTemplate,\n    errorTemplate,\n    ...rest\n  } = props;\n  const { chart, container } = useChart<G2plotRadialBar, RadialBarConfig>(G2plotRadialBar, rest);\n  useEffect(() => {\n    getChart(chartRef, chart.current);\n  }, [chart.current]);\n  useImperativeHandle(ref, () => ({\n    getChart: () => chart.current,\n  }));\n  return (\n    <ErrorBoundary errorTemplate={errorTemplate}>\n      {loading && <ChartLoading loadingTemplate={loadingTemplate} theme={props.theme} />}\n      <div className={className} style={style} ref={container} />\n    </ErrorBoundary>\n  );\n});\n\nexport default RadialBarChart;\n","import React, { useEffect, useImperativeHandle, forwardRef } from 'react';\nimport { Sankey as G2plotSankey, SankeyOptions as G2plotConfig } from '@antv/g2plot';\nimport useChart from '../../hooks/useChart';\nimport { getChart } from '../../utils';\nimport { BaseConfig } from '../../interface';\nimport ErrorBoundary from '../../errorBoundary';\nimport ChartLoading from '../../utils/createLoading';\n\nexport interface SankeyConfig extends Omit<G2plotConfig, 'tooltip'>, BaseConfig<G2plotConfig> {}\n\nconst SankeyChart = forwardRef((props: SankeyConfig, ref) => {\n  const {\n    chartRef,\n    style = {\n      height: 'inherit',\n    },\n    className,\n    loading,\n    loadingTemplate,\n    errorTemplate,\n    ...rest\n  } = props;\n  const { chart, container } = useChart<G2plotSankey, SankeyConfig>(G2plotSankey, rest);\n  useEffect(() => {\n    getChart(chartRef, chart.current);\n  }, [chart.current]);\n  useImperativeHandle(ref, () => ({\n    getChart: () => chart.current,\n  }));\n  return (\n    <ErrorBoundary errorTemplate={errorTemplate}>\n      {loading && <ChartLoading loadingTemplate={loadingTemplate} theme={props.theme} />}\n      <div className={className} style={style} ref={container} />\n    </ErrorBoundary>\n  );\n});\n\nexport default SankeyChart;\n","import React, { useEffect, useImperativeHandle, forwardRef } from 'react';\nimport { Treemap as G2plotTreemap, TreemapOptions as G2plotConfig } from '@antv/g2plot';\nimport useChart from '../../hooks/useChart';\nimport { getChart } from '../../utils';\nimport { BaseConfig } from '../../interface';\nimport ErrorBoundary from '../../errorBoundary';\nimport ChartLoading from '../../utils/createLoading';\nexport interface TreemapConfig extends Omit<G2plotConfig, 'tooltip'>, BaseConfig<G2plotConfig> {}\n\nconst TreemapChart = forwardRef((props: TreemapConfig, ref) => {\n  const {\n    chartRef,\n    style = {\n      height: 'inherit',\n    },\n    className,\n    loading,\n    loadingTemplate,\n    errorTemplate,\n    ...rest\n  } = props;\n  const { chart, container } = useChart<G2plotTreemap, TreemapConfig>(G2plotTreemap, rest);\n  useEffect(() => {\n    getChart(chartRef, chart.current);\n  }, [chart.current]);\n  useImperativeHandle(ref, () => ({\n    getChart: () => chart.current,\n  }));\n  return (\n    <ErrorBoundary errorTemplate={errorTemplate}>\n      {loading && <ChartLoading loadingTemplate={loadingTemplate} theme={props.theme} />}\n      <div className={className} style={style} ref={container} />\n    </ErrorBoundary>\n  );\n});\n\nexport default TreemapChart;\n","import React, { useEffect, useImperativeHandle, forwardRef } from 'react';\nimport { Violin as G2plotViolin, ViolinOptions as G2plotConfig } from '@antv/g2plot';\nimport useChart from '../../hooks/useChart';\nimport { getChart } from '../../utils';\nimport { BaseConfig } from '../../interface';\nimport ErrorBoundary from '../../errorBoundary';\nimport ChartLoading from '../../utils/createLoading';\n\nexport interface ViolinConfig extends Omit<G2plotConfig, 'tooltip'>, BaseConfig<G2plotConfig> {}\n\nconst ViolinChart = forwardRef((props: ViolinConfig, ref) => {\n  const {\n    chartRef,\n    style = {\n      height: 'inherit',\n    },\n    className,\n    loading,\n    loadingTemplate,\n    errorTemplate,\n    ...rest\n  } = props;\n  const { chart, container } = useChart<G2plotViolin, ViolinConfig>(G2plotViolin, rest);\n  useEffect(() => {\n    getChart(chartRef, chart.current);\n  }, [chart.current]);\n  useImperativeHandle(ref, () => ({\n    getChart: () => chart.current,\n  }));\n  return (\n    <ErrorBoundary errorTemplate={errorTemplate}>\n      {loading && <ChartLoading loadingTemplate={loadingTemplate} theme={props.theme} />}\n      <div className={className} style={style} ref={container} />\n    </ErrorBoundary>\n  );\n});\n\nexport default ViolinChart;\n","import React, { useEffect, useImperativeHandle, forwardRef } from 'react';\nimport { Venn as G2plotVenn, VennOptions as G2plotConfig } from '@antv/g2plot';\nimport useChart from '../../hooks/useChart';\nimport { getChart } from '../../utils';\nimport { BaseConfig } from '../../interface';\nimport ErrorBoundary from '../../errorBoundary';\nimport ChartLoading from '../../utils/createLoading';\n\nexport interface VennConfig extends Omit<G2plotConfig, 'tooltip'>, BaseConfig<G2plotConfig> {}\n\nconst VennChart = forwardRef((props: VennConfig, ref) => {\n  const {\n    chartRef,\n    style = {\n      height: 'inherit',\n    },\n    className,\n    loading,\n    loadingTemplate,\n    errorTemplate,\n    ...rest\n  } = props;\n  const { chart, container } = useChart<G2plotVenn, VennConfig>(G2plotVenn, rest);\n  useEffect(() => {\n    getChart(chartRef, chart.current);\n  }, [chart.current]);\n  useImperativeHandle(ref, () => ({\n    getChart: () => chart.current,\n  }));\n  return (\n    <ErrorBoundary errorTemplate={errorTemplate}>\n      {loading && <ChartLoading loadingTemplate={loadingTemplate} theme={props.theme} />}\n      <div className={className} style={style} ref={container} />\n    </ErrorBoundary>\n  );\n});\n\nexport default VennChart;\n","import React, { useEffect, useImperativeHandle, forwardRef } from 'react';\nimport { CirclePacking as G2plotCirclePacking, CirclePackingOptions as G2plotConfig } from '@antv/g2plot';\nimport useChart from '../../hooks/useChart';\nimport { getChart } from '../../utils';\nimport { BaseConfig } from '../../interface';\nimport ErrorBoundary from '../../errorBoundary';\nimport ChartLoading from '../../utils/createLoading';\n\nexport interface CirclePackingConfig extends Omit<G2plotConfig, 'tooltip'>, BaseConfig<G2plotConfig> {}\n\nconst CirclePackingChart = forwardRef((props: CirclePackingConfig, ref) => {\n  const {\n    chartRef,\n    style = {\n      height: 'inherit',\n    },\n    className,\n    loading,\n    loadingTemplate,\n    errorTemplate,\n    ...rest\n  } = props;\n  const { chart, container } = useChart<G2plotCirclePacking, CirclePackingConfig>(G2plotCirclePacking, rest);\n  useEffect(() => {\n    getChart(chartRef, chart.current);\n  }, [chart.current]);\n  useImperativeHandle(ref, () => ({\n    getChart: () => chart.current,\n  }));\n  return (\n    <ErrorBoundary errorTemplate={errorTemplate}>\n      {loading && <ChartLoading loadingTemplate={loadingTemplate} theme={props.theme} />}\n      <div className={className} style={style} ref={container} />\n    </ErrorBoundary>\n  );\n});\n\nexport default CirclePackingChart;\n","import React, { useEffect, useImperativeHandle, forwardRef } from 'react';\nimport { Facet as G2plotFacet, FacetOptions as G2plotConfig } from '@antv/g2plot';\nimport useChart from '../../hooks/useChart';\nimport { getChart } from '../../utils';\nimport { BaseConfig } from '../../interface';\nimport ErrorBoundary from '../../errorBoundary';\nimport ChartLoading from '../../utils/createLoading';\n\nexport interface FacetConfig extends Omit<G2plotConfig, 'tooltip'>, BaseConfig<G2plotConfig> {}\n\nconst FacetChart = forwardRef((props: FacetConfig, ref) => {\n  const {\n    chartRef,\n    style = {\n      height: 'inherit',\n    },\n    className,\n    loading,\n    loadingTemplate,\n    errorTemplate,\n    ...rest\n  } = props;\n  const { chart, container } = useChart<G2plotFacet, FacetConfig>(G2plotFacet, rest);\n  useEffect(() => {\n    getChart(chartRef, chart.current);\n  }, [chart.current]);\n  useImperativeHandle(ref, () => ({\n    getChart: () => chart.current,\n  }));\n  return (\n    <ErrorBoundary errorTemplate={errorTemplate}>\n      {loading && <ChartLoading loadingTemplate={loadingTemplate} theme={props.theme} />}\n      <div className={className} style={style} ref={container} />\n    </ErrorBoundary>\n  );\n});\n\nexport default FacetChart;\n","import React, { useEffect, useImperativeHandle, forwardRef } from 'react';\nimport { Mix as G2plotMix, MixOptions as G2plotConfig } from '@antv/g2plot';\nimport useChart from '../../hooks/useChart';\nimport { getChart } from '../../utils';\nimport { BaseConfig } from '../../interface';\nimport ErrorBoundary from '../../errorBoundary';\nimport ChartLoading from '../../utils/createLoading';\n\nexport interface MixConfig extends Omit<G2plotConfig, 'tooltip'>, BaseConfig<G2plotConfig> {\n  chartType?: string;\n}\n\nconst MultiViewChart = forwardRef((props: MixConfig, ref) => {\n  const {\n    chartRef,\n    style = {\n      height: 'inherit',\n    },\n    className,\n    loading,\n    loadingTemplate,\n    errorTemplate,\n    ...rest\n  } = props;\n  const { chart, container } = useChart<G2plotMix, MixConfig>(G2plotMix, { ...rest, chartType: 'Mix' });\n  useEffect(() => {\n    getChart(chartRef, chart.current);\n  }, [chart.current]);\n  useImperativeHandle(ref, () => ({\n    getChart: () => chart.current,\n  }));\n  return (\n    <ErrorBoundary errorTemplate={errorTemplate}>\n      {loading && <ChartLoading loadingTemplate={loadingTemplate} theme={props.theme} />}\n      <div className={className} style={style} ref={container} />\n    </ErrorBoundary>\n  );\n});\n\nexport default MultiViewChart;\n","import React, { useEffect, useImperativeHandle, forwardRef } from 'react';\nimport { BidirectionalBar as G2plotBidirectionalBar, BidirectionalBarOptions as G2plotConfig } from '@antv/g2plot';\nimport useChart from '../../hooks/useChart';\nimport { getChart } from '../../utils';\nimport { BaseConfig } from '../../interface';\nimport ErrorBoundary from '../../errorBoundary';\nimport ChartLoading from '../../utils/createLoading';\n\nexport interface BidirectionalBarConfig extends Omit<G2plotConfig, 'tooltip'>, BaseConfig<G2plotConfig> {}\n\nconst BidirectionalBarChart = forwardRef((props: BidirectionalBarConfig, ref) => {\n  const {\n    chartRef,\n    style = {\n      height: 'inherit',\n    },\n    className,\n    loading,\n    loadingTemplate,\n    errorTemplate,\n    ...rest\n  } = props;\n  const { chart, container } = useChart<G2plotBidirectionalBar, BidirectionalBarConfig>(G2plotBidirectionalBar, rest);\n  useEffect(() => {\n    getChart(chartRef, chart.current);\n  }, [chart.current]);\n  useImperativeHandle(ref, () => ({\n    getChart: () => chart.current,\n  }));\n  return (\n    <ErrorBoundary errorTemplate={errorTemplate}>\n      {loading && <ChartLoading loadingTemplate={loadingTemplate} theme={props.theme} />}\n      <div className={className} style={style} ref={container} />\n    </ErrorBoundary>\n  );\n});\n\nexport default BidirectionalBarChart;\n","import Area from './components/area';\nimport Bar from './components/bar';\nimport Bullet from './components/bullet';\nimport Column from './components/column';\nimport Funnel from './components/funnel';\nimport Histogram from './components/histogram';\nimport Line from './components/line';\nimport Box from './components/box';\nimport Liquid from './components/liquid';\nimport Heatmap from './components/heatmap';\nimport Pie from './components/pie';\nimport Gauge from './components/gauge';\nimport Progress from './components/progress';\nimport Radar from './components/radar';\nimport RingProgress from './components/ring-progress';\nimport Rose from './components/rose';\nimport Chord from './components/chord';\nimport Scatter from './components/scatter';\nimport TinyArea from './components/tiny-area';\nimport TinyColumn from './components/tiny-column';\nimport DualAxes from './components/dual-axes';\nimport TinyLine from './components/tiny-line';\nimport Waterfall from './components/waterfall';\nimport WordCloud from './components/word-cloud';\nimport Sunburst from './components/sunburst';\nimport Stock from './components/stock';\nimport RadialBar from './components/radial-bar';\nimport Sankey from './components/sankey';\nimport Treemap from './components/treemap';\nimport Violin from './components/violin';\nimport Venn from './components/venn';\nimport CirclePacking from './components/circle-packing';\nimport Facet from './components/facet';\nimport MultiView from './components/mix'; //  Mix \nimport Mix from './components/mix';\nimport BidirectionalBar from './components/bidirectional-bar';\nimport { G2, flow, measureTextWidth, adaptors, getCanvasPattern, FUNNEL_CONVERSATION_FIELD } from '@antv/g2plot';\n\nexport {\n  Area,\n  Bar,\n  Box,\n  Bullet,\n  Column,\n  Funnel,\n  Histogram,\n  Line,\n  Liquid,\n  Heatmap,\n  Pie,\n  Progress,\n  Radar,\n  Facet,\n  RingProgress,\n  Rose,\n  Chord,\n  Scatter,\n  TinyArea,\n  TinyColumn,\n  TinyLine,\n  Waterfall,\n  WordCloud,\n  Sunburst,\n  DualAxes,\n  Stock,\n  RadialBar,\n  CirclePacking,\n  Gauge,\n  Sankey,\n  Treemap,\n  Violin,\n  Venn,\n  MultiView,\n  Mix,\n  BidirectionalBar,\n  G2,\n  //  G2Plot \n  getCanvasPattern,\n  FUNNEL_CONVERSATION_FIELD,\n  flow,\n  measureTextWidth,\n  adaptors,\n};\n\nexport default {\n  Area,\n  Bar,\n  Box,\n  Bullet,\n  Column,\n  Funnel,\n  Histogram,\n  Line,\n  Liquid,\n  Heatmap,\n  Pie,\n  Progress,\n  Radar,\n  Facet,\n  RingProgress,\n  Rose,\n  Chord,\n  Scatter,\n  TinyArea,\n  TinyColumn,\n  TinyLine,\n  Waterfall,\n  WordCloud,\n  Sunburst,\n  DualAxes,\n  Stock,\n  RadialBar,\n  Gauge,\n  CirclePacking,\n  Sankey,\n  Treemap,\n  Violin,\n  Venn,\n  MultiView,\n  Mix,\n  BidirectionalBar,\n  //  G2Plot \n  getCanvasPattern,\n  FUNNEL_CONVERSATION_FIELD,\n  G2,\n  flow,\n  measureTextWidth,\n  adaptors,\n};\n\nexport * from './interface';\n"],"names":["root","factory","exports","module","require","define","amd","self","__WEBPACK_EXTERNAL_MODULE__787__","__WEBPACK_EXTERNAL_MODULE__156__","EventEmitter","evt","callback","once","_events","push","on","_i","args","events","wildcardEvents","doEmit","es","length","i","splice","_this","apply","length_1","cfg","_super","defaultCfg","getDefaultCfg","mix","__extends","Base","name","value","destroyed","off","EE","taskHead","taskTail","frame","timeout","interval","clockLast","clockNow","clockSkew","clock","performance","now","Date","setFrame","window","requestAnimationFrame","bind","f","setTimeout","clearNow","Timer","this","_call","_time","_next","timer","delay","time","t","restart","wake","e","call","timerFlush","t0","t2","t1","Infinity","sleep","nap","poke","clearTimeout","clearInterval","setInterval","constructor","prototype","extend","parent","definition","Object","create","key","Color","TypeError","stop","darker","brighter","reI","reN","reP","reHex","reRgbInteger","RegExp","reRgbPercent","reRgbaInteger","reRgbaPercent","reHslPercent","reHslaPercent","named","aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blue","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkgrey","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkslategrey","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dimgrey","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","gray","green","greenyellow","grey","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightgrey","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightslategrey","lightsteelblue","lightyellow","lime","limegreen","linen","magenta","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","rebeccapurple","red","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","slategrey","snow","springgreen","steelblue","tan","teal","thistle","tomato","turquoise","violet","wheat","white","whitesmoke","yellow","yellowgreen","color_formatHex","rgb","formatHex","color_formatRgb","formatRgb","color","format","m","l","trim","toLowerCase","exec","parseInt","rgbn","Rgb","rgba","hsla","hasOwnProperty","NaN","n","r","g","b","a","rgbConvert","o","opacity","arguments","rgb_formatHex","hex","rgb_formatRgb","clampa","clampi","isNaN","Math","max","min","round","toString","h","s","Hsl","hslConvert","clamph","clampt","hsl2rgb","m1","m2","basis","v0","v1","v2","v3","t3","copy","channels","assign","displayable","formatHex8","formatHsl","k","pow","clamp","x","nogamma","d","linear","constant","rgbGamma","y","exponential","gamma","start","end","colorRgb","rgbSpline","spline","colors","Array","c","slice","isNumberArray","ArrayBuffer","isView","DataView","genericArray","nb","na","setTime","values","floor","reA","reB","source","am","bm","bs","bi","lastIndex","q","index","number","one","zero","join","string","date","numberArray","isArray","valueOf","object","IDENTITY_MATRIX","update","shape","animation","elapsed","ratio","startTime","_paused","duration","easing","easeFn","getEasing","repeat","onFrame","attr","toAttrs","attrs","cProps","interf","val","isEqual","fromAttrs","toPath","fromPath","PathUtil","path","pathFormatted","toPathPoint","fromPathPoint","cPathPoint","j","isNumber","interpolate","currentMatrix","includes","test","isFunction","_update","canvas","Timeline","animations","d3Timer","current","animators","removeAnimator","isAnimatePaused","get","draw","toEnd","forEach","animator","stopAnimate","EVENTS","emitTargetEvent","target","type","eventObj","currentTarget","delegateTarget","emit","bubbleEvent","container","bubbles","relativeShape","isOverEvent","fromShape","toShape","isCanvas","isParent","ev","_triggerEvent","dragging","currentShape","pointInfo","_getPointInfo","_emitEvent","draggingShape","_afterDrag","EventController","_bindEvents","el","each","eventName","addEventListener","_eventCallback","document","_onDocumentMove","_onDocumentMouseUp","removeEventListener","event","point","GraphEvent","clientX","clientY","propagationPath","getShape","clientPoint","getClientByEvent","getPointByEvent","_getShape","method","leaveCanvas","preShape","style","cursor","button","mousedownShape","mousedownPoint","mousedownTimeStamp","timeStamp","isCanvasEmit","set","_emitMouseoverEvents","preventDefault","_emitDragoverEvents","timeWindow","dx","dy","_getEventObj","parent_1","getParent","emitDelegation","propagationStopped","_clearEvents","browser","detect","isFirefox","initContainer","initDom","initEvents","initTimeline","Canvas","isString","getElementById","createDom","appendChild","setDOMSize","eventController","init","timeline","width","height","isBrowser","onCanvasChange","isNil","layerX","offsetX","layerY","offsetY","getPointByClient","clientInfo","touches","changedTouches","bbox","getBoundingClientRect","left","top","parentNode","removeChild","destroy","clear","clearEvents","removeDom","Container","SHAPE_MAP","INDEX","setCanvas","element","isGroup","children","child","setTimeline","minX","maxX","minY","maxY","xArr","yArr","getChildren","filter","box","getBBox","getCanvasBBox","originValue","onAttrChange","totalMatrix","getTotalMatrix","_applyChildrenMarix","matrix","preTotalMatrix","applyMatrix","isObject","shapeType","upperFirst","ShapeBase","getShapeBase","add","group","groupClass","tmpCfg","TmpGroupClass","getGroupBase","isAllowCapture","_findShape","v","invertFromMatrix","isClipped","isHit","getCanvas","preParent","removeFromArray","_applyElementMatrix","compare","sort","obj1","obj2","right","result","getChildByIndex","indexOf","contain","remove","fn","rst","concat","findAll","find","id","className","Element","ext","MATRIX","CLONE_CFGS","RESERVED_PORPS","getFormatFromAttrs","getFormatToAttrs","props","checkExistedAttrs","item","getDefaultAttrs","initAttrs","initAnimate","visible","capture","zIndex","getDefaultMatrix","changeType","setAttr","afterAttrsChange","refX","refY","clip","getClip","targetAttrs","isClipShape","applyTo","unshift","parentMatrix","multiplyMatrix","multiplyVec2","invertMatrix","invert","clipCfg","clipShape","Cons","originAttrs","arr","_cloneArrayAttr","clone","cons","cfgName","isPaused","initTimer","pauseCallback","resumeCallback","animateCfg","_a","_b","noop","_c","formatToAttrs","getTime","uniqueId","addAnimator","pauseTime","_pauseTime","paths","getEvents","name_1","subName","emitDelegateEvent","this_1","delegateObject","translateX","translateY","getMatrix","newMatrix","transform","setMatrix","targetX","targetY","translate","move","ratioX","ratioY","radian","rotate","AbstractGroup","AbstractShape","clearCacheBBox","calculateBBox","canvasBBox","calculateCanvasBBox","topLeft","topRight","bottomLeft","bottomRight","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","shadowLeft","shadowRight","shadowTop","shadowBottom","startArrowShape","endArrowShape","vec","inBBox","_isInBBox","isOnlyHitBox","isInShape","quadIn","quadOut","quadInOut","cubicIn","cubicOut","cubicInOut","polyIn","custom","exponent","polyOut","polyInOut","pi","PI","halfPi","sinIn","cos","sinOut","sin","sinInOut","tpmt","expIn","expOut","expInOut","circleIn","sqrt","circleOut","circleInOut","b0","bounceIn","bounceOut","bounceInOut","overshoot","backIn","backOut","backInOut","tau","elasticIn","p","asin","amplitude","period","elasticOut","elasticInOut","EASING_MAP","d3Ease","registerEasing","cache","Map","register","getMethod","mergeBBox","bbox1","bbox2","mergeArrowBBox","getExtraFromSegmentWithAngle","segment","lineWidth","currentPoint","nextPoint","currentAndPre","prePoint","currentAndNext","preAndNext","currentAngle","acos","isNumberEqual","xExtra","yExtra","xAngle","abs","atan2","yAngle","rect","circle","points","Util","text","fontSize","lineHeight","font","assembleFont","getTextWidth","textBaseline","getTextHeight","textAlign","segments","segmentsWithAngle","params","command","QuadUtil","CubicUtil","arcParams","EllipseArcUtil","cx","cy","rx","ry","xRotation","startAngle","endAngle","Number","getPathBox","path2Segments","y1","x2","y2","x1","originalEvent","defaultPrevented","version","out","a00","a01","a02","a10","a11","a12","a20","a21","a22","b00","b01","b02","b10","b11","b12","b20","b21","b22","det","offScreenCtx","getOffScreenContext","createElement","getContext","SPACES","PATH_COMMAND","PATH_VALUES","parsePathString","pathString","paramCounts","u","z","data","String","replace","catmullRomToBezier","crp","iLen","ellipsePath","res","rad","pathToAbsolute","pathArray","pa0","dots","mx","my","crz","toUpperCase","pa","ii","jj","pop","kk","l2c","q2c","ax","ay","_13","_23","a2c","angle","large_arc_flag","sweep_flag","recursive","xy","f1","f2","_120","rx2","ry2","toFixed","df","f2old","x2old","y2old","c1","s1","c2","s2","hx","hy","m3","m4","newres","split","pathToCurve","path2","p2","bx","by","X","Y","qx","qy","attrs2","pcoms1","pcoms2","pfirst","pcom","processPath","nx","ny","T","Q","fixArc","pp","shift","fixM","path1","a1","a2","seg","seg2","seglen","seg2len","parseFloat","p2s","parsePathArray","base3","p1","p3","p4","bezlen","x3","y3","x4","y4","z2","Tvalues","Cvalues","sum","ct","xbase","ybase","comb","curveDim","x0","y0","tvalues","bounds","b2ac","sqrtb2ac","mt","jlen","intersect","denominator","px","py","px2","py2","isPointInsideBBox","rectPath","w","r1","r2","r0","vb","bezierBBox","p1x","p1y","c1x","c1y","c2x","c2y","p2x","p2y","findDotsAtSegment","t13","t12","alpha","interHelper","bez1","bez2","justCount","n1","n2","dots1","dots2","di","di1","dj","dj1","ci","cj","is","intersection","x1m","y1m","x2m","y2m","pj","intr","segment1","segment2","interPathHelper","decasteljau","recurse","middlePoints","reverse","fillPath","sourceLen","targetLen","segmentsToFill","filled","reduce","count","leftSegments","map","cmd","splitCurve","temp","splitSegment","getMinDiff","del","modify","fillPathByDiff","diffMatrix","sourceSegment","targetSegment","dist","levenshteinDistance","changes","minPos","diff","_splitPoints","former","formerEnd","_getSegmentPoints","formatPath","lineCount","spaceingY","getLineSpaceing","context","save","textArr","subText","measureWidth","measureText","restore","fontFamily","fontWeight","obj","distance","getBBoxByArray","getBBoxRange","piMod","pointAt","pointDistance","cross","pointToLine","vec2","tangentAngle","nearestPoint","tCallback","segNum","increaseRate","_t","d1","prev","next","d2","quadraticAt","p0","onet","extrema","derivativeAt","divideQuadratic","xt","yt","controlPoint1","line","controlPoint2","quadraticLength","iterationCount","quadratics","xExtrema","yExtrema","undefined","interpolationAt","divide","cubicAt","discSqrt","extremas","disc","divideCubic","c3","c12","c23","cubicLength","totalLength","snapLength","cubics","copysign","absv","xAt","yAt","getPoint","xDim","atan","xs","yDim","ys","relativeVector","relativePoint","nearestX","nearestY","relativeX","relativeY","squareA","squareB","ex","ey","rx1","ry1","hypot","ellipse","getAngle","vector","derivativeXAt","derivativeYAt","analyzePoints","from","to","lengthOfSegment","startRatio","currentRatio","localRatio","pointAtSegments","minDistance","distance_1","distanceAtSegment","angleAtSegments","leftTranslate","transMat","mat3","leftRotate","rotateMat","leftScale","scaleMat","actions","len","action","angleTo","direct","ang","angleLargeThanPI","direction","regexTags","regexDot","constraint","isLoop","pointList","cp1","cp2","controlPointList","smooth","prevPoint","nextCp0","cp0","cps","hasConstraint","d0","smoothBezier","REGEX_MD","toSymmetry","needProcess","first","preParams","upCmd","symetricT","symetricS","vMag","vRatio","vAngle","isSamePoint","point1","point2","getArcParams","startPoint","mod","toRadian","arcFlag","sweepFlag","xp","yp","lambda","cxp","cyp","theta","dTheta","center","getSegments","nextParams","startMovePoint","lastStartMovePointIndex","match","tag","charAt","substr","sub","parsePath","startTangent","endTangent","cp","preSegment","_d","_e","_f","_g","_h","dx1","dy1","dx2","dy2","dcmp","onSegment","isInPolygon","isBetween","parseToLines","lines","last","isPolygonsIntersect","points1","points2","box1","box2","isIn","isPointInPolygon","lines1","lines2","isIntersect","E","D0","D1","kross","getLineIntersect","lineIntersectPolygon","isFinite","isArrayLike","func","contains","isType","elements","keys","_keys","isObjectLike","getPrototypeOf","proto","predicate","_predicate","isPlainObject","fromIndex","curr","filterValues","tmp","getMax","getMin","arrPrototype","indexes","previous","pullAt","str","comparer","keys_1","prop","uniq","has","tmpMap","head","condition","groupToMap","paramscondition_1","row","unique","groupBy","groups","array","base","precision","isInteger","maxItem","minItem","RADIAN","degree","substring","objectProto","HTMLDocument","webkitRequestAnimationFrame","mozRequestAnimationFrame","msRequestAnimationFrame","cancelAnimationFrame","handler","webkitCancelAnimationFrame","mozCancelAnimationFrame","msCancelAnimationFrame","wait","immediate","later","callNow","resolver","memoized","_deepMix","src","level","maxLevel","getType","size","Ctor","isPrototype","other","valueKeys","otherKeys","identity","_mix","src1","src2","src3","defaultValue","keyArr","idx","options","leading","throttled","remaining","trailing","cancel","prefix","isArraylike","ctx","memoize","fontStyle","fontVariant","maxWidth","currentText","currentWidth","PLACEHOLDER_WIDTH","measureTextWidth","leftText","leftWidth","default_1","def","__spreadArray","pack","ar","BrowserInfo","os","NodeInfo","process","platform","SearchBotDeviceInfo","bot","BotInfo","ReactNativeInfo","SEARCHBOT_OS_REGEX","userAgentRules","operatingSystemRules","userAgent","parseUserAgent","navigator","product","ua","matchedRule","matched","regex","uaMatch","matchUserAgent","versionParts","output","createVersionParts","detectOS","searchBotMatch","zeros","dot","ret","norm2","scale","weightedSum","w1","w2","wolfeLineSearch","pk","phi0","fx","phiPrime0","fxprime","phi","phi_old","phiPrime","a0","zoom","a_lo","a_high","phi_lo","iteration","bisect","parameters","maxIterations","tolerance","fA","fB","delta","mid","fMid","nelderMead","maxDiff","nonZeroDelta","zeroDelta","minErrorDelta","minTolerance","rho","chi","psi","sigma","N","simplex","updateSimplex","sortOrder","centroid","reflected","contracted","expanded","history","sortedSimplex","state","worst","shouldReduce","conjugateGradient","initial","yk","delta_k","gradientDescent","learnRate","gradientDescentLineSearch","functionCalls","inner","zerosM","ARRAY_TYPE","Float32Array","random","multiply","fromTranslation","fromRotation","fromScaling","subtract","normalize","transformMat3","mag","cosine","exactEquals","glMatrix","findMin","findMax","findMinMulti","findMaxMulti","inside","LN_2","log","helper","kernel","getUnifiedMinMax","getUnifiedMinMaxMulti","arrMulti","relaxMin","relaxMax","step","normalizedMinMax","range","buckets","partialArea","partialAreas","accumulator","generatePartialAreas","fullArea","initalValue","bucket","xToBucket","leftBlockCount","rightBlockCount","spilledAreaLeft","spilledAreaRight","weight","startGradPos","gradAccumulator","area","getExpectedValueFromPdf","pdf","expected","getXWithLeftTailArea","getPerplexity","entropy","ln","defineProperty","SensorTabIndex","SensorClassName","SizeSensorId","_len","_key","_sensorPool","cb","sensor","getSensor","unbind","removeSensor","_id","__esModule","_sensors","_constant","Sensors","sensorId","getAttribute","newId","setAttribute","createSensor","removeAttribute","_object","_resizeObserver","ResizeObserver","_debounce","listeners","resizeListener","listener","contentDocument","defaultView","getComputedStyle","position","onload","display","overflow","pointerEvents","newSensor","disconnect","observe","extendStatics","setPrototypeOf","__proto__","__","__assign","__rest","getOwnPropertySymbols","propertyIsEnumerable","__awaiter","thisArg","_arguments","P","generator","Promise","resolve","reject","fulfilled","rejected","done","then","__generator","body","_","label","sent","trys","ops","verb","Symbol","iterator","op","__values","__read","error","__spreadArrays","il","jl","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","__webpack_modules__","getter","enumerable","toStringTag","_objectWithoutProperties","excluded","sourceKeys","sourceSymbolKeys","LAYER","DIRECTION","COMPONENT_TYPE","VIEW_LIFE_CIRCLE","GEOMETRY_LIFE_CIRCLE","PLOT_EVENTS","ELEMENT_STATE","TABLE","TABLE_TR","FRAGMENT_REG","CONTAINERS","GROUP_ATTRS","FIELD_ORIGIN","ENGINES","getEngine","G","Error","registerEngine","engine","tr","tbody","thead","tfoot","td","th","$1","innerHTML","dom","childNodes","modifyCSS","css","getChartSize","ele","autoFit","clientWidth","paddingLeft","paddingRight","clientHeight","paddingTop","paddingBottom","getElementSize","changeVisible","yField","adjustNames","dimValuesMap","xField","Adjust","dim","dimValue","pre","isAdjust","groupedDataArray","mergedData","getDimValues","dataArray","adjustDim","record","dims","ADJUST_MAP","getAdjust","registerAdjust","ctor","marginRatio","dodgeRatio","dodgeBy","intervalPadding","dodgePadding","xDimensionLength","groupNum","defaultSize","maxColumnWidth","minColumnWidth","columnWidthRatio","customOffset","xDimensionLegenth","Dodge","groupDataArray","mergeData","adjustDataArray","cacheMap","adjustData","frameIndex","getDistribution","groupData","getAdjustRange","valueArr","valIndex","getDodgeOffset","tickLength","getIntervalOnlyOffset","getDodgeOnlyOffset","getIntervalAndDodgeOffset","margin","normalizedIntervalPadding","normalizedDodgePadding","geomWidth","normalizedMaxWidht","normalizedMinWidht","Jitter","adjustGroup","getAdjustOffset","Cache","reverseOrder","Stack","processStack","processOneDimStack","positive","negative","xKey","xValue","newXValue","stackHeight","stackValue","Symmetric","getXValuesMaxMap","yValue","off_1","offset","getDimMaxValue","dimValues","flattenValues","toScaleString","_parseCfg","Attribute","param","_toOriginParam","scales","percent","steps","leftPercent","names","field","_getAttributeValue","defaultCallback","isCategory","getLinearValue","isLinear","RGB_REG","regexLG","regexRG","regexColorStop","getValue","arr2rgb","toHex","iEl","rgb2arr","x16Value","toRGB","title","getPropertyValue","gradient","colorArray","fixedPercent","calColor","toCSSGradient","gradientColor","cssColor_1","colorStops_1","itemArr","colorUtil","Position","scaleX","scaleY","xi","yi","Shape","methodCache","registerTickMethod","__cfg__","initCfg","Scale","ticks","tick","getText","tickValue","formatter","setDomain","isEmpty","getConfig","calculateTicks","tickMethod","Category","translateIndexMap","buildIndexMap","order","calcPercent","calcValue","rangeMin","rangeMax","scaledValue","domainRange","token","twoDigitsOptional","twoDigits","word","literal","shorten","sLen","newArr","monthUpdate","arrName","i18n","lowerCaseArr","origObj","args_1","dayNames","monthNames","monthNamesShort","defaultI18n","dayNamesShort","amPm","DoFn","dayOfMonth","globalI18n","setGlobalDateI18n","regexEscape","pad","formatFlags","D","dateObj","getDate","DD","Do","getDay","dd","ddd","dddd","M","getMonth","MM","MMM","MMMM","YY","getFullYear","YYYY","getHours","hh","H","HH","getMinutes","mm","getSeconds","ss","S","getMilliseconds","SS","SSS","A","ZZ","getTimezoneOffset","Z","monthParse","emptyDigits","emptyWord","timezoneOffset","parts","minutes","parseFlags","cent","globalMasks","default","shortDate","mediumDate","longDate","fullDate","isoDate","isoDateTime","shortTime","mediumTime","longTime","setGlobalDateMasks","masks","mask","literals","$0","combinedI18nSettings","parse","dateStr","dateInfo","year","month","day","hour","minute","second","millisecond","isPm","parseInfo","newFormat","specifiedFields","requiredFields","info","requiredField","matches","dateTZ","parser","validateFields","UTC","FORMAT_METHOD","timeFormat","fecha1","fecha","toTimeStamp","isDate","SECOND","MINUTE","HOUR","DAY","MONTH","YEAR","intervals","TimeCat","tickIndex","tickCount","Continuous","getScalePercent","firstTick","lastTick","minLimit","maxLimit","getRange","nice","Linear","getInvertPercent","calBase","getLogPositiveMin","positiveMin","Log","appendPercent","Pow","factor","Time","numberValue","minConfig","maxConfig","timeStamps_1","min_1","secondMin_1","max_1","minTickInterval","Quantize","minIndex","minTick","minIndexPercent","Quantile","getClass","registerClass","cls","Identity","calculateCatTicks","tickInterval","showLast","ticks_1","lastValue","e10","e5","e2","D3Linear","domain","_domain","i0","i1","tickIncrement","ceil","d3ArrayTicks","power","LN10","snapMultiple","snapType","intervalTicks","maxTick","fixedBase","availableInterval","strictLimit","defaultMin","defaultMax","tickMin","tickMax","prettyNumber","DEFAULT_Q","eps","EPSILON","simplicity","lmin","lmax","lstep","simplicityMax","density","dMin","dMax","lMin","lMax","rt","densityMax","coverage","coverageMax","span","half","pretty","log10","unit","nu","ns","hi","lo","quantileSorted","getYear","createYear","creatMonth","cat","catTicks","onlyLoose","step_1","fill","best","score","sm","dm","cm","minStart","maxStart","i_1","lStep","extended","_lo","_hi","getTickInterval","minYear","maxYear","yearInterval","monthInterval","mmMoth","dMonths","minMonth","diffMonth","mday","ddays","diffDay","hours","dHours","diffHour","dMinus","diffMinus","minSecond","dSeconds","seconds","console","warn","avg","sorted","d3Linear","registerScale","ATTRIBUTE_MAP","registerAttribute","Opacity","Size","isTransposed","originalMatrix","Coordinate","isReflect","vec3","inverted","convertPoint","invertPoint","isReflectX","isReflectY","radius","Cartesian","convertDim","invertDim","innerRadius","Helix","maxRadius","thi","newY","rMin","Polar","oneBox","getOneBox","oneWidth","oneHeight","circleCenter","polarRadius","getCenter","vPoint","vStart3","vStart2","xPercent","yPercent","COORDINATE_MAP","registerCoordinate","propagationDelegate","eventObject","identityMatrix","getMatrixByAngle","getMatrixByTranslate","applyRotate","applyTranslate","translateMatrix","formatPadding","padding","bottom","clearDom","regionToBBox","region","createBBox","getValueByPercent","getCirclePoint","near","getBBoxWithClip","clipBBox","minX_1","maxX_1","minY_1","maxY_1","leftTop","applyToMatrix","leftBottom","rightTop","rightBottom","boxMinX","boxMaxX","boxMinY","boxMaxY","toPx","getTextPoint","offsetPercent","LOCATION_FIELD_MAP","none","Component","locationType","animate","updateAutoRender","animateOption","appear","enter","leave","newCfg","deepMix","updateInner","afterUpdate","hasKey","show","hide","setCapture","location","fields","STATUS_UPDATE","COPY_PROPERTIES","COPY_PROPERTIES_EXCLUDES","GroupComponent","shapesMap","isRegister","isUpdating","isInit","clearOffScreenCache","localId","getElementId","elem","offScreenRender","render","offScreenGroup","updateElements","deleteElements","applyOffset","initEvent","removeEvent","getInnerLayoutBBox","applyMatrix2BBox","initGroup","getDelegateObject","moveElementTo","addGroup","isComponent","component","createOffScreenGroup","renderInner","appendDelegateObject","registerElement","addShape","restCfg","inst","elmentName","newElement","originOpacity","elementName","originElement","newAttrs","newGroup","originGroup","preElement","elementId","childComponent","origChildComponent","pick","difference","replaceAttrs","getReplaceAttrs","updateAnimation","newClipShape","setClip","updateClip","siblings","registerNewGroup","addAnimation","parentObject","deleteArray","callbackAnimCfg","removeElement","removeAnimation","charAtLength","charCodeAt","getMaxLabelWidth","labels","texts","maxLen","maxIdx","code","getMaxLabelWidthOptimized","ellipsisLabel","isVertical","limitLength","ellipsisText","getEllipsisText","labelLength","getLabelLength","codeLength","strLen","ellipsisFlag","newText","reserveLength","reseveLength","startStr","endStr","startIndex","endIndex","startCodeLen","hasAdd","endCodeLen","ellipsisString","renderTag","tagCfg","content","maxLength","autoEllipsis","ellipsisPosition","background","tagGroup","backgroundStyle","toBack","textColor","activeTextColor","uncheckedColor","lineColor","regionColor","verticalAxisRotate","horizontalAxisRotate","descriptionIconStroke","descriptionIconFill","LineAnnotation","Theme","autoRotate","stroke","renderLine","renderLabel","getLabelPoint","TextAnnotation","resetLocation","getLocation","textGroup","getElementByLocalId","ArcAnnotation","renderArc","endPoint","largeFlag","middlePoint","getArcPath","RegionAnnotation","renderRegion","ImageAnnotation","renderImage","img","getImageAttrs","DataMarkerAnnotation","autoAdjust","coordinateBBox","renderText","renderPoint","getShapeAttrs","textAttrs","isVertival","lineLength","findById","textShape","lineShape","lineDisplay","pointStyle","lineStyle","textStyle","DataRegionAnnotation","regionStyle","pointsToBBox","RegionFilterAnnotation","layer","shapeIdx","adjustShapeAttrs","fillStyle","strokeStyle","ShapeAnnotation","getStyle","HtmlComponent","containerTpl","containerClassName","getContainer","resetStyles","applyStyles","initCapture","initVisible","defaultStyles","domStyles","applyChildrenStyles","cName","styles","getElementsByClassName","cssName","resetPosition","HtmlAnnotation","alignX","alignY","html","isElement","bLeft","pLeft","pRight","bRight","mRight","domWidth","offsetWidth","getWidth","domHeight","offsetHeight","getHeight","bTop","pTop","pBottom","getOuterHeight","getStatesStyle","stateStyles","styleName","AxisBase","tickLine","subTickLine","verticalFactor","verticalLimitLength","overlapOrder","tickStates","optimize","alignTick","displayWithLabel","autoHide","spacing","iconStyle","description","active","labelStyle","tickLineStyle","inactive","enable","threshold","theme","drawLine","drawTicks","drawTitle","items","itemGroup","updateTickStates","getItemsByState","setItemState","getItems","hasState","getSideVector","align","labelGroup","getLinePath","tickLineItems","tickLineLength","tickSegment","getTickPoint","getSidePoint","tickId","subTickLineItems","subCount","tickLineCount","tickItem","tickItems","defaultTickLineStyle","tickLineGroup","getTickLineAttrs","getTickLineItems","tickCfg","labelId","drawTick","subTickLineItems_1","getSubTickLineItems","optimizeTicks","processTicks","drawLabels","drawTickLines","applyTickStates","page_1","optimizedTicks","labelCfg","getTextAnchor","getTextBaseline","getLabelAttrs","processOverlap","defaultLabelStyle","afterProcessTicks_1","newStyle","titleCfg","titleHeight","titlePoint","getAxisVector","titleAttrs","getTitleAttrs","titleShape","drawDescriptionIcon","descriptionShape","startX","startY","x5","y5","x6","y6","x7","y7","getItemStates","labelShape","labelStateStyle","tickLineId","tickLineShape","tickLineStateStyle","states","tickLineCfg","ellipseLabels","getDefault","ellipsisTail","ellipsisHead","ellipsisMiddle","getRotateAngle","isRotate","getAngleByMatrix","isOverlap","minGap","overlap","prevBBox","reserveOne","labelsGroup","reversed","autoHideCfg","hasHide","parityHide","firstBBox","equidistance","reserveFirst","reserveLast","reserveBoth","preLabel","equidistanceWithReverseBoth","labelRotate","setLabelsAngle","fixedAngle","customRotate","unfixedAngle","Line","regionX","regionY","axisVector","normal","verticalVector","isHorizontal","labelOffset","titleSpacing","canProcessOverlap","autoProcessOverlap","hasAdjusted","util","OverlapUtil","overlapCfg","verticalFactor_1","newAlign","unregisterElement","Circle","large","sweep","vecLen","CrosshairBase","textBackground","renderBackground","textPoint","textId","textBBox","LineCrosshair","CONTAINER_CLASS","CROSSHAIR_LINE","CROSSHAIR_TEXT","CssConst","backgroundColor","HtmlCrosshair","crosshairTpl","textTpl","HtmlTheme","resetText","crosshairEl","applyStyle","textEl","substitute","initCrossHair","alignText","GridBase","alternateColor","closed","drawGrid","prePoints","regionPath","getGridPath","reversePoints","nextPath","preItem","getPathStyle","lineId","gridPath","regionId","isEven","drawAlternateRegion","getAlternatePath","lineType","getLineType","firstPoint","radius_1","sweepFlag_1","LegendBase","layout","getLayoutBBox","maxHeight","resetDraw","drawLegendContent","drawBackground","DEFAULT_PAGE_NAVIGATOR","marker","inactiveFill","inactiveOpacity","RIGHT_ARROW_NAME","LEFT_ARROW_NAME","ROTATE_MAP","up","down","currentPageIndex","updateNavigation","getCurrentNavigationMatrix","totalPagesCnt","itemSpacing","itemMarginBottom","maxItemWidth","itemWidth","itemHeight","itemName","itemValue","radio","itemStates","itemBackground","pageNavigator","symbol","alignRight","nameStyle","unchecked","markerStyle","itemElement","offsetGroup","drawItem","getItemHeight","clearUpdateStatus","processItems","drawItems","itemContainerGroup","wrapped","pageWidth","subGroup","pageHeight","adjustNavigation","style_1","items_1","markerCfg","markerAttrs","textName","xPosition","radioCfg","showRadio","radioShape","tip","groupId","subContainer","getLimitItemWidth","curX","markerShape","drawMarker","itemMarkerSpacing","nameShape","drawItemText","valueShape","drawRadio","applyItemStates","subGroups","navigation","drawNavigation","navigationBBox","pages","widthLimit","maxRow","maxRowHeight_1","cntPerPage_1","styleCfg","arrowStyle","leftArrow","drawArrow","onNavigationBack","leftArrowBBox","onNavigationAfter","rightArrow","cursorX","updateArrowPath","arrow","itemStates_1","elName","statesStyle","ContinueLegend","track","rail","slidable","defaultLength","getCurrentValue","resetTrackClip","resetHandlers","delegateEmit","bindSliderEvent","bindRailEvent","bindTrackEvent","drawRail","fixedElements","resetTrack","bindHandlersEvent","minValue","getValueByCanvasPoint","maxValue","setValue","preValue","curValue","currentValue","curDiff","dValue","drawLabel","labelAlign","labelFormatter","alignAttrs","getLabelAlignAttrs","railCfg","getRailPath","getRailShape","railBBox","getRailBBox","getPointByValue","trackCfg","getTrackPath","getTrackColor","trackId","trackShape","getClipTrackAttrs","trackAttrs","getTrackAttrs","draggable","getRailCanvasBBox","isVertcal","resetHandler","handlerCfg","halfWidth","oneSixthWidth","triangleX","triangleY","getHandlerPath","handlerShape","railShape","minLabel","maxLabel","getDrawPoint","fixedVertail","fixedHorizontal","minLabelBBox","maxLabelBBox","lengthField","changeRailLength","railHeight","fitRailLength","changeRailPosition","maxLabelWidth","TITLE_CLASS","LIST_CLASS","LIST_ITEM_CLASS","MARKER_CLASS","VALUE_CLASS","NAME_CLASS","CROSSHAIR_X","CROSSHAIR_Y","visibility","transition","boxShadow","borderRadius","marginBottom","listStyleType","marginRight","marginLeft","Tooltip","customContent","itemTpl","xCrosshairTpl","yCrosshairTpl","showTitle","crosshairsRegion","crosshairs","TooltipTheme","renderCustomContent","resetTitle","renderItems","clearCrosshairs","setTitle","clearItemDoms","setCrossHairsVisible","xCrosshairDom","yCrosshairDom","getHtmlContentNode","cacheDoms","limitBox","getOffset","getPointByPosition","outSides","getOutSides","getAlignPoint","resetCrosshairs","node","curContainer","replaceChild","titleDom","listDom","innerText","crosshairBox","resetCrosshair","croshairDom","checkCrosshair","domName","tplName","constName","substituteObj","itemDom","BACKGROUND_STYLE","LINE_STYLE","strokeOpacity","AREA_STYLE","pointsToPath","Trend","isArea","areaStyle","catmullRom2Bezier","getSmoothLinePath","dataToPath","areaPath","lineYPx","lineY","getAreaLineY","linePathToAreaPath","DEFAULT_HANDLER_STYLE","highLightFill","Handler","bindEvents","FOREGROUND_STYLE","HANDLER_STYLE","TEXT_STYLE","SLIDER_CHANGE","stopPropagation","prevX","pageX","prevY","pageY","containerDOM","getContainerDOM","onMouseMove","onMouseUp","offsetXRange","adjustOffsetRange","updateStartEnd","updateUI","Slider","oldStart","oldEnd","newStart","newEnd","foregroundStyle","handlerStyle","validCfg","minHandler","getChildComponentById","maxHandler","trend","trendCfg","minText","maxText","addComponent","silent","handlerWidth","handlerHeight","foregroundShape","minTextShape","maxTextShape","_dodgeText","minAttrs","maxAttrs","onMouseDown","foreground","offsetRange","minBBox","maxBBox","eventType","attachEvent","detachEvent","DEFAULT_THEME","trackColor","thumbColor","lineCap","hover","isMobile","startPos","bindLaterEvent","thumbOffset","endPos","updateThumbOffset","thumbLen","newOffset","validateRange","Scrollbar","newValue","originalValue","minThumbLen","renderTrackShape","renderThumbShape","trackLen","themeSize","onStartEvent","onTrackClick","thumbShape","onThumbMouseOver","onThumbMouseOut","emitOffsetChange","LineAxis","Axis","CircleAxis","LineGrid","Grid","CircleGrid","CategoryLegend","Legend","ContinuousLegend","HtmlTooltip","uniqueValues","Set","polarToCartesian","centerX","centerY","angleInRadian","getSectorPath","startAngleInRadian","endAngleInRadian","innerStart","innerEnd","innerMiddlePoint","circlePathCommands","arcSweep","sectorPathCommands","shapeModel","coordinate","getPointsBox","coordStartAngle","diffAngle","sourceShape","targetShape","omit","sourceArray","targetArray","BBox","subBBox","fromRange","gap","getXDimensionLength","isPolar","getRadius","convert","getDistanceToCenter","getAngleByPoint","getCoordinateClipCfg","endState","endAngle_1","center_1","startState","startAngle_1","dateRegex","inferScaleType","scaleDef","attrType","geometryType","getName","alias","getDefaultCategoryScaleRange","isFullCircle","getAxisRegion","isRect","getLineAxisRelativeRegion","getCircleAxisRelativeRegion","getAxisFactorByRegion","getAxisThemeCfg","axisTheme","getAxisTitleOptions","axisOptions","getCircleAxisCenterRadius","startVector","normalVector","getAxisOption","axes","isBoolean","getAxisDirection","axisOption","getAxisTitleText","view","facets","Facet","createContainer","getData","generateFacets","renderViews","clearFacetViews","facet","createView","beforeEachView","eachView","afterEachView","getLayer","FORE","createFacetViews","facetToView","removeView","viewBBox","rows","cols","xIndex","yIndex","parseSpacing","xSpacing","ySpacing","xRatio","yRatio","getTheme","getOptions","coordinateOption","geometries","getXYFields","xOption","yOption","getXAxisOption","getYAxisOption","conditions","datum","every","Facets","getFacet","lowerCase","registerFacet","addAction","Action","applyCfg","removeAction","CallbackAction","ActionCache","getActionClass","actionName","actionOption","registerAction","ActionClass","createCallbackAction","_convertArr","coord","_convertArcPath","catmullRom2bezier","isInCircle","_points2path","getSplinePath","constaint","splinePath","getMaskBBox","maskBBox","getCurrentElement","getDelegationObject","isElementChange","gEvent","isList","isSlider","isMask","getMaskedElements","maskPath","maskShape","getMaskPath","getElements","pathToPoints","shapePoints","getElementsByPath","getIntersectElements","getSiblingMaskElements","sibling","getSiblingPoint","geom","views","subView","getElementsByState","stateName","getElementsBy","getElementValue","getModel","shapeBBox","getComponents","co","isInBox","getSilbings","normalPoint","getCoordinate","point2Normalize","isInRecords","records","xFiled","getScaleByField","Context","HTMLElement","getCurrentPoint","isPointInPlot","getCurrentShape","components","Interaction","parseAction","actionStr","arg","getAction","createAction","methodName","executeAction","actionObject","STEP_NAMES","GrammarInteraction","initContext","callbackCaches","stepArr","stepName","getActionCallback","bindEvent","trigger","offEvent","InteractionContext","subSteps","actionArr","argArr_1","currentStepName","isAllowStep","getKey","emitCaches","isEnable","enterStep","actionCallback","isAllowExecute","afterExecute","debounce","throttle","nameArr","Interactions","getInteraction","registerInteraction","interaction","createThemeByStyleSheet","styleSheet","shapeStyles","pointFillColor","pointSize","pointBorderColor","pointBorder","fillOpacity","pointFillOpacity","pointActiveBorderColor","pointActiveBorder","selected","pointSelectedBorderColor","pointSelectedBorder","pointInactiveFillOpacity","pointInactiveBorderOpacity","hollowPoint","hollowPointFillColor","hollowPointBorder","hollowPointBorderColor","hollowPointBorderOpacity","hollowPointSize","hollowPointActiveBorderColor","hollowPointActiveBorderOpacity","hollowPointSelectedBorder","hollowPointSelectedBorderColor","hollowPointSelectedBorderOpacity","hollowPointInactiveBorderOpacity","areaFillColor","areaFillOpacity","areaActiveFillOpacity","areaSelectedFillOpacity","areaInactiveFillOpacity","hollowArea","hollowAreaBorderColor","hollowAreaBorder","hollowAreaBorderOpacity","hollowAreaActiveBorder","hollowAreaSelectedBorder","hollowAreaInactiveBorderOpacity","intervalFillColor","intervalFillOpacity","intervalActiveBorderColor","intervalActiveBorder","intervalSelectedBorderColor","intervalSelectedBorder","intervalInactiveFillOpacity","intervalInactiveBorderOpacity","hollowInterval","hollowIntervalFillColor","hollowIntervalBorderColor","hollowIntervalBorder","hollowIntervalBorderOpacity","hollowIntervalActiveBorderColor","hollowIntervalActiveBorder","hollowIntervalActiveBorderOpacity","hollowIntervalSelectedBorderColor","hollowIntervalSelectedBorder","hollowIntervalSelectedBorderOpacity","hollowIntervalInactiveBorderColor","hollowIntervalInactiveBorder","hollowIntervalInactiveBorderOpacity","lineBorderColor","lineBorder","lineBorderOpacity","lineAppendWidth","lineJoin","lineActiveBorder","lineSelectedBorder","lineInactiveBorderOpacity","axisStyles","axisTitleSpacing","axisTitleTextFillColor","axisTitleTextFontSize","axisTitleTextLineHeight","axisDescriptionIconFillColor","axisLabelOffset","axisLabelFillColor","axisLabelFontSize","axisLabelLineHeight","axisLineBorder","axisLineBorderColor","grid","axisGridBorderColor","axisGridBorder","lineDash","axisGridLineDash","axisTickLineBorder","axisTickLineBorderColor","axisTickLineLength","createAxisStyles","legendStyles","legendMarkerSpacing","legendCircleMarkerSize","legendMarkerColor","legendItemNameFillColor","legendItemNameFontSize","legendItemNameLineHeight","legendItemNameFontWeight","flipPage","legendPageNavigatorMarkerSize","legendPageNavigatorMarkerInactiveFillColor","legendPageNavigatorMarkerInactiveFillOpacity","legendPageNavigatorMarkerFillColor","legendPageNavigatorMarkerFillOpacity","legendPageNavigatorTextFillColor","legendPageNavigatorTextFontSize","legendItemSpacing","legendItemMarginBottom","legendPadding","createLegendStyles","defaultColor","brandColor","subColor","semanticRed","paletteSemanticRed","semanticGreen","paletteSemanticGreen","roseWidthRatio","multiplePieWidthRatio","colors10","paletteQualitative10","colors20","paletteQualitative20","sequenceColors","paletteSequence","shapes","sizes","geometry","middleAngle","funnel","pyramid","dash","hv","vh","hvh","vhv","polygon","square","bowtie","diamond","hexagon","triangle","plus","hyphen","schema","candle","edge","arc","violin","hollow","axis","common","legend","legendVerticalPadding","legendHorizontalPadding","continuous","sliderRailHeight","sliderRailWidth","sliderRailFillColor","sliderRailBorderColor","sliderRailBorder","sliderLabelTextFillColor","sliderLabelTextFontSize","sliderLabelTextLineHeight","sliderHandlerWidth","sliderHandlerFillColor","sliderHandlerBorderColor","tooltip","showContent","follow","showCrosshairs","showMarkers","shared","enterable","tooltipCrosshairsBorderColor","tooltipCrosshairsBorder","TOOLTIP_CSS_CONST","tooltipContainerFillColor","tooltipContainerFillOpacity","tooltipContainerShadow","tooltipContainerBorderRadius","tooltipTextFillColor","tooltipTextFontSize","tooltipTextLineHeight","marginTop","float","annotation","annotationArcBorderColor","annotationArcBorder","annotationLineBorderColor","annotationLineDash","annotationLineBorder","annotationTextFillColor","annotationTextBorderColor","annotationTextBorder","annotationTextFontSize","annotationRegionBorder","annotationRegionBorderColor","annotationRegionFillColor","annotationRegionFillOpacity","image","dataMarker","annotationDataMarkerLineLength","dataRegion","slider","cSliderBackgroundFillColor","cSliderBackgroundFillOpacity","cSliderForegroundFillColor","cSliderForegroundFillOpacity","cSliderHandlerWidth","cSliderHandlerHeight","cSliderHandlerFillColor","cSliderHandlerFillOpacity","cSliderHandlerBorderColor","cSliderHandlerBorder","cSliderHandlerBorderRadius","cSliderHandlerHighlightFillColor","cSliderTextFillColor","cSliderTextFillOpacity","cSliderTextFontSize","cSliderTextLineHeight","cSliderTextFontWeight","cSliderTextBorderColor","cSliderTextBorder","scrollbar","scrollbarTrackFillColor","scrollbarThumbFillColor","scrollbarThumbHighlightFillColor","labelFillColor","labelFontSize","labelBorderColor","labelBorder","fillColorDark","labelFillColorDark","fillColorLight","labelFillColorLight","innerLabels","innerLabelFillColor","innerLabelFontSize","innerLabelBorderColor","innerLabelBorder","overflowLabels","overflowLabelFillColor","overflowLabelFontSize","overflowLabelBorderColor","overflowLabelBorder","pieLabels","labelHeight","labelLine","labelLineBorder","BLACK_COLORS","WHITE_COLORS","QUALITATIVE_10","QUALITATIVE_20","SINGLE_SEQUENCE","createLightStyleSheet","paletteSemanticYellow","axisLineDash","axisTitleTextFontWeight","axisSubTickLineBorderColor","axisSubTickLineLength","axisSubTickLineBorder","axisLabelFontWeight","legendTitleTextFillColor","legendTitleTextFontSize","legendTitleTextLineHeight","legendTitleTextFontWeight","legendMarkerSize","legendSquareMarkerSize","legendLineMarkerSize","sliderLabelTextFontWeight","sliderHandlerHeight","sliderHandlerBorder","annotationTextLineHeight","annotationTextFontWeight","tooltipCrosshairsLineDash","tooltipTextFontWeight","labelLineHeight","labelFontWeight","innerLabelLineHeight","innerLabelFontWeight","overflowLabelLineHeight","overflowLabelFontWeight","labelLineBorderColor","cSliderRailHieght","pointBorderOpacity","hollowPointActiveBorder","areaActiveFillColor","areaSelectedFillColor","hollowAreaActiveBorderColor","hollowAreaSelectedBorderColor","intervalActiveBorderOpacity","intervalSelectedBorderOpacity","createTheme","themeCfg","styleSheetCfg","themeObject","Themes","registerTheme","snapEqual","value1","value2","filterYValue","yScale","getYScale","originData","getXDistance","scaleValues","numericValue","getTooltipValueScale","attributes","attribute","getAttributesForLegend","tmpScale","getScale","scaleDefs","xScale","getXScale","findDataByPoint","getXValueByPoint","firstXValue","firstYValue","lastXValue","isYArray","firstIdx","lastIdx","middleIdx","getTooltipItems","showNil","tooltipTitle","getFields","titleField","titleScale","getTooltipTitle","tooltipOption","addItem","mappingData","callbackParams","itemCfg","valueScale","eachValue","getTooltipValue","nameScale","groupScales","getGroupScales","getTooltipName","getTooltipItemsByFindData","tooltipCfg","elementsMap","getTooltipItemsByHitShape","findItemsFromView","tooltipItems","parsePadding","paddingArray","LOAD_COMPONENT_CONTROLLERS","registerComponentController","plugin","option","wrapperOption","CoordinateController","some","isTheta","C","hasAction","transpose","execActions","resetMatrix","sx","sy","includeActions","Event","GEvent","defaultLayout","getController","controller","syncScales","ScalePool","finalScaleDef","cacheScaleMeta","getScaleMeta","cacheScale","cacheScaleDef","validData","firstValue","valuesOfKey","getDefaultType","createScaleByField","scaleKeys","syncKey","MAX_SAFE_INTEGER","MIN_SAFE_INTEGER","isContinuous","change","newScale","syncScale","getSyncKey","removeFromSyncScales","scaleMeta","sync","PaddingCal","getPadding","defaultSyncViewPadding","chart","PC","syncPadding","instance","autoPadding","createViewEvent","doPlotEvent","backgroundGroup","middleGroup","foregroundGroup","appendPadding","limitInPlot","syncViewPadding","View","layoutFunc","calculateViewBBox","initComponentController","initOptions","isUpdate","payload","BEFORE_RENDER","paint","AFTER_RENDER","BEFORE_CLEAR","filteredData","coordinateInstance","isDataChanged","isCoordinateChanged","labelsContainer","controllers","createdScaleKeys","getRootView","scalePool","deleteScale","AFTER_CLEAR","BEFORE_DESTROY","interactions","filters","legendOption","scaleOption","coordinateCfg","coordinateController","facetInstance","status","opt","existInteraction","interaciton","createInteraction","BEFORE_CHANGE_DATA","changeData","AFTER_CHANGE_DATA","sharedOptions","getOption","legends","removedView","yScales","dimType","defaultKey","getScaleKey","BG","MID","isPointInCoordinate","flatten","getGroupAttributes","xScales","getScalesByDim","showTooltip","hideTooltip","lockTooltip","unlockTooltip","isTooltipLocked","dataLen","snapRecords","getSnapRecords","isUndefined","curStart","curEnd","bl","adjust","renderDataRecursive","BEFORE_PAINT","renderPaddingRecursive","renderLayoutRecursive","renderBackgroundStyleShape","renderPaintRecursive","AFTER_PAINT","backgroundStyleRectShape","adjustCoordinate","initComponents","isAutoPadding","paddingCal","axisComponents","paddingComponents","otherComponents","AXIS","LEGEND","SLIDER","SCROLLBAR","GRID","TOOLTIP","bboxObject","exceed","componentPadding","componentBBox","expand","inc","calculatePadding","shrink","syncViewPaddingFn","doLayout","paintGeometries","renderComponents","currentScaleDef","mergedScaleDef","createScale","doFilterData","createCoordinate","initGeometries","renderFacet","onDelegateEvents","onCanvasEvent","usedControllers","controllerName","currentInPlot","newEvent","TYPE","isPreMouseInPlot","MOUSE_LEAVE","LEAVE","MOUSE_ENTER","ENTER","filterData","createOrUpdateScales","getGeometryScales","adjustScales","getScaleFields","groupedFields","getGroupedFields","getGroupFields","adjustCategoryScaleRange","xyScales","getYScales","scaleOptions","isIdentity","doAnimation","canvasRegion","annotations","geometryOption","createGeometry","interactionOption","viewOption","annotationComponent","annotationOption","eventCallback","rest","geometry_1","registerGeometry","renderer","pixelRatio","localRefresh","supportCSSTransform","defaultInteractions","wrapperElement","forceFit","updateCanvasStyle","bindAutoFit","initDefaultInteractions","Chart","ariaOption","ATTR","BEFORE_CHANGE_SIZE","changeSize","AFTER_CHANGE_SIZE","aria","unbindAutoFit","verticalAlign","onResize","Controller","includeOption","isVisible","getTitle","dataPoint","getTooltipCfg","lastItems","lastTitle","tooltipMarkersGroup","renderTooltip","getItemsAfterProcess","renderTooltipMarkers","isCrosshairsFollowCursor","renderCrosshairs","xCrosshair","yCrosshair","isLocked","guideGroup","reset","tooltipCrosshairsGroup","snapItem","aItem","yDistance","uniqItems","subItem","isPointIn","processOption","processCustomContent","currentCustomContent","getTooltipMarkersGroup","rootView","attrs_1","markerDefaultCfg","crosshairsType","renderXCrosshairs","renderYCrosshairs","getViewWithGeometry","getTooltipCrosshairsGroup","getCrosshairsText","Crosshair","textCfg","firstItem","getGuideGroup","toFront","childView","originalItems","ANIMATIONS_MAP","getAnimation","registerAnimation","DEFAULT_ANIMATE_CFG","GEOMETRY_ANIMATE_CFG","GEOMETRY_GROUP_APPEAR_ANIMATION","getDefaultAnimateCfg","animateType","doAnimate","parsedAnimateCfg","parseAnimateConfig","animateFunction","BACKGROUND_SHAPE","shapeFactory","offscreenGroup","elementIndex","model","getShapeType","drawShape","setShapeInfo","getOffscreenGroup","newShape","origin","syncShapeStyle","getStates","getAnimateCfg","stateStatus","sortZIndex","setZIndex","offscreenShape","setState","labelBBox","stateOption","defaultShapeType","stateTheme","shapeKey","stateCfg","shapeStyle","cfg_1","AFTER_DRAW_ANIMATE","BEFORE_DRAW_ANIMATE","GroupCtor","newClip","newChildren","name_2","getStateStyle","GEOMETRY_LABELS_MAP","GEOMETRY_LABELS_LAYOUT_MAP","getGeometryLabel","registerGeometryLabel","getGeometryLabelLayout","registerGeometryLabelLayout","layoutFn","ShapeFactoryBase","getShapePoints","shapePoint","getPoints","getDefaultPoints","getDefaultStyle","geometryTheme","getMarker","parsedPath","cur","subPath","curPoint","angleRange","flag","middleConvertPoint","_convertPolarPath","_filterFullCirleLine","convertPolarPath","convertNormalPath","parsePoint","parsePoints","ShapeFactoryMap","registerShapeFactory","factoryName","geomObj","registerShape","shapeObj","getShapeFactory","isModelChange","currentModel","preModel","parseFields","keyItem","added","updated","removed","keyIncluded","sortable","zIndexReversed","useDeferredLabel","userTheme","Geometry","positionCfg","attributeOption","createAttrOption","adjustCfg","adjusts","adjustOption","styleFunc","styleOption","secondParam","thirdParam","labelOption","customOption","setCfg","initAttributes","processData","adjustScale","lastAttributeOption","beforeMappingData","beforeMapping","mapping","lastElementsMap","canDoGroupAnimation","yMinPoint","getYMinValue","minYPoint","doGroupAppearAnimate","deferred","renderLabels","requestIdleCallback","geometryLabel","idFields","hasSorted","attrName","adjustType","shapeName","xVal","yVal","length_2","dodgeAdjust","attributeType","eachOpt","length_3","uniqMap","groupFields","length_4","attributeName","mappingArray","xScale_1","xField_1","updateStackRange","normalizeValues","mappingDatum","shapeCfg","getDrawCfg","customInfo","defaultStyle","getStyleCfg","generatePoints","nextPoints","mappingDataArray","keyDatum","keyIndex","finalKey","currentShapeCfg","preShapeCfg","coordinateType","labelType","attrCfg","AttributeCtor","getAttributeClass","categoryScales","groupedArray","beforeAdjust","subData","subLen","xScale_2","sizeAttr","getDefaultValue","adjustCtor","getAdjustClass","adjustInstance","appendConditions","eachGroup","mergeArray","tmpMin","tmpMax","length_5","currentData","generateShapePoints","nextData","shapeAttr","createShapePointsCfg","getAttributeValues","newRecord","_origin","mappingRecord","rstX","rstY","xLen","yLen","BEFORE_RENDER_LABEL","getLabelType","GeometryLabelsCtor","labelsMap","labelsRenderer","elementLabels","labelGroupId","labelChildren","entries","AFTER_RENDER_LABEL","rotateRadian","getRotateMatrix","findLabelTextShape","getLabelBackgroundInfo","labelItem","boxPadding","rotation","checkShapeOverlap","dones","updateLabel","updateAnimateCfg","fromChild","toChild","getCount","Labels","createOffscreenGroup","renderLabelLine","renderLabelBackground","adjustLabel","lastShapesMap","origin_1","currentAnimateCfg","deleteShape","shapeAppendCfg","isShape","isNull","layouts","all","labelShapes","geometryShapes","labelItems","labelLineCfg","labelContentShape","backgroundShape","GeometryLabel","mapppingArray","labelCfgs","getLabelCfgs","labelContent","total","subIndex","getLabelAlign","getLabelItems","getLabelsRenderer","getGeometryShapes","defaultLabelCfg","getDefaultLabelCfg","labelPointCfg","getOffsetVector","transposed","offsetPoint","getDimValue","isAvg","isFunnel","getPolygonCentroid","setLabelPosition","getLabelOffsetPoint","labelScales","callbackCfg","originText","getLabelText","originValues","getLabelId","getLabelOffset","labelTexts","subVal","actualOffset","getMappingValue","restArgs","MarkerSymbols","diffX","diffY","STROKES_SYMBOLS","setMarkerSymbol","getLegendLayout","startsWith","getLegendItems","themeMarker","userMarker","field_1","colorAttr_1","shapeAttr_1","defaultColor_1","isInPolar_1","getTicks","scaleValue","filterFieldData","getShapeMarker","isInPolar","adpatorMarkerStyle","getLegendThemeCfg","legendTheme","isValueEmpty","isYNil","getPathPoints","connectNulls","showSinglePoint","filtered","getViolinPath","getSmoothViolinPath","leftPoints","rightPoints","leftPath","rightPath","isStroke","isFill","sizeName","getBackgroundRectStyle","splitPoints","eachY","LineSymbols","getLineMarker","getSinglePath","getPath","isStack","topPoints","bottomPoints","topPath","bottomPath","getRangePath","shapeAttrs","eachLinePoints","VERSION","antvDark","legendSpacing","overflowLabelFillColorDark","overflowLabelFillColorLight","createDarkStyleSheet","inBox","intersectRect","regexPR","addStop","addColorStop","parseStyle","gradientStr","tanTheta","tanTheta2","createLinearGradient","parseLineGradient","fy","fr","createRadialGradient","parseRadialGradient","patternStr","pattern","createPattern","Image","crossOrigin","complete","parsePattern","CanvasPattern","_addDefaultArrow","isStart","arrowShape","Path","isArrowShape","rotateAtPoint","_addCustomizedArrow","endArrow","arrowAttrs","startArrow","arrowFill","arrowStroke","arrowLineWidth","restAttrs","getShortenOffset","addStartArrow","addEndArrow","SHAPE_ATTRS_MAP","applyAttrsToContext","setLineDash","globalAlpha","drawChildren","skipDraw","checkRefresh","refreshElements","refresh","setChildrenRefresh","checkChildrenRefresh","hasChanged","checkElementRefresh","clearChanged","cacheCanvasBBox","isInView","drawPath","arcParamsCache","beginPath","ArrowUtil","tangent","getStartTangent","getEndTangent","moveTo","lineTo","quadraticCurveTo","bezierCurveTo","closePath","refreshElement","_cacheCanvasBBox","Group","createPath","_afterDraw","viewRange","getViewRange","allowDraw","_applyClip","getHitLineWidth","getBBoxMethod","bboxMethod","halfLineWidth","getCanvasViewBox","strokeAndFill","afterDrawPath","isInStrokeOrPath","absDistance","ellipseDistance","squareX","squareY","Ellipse","halfLineWith","nodeName","ImageShape","_setImage","image_1","_afterLoading","swidth","sheight","drawImage","inLine","LineUtil","setArrow","startArrowDistance","endArrowDistance","Symbols","Marker","_resetParamsCache","_getR","path2Absolute","_getPath","isPointInPath","hasArc","extractPolygons","polygons","polylines","isPointInStroke","inArc","isInPolygons","_setPathArr","getTotalLength","extractResutl","_calculateCurve","_setTcache","subt","tCache","curve","nextSeg","segmentT","segmentL","segmentN","tempLength","inPolyline","isClose","Polygon","PolyLine","_resetCache","PolylineUtil","Rect","inRectWithRadius","inRect","r3","r4","parseRadius","Text","_assembleFont","_setText","subY","_getSpaceingY","fillText","strokeText","_drawTextArr","_drawText","getRefXY","preTest","curShape","devicePixelRatio","getPixelRatio","_clearFrame","clearRect","viewRegion","minXArr","minYArr","maxXArr","maxYArr","region1","region2","cacheBox","validCache","validBBox","getRefreshRegion","getMergedRegion","mergeView","drawFrame","clearAnimationFrame","_startDraw","_getRefreshRegion","_drawRegion","_drawAll","AbstractCanvas","SHAPE_TO_TAGS","polyline","SVG_ATTR_MAP","lineDashOffset","miterLimit","preserveAspectRatio","createSVGElement","createElementNS","sortDom","sorter","childList","toArray","fragment","createDocumentFragment","setTransform","hasAttribute","addClip","parentChildren","clipPathEl","defsEl","targetIndex","nodeType","currentIndex","insertBefore","targetNext","children_1","canFill","canStroke","shadow","_setColor","addGradient","addPattern","blur","addShadow","setShadow","elementFromPoint","isEqualNode","Dom","toDataURL","ImageData","putImageData","addArrow","getDefaultArrow","triangleDown","getAll","_assembleMarker","symbolsFactory","_formatPath","getPointAtLength","Polyline","completed","pathRelatedAttrs","_assembleRect","BASELINE_MAP","middle","alphabetic","hanging","BASELINE_MAP_FOR_FIREFOX","ANCHOR_MAP","_setFont","baseline","textLen_1","arr_1","stops","Gradient","ATTR_MAP","shadowOpacity","SHADOW_DIMENSION","_parseShadow","Shadow","config","_setDefaultPath","_setMarker","Arrow","shapeEl","Clip","Pattern","defaultArrow","Defs","autoDraw","srcElement","tagName","keyData","getShapeInfo","getPointsAndData","registeredShape","topLinePoints_1","bottomLinePoints_1","pointsData","parsedPoints","pathPoints","eachPoints","getConstraint","yItem","startOnZero","Area","Heatmap","prepareRange","prepareSize","blur_1","prepareGreyScaleBlurredCircle","drawWithRange","clearShadowCanvasCtx","paletteCache","colorField","getDefaultSize","grayScaleBlurredCanvas","getGrayScaleBlurredCanvas","valueField","getShadowCanvasCtx","drawGrayScaleBlurredCircle","colored","getImageData","colorize","imageShape","getImageShape","shadowCanvas","colorAttr","pixels","palette","ColorUtil","getRectPoints","yMin","yMax","xMin","xMax","getRectPath","isClosed","minLength","getBackgroundRectPath","isReflectYTransposed_1","bump","opposite","getFunnelPath","isPyramid","swap","xValues","sourceArr","findMinDistance","normalizedSize","wr","dodgeCount","getDodgeCount","normalizedMaxColumnWidth","normalizedMinColumnWidth","backgroundCfg","backgroundPath","getRectWithCornerRadius","coor","getIntervalRectPath","Interval","SHAPES","drawPoints","pointPosition","Point","subX","xOffset","yOffset","Schema","sizeArr","num","normalizeSize","_size","isMin","isMax","Violin","_sizeField","sizeField","getCPath","getQPath","getArcShapePath","arc1","arc2","getArcShapeWeightPath","getSmoothPath","CORNER_PERCENT","parseValue","min1","max1","median","getBoxPoints","pointsArray","halfSize","getCandlePoints","yValues","targetLength","padValue","padEnd","sourceLength","getCandleYValues","getRectAttrs","getVHVPath","getTickPoints","getTickPath","interpolatePoints","interpolatePoint","nextX","nextY","middleX","middleY","interpolateCallback","getInterpolatePoints","getInterpolatePath","getInterpolateShapeAttrs","getBoxPath","getCandlePath","IntervalLabel","dir","getLabelValueDir","point0","nextP0","nextP1","HALF_PI","PolarLabel","labelEmit","arcPoint","isToMiddle","getMiddlePoint","getArcPoint","getPointAngle","isLabelEmit","labelPositionCfg","getLabelRotate","labelAngle","PieLabel","isLabelLimit","antiCollision","plotRange","invisible","overlapping","endY","totalHeight","MIN_VALUE","boxes","targets","pos","previousBox","posInCompositeBox","bitmap","xGap","yGap","Greedy","hasGap","adjustLabelPosition","getAxes","deg","getProjection","scalars","isValidBox","isIntersectRect","rect1Points","rect2Points","projection1","projection2","url","queue","worker","Worker","onmessage","onmessageerror","MyWorker","onError","postMessage","terminate","generateUtils","methods","eventData","JSON","blob","Blob","BlobBuilder","append","getBlob","URL","createObjectURL","createWorker","layoutCode","preset","hasSome","rightText","getCanvasContext","doScaleAnimate","endMatrix","scaledMatrix","transformShape","arcPath","getArcStartPoint","getArcInfo","arcPaths","firstArcPathCommand","lastArcPathCommand","firstIndex","firstStartPoint","lastStartPoint","firstStartAngle","firstEndAngle","lastStartAngle","lastEndAngle","doShapeZoom","getFactTitleConfig","getAnglePoint","getDefaultTitleCfg","renderTitle","avgAngle","facetR","processAxis","getFieldValues","facetData","getFacetDataFilter","getRegion","columnValue","columnField","columnIndex","columnValuesLength","rowValue","rowField","rowIndex","rowValuesLength","List","colValues","getPageCount","getRowCol","col","pageSize","Matrix","columnTitle","rowTitle","facetIndex","Mirror","reflect","columnValues","rowValues","drawLines","Tree","afterChartRender","rootFacet","getRows","getChildFacets","setRegion","forceColIndex","xWidth","yWidth","leafs","isLeaf","levelFacets","getFacetsByLevel","originColIndex","getRegionIndex","addFacetLines","subFacet","subRegion","middle1","middle2","getMedian","getNormalizedValue","scaled","ANNOTATIONS_AFTER_RENDER","foregroundContainer","backgroundContainer","Annotation","onAfterRender","updateOrCreate","getCacheKey","syncCache","updateCache","clearComponents","doWhat","AnnotationComponent","getAnnotationTheme","getAnnotationCfg","isTop","ANNOTATION","extra","xPos","yPos","parsePercentPosition","viewData","startXValue","endXValue","parsePosition","sp","ep","textContent","getCoordinateBBox","start_5","end_5","getRegionPoints","apply_1","shapes_1","addShapes_1","_j","render_1","restOptions","_k","html_1","getComponentContainer","createAnnotation","newCache","getGridThemeCfg","getLineGridItems","preTick","currentTick","middleValue","getCircleGridItems","showGrid","userGrid","themeGrid","OMIT_CFG","AXIS_DEFAULT_ANIMATE_CFG","gridContainer","gridForeContainer","axisContainer","axisForeContainer","updatedCache","updateXAxes","updateYAxes","xAxisOption","axisId","getId","gridId","getLineAxisCfg","createLineAxis","getLineGridCfg","createLineGrid","getCircleAxisCfg","createCircleAxis","getCircleGridCfg","createCircleGrid","yAxisOption","titleText","axisThemeCfg","optionWithTitle","isAxisVertical","canvasWidth","canvasHeight","gridThemeCfg","gridCfg","verticalScale","directionToPosition","parentBBox","tl","br","getLegendOption","getDirection","layoutBBox","maxWidthRatio","maxHeightRatio","maxSize","getCategoryLegendSizeCfg","setLocation","cut","existCo","getComponentById","customCfg","getCategoryCfg","createCustomLegend","loopLegends","getContinuousCfg","createFieldLegend","getGeometries","doEach","looped","createContinuousLegend","createCategoryLegend","containMin","containMax","attrValue","attrLegendCfg","mergeLegendCfg","themePageNavigator","userPageNavigator","customItems","itemMarker","getCustomLegendItems","baseCfg","categoryCfg","vw","changeViewData","onChangeFn","onValueChange","resetMeasure","getSliderCfg","updateSlider","createSlider","measureSlider","getMinMaxText","SliderComponent","getThemeOptions","dataSize","xTickCount","maxIndex","getValidScrollbarCfg","originalAnimate","getScrollRange","updateScrollbar","createScrollbar","measureScrollbar","getScrollbarComponentCfg","cnt","xScaleCfg","yScalesCfg","thumbHighlightColor","restStyles","getScrollbarData","getStep","getCnt","startIdx","endIdx","xScaleValues","ScrollbarComponent","realConfig","categorySize","getScrollbarTheme","DEFAULT_REGION_PATH_STYLE","ActiveRegion","findItemsFromViewRecurisive","getItemsOfView","xValue_1","elements_1","coordinate_1","firstBBox_1","lastBBox_1","groupBBox_1","appendRatio","appendWidth","firstElement","lastElement","innterRadius","TooltipAction","lastTimeStamp","preLoc","curLoc","isCursorEntered","SiblingTooltip","siblingPoint","EllipsisText","tipContent","tooltipStyles","StateBase","setStateEnable","clearViewState","setElementState","getItem","ElementState","list","ignoreListItemStates","setElementsStateByItem","isMathItem","setStateByElement","isItemIgnore","event_1","setStateByComponent","ElementActive","StateAction","LinkByColor","nextElement","nextBBox","activeStyle","getLinkPath","getColorScale","getElementsByField","group_1","linkGroup","count_1","nextEl","addLinkShape","linkByElement","removeLink","ElementRangeState","isStarted","effectSiblings","effectByRecord","setSiblingsState","allElements","setSiblingsStateByRecord","setElementsState","effectElements","ElementRangeActive","ElementSingleState","ElementSingleActive","STATUS_UNACTIVE","STATUS_ACTIVE","clearHighlight","setHighlightBy","INACTIVE","ACTIVE","ElementHighlight","setElementHighlight","activeElements","allCancel_1","HighlightColor","highlightElements","Highlight","HighlightX","ElementRangeHighlight","BEFORE_HIGHLIGHT","AFTER_HIGHLIGHT","ElementSingleHighlight","ElementRangeSelected","ElementMultipleSelected","ElementSingleSelected","ListState","allowSetStateByElement","getAllowComponents","clearItemsState","componentNames","ignoreStates","ignoreItemStates","filterStates","setItemsState","allowSetStateByItem","triggerInfo","getTriggerListInfo","clearAllComponentsState","ListActive","ListHighlight","activeItems","clearList","ListSelected","ListUnchecked","STATUS_UNCHECKED","STATUS_CHECKED","ListChecked","setCheckedBy","list_1","ListFocus","clickedItem","checkedItems","uncheckedItems","checkedItem","STATUS_SHOW","TIP_ID","ListRadio","containerId","MaskBase","maskAttrs","getMaskAttrs","emitEvent","starting","moving","createMask","updateMask","maskStyle","preMovePoint","CircleMask","RectMask","clampPoint","DimRect","normalStart","normalEnd","inPlot","PathMask","resize","SmoothPathMask","getSpline","CursorAction","setCursor","DataFilter","filterView","unCheckedItems","scale_1","names_1","getFilter","RangeFilter","BEFORE_FILTER","normalCurrent","hasDim","reRender","FILTER","AFTER_FILTER","BEFORE_RESET","RESET","AFTER_RESET","SiblingFilter","ElementFilter","maskElements_1","byRecord","filterByRecord","filterByBBox","maskElements","ButtonAction","buttonCfg","getButtonCfg","buttonShape","buttonGroup","drawButton","Drag","dragStart","Move","startMatrix","isMoving","ScaleTranslate","cacheScaleDefs","resetDim","startCache","noramlCurrent","translateDim","translateLinear","TransformAction","zoomRatio","zoomDim","dRatio","zoomLinear","toMin","toMax","MousewheelScroll","wheelDelta","scrollbarController","nextStart","deltaY","isWheelDown","correction","nextRatio","AxisDescription","descriptionTooltipStyle","isPointInView","isInPlot","CanvasEngine","SVGEngine","Edge","greedy","fillGap","totalHeight_1","lineHeight_1","plotRange_1","halves_1","maxLabelsCountForOneSide","isRight","rPow2","dyPow2","innerPoint","itemX","itemY","maxTimes","dxdy","maxDelta","nt","times","accessedCache","spiralFill","memoKey","stringify","post","e_1","regionMinX","regionMinY","regionMaxX","regionMaxY","finalX","finalY","translateX_1","textShapes","textBox","DOT_WIDTH","RIGHT_HALF_KEY","separateLabels","totalR","labelsContainerRange","dxPow2","dx_offset","smoothConnector","breakPoint","breakPoint3","xSign","slope1","slope2","drawLabelline","fromObject","fillWhite","isContrastColorWhite","shouldInShapeSingle","shouldInShape","moveInShape","filteredLabels","filterLabel","todo","groupedLabels","addCurrentGroup","curItems","sortedCollections","sortedLabels","sortLabels","downFail","inRight","inflectionPoint","totalOffset","halfHeight","originalPos","pathCommands","curStartAngle","curEndAngle","preStartAngle","preEndAngle","diffStartAngle","diffEndAngle","onFrameStartAngle","onFrameEndAngle","EllipsisTextAction","ElementHighlightByX","ElementHighlightByColor","ElementSelected","ElementLinkByColor","DimMask","DataRangeFilter","ElementSiblingFilter","ViewDrag","ViewMove","ScaleZoom","showEnable","processing","rollback","LEVEL","AXIS_META_CONFIG_KEYS","BRAND","getMessage","argIndex","adjustYMetaByZero","numberData","gtZero","ltZero","transformDataToNodeLinkData","sourceField","targetField","weightField","rawFields","nodes","links","nodesMap","nodesIndex","rawData","processIllegalData","WARN","deep","deepAssign","getContainerSize","flow","flows","findGeometry","getAllElements","getAllElementsRecursively","transformLabel","labelOptions","isRealNumber","normalPadding","getAdjustAppendPadding","currentAppendPadding","PADDING","resolveAllPadding","paddings","normalPaddings","finalPadding","kebabCase","adapteStyle","styleObject","justifyContent","alignItems","shapeStyleKeys","setStatisticContainerStyle","renderStatistic","statistic","plotType","titleOpt","contentOpt","containerW","liquidShape","customHtml","template","findViewById","getViews","getSiblingViews","addViewAnimation","animationCfg","initCanvas","fillRect","getUnitPatternSize","isStagger","unitSize","getSymbolsPosition","transformMatrix","dpr","defaultDotPatternCfg","drawDot","defaultLinePatternCfg","defaultSquarePatternCfg","drawSquare","strokeRect","getCanvasPattern","dotCfg","dots_1","createDotPattern","lineCfg","Path2D","createLinePattern","squareCfg","squares","squares_1","createSquarePattern","patternOption","colorAttribute","seriesValue","seriesField","removeInteraction","meta","annotationOptions","annotationController","yAxis","transformations","GLOBAL","LocaleMap","registerLocale","locale","localeObj","getLocale","getTooltipMapping","defaultFields","getMappingField","shapeField","styleField","mappingFields","tileMappingField","getMappingFunction","tooltipFields","columnBackground","widthRatio","groupField","otherAdaptor","stepType","SOURCE_ATTRIBUTE_NAME","PLOT_CONTAINER_OPTIONS","getDefaultOptions","createG2","Plot","xAxis","chartSize","execAdaptor","bindSizeSensor","updateOption","stateObjects","incoming","findIndex","unbindSizeSensor","adaptor","getSchemaAdaptor","triggerResize","measure","as","sumMap","groupValue","percentage","getDataWhetherPercentage","asField","isPercent","pointMapping","areaMapping","pointState","areaState","primary","areaParams","lineGeometry","lineMapping","chartData","tooltipOptions","lineParams","pointParams","areaGeometry","DEFAULT_OPTIONS","BUTTON_ACTION_CONFIG","buttonStyle","drawText","getInteractionCfg","interactionType","brushType","isStartEnable","maskType","BRUSH_TYPES","brushInteraction","brush","enabled","buttonConfig","INTERACTION_MAP","click","getStartStages","conversionTagFormatter","getConversionTagOptionsWithDefaults","horizontal","headSize","defaultOptions","columnStyle","percentData","getDeepPercent","stackedItem","percentYMeta","isRange","columnTooltip","tooltipFormatter_1","customItems_1","isBar","disable","disabled","conversionTag","elemPrev","elemNext","pointPrev","pointNext","totalWidth","renderArrowTag","textWidth","cWidth","cEnd","textAdjusted","renderTextTag","connectedArea","verticalAxis","horizontalAxis","coordinateOptions","barStyle","barWidthRatio","minBarWidth","maxBarWidth","barBackground","columnAdaptor","Bar","Column","FUNNEL_PERCENT","FUNNEL_MAPPING_VALUE","FUNNEL_CONVERSATION","FUNNEL_TOTAL_PERCENT","PLOYGON_X","PLOYGON_Y","minSize","CONVERSION_TAG_NAME","transformData","formatData","maxYFieldValue","maxBy","conversionTagComponent","getLineCoordinate","lineOption","formatter_1","funnelStyle","baseGeometry","datumIndex","initLineOption","basicFunnel","compareField","showFacetTitle","formatterData","defaultFacetLabel","compareConversionTag","viewIndex","preItemX","preItemY","ConversionTagAction","rendering","conversionTag_1","basicConversionTag","FUNNEL_CONVERSION_TAG","FUNNEL_LEGEND_FILTER","interactionStart","dynamicHeight","facetFunnel","compareFunnel","dynamicHeightFunnel","Funnel","FUNNEL_CONVERSATION_FIELD","RANGE_VALUE","RANGE_TYPE","PERCENT","INDICATEOR_VIEW_ID","RANGE_VIEW_ID","indicator","pointer","pin","getIndicatorData","getRangeData","clampTicks","processRangeData","gaugeStyle","meter","rangeWidth","indicatorData","rangeData","rangeColor","contentOption","transformContent","polarCoord","polarCenter","polarMaxY","containerWidth","renderGaugeStatistic","STEP","STEP_RATIO","COORD_START_ANGLE","COORD_END_ANGLE","GAP","INTERVAL","START_ANGLE","END_ANGLE","Gauge","indicatorView","rangeView","getBinKey","binWidth","binNumber","binHistogram","binField","stackField","originData_copy","sortBy","_binWidth","_defaultBinNumber","LN2","sturges","bins","bin","binKey","groupKey","groupKeyBinKey","plotData","HISTOGRAM_X_FIELD","HISTOGRAM_Y_FIELD","Histogram","MarkerActiveAction","getView","InteractionAction","pieStyle","ORIGIN_MATRIX","ulMatrix","PieLegendAction","item_1","getActiveElements","getActiveElementLabels","transfrom","StatisticAction","_view","initialAnnotation","getAnnotations","colorField_1","initialStatistic","getInitialAnnotation","PIE_STATISTIC","adaptOffset","defaultOffset","endsWith","isAllZero","angleField","percentageField_1","dataum","angleScale","content_1","labelLayoutType","outer","spider","labelLayoutCfg","transformStatisticOptions","titleOpt_1","contentOpt_1","dataValue","getTotalValue","metaFormatter","pieAnnotation","startStages_1","stage","Pie","prevOptions","prevData","curData","DEFAULT_COLOR","getProgressData","clampPercent","progressStyle","Progress","RingProgress","_slicedToArray","_arrayWithHoles","_arr","_n","_s","err","_iterableToArrayLimit","_nonIterableRest","xv","yv","Float64Array","ux","uy","visitPoints","iterations","determination","uY","predict","SSE","SST","sse","sst","midpoint","interpose","xmin","xmax","LOG10E","iter","found","mp","ols","uX","uXY","uX2","slope","XY","X2","_ols2","intercept","rSquared","tricube","updateInterval","quad","quadratic","_points2","X3","X4","X2Y","n0","X2X2","REGRESSION_MAP","exp","YL","XYL","ly","regressionLinear","loess","bandwidth","bw","yhat","residuals","robustWeights","W","denom","xk","xkw","medianResidual","_w","logarithmic","lb","lx","poly","polynomial","coefficients","_o","lhs","rhs","coef","gaussianElimination","uncenter","YS","regressionQuad","xScaleView","yScaleView","points2Path","transformOptions","isOneX","isOneY","meta_1","xFieldValue","yFieldValue","xIsPositiveNumber","yIsPositiveNumber","getMetaMinMax","fieldMeta","getCustomValue","getMeta","newOptions","shapeLegend","sizeLegend","showLegend","scatterGeometry","scatterAnnotation","quadrant","xBaseline","yBaseline","labels_1","regionStyle_1","defaultConfig_1","getQuadrantDefaultConfig","regressionLine","top_1","defaultStyle_1","pathData","algorithm","reg","BRUSH_FILTER_EVENTS","Scatter","Y_FIELD","TREND_FIELD","TREND_DOWN","defaultContent","risingFill","fallingFill","getStockData","close_1","high","low","open_1","stockStyle","baseMeta","Stock","getTinyData","X_FIELD","DEFAULT_TOOLTIP_OPTIONS","pointOptions","lineOptions","seriesData","TinyArea","TinyColumn","TinyLine","PLOT_ADAPTORS","lineAdaptor","pie","pieAdaptor","column","bar","barAdaptor","areaAdaptor","gauge","gaugeAdaptor","tinyLineAdaptor","tinyColumnAdaptor","tinyAreaAdaptor","ringProgressAdaptor","progress","progressAdaptor","scatter","scatterAdaptor","histogram","histogramAdaptor","funnelAdaptor","stock","stockAdaptor","PLOT_CONSTRUCTOR","DEFAULT_OPTIONS_MAP","execPlotAdaptor","plot","multiView","viewOfG2","geometryAdaptor","multiPlot","plots","Association","linkField","data_1","getAssociationItems","Stage","Mix","Lab","STABLE","DEV","BETA","FIRST_AXES_VIEW","SECOND_AXES_VIEW","SERIES_FIELD_KEY","hopeData","data1","data2","__axisPosition","firstView","secondView","firstViewData","secondViewData","aliasMap","metaKey","commonInteraction","commonLimitInPlot","commonTheme","commonAnimation","leftGeometry","rightGeometry","leftLabelCfg","positionMap_1","BidirectionalBar","BOX_RANGE","OUTLIERS_VIEW_ID","boxStyle","newData","q1_1","median_1","q3_1","high_1","low_1","yFieldName","outliersPoint","outliersField","outliersStyle","outliersView","outliersViewData","syncName","Box","getSeriesFieldKey","measureField","rangeField","ds","rangeValues","flat","rKey","measureValues","mKey","targetValues","tKey","bulletStyle","extData","rangeGeometry","measureGeometry","targetGeometry","Bullet","nodeWidthRatio","nodePaddingRatio","sourceWeight","targetWeight","NODE_COLOR_FIELD","EDGE_COLOR_FIELD","nodeStyle","edgeStyle","chordLayoutOptions","chordLayoutInputData","nodeById","edges","forIn","inEdges","outEdges","frequency","processGraph","localeCompare","sortNodes","outputNodes","nodePaddingRatio_1","margin_1","nodeWidthRatio_1","totalValue_1","deltaX","deltaX_1","layoutNodes","outputLinks","valueById_1","sId","tId","sNode","tNode","sValue","currentSValue","sStart","sEnd","tValue","currentTValue","tStart","tEnd","locatingEdges","chordLayout","nodesData","isNode","edgesData","link","chordData","nodeGeometry","nodeView","edgeGeometry","edgeView","getAllGeometriesRecursively","Chord","RAW_FIELDS","hierarchyConfig","drilldown","BREAD_CRUMB_NAME","DEFAULT_BREAD_CRUMB_CONFIG","dividerText","activeTextStyle","HIERARCHY_DATA_TRANSFORM_PARAMS","DrillDownAction","drill","drawBreadCrumb","breadCrumbGroup","PADDING_TOP","historyCache","backTo","hideCrumbGroup","nodeInfo","drillData","nodeData","depth","drillDownConfig","breadCrumbCfg","breadCrumb","drawBreadCrumbGroup","rootText","textShapeBox","targetId","newHistoryCache","dividerBox","circles","shuffle","B","enclosesWeak","encloseBasis","extendBasis","enclosesWeakAll","enclosesNot","encloseBasis2","encloseBasis3","dr","x21","y21","r21","a3","b2","b3","d3","ab","xa","xb","ya","yb","place","intersects","Node","packEnclose","aa","ca","sj","sk","enclose","optional","required","constantZero","defaultRadius","eachBefore","radiusLeaf","eachAfter","packChildren","translateChild","_typeof","_toPropertyKey","input","hint","prim","toPrimitive","_defineProperty","configurable","writable","_arrayLikeToArray","arr2","_createForOfIteratorHelper","allowArrayLike","it","minLen","F","normalCompletion","didErr","_e2","Op","hasOwn","desc","$Symbol","iteratorSymbol","asyncIteratorSymbol","asyncIterator","toStringTagSymbol","wrap","innerFn","outerFn","tryLocsList","protoGenerator","Generator","makeInvokeMethod","tryCatch","ContinueSentinel","GeneratorFunction","GeneratorFunctionPrototype","IteratorPrototype","getProto","NativeIteratorPrototype","Gp","defineIteratorMethods","_invoke","AsyncIterator","PromiseImpl","invoke","__await","unwrapped","previousPromise","callInvokeWithMethodAndArg","delegate","delegateResult","maybeInvokeDelegate","_sent","dispatchException","abrupt","resultName","nextLoc","pushTryEntry","locs","entry","tryLoc","catchLoc","finallyLoc","afterLoc","tryEntries","resetTryEntry","completion","iterable","iteratorMethod","doneResult","displayName","isGeneratorFunction","genFun","mark","awrap","async","skipTempReset","rootRecord","rval","exception","handle","loc","caught","hasCatch","hasFinally","finallyEntry","finish","thrown","delegateYield","hierarchy","mapChildren","objectChildren","childs","computeHeight","copyData","that","ancestor","aNodes","ancestors","bNodes","leastCommonAncestor","descendants","leaves","node_iterator","NODE_INDEX_FIELD","CHILD_NODE_COUNT","NODE_ANCESTORS_FIELD","INVALID_FIELD_ERR_MSG","getField","defaultField","getAllNodes","index_1","eachNode","enableDrillDown","d3Hierarchy","packLayout","ancestorNode","resolvePaddingForCircle","containerSize","tempPadding","wSize","hSize","restWidthPadding","restHeightPadding","finalSize","diameter","tempAppendPadding","circleSize","nameFormatter","valueFormatter","adaptorInteraction","baseInteraction","isParentNode","inCenter","AxisType","DualAxesGeometry","CirclePacking","LEFT_AXES_VIEW","RIGHT_AXES_VIEW","DEFAULT_YAXIS_CONFIG","DEFAULT_LEFT_YAXIS_CONFIG","DEFAULT_RIGHT_YAXIS_CONFIG","isLine","isColumn","getGeometryOption","transformObjectToArray","transformAttribute","getYAxisWithDefault","axisType","Left","Right","getViewLegendItems","legendItemName","isGeometry","viewId","attrItems","doSliderFilter","sliderValue","geometryOptions","allLine","createViews","SORT_MAP","FIELD_KEY","adjust_1","drawSingleGeometry","themeColor","groupScale","leftView","rightView","commonAnnotation","leftLegend_1","rightLegend_1","leftItems","rightItems","yF","legendItem_1","DualAxes","facetAdaptor","facetType","restFacetCfg","viewOptions","execViewAdaptor","plotOptions","sizeRatio","heatmapStyle","checkedSizeRatio","dautm","maxSideLength","sideLength","getLiquidData","liquidStyle","outline","wave","border","lerp","getWaterWavePositions","waveLength","getWaterWavePath","waterLevel","phase","curves","_phase","waveRight","builtInShapeByName","cpX","cpY","waveCount","minXPoint","waveAttrs","getFillAttrs","outlineAttrs","getLineAttrs","shapePath","waves","clipPath","addWaterWave","Liquid","areaOptions","RadarTooltipController","cfgTitle","hintItems","title_1","result_1","displayTitle","TooltipController","RadarTooltipAction","getTooltipController","Radar","getScaleMax","maxAngle","yData","formatRadian","actualData","stackedData","valueItem","getStackedData","intervalGeometry","RadialBar","sectorStyle","Rose","COLOR_FIELD","NODES_VIEW_ID","EDGES_VIEW_ID","cutoffCircle","removedData","getNodes","graphMatrix","visited","DFS","dfsNode","targetDepth","justify","sourceLinks","sumBy","maxValueBy","ascendingSourceBreadth","ascendingBreadth","ascendingTargetBreadth","defaultId","defaultNodes","graph","defaultLinks","computeLinkBreadths","nodes_1","targetLinks","ALIGN_METHOD","minBy","nodeId","nodeAlign","nodeWidth","nodePadding","nodeSort","sankeyLayout","sankeyLayoutOptions","nodeDepth","sankeyProcessor","linkSort","sankey","nodes_2","computeNodeLinks","nodes_3","fixedValue","computeNodeValues","maxDepth","computeNodeDepths","computeNodeHeights","columns","kx","nodes_4","columns_1","computeNodeLayers","ky","minValueBy","columns_2","nodes_6","nodes_5","reorderLinks","initializeNodeBreadths","beta","relaxRightToLeft","relaxLeftToRight","computeNodeBreadths","column_1","targetTop","dy_1","reorderNodeLinks","resolveCollisions","column_2","sourceTop","dy_2","subject","resolveCollisionsBottomToTop","resolveCollisionsTopToBottom","dy_3","dy_4","targetLinks_1","sourceLinks_1","nodes_7","extent","getNodeAlignFunction","layoutData","tx","getNodeWidthRatio","getNodePaddingRatio","transformToViewsData","sankeyLayoutInputData","dataType","isNodeLink","nodeState","edgeState","nodeDraggable","DRAG_INTERACTION","nodeInteractions","edgeInteractions","SankeyNodeDragAction","getNodeView","isNodeElement","getCurrentDatumIdx","currentElementIdx","isDragging","prevNodeAnimateCfg","prevEdgeAnimateCfg","getEdgeView","prevDatum","datumGap_1","nextDatum","edgeData","Sankey","isLast","nodesView","edgesView","SUNBURST_ANCESTOR_FIELD","SUNBURST_Y_FIELD","SUNBURST_PATH_FIELD","sunburstStyle","partition","treemapDice","positionNode","roundNode","ignoreParentValue","defaultSeparation","meanXReduce","maxYReduce","separation","nodeSize","cluster","previousNode","meanX","leafLeft","leafRight","preroot","ambiguous","defaultParentId","parentId","stratify","nodeKey","nodeByKey","nextLeft","nextRight","moveSubtree","wm","wp","nextAncestor","vim","TreeNode","tree","treeRoot","firstWalk","secondWalk","sizeNode","executeShifts","vip","vop","vom","sip","sop","sim","som","apportion","squarifyRatio","nodeValue","sumValue","newRatio","minRatio","dice","treemapSlice","squarify","tile","paddingStack","paddingInner","treemap","paddingOuter","sums","valueOffset","valueTarget","valueLeft","valueRight","resquarify","_squarify","tileMethod","activeDepth","polygonAdaptor","pathFormatter","Sunburst","findInteraction","enableInteraction","enableDrillInteraction","curPath","rectStyle","basePolygon","viewZoomInteraction","Treemap","transData","drillDownInteraction","resetDrillDown","ID_FIELD","PATH_FIELD","blendMode","placeElementsOrdered","VennElementActive","syncElementsPos","toggle","VennElementHighlight","highlight","ElementSelectedAction","ElementSingleSelectedAction","VennElementSelected","VennElementSingleSelected","VennLabel","customLabelInfo","fillAttrs","blendObject","screen","overlay","darken","lighten","dodge","burn","colorToArr","rgbaArr","intersectionArea","stats","intersectionPoints","circleCircleIntersection","parentIndex","getIntersectionPoints","innerPoints","containedInCircles","arcArea","polygonArea","arcs","midPoint","angleDiff","circleArea","smallest","disjoint","circleOverlap","circleMargin","interior","exterior","computeTextCentre","solution","valid","areaStats","distanceFromIntersectArea","bestInitialLayout","areas","loss","lossFunction","setOverlaps","sets","rowid","mostOverlapped","positioned","isPositioned","positionSet","setIndex","extraPoints","bestLoss","bestPoint","localLoss","greedyLayout","constrained","restarts","setids","matrices","distances","constraints","getDistanceMatrices","norm","xj","yj","dij","squaredDistance","constrainedMDSGradient","positions","constrainedMDSLayout","overlaps","getColorMap","colorPalette","setsField","colorMap","colorPaletteLen","colorArr","c0","mode","blendRgbArr","innerBlend","g0","g1","b1","blend","layoutVennData","vennData","initialLayout","ids","pairs","addMissingAreas","setid","setid_1","venn","minMax","xRange","yRange","getBoundingBox","xScaling","yScaling","scaling","scaleSolution","textCenters","overlapped","circleids","circleid","getOverlappingCircles","areaids","exclude","centre","computeTextCentres","circlePath","wide","intersectionAreaPath","currSets","filterSets","legalArr","testArr","islegalSets","schemaGeometry","colorOptions","map_1","transformColor","vennInteraction","MAP_1","Venn","VIOLIN_Y_FIELD","MIN_MAX_FIELD","QUANTILE_FIELD","MEDIAN_FIELD","VIOLIN_VIEW_ID","kde","sampleSize","violinStyle","quickselect","sd","quantile","indices","quantileIndex","stack","quantileSelect","multiQuantileSelect","results","toBoxValue","q1","q3","toViolinValue","pdfOptions","pdfResults","violinSize","violinY","transformViolinData","resultList","seriesGroup","series","TOOLTIP_FIELDS","violinView","boxView","minMaxView","quantileView","medianView","legendField_1","legendOptions","baseAnnotation","DIFF_FIELD","ABSOLUTE_FIELD","IS_TOTAL","leaderLine","waterfallStyle","processed","newYField","dIdx","localeTotalLabel","Y_FIELD_META","labelMode","leaderLineCfg","linkPath","Waterfall","WORD_CLOUD_COLOR_FIELD","timeInterval","wordStyle","rotationSteps","rotateRatio","spiral","wordCloud","words","cloudFont","cloudFontSize","cloudFontNormal","cloudRotate","cloudPadding","archimedeanSpiral","cloudText","cloudCanvas","cloud","board","dt","cloudCollide","sprite","sw","msx","contextAndRatio","ch","zeroArray","tags","cloudSprite","hasText","hasImage","cloudBounds","_tags","_bounds","can","w32","cxt","imageData","functor","spirals","tagCloud","imageMask","cloudRadians","maxh","sr","cr","wcr","wsr","hcr","hsr","cw","xoff","yoff","seen","seenRow","archimedean","rectangular","sign","rawOptions","chartPadding","wordField","placementStrategy","numbers","getSingleKeyValues","getFontSizeMapping","getSize","getRotate","resolvePadding","fMax_1","fMin_1","resolveRotate","perSize","getTextAttrs","WordCloud","rej","HTMLImageElement","onerror","ERROR","general","increase","decrease","waterfall","adaptors","ownKeys","enumerableOnly","symbols","sym","getOwnPropertyDescriptor","_objectSpread2","getOwnPropertyDescriptors","defineProperties","createRoot","fullClone","reactRender","unmountComponentAtNode","toggleWarning","skip","__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED","usingClientEntryPoint","MARK","TOOLTIP_CONTAINER_MAPPING","uuid","mountPoint","modernRender","legacyRender","deepClone","hasPath","useInit","ChartClass","useRef","chartOptions","onReady","onEvent","reactDomToString","_uuid","statisticCustomHtml","setPath","statisticDom","createNode","processConfig","useEffect","currentConfig","inputConfig","currentKeys","chartInstance","encoderOptions","downloadImage","imageName","base64","href","download","getChart","chartRef","_classCallCheck","Constructor","_defineProperties","descriptor","_assertThisInitialized","ReferenceError","_setPrototypeOf","_getPrototypeOf","_possibleConstructorReturn","ErrorBoundary","subClass","superClass","protoProps","staticProps","Derived","hasNativeReflectConstruct","Reflect","construct","sham","Proxy","Boolean","Super","NewTarget","hasError","renderError","errorTemplate","message","nextProps","Fragment","React","SVG","backgroundOpacity","baseUrl","foregroundColor","foregroundOpacity","gradientRatio","uniqueKey","rtl","speed","fixedId","idClip","idGradient","idAria","rtlStyle","keyTimes","dur","React.createElement","role","stopColor","stopOpacity","repeatCount","defaultProps","ContentLoader","Svg","Facebook","ReactContentLoaderFacebook","viewBox","loadingTemplate","AreaChart","forwardRef","ref","loading","useChart","G2plotArea","useImperativeHandle","BarChart","G2plotBar","BulletChart","G2plotBullet","ColumnChart","G2plotColumn","FunnelChart","G2plotFunnel","HistogramChart","G2plotHistogram","LineChart","G2plotLine","BoxChart","G2plotBox","LiquidChart","G2plotLiquid","HeatmapChart","G2plotHeatmap","PieChart","G2plotPie","GaugeChart","G2plotGauge","ProgressChart","G2plotProgress","RadarChart","G2plotRadar","RingProgressChart","G2plotRingProgress","RoseChart","G2plotRose","ChordChart","G2plotChord","ScatterChart","G2plotScatter","TinyAreaChart","G2plotTinyArea","TinyColumnChart","G2plotTinyColumn","DualAxesChart","G2plotDualAxes","TinyLineChart","G2plotTinyLine","WaterfallChart","G2plotWaterfall","WordCloudChart","G2plotWordCloud","SunburstChart","G2plotSunburst","StockChart","G2plotStock","RadialBarChart","G2plotRadialBar","SankeyChart","G2plotSankey","TreemapChart","G2plotTreemap","ViolinChart","G2plotViolin","VennChart","G2plotVenn","CirclePackingChart","G2plotCirclePacking","FacetChart","G2plotFacet","MultiViewChart","G2plotMix","chartType","BidirectionalBarChart","G2plotBidirectionalBar","MultiView","G2"],"sourceRoot":""}