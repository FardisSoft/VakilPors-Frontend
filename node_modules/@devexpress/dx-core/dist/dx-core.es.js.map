{"version":3,"file":"dx-core.es.js","sources":["../src/utils.ts","../src/plugin-host.ts","../src/event-emitter.ts","../src/shallow-equal.ts","../src/memoize.ts","../src/easings.ts","../src/messages-formatter.ts"],"sourcesContent":["const DELAY = 200;\n\nconst compare = (a, b) => {\n  const aPosition = a.position();\n  const bPosition = b.position();\n  for (let i = 0; i < Math.min(aPosition.length, bPosition.length); i += 1) {\n    if (aPosition[i] < bPosition[i]) return -1;\n    if (aPosition[i] > bPosition[i]) return 1;\n  }\n  return aPosition.length - bPosition.length;\n};\n\n/** @internal */\nexport const insertPlugin = (array, newItem) => {\n  const result = array.slice();\n  const nextItemIndex = array.findIndex(item => compare(newItem, item) <= 0);\n  const targetIndex = nextItemIndex < 0 ? array.length : nextItemIndex;\n  const alreadyExists = (targetIndex >= 0 && targetIndex < array.length)\n    && compare(newItem, array[targetIndex]) === 0;\n  let deletedItems = 0;\n  if (alreadyExists) {\n    deletedItems = 1;\n    const targetItemPosition = result[targetIndex].position();\n    if (targetItemPosition.length > 1) {\n      for (let i = targetIndex + 1; i < result.length; i += 1) {\n        const itemPosition = result[i].position();\n        if (targetItemPosition.length === itemPosition.length &&\n          targetItemPosition[targetItemPosition.length - 2] ===\n          itemPosition[itemPosition.length - 2]) {\n          deletedItems += 1;\n        } else {\n          break;\n        }\n      }\n    }\n  }\n  result.splice(targetIndex, deletedItems, newItem);\n  return result;\n};\n\n/** @internal */\nexport const removePlugin = (array, item) => {\n  const itemIndex = array.indexOf(item);\n  return itemIndex >= 0 ? [...array.slice(0, itemIndex), ...array.slice(itemIndex + 1)] : array;\n};\n\n/** @internal */\nexport const createClickHandlers = (click?, dblClick?) => {\n  let timeoutId;\n  const events: any = {};\n  if (click) {\n    events.onClick = (e) => {\n      if (!timeoutId) {\n        timeoutId = setTimeout(() => {\n          clearTimeout(timeoutId);\n          click(e);\n        }, DELAY);\n      }\n    };\n  }\n  if (dblClick) {\n    events.onDoubleClick = (e) => {\n      clearTimeout(timeoutId);\n      dblClick(e);\n    };\n  }\n  return events;\n};\n\n/** @internal */\nexport const slice = arr => Array.prototype.slice.call(arr); // slice can be renamed to copy as well\n\n/** @internal */\nexport const hasWindow = () => typeof window !== 'undefined';\n","import { insertPlugin, removePlugin } from './utils';\nimport { Getters } from '@devexpress/dx-react-core';\n\nconst getDependencyError = (\n  pluginName, dependencyName,\n  ) => new Error(\n    `The '${pluginName}' plugin requires '${dependencyName}' to be defined before it.`,\n  );\n\n/** @internal */\nexport type PluginPositionFn = () => number[];\n\nexport interface IDependency { name: string; optional?: boolean; }\n\n/** @internal */\nexport type InnerPlugin = {\n  position: PluginPositionFn;\n  name?: string;\n  dependencies?: IDependency[];\n} & Getters;\n\n/** @internal */\nexport class PluginHost {\n  private plugins: InnerPlugin[];\n  private subscriptions: Set<any>;\n  private gettersCache: object = {};\n  private knownKeysCache: object = {};\n  private validationRequired: boolean = true;\n\n  constructor() {\n    this.plugins = [];\n    this.subscriptions = new Set();\n  }\n\n  ensureDependencies() {\n    const defined: Set<string> = new Set();\n    const knownOptionals: Map<string, string> = new Map();\n    this.plugins\n      .filter(plugin => plugin.container)\n      .forEach((plugin) => {\n        const pluginName = plugin.name || '';\n        if (knownOptionals.has(pluginName)) {\n          throw (getDependencyError(knownOptionals.get(pluginName), pluginName));\n        }\n\n        (plugin.dependencies || [])\n          .forEach((dependency) => {\n            if (defined.has(dependency.name)) return;\n            if (dependency.optional) {\n              if (!knownOptionals.has(dependency.name)) {\n                knownOptionals.set(dependency.name, pluginName);\n              }\n              return;\n            }\n            throw (getDependencyError(pluginName, dependency.name));\n          });\n\n        defined.add(pluginName);\n      });\n  }\n\n  registerPlugin(plugin) {\n    this.plugins = insertPlugin(this.plugins, plugin);\n    this.cleanPluginsCache();\n  }\n\n  unregisterPlugin(plugin) {\n    this.plugins = removePlugin(this.plugins, plugin);\n    this.cleanPluginsCache();\n  }\n\n  knownKeys(postfix) {\n    if (!this.knownKeysCache[postfix]) {\n      this.knownKeysCache[postfix] = Array.from(this.plugins\n        .map(plugin => Object.keys(plugin))\n        .map(keys => keys.filter(key => key.endsWith(postfix))[0])\n        .filter(key => !!key)\n        .reduce((acc, key) => acc.add(key), new Set<string>()))\n        .map(key => key.replace(postfix, ''));\n    }\n    return this.knownKeysCache[postfix];\n  }\n\n  collect(key, upTo?) {\n    if (this.validationRequired) {\n      this.ensureDependencies();\n      this.validationRequired = false;\n    }\n\n    let res = this.gettersCache[key];\n    if (!res) {\n      // Add cache for original plugin indexes\n      const indexCache = this.plugins\n        .map((plugin, index) => ({ key: plugin[key], index }))\n        .filter(plugin => !!plugin.key);\n      this.gettersCache[`${key}_i`] = indexCache;\n      res = indexCache.map(item => item.key);\n      this.gettersCache[key] = res;\n    }\n\n    if (!upTo) return res;\n\n    const upToIndex = this.plugins.indexOf(upTo);\n\n    // Try to get a result from upToIndex cache first.\n    const upToIndexKey = key + upToIndex;\n    let upToRes = this.gettersCache[upToIndexKey];\n\n    if (!upToRes) {\n      const indexCache = this.gettersCache[`${key}_i`];\n      upToRes = this.gettersCache[key]\n        .filter((getter, index) => indexCache[index].index < upToIndex);\n      this.gettersCache[upToIndexKey] = upToRes;\n    }\n\n    return upToRes;\n  }\n\n  get(key, upTo) {\n    const plugins = this.collect(key, upTo);\n\n    if (!plugins.length) return undefined;\n\n    let result;\n    // slice creates shallow copy, when do it many times, it costs about 5%\n    plugins.forEach((plugin) => {\n      result = plugin(result);\n    });\n    return result;\n  }\n\n  registerSubscription(subscription) {\n    this.subscriptions.add(subscription);\n  }\n\n  unregisterSubscription(subscription) {\n    this.subscriptions.delete(subscription);\n  }\n\n  broadcast(event, message?: any) {\n    this.subscriptions.forEach(subscription => subscription[event] && subscription[event](message));\n  }\n\n  private cleanPluginsCache() {\n    this.validationRequired = true;\n    this.gettersCache = {};\n    this.knownKeysCache = {};\n  }\n}\n","type Handler = (e: object) => void;\n\n/** @internal */\nexport class EventEmitter {\n  private handlers: Handler[];\n\n  constructor() {\n    this.handlers = [];\n  }\n\n  emit(e) {\n    this.handlers.forEach(handler => handler(e));\n  }\n\n  subscribe(handler) {\n    this.handlers.push(handler);\n  }\n\n  unsubscribe(handler) {\n    this.handlers.splice(this.handlers.indexOf(handler), 1);\n  }\n}\n","/** @internal */\nexport const shallowEqual = (objA, objB) => {\n  if (objA === objB) {\n    return true;\n  }\n\n  const keysA = Object.keys(objA);\n  const keysB = Object.keys(objB);\n\n  if (keysA.length !== keysB.length) {\n    return false;\n  }\n\n  // Test for A's keys different from B.\n  const hasOwn = Object.prototype.hasOwnProperty;\n  // tslint:disable-next-line: prefer-for-of\n  for (let i = 0; i < keysA.length; i += 1) {\n    if (!hasOwn.call(objB, keysA[i])\n        || objA[keysA[i]] !== objB[keysA[i]]) {\n      return false;\n    }\n\n    const valA = objA[keysA[i]];\n    const valB = objB[keysA[i]];\n\n    if (valA !== valB) {\n      return false;\n    }\n  }\n\n  return true;\n};\n\n/** @internal */\nexport const argumentsShallowEqual = (prev, next) => {\n  if (prev === null || next === null || prev.length !== next.length) {\n    return false;\n  }\n\n  for (let i = 0; i < prev.length; i += 1) {\n    if (prev[i] !== next[i]) {\n      return false;\n    }\n  }\n\n  return true;\n};\n","import { argumentsShallowEqual } from './shallow-equal';\n\n/** @internal */\nexport const memoize = (func) => {\n  let lastArgs: any = null;\n  let lastResult: ReturnType<typeof func> = null;\n  return (...args) => {\n    if (lastArgs === null || !argumentsShallowEqual(lastArgs, args)) {\n      lastResult = func(...args);\n    }\n    lastArgs = args;\n    return lastResult;\n  };\n};\n","/** @internal */\nexport const easeInQuad = t => t * t;\n/** @internal */\nexport const easeOutQuad = t => t * (2 - t);\n/** @internal */\nexport const easeInOutQuad = t => (t < 0.5\n  ? 2 * t * t\n  : -1 + ((4 - (2 * t)) * t));\n\n/** @internal */\nexport const easeInCubic = t => t * t * t;\n/** @internal */\nexport const easeOutCubic = t => ((t - 1) * (t - 1) * (t - 1)) + 1;\n/** @internal */\nexport const easeInOutCubic = t => (t < 0.5\n  ? 4 * t * t * t\n  : ((t - 1) * ((2 * t) - 2) * ((2 * t) - 2)) + 1);\n\n/** @internal */\nexport const easeInQuart = t => t * t * t * t;\n/** @internal */\nexport const easeOutQuart = t => 1 - ((t - 1) * (t - 1) * (t - 1) * (t - 1));\n/** @internal */\nexport const easeInOutQuart = t => (t < 0.5\n  ? 8 * t * t * t * t\n  : 1 - (8 * (t - 1) * (t - 1) * (t - 1) * (t - 1)));\n\n/** @internal */\nexport const easeInQuint = t => t * t * t * t * t;\n/** @internal */\nexport const easeOutQuint = t => 1 + ((t - 1) * (t - 1) * (t - 1) * (t - 1) * (t - 1));\n/** @internal */\nexport const easeInOutQuint = t => (t < 0.5\n  ? 16 * t * t * t * t * t\n  : 1 + (16 * (t - 1) * (t - 1) * (t - 1) * (t - 1) * (t - 1)));\n","import { GetMessagesFormatterFn } from './types';\n\nconst processPattern = (pattern, params) => Object.keys(params).reduce(\n  (msg, key) => msg.replace(`{${key}}`, params[key]),\n  pattern,\n);\n\n/** @internal */\nexport const getMessagesFormatter: GetMessagesFormatterFn = messages => (key, params?) => {\n  const message = messages[key];\n\n  if (typeof message === 'function') {\n    return message(params);\n  }\n  if (params) {\n    return processPattern(message, params);\n  }\n  return message ?? '';\n};\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA,IAAM,KAAK,GAAG,GAAG,CAAC;AAElB,IAAM,OAAO,GAAG,UAAC,CAAC,EAAE,CAAC;IACnB,IAAM,SAAS,GAAG,CAAC,CAAC,QAAQ,EAAE,CAAC;IAC/B,IAAM,SAAS,GAAG,CAAC,CAAC,QAAQ,EAAE,CAAC;IAC/B,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,GAAG,CAAC,SAAS,CAAC,MAAM,EAAE,SAAS,CAAC,MAAM,CAAC,EAAE,CAAC,IAAI,CAAC,EAAE;QACxE,IAAI,SAAS,CAAC,CAAC,CAAC,GAAG,SAAS,CAAC,CAAC,CAAC;YAAE,OAAO,CAAC,CAAC,CAAC;QAC3C,IAAI,SAAS,CAAC,CAAC,CAAC,GAAG,SAAS,CAAC,CAAC,CAAC;YAAE,OAAO,CAAC,CAAC;KAC3C;IACD,OAAO,SAAS,CAAC,MAAM,GAAG,SAAS,CAAC,MAAM,CAAC;AAC7C,CAAC,CAAC;AAEF;AACO,IAAM,YAAY,GAAG,UAAC,KAAK,EAAE,OAAO;IACzC,IAAM,MAAM,GAAG,KAAK,CAAC,KAAK,EAAE,CAAC;IAC7B,IAAM,aAAa,GAAG,KAAK,CAAC,SAAS,CAAC,UAAA,IAAI,IAAI,OAAA,OAAO,CAAC,OAAO,EAAE,IAAI,CAAC,IAAI,CAAC,GAAA,CAAC,CAAC;IAC3E,IAAM,WAAW,GAAG,aAAa,GAAG,CAAC,GAAG,KAAK,CAAC,MAAM,GAAG,aAAa,CAAC;IACrE,IAAM,aAAa,GAAG,CAAC,WAAW,IAAI,CAAC,IAAI,WAAW,GAAG,KAAK,CAAC,MAAM;WAChE,OAAO,CAAC,OAAO,EAAE,KAAK,CAAC,WAAW,CAAC,CAAC,KAAK,CAAC,CAAC;IAChD,IAAI,YAAY,GAAG,CAAC,CAAC;IACrB,IAAI,aAAa,EAAE;QACjB,YAAY,GAAG,CAAC,CAAC;QACjB,IAAM,kBAAkB,GAAG,MAAM,CAAC,WAAW,CAAC,CAAC,QAAQ,EAAE,CAAC;QAC1D,IAAI,kBAAkB,CAAC,MAAM,GAAG,CAAC,EAAE;YACjC,KAAK,IAAI,CAAC,GAAG,WAAW,GAAG,CAAC,EAAE,CAAC,GAAG,MAAM,CAAC,MAAM,EAAE,CAAC,IAAI,CAAC,EAAE;gBACvD,IAAM,YAAY,GAAG,MAAM,CAAC,CAAC,CAAC,CAAC,QAAQ,EAAE,CAAC;gBAC1C,IAAI,kBAAkB,CAAC,MAAM,KAAK,YAAY,CAAC,MAAM;oBACnD,kBAAkB,CAAC,kBAAkB,CAAC,MAAM,GAAG,CAAC,CAAC;wBACjD,YAAY,CAAC,YAAY,CAAC,MAAM,GAAG,CAAC,CAAC,EAAE;oBACvC,YAAY,IAAI,CAAC,CAAC;iBACnB;qBAAM;oBACL,MAAM;iBACP;aACF;SACF;KACF;IACD,MAAM,CAAC,MAAM,CAAC,WAAW,EAAE,YAAY,EAAE,OAAO,CAAC,CAAC;IAClD,OAAO,MAAM,CAAC;AAChB,CAAC,CAAC;AAEF;AACO,IAAM,YAAY,GAAG,UAAC,KAAK,EAAE,IAAI;IACtC,IAAM,SAAS,GAAG,KAAK,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC;IACtC,OAAO,SAAS,IAAI,CAAC,0CAAO,KAAK,CAAC,KAAK,CAAC,CAAC,EAAE,SAAS,CAAC,kBAAK,KAAK,CAAC,KAAK,CAAC,SAAS,GAAG,CAAC,CAAC,YAAI,KAAK,CAAC;AAChG,CAAC,CAAC;AAEF;IACa,mBAAmB,GAAG,UAAC,KAAM,EAAE,QAAS;IACnD,IAAI,SAAS,CAAC;IACd,IAAM,MAAM,GAAQ,EAAE,CAAC;IACvB,IAAI,KAAK,EAAE;QACT,MAAM,CAAC,OAAO,GAAG,UAAC,CAAC;YACjB,IAAI,CAAC,SAAS,EAAE;gBACd,SAAS,GAAG,UAAU,CAAC;oBACrB,YAAY,CAAC,SAAS,CAAC,CAAC;oBACxB,KAAK,CAAC,CAAC,CAAC,CAAC;iBACV,EAAE,KAAK,CAAC,CAAC;aACX;SACF,CAAC;KACH;IACD,IAAI,QAAQ,EAAE;QACZ,MAAM,CAAC,aAAa,GAAG,UAAC,CAAC;YACvB,YAAY,CAAC,SAAS,CAAC,CAAC;YACxB,QAAQ,CAAC,CAAC,CAAC,CAAC;SACb,CAAC;KACH;IACD,OAAO,MAAM,CAAC;AAChB,EAAE;AAEF;IACa,KAAK,GAAG,UAAA,GAAG,IAAI,OAAA,KAAK,CAAC,SAAS,CAAC,KAAK,CAAC,IAAI,CAAC,GAAG,CAAC,IAAC;AAE5D;IACa,SAAS,GAAG,cAAM,OAAA,OAAO,MAAM,KAAK,WAAW;;ACtE5D,IAAM,kBAAkB,GAAG,UACzB,UAAU,EAAE,cAAc,IACrB,OAAA,IAAI,KAAK,CACZ,eAAQ,UAAU,gCAAsB,cAAc,+BAA4B,CACnF,GAAA,CAAC;AAcJ;AACA;IAOE;QAJQ,iBAAY,GAAW,EAAE,CAAC;QAC1B,mBAAc,GAAW,EAAE,CAAC;QAC5B,uBAAkB,GAAY,IAAI,CAAC;QAGzC,IAAI,CAAC,OAAO,GAAG,EAAE,CAAC;QAClB,IAAI,CAAC,aAAa,GAAG,IAAI,GAAG,EAAE,CAAC;KAChC;IAED,uCAAkB,GAAlB;QACE,IAAM,OAAO,GAAgB,IAAI,GAAG,EAAE,CAAC;QACvC,IAAM,cAAc,GAAwB,IAAI,GAAG,EAAE,CAAC;QACtD,IAAI,CAAC,OAAO;aACT,MAAM,CAAC,UAAA,MAAM,IAAI,OAAA,MAAM,CAAC,SAAS,GAAA,CAAC;aAClC,OAAO,CAAC,UAAC,MAAM;YACd,IAAM,UAAU,GAAG,MAAM,CAAC,IAAI,IAAI,EAAE,CAAC;YACrC,IAAI,cAAc,CAAC,GAAG,CAAC,UAAU,CAAC,EAAE;gBAClC,OAAO,kBAAkB,CAAC,cAAc,CAAC,GAAG,CAAC,UAAU,CAAC,EAAE,UAAU,CAAC,EAAE;aACxE;YAED,CAAC,MAAM,CAAC,YAAY,IAAI,EAAE;iBACvB,OAAO,CAAC,UAAC,UAAU;gBAClB,IAAI,OAAO,CAAC,GAAG,CAAC,UAAU,CAAC,IAAI,CAAC;oBAAE,OAAO;gBACzC,IAAI,UAAU,CAAC,QAAQ,EAAE;oBACvB,IAAI,CAAC,cAAc,CAAC,GAAG,CAAC,UAAU,CAAC,IAAI,CAAC,EAAE;wBACxC,cAAc,CAAC,GAAG,CAAC,UAAU,CAAC,IAAI,EAAE,UAAU,CAAC,CAAC;qBACjD;oBACD,OAAO;iBACR;gBACD,OAAO,kBAAkB,CAAC,UAAU,EAAE,UAAU,CAAC,IAAI,CAAC,EAAE;aACzD,CAAC,CAAC;YAEL,OAAO,CAAC,GAAG,CAAC,UAAU,CAAC,CAAC;SACzB,CAAC,CAAC;KACN;IAED,mCAAc,GAAd,UAAe,MAAM;QACnB,IAAI,CAAC,OAAO,GAAG,YAAY,CAAC,IAAI,CAAC,OAAO,EAAE,MAAM,CAAC,CAAC;QAClD,IAAI,CAAC,iBAAiB,EAAE,CAAC;KAC1B;IAED,qCAAgB,GAAhB,UAAiB,MAAM;QACrB,IAAI,CAAC,OAAO,GAAG,YAAY,CAAC,IAAI,CAAC,OAAO,EAAE,MAAM,CAAC,CAAC;QAClD,IAAI,CAAC,iBAAiB,EAAE,CAAC;KAC1B;IAED,8BAAS,GAAT,UAAU,OAAO;QACf,IAAI,CAAC,IAAI,CAAC,cAAc,CAAC,OAAO,CAAC,EAAE;YACjC,IAAI,CAAC,cAAc,CAAC,OAAO,CAAC,GAAG,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC,OAAO;iBACnD,GAAG,CAAC,UAAA,MAAM,IAAI,OAAA,MAAM,CAAC,IAAI,CAAC,MAAM,CAAC,GAAA,CAAC;iBAClC,GAAG,CAAC,UAAA,IAAI,IAAI,OAAA,IAAI,CAAC,MAAM,CAAC,UAAA,GAAG,IAAI,OAAA,GAAG,CAAC,QAAQ,CAAC,OAAO,CAAC,GAAA,CAAC,CAAC,CAAC,CAAC,GAAA,CAAC;iBACzD,MAAM,CAAC,UAAA,GAAG,IAAI,OAAA,CAAC,CAAC,GAAG,GAAA,CAAC;iBACpB,MAAM,CAAC,UAAC,GAAG,EAAE,GAAG,IAAK,OAAA,GAAG,CAAC,GAAG,CAAC,GAAG,CAAC,GAAA,EAAE,IAAI,GAAG,EAAU,CAAC,CAAC;iBACtD,GAAG,CAAC,UAAA,GAAG,IAAI,OAAA,GAAG,CAAC,OAAO,CAAC,OAAO,EAAE,EAAE,CAAC,GAAA,CAAC,CAAC;SACzC;QACD,OAAO,IAAI,CAAC,cAAc,CAAC,OAAO,CAAC,CAAC;KACrC;IAED,4BAAO,GAAP,UAAQ,GAAG,EAAE,IAAK;QAChB,IAAI,IAAI,CAAC,kBAAkB,EAAE;YAC3B,IAAI,CAAC,kBAAkB,EAAE,CAAC;YAC1B,IAAI,CAAC,kBAAkB,GAAG,KAAK,CAAC;SACjC;QAED,IAAI,GAAG,GAAG,IAAI,CAAC,YAAY,CAAC,GAAG,CAAC,CAAC;QACjC,IAAI,CAAC,GAAG,EAAE;;YAER,IAAM,UAAU,GAAG,IAAI,CAAC,OAAO;iBAC5B,GAAG,CAAC,UAAC,MAAM,EAAE,KAAK,IAAK,QAAC,EAAE,GAAG,EAAE,MAAM,CAAC,GAAG,CAAC,EAAE,KAAK,OAAA,EAAE,IAAC,CAAC;iBACrD,MAAM,CAAC,UAAA,MAAM,IAAI,OAAA,CAAC,CAAC,MAAM,CAAC,GAAG,GAAA,CAAC,CAAC;YAClC,IAAI,CAAC,YAAY,CAAC,UAAG,GAAG,OAAI,CAAC,GAAG,UAAU,CAAC;YAC3C,GAAG,GAAG,UAAU,CAAC,GAAG,CAAC,UAAA,IAAI,IAAI,OAAA,IAAI,CAAC,GAAG,GAAA,CAAC,CAAC;YACvC,IAAI,CAAC,YAAY,CAAC,GAAG,CAAC,GAAG,GAAG,CAAC;SAC9B;QAED,IAAI,CAAC,IAAI;YAAE,OAAO,GAAG,CAAC;QAEtB,IAAM,SAAS,GAAG,IAAI,CAAC,OAAO,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC;;QAG7C,IAAM,YAAY,GAAG,GAAG,GAAG,SAAS,CAAC;QACrC,IAAI,OAAO,GAAG,IAAI,CAAC,YAAY,CAAC,YAAY,CAAC,CAAC;QAE9C,IAAI,CAAC,OAAO,EAAE;YACZ,IAAM,YAAU,GAAG,IAAI,CAAC,YAAY,CAAC,UAAG,GAAG,OAAI,CAAC,CAAC;YACjD,OAAO,GAAG,IAAI,CAAC,YAAY,CAAC,GAAG,CAAC;iBAC7B,MAAM,CAAC,UAAC,MAAM,EAAE,KAAK,IAAK,OAAA,YAAU,CAAC,KAAK,CAAC,CAAC,KAAK,GAAG,SAAS,GAAA,CAAC,CAAC;YAClE,IAAI,CAAC,YAAY,CAAC,YAAY,CAAC,GAAG,OAAO,CAAC;SAC3C;QAED,OAAO,OAAO,CAAC;KAChB;IAED,wBAAG,GAAH,UAAI,GAAG,EAAE,IAAI;QACX,IAAM,OAAO,GAAG,IAAI,CAAC,OAAO,CAAC,GAAG,EAAE,IAAI,CAAC,CAAC;QAExC,IAAI,CAAC,OAAO,CAAC,MAAM;YAAE,OAAO,SAAS,CAAC;QAEtC,IAAI,MAAM,CAAC;;QAEX,OAAO,CAAC,OAAO,CAAC,UAAC,MAAM;YACrB,MAAM,GAAG,MAAM,CAAC,MAAM,CAAC,CAAC;SACzB,CAAC,CAAC;QACH,OAAO,MAAM,CAAC;KACf;IAED,yCAAoB,GAApB,UAAqB,YAAY;QAC/B,IAAI,CAAC,aAAa,CAAC,GAAG,CAAC,YAAY,CAAC,CAAC;KACtC;IAED,2CAAsB,GAAtB,UAAuB,YAAY;QACjC,IAAI,CAAC,aAAa,CAAC,MAAM,CAAC,YAAY,CAAC,CAAC;KACzC;IAED,8BAAS,GAAT,UAAU,KAAK,EAAE,OAAa;QAC5B,IAAI,CAAC,aAAa,CAAC,OAAO,CAAC,UAAA,YAAY,IAAI,OAAA,YAAY,CAAC,KAAK,CAAC,IAAI,YAAY,CAAC,KAAK,CAAC,CAAC,OAAO,CAAC,GAAA,CAAC,CAAC;KACjG;IAEO,sCAAiB,GAAzB;QACE,IAAI,CAAC,kBAAkB,GAAG,IAAI,CAAC;QAC/B,IAAI,CAAC,YAAY,GAAG,EAAE,CAAC;QACvB,IAAI,CAAC,cAAc,GAAG,EAAE,CAAC;KAC1B;IACH,iBAAC;AAAD,CAAC;;AClJD;AACA;IAGE;QACE,IAAI,CAAC,QAAQ,GAAG,EAAE,CAAC;KACpB;IAED,2BAAI,GAAJ,UAAK,CAAC;QACJ,IAAI,CAAC,QAAQ,CAAC,OAAO,CAAC,UAAA,OAAO,IAAI,OAAA,OAAO,CAAC,CAAC,CAAC,GAAA,CAAC,CAAC;KAC9C;IAED,gCAAS,GAAT,UAAU,OAAO;QACf,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;KAC7B;IAED,kCAAW,GAAX,UAAY,OAAO;QACjB,IAAI,CAAC,QAAQ,CAAC,MAAM,CAAC,IAAI,CAAC,QAAQ,CAAC,OAAO,CAAC,OAAO,CAAC,EAAE,CAAC,CAAC,CAAC;KACzD;IACH,mBAAC;AAAD,CAAC;;ACrBD;IACa,YAAY,GAAG,UAAC,IAAI,EAAE,IAAI;IACrC,IAAI,IAAI,KAAK,IAAI,EAAE;QACjB,OAAO,IAAI,CAAC;KACb;IAED,IAAM,KAAK,GAAG,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;IAChC,IAAM,KAAK,GAAG,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;IAEhC,IAAI,KAAK,CAAC,MAAM,KAAK,KAAK,CAAC,MAAM,EAAE;QACjC,OAAO,KAAK,CAAC;KACd;;IAGD,IAAM,MAAM,GAAG,MAAM,CAAC,SAAS,CAAC,cAAc,CAAC;;IAE/C,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,KAAK,CAAC,MAAM,EAAE,CAAC,IAAI,CAAC,EAAE;QACxC,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,IAAI,EAAE,KAAK,CAAC,CAAC,CAAC,CAAC;eACzB,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,KAAK,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,EAAE;YACxC,OAAO,KAAK,CAAC;SACd;QAED,IAAM,IAAI,GAAG,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC;QAC5B,IAAM,IAAI,GAAG,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC;QAE5B,IAAI,IAAI,KAAK,IAAI,EAAE;YACjB,OAAO,KAAK,CAAC;SACd;KACF;IAED,OAAO,IAAI,CAAC;AACd,CAAC,CAAC;AAEF;IACa,qBAAqB,GAAG,UAAC,IAAI,EAAE,IAAI;IAC9C,IAAI,IAAI,KAAK,IAAI,IAAI,IAAI,KAAK,IAAI,IAAI,IAAI,CAAC,MAAM,KAAK,IAAI,CAAC,MAAM,EAAE;QACjE,OAAO,KAAK,CAAC;KACd;IAED,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,MAAM,EAAE,CAAC,IAAI,CAAC,EAAE;QACvC,IAAI,IAAI,CAAC,CAAC,CAAC,KAAK,IAAI,CAAC,CAAC,CAAC,EAAE;YACvB,OAAO,KAAK,CAAC;SACd;KACF;IAED,OAAO,IAAI,CAAC;AACd,CAAC;;AC5CD;IACa,OAAO,GAAG,UAAC,IAAI;IAC1B,IAAI,QAAQ,GAAQ,IAAI,CAAC;IACzB,IAAI,UAAU,GAA4B,IAAI,CAAC;IAC/C,OAAO;QAAC,cAAO;aAAP,UAAO,EAAP,qBAAO,EAAP,IAAO;YAAP,yBAAO;;QACb,IAAI,QAAQ,KAAK,IAAI,IAAI,CAAC,qBAAqB,CAAC,QAAQ,EAAE,IAAI,CAAC,EAAE;YAC/D,UAAU,GAAG,IAAI,wCAAI,IAAI,UAAC,CAAC;SAC5B;QACD,QAAQ,GAAG,IAAI,CAAC;QAChB,OAAO,UAAU,CAAC;KACnB,CAAC;AACJ,CAAC;;ACbD;IACa,UAAU,GAAG,UAAA,CAAC,IAAI,OAAA,CAAC,GAAG,CAAC,GAAA,CAAC;AACrC;IACa,WAAW,GAAG,UAAA,CAAC,IAAI,OAAA,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC,GAAA,CAAC;AAC5C;AACA,IAAa,aAAa,GAAG,UAAA,CAAC,IAAI,QAAC,CAAC,GAAG,GAAG;MACtC,CAAC,GAAG,CAAC,GAAG,CAAC;MACT,CAAC,CAAC,IAAI,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,CAAC,IAAC,CAAC;AAE9B;IACa,WAAW,GAAG,UAAA,CAAC,IAAI,OAAA,CAAC,GAAG,CAAC,GAAG,CAAC,GAAA,CAAC;AAC1C;AACA,IAAa,YAAY,GAAG,UAAA,CAAC,IAAI,OAAA,CAAC,CAAC,CAAC,GAAG,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,GAAA,CAAC;AACnE;AACA,IAAa,cAAc,GAAG,UAAA,CAAC,IAAI,QAAC,CAAC,GAAG,GAAG;MACvC,CAAC,GAAG,CAAC,GAAG,CAAC,GAAG,CAAC;MACb,CAAC,CAAC,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC,IAAI,CAAC,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC,IAAI,CAAC,IAAC,CAAC;AAEnD;IACa,WAAW,GAAG,UAAA,CAAC,IAAI,OAAA,CAAC,GAAG,CAAC,GAAG,CAAC,GAAG,CAAC,GAAA,CAAC;AAC9C;IACa,YAAY,GAAG,UAAA,CAAC,IAAI,OAAA,CAAC,IAAI,CAAC,CAAC,GAAG,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC,CAAC,GAAA,CAAC;AAC7E;AACA,IAAa,cAAc,GAAG,UAAA,CAAC,IAAI,QAAC,CAAC,GAAG,GAAG;MACvC,CAAC,GAAG,CAAC,GAAG,CAAC,GAAG,CAAC,GAAG,CAAC;MACjB,CAAC,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC,CAAC,IAAC,CAAC;AAErD;IACa,WAAW,GAAG,UAAA,CAAC,IAAI,OAAA,CAAC,GAAG,CAAC,GAAG,CAAC,GAAG,CAAC,GAAG,CAAC,GAAA,CAAC;AAClD;IACa,YAAY,GAAG,UAAA,CAAC,IAAI,OAAA,CAAC,IAAI,CAAC,CAAC,GAAG,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC,CAAC,GAAA,CAAC;AACvF;AACA,IAAa,cAAc,GAAG,UAAA,CAAC,IAAI,QAAC,CAAC,GAAG,GAAG;MACvC,EAAE,GAAG,CAAC,GAAG,CAAC,GAAG,CAAC,GAAG,CAAC,GAAG,CAAC;MACtB,CAAC,IAAI,EAAE,IAAI,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC,CAAC,IAAC;;AChC/D,IAAM,cAAc,GAAG,UAAC,OAAO,EAAE,MAAM,IAAK,OAAA,MAAM,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC,MAAM,CACpE,UAAC,GAAG,EAAE,GAAG,IAAK,OAAA,GAAG,CAAC,OAAO,CAAC,WAAI,GAAG,MAAG,EAAE,MAAM,CAAC,GAAG,CAAC,CAAC,GAAA,EAClD,OAAO,CACR,GAAA,CAAC;AAEF;IACa,oBAAoB,GAA2B,UAAA,QAAQ,IAAI,OAAA,UAAC,GAAG,EAAE,MAAO;IACnF,IAAM,OAAO,GAAG,QAAQ,CAAC,GAAG,CAAC,CAAC;IAE9B,IAAI,OAAO,OAAO,KAAK,UAAU,EAAE;QACjC,OAAO,OAAO,CAAC,MAAM,CAAC,CAAC;KACxB;IACD,IAAI,MAAM,EAAE;QACV,OAAO,cAAc,CAAC,OAAO,EAAE,MAAM,CAAC,CAAC;KACxC;IACD,OAAO,OAAO,aAAP,OAAO,cAAP,OAAO,GAAI,EAAE,CAAC;AACvB,CAAC,GAAA;;"}